const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AboutView-DKTOVc4S.js","assets/AboutView-CSIvawM9.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function og(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const tr={},al=[],In=()=>{},PI=()=>!1,Rf=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),lg=e=>e.startsWith("onUpdate:"),Mr=Object.assign,ug=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},FI=Object.prototype.hasOwnProperty,yn=(e,t)=>FI.call(e,t),nt=Array.isArray,ol=e=>mc(e)==="[object Map]",Df=e=>mc(e)==="[object Set]",Va=e=>mc(e)==="[object Date]",_t=e=>typeof e=="function",xt=e=>typeof e=="string",ri=e=>typeof e=="symbol",jt=e=>e!==null&&typeof e=="object",Fu=e=>(jt(e)||_t(e))&&_t(e.then)&&_t(e.catch),Rx=Object.prototype.toString,mc=e=>Rx.call(e),VI=e=>mc(e).slice(8,-1),Vu=e=>mc(e)==="[object Object]",cg=e=>xt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,wu=og(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Nf=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},zI=/-(\w)/g,ds=Nf(e=>e.replace(zI,(t,n)=>n?n.toUpperCase():"")),BI=/\B([A-Z])/g,ia=Nf(e=>e.replace(BI,"-$1").toLowerCase()),gc=Nf(e=>e.charAt(0).toUpperCase()+e.slice(1)),xu=Nf(e=>e?`on${gc(e)}`:""),Ra=(e,t)=>!Object.is(e,t),Cd=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Dx=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},Op=e=>{const t=parseFloat(e);return isNaN(t)?e:t},KI=e=>{const t=xt(e)?Number(e):NaN;return isNaN(t)?e:t};let Ab;const Pf=()=>Ab||(Ab=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Tt(e){if(nt(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=xt(r)?jI(r):Tt(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(xt(e)||jt(e))return e}const HI=/;(?![^(]*\))/g,WI=/:([^]+)/,UI=/\/\*[^]*?\*\//g;function jI(e){const t={};return e.replace(UI,"").split(HI).forEach(n=>{if(n){const r=n.split(WI);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function W(e){let t="";if(xt(e))t=e;else if(nt(e))for(let n=0;n<e.length;n++){const r=W(e[n]);r&&(t+=r+" ")}else if(jt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Js(e){if(!e)return null;let{class:t,style:n}=e;return t&&!xt(t)&&(e.class=W(t)),n&&(e.style=Tt(n)),e}const GI="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",YI=og(GI);function Nx(e){return!!e||e===""}function XI(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=gl(e[r],t[r]);return n}function gl(e,t){if(e===t)return!0;let n=Va(e),r=Va(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=ri(e),r=ri(t),n||r)return e===t;if(n=nt(e),r=nt(t),n||r)return n&&r?XI(e,t):!1;if(n=jt(e),r=jt(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const a in e){const l=e.hasOwnProperty(a),u=t.hasOwnProperty(a);if(l&&!u||!l&&u||!gl(e[a],t[a]))return!1}}return String(e)===String(t)}function Px(e,t){return e.findIndex(n=>gl(n,t))}const Fx=e=>!!(e&&e.__v_isRef===!0),at=e=>xt(e)?e:e==null?"":nt(e)||jt(e)&&(e.toString===Rx||!_t(e.toString))?Fx(e)?at(e.value):JSON.stringify(e,Vx,2):String(e),Vx=(e,t)=>Fx(t)?Vx(e,t.value):ol(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[Bh(r,i)+" =>"]=s,n),{})}:Df(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Bh(n))}:ri(t)?Bh(t):jt(t)&&!nt(t)&&!Vu(t)?String(t):t,Bh=(e,t="")=>{var n;return ri(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let is;class zx{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=is,!t&&is&&(this.index=(is.scopes||(is.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=is;try{return is=this,t()}finally{is=n}}}on(){is=this}off(){is=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function dg(e){return new zx(e)}function fg(){return is}function hg(e,t=!1){is&&is.cleanups.push(e)}let ir;const Kh=new WeakSet;class Bx{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,is&&is.active&&is.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Kh.has(this)&&(Kh.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Hx(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Lb(this),Wx(this);const t=ir,n=ei;ir=this,ei=!0;try{return this.fn()}finally{Ux(this),ir=t,ei=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)gg(t);this.deps=this.depsTail=void 0,Lb(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Kh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Mp(this)&&this.run()}get dirty(){return Mp(this)}}let Kx=0,Su,Cu;function Hx(e,t=!1){if(e.flags|=8,t){e.next=Cu,Cu=e;return}e.next=Su,Su=e}function pg(){Kx++}function mg(){if(--Kx>0)return;if(Cu){let t=Cu;for(Cu=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Su;){let t=Su;for(Su=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Wx(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ux(e){let t,n=e.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),gg(r),qI(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=n}function Mp(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(jx(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function jx(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===zu))return;e.globalVersion=zu;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Mp(e)){e.flags&=-3;return}const n=ir,r=ei;ir=e,ei=!0;try{Wx(e);const s=e.fn(e._value);(t.version===0||Ra(s,e._value))&&(e._value=s,t.version++)}catch(s){throw t.version++,s}finally{ir=n,ei=r,Ux(e),e.flags&=-3}}function gg(e,t=!1){const{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)gg(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function qI(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let ei=!0;const Gx=[];function Xa(){Gx.push(ei),ei=!1}function qa(){const e=Gx.pop();ei=e===void 0?!0:e}function Lb(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=ir;ir=void 0;try{t()}finally{ir=n}}}let zu=0,JI=class{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class Ff{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!ir||!ei||ir===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ir)n=this.activeLink=new JI(ir,this),ir.deps?(n.prevDep=ir.depsTail,ir.depsTail.nextDep=n,ir.depsTail=n):ir.deps=ir.depsTail=n,Yx(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=ir.depsTail,n.nextDep=void 0,ir.depsTail.nextDep=n,ir.depsTail=n,ir.deps===n&&(ir.deps=r)}return n}trigger(t){this.version++,zu++,this.notify(t)}notify(t){pg();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{mg()}}}function Yx(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Yx(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const ef=new WeakMap,So=Symbol(""),Rp=Symbol(""),Bu=Symbol("");function Yr(e,t,n){if(ei&&ir){let r=ef.get(e);r||ef.set(e,r=new Map);let s=r.get(n);s||(r.set(n,s=new Ff),s.map=r,s.key=n),s.track()}}function Xi(e,t,n,r,s,i){const a=ef.get(e);if(!a){zu++;return}const l=u=>{u&&u.trigger()};if(pg(),t==="clear")a.forEach(l);else{const u=nt(e),d=u&&cg(n);if(u&&n==="length"){const f=Number(r);a.forEach((p,g)=>{(g==="length"||g===Bu||!ri(g)&&g>=f)&&l(p)})}else switch((n!==void 0||a.has(void 0))&&l(a.get(n)),d&&l(a.get(Bu)),t){case"add":u?d&&l(a.get("length")):(l(a.get(So)),ol(e)&&l(a.get(Rp)));break;case"delete":u||(l(a.get(So)),ol(e)&&l(a.get(Rp)));break;case"set":ol(e)&&l(a.get(So));break}}mg()}function ZI(e,t){const n=ef.get(e);return n&&n.get(t)}function Ho(e){const t=On(e);return t===e?t:(Yr(t,"iterate",Bu),Fs(e)?t:t.map(Xr))}function Vf(e){return Yr(e=On(e),"iterate",Bu),e}const QI={__proto__:null,[Symbol.iterator](){return Hh(this,Symbol.iterator,Xr)},concat(...e){return Ho(this).concat(...e.map(t=>nt(t)?Ho(t):t))},entries(){return Hh(this,"entries",e=>(e[1]=Xr(e[1]),e))},every(e,t){return Hi(this,"every",e,t,void 0,arguments)},filter(e,t){return Hi(this,"filter",e,t,n=>n.map(Xr),arguments)},find(e,t){return Hi(this,"find",e,t,Xr,arguments)},findIndex(e,t){return Hi(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Hi(this,"findLast",e,t,Xr,arguments)},findLastIndex(e,t){return Hi(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Hi(this,"forEach",e,t,void 0,arguments)},includes(...e){return Wh(this,"includes",e)},indexOf(...e){return Wh(this,"indexOf",e)},join(e){return Ho(this).join(e)},lastIndexOf(...e){return Wh(this,"lastIndexOf",e)},map(e,t){return Hi(this,"map",e,t,void 0,arguments)},pop(){return iu(this,"pop")},push(...e){return iu(this,"push",e)},reduce(e,...t){return Ob(this,"reduce",e,t)},reduceRight(e,...t){return Ob(this,"reduceRight",e,t)},shift(){return iu(this,"shift")},some(e,t){return Hi(this,"some",e,t,void 0,arguments)},splice(...e){return iu(this,"splice",e)},toReversed(){return Ho(this).toReversed()},toSorted(e){return Ho(this).toSorted(e)},toSpliced(...e){return Ho(this).toSpliced(...e)},unshift(...e){return iu(this,"unshift",e)},values(){return Hh(this,"values",Xr)}};function Hh(e,t,n){const r=Vf(e),s=r[t]();return r!==e&&!Fs(e)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const eA=Array.prototype;function Hi(e,t,n,r,s,i){const a=Vf(e),l=a!==e&&!Fs(e),u=a[t];if(u!==eA[t]){const p=u.apply(e,i);return l?Xr(p):p}let d=n;a!==e&&(l?d=function(p,g){return n.call(this,Xr(p),g,e)}:n.length>2&&(d=function(p,g){return n.call(this,p,g,e)}));const f=u.call(a,d,r);return l&&s?s(f):f}function Ob(e,t,n,r){const s=Vf(e);let i=n;return s!==e&&(Fs(e)?n.length>3&&(i=function(a,l,u){return n.call(this,a,l,u,e)}):i=function(a,l,u){return n.call(this,a,Xr(l),u,e)}),s[t](i,...r)}function Wh(e,t,n){const r=On(e);Yr(r,"iterate",Bu);const s=r[t](...n);return(s===-1||s===!1)&&wg(n[0])?(n[0]=On(n[0]),r[t](...n)):s}function iu(e,t,n=[]){Xa(),pg();const r=On(e)[t].apply(e,n);return mg(),qa(),r}const tA=og("__proto__,__v_isRef,__isVue"),Xx=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ri));function nA(e){ri(e)||(e=String(e));const t=On(this);return Yr(t,"has",e),t.hasOwnProperty(e)}class qx{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?fA:eS:i?Qx:Zx).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const a=nt(t);if(!s){let u;if(a&&(u=QI[n]))return u;if(n==="hasOwnProperty")return nA}const l=Reflect.get(t,n,kn(t)?t:r);return(ri(n)?Xx.has(n):tA(n))||(s||Yr(t,"get",n),i)?l:kn(l)?a&&cg(n)?l:l.value:jt(l)?s?Fl(l):wn(l):l}}class Jx extends qx{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];if(!this._isShallow){const u=$o(i);if(!Fs(r)&&!$o(r)&&(i=On(i),r=On(r)),!nt(t)&&kn(i)&&!kn(r))return u?!1:(i.value=r,!0)}const a=nt(t)&&cg(n)?Number(n)<t.length:yn(t,n),l=Reflect.set(t,n,r,kn(t)?t:s);return t===On(s)&&(a?Ra(r,i)&&Xi(t,"set",n,r):Xi(t,"add",n,r)),l}deleteProperty(t,n){const r=yn(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&Xi(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!ri(n)||!Xx.has(n))&&Yr(t,"has",n),r}ownKeys(t){return Yr(t,"iterate",nt(t)?"length":So),Reflect.ownKeys(t)}}class rA extends qx{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const sA=new Jx,iA=new rA,aA=new Jx(!0);const Dp=e=>e,ed=e=>Reflect.getPrototypeOf(e);function oA(e,t,n){return function(...r){const s=this.__v_raw,i=On(s),a=ol(i),l=e==="entries"||e===Symbol.iterator&&a,u=e==="keys"&&a,d=s[e](...r),f=n?Dp:t?Np:Xr;return!t&&Yr(i,"iterate",u?Rp:So),{next(){const{value:p,done:g}=d.next();return g?{value:p,done:g}:{value:l?[f(p[0]),f(p[1])]:f(p),done:g}},[Symbol.iterator](){return this}}}}function td(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function lA(e,t){const n={get(s){const i=this.__v_raw,a=On(i),l=On(s);e||(Ra(s,l)&&Yr(a,"get",s),Yr(a,"get",l));const{has:u}=ed(a),d=t?Dp:e?Np:Xr;if(u.call(a,s))return d(i.get(s));if(u.call(a,l))return d(i.get(l));i!==a&&i.get(s)},get size(){const s=this.__v_raw;return!e&&Yr(On(s),"iterate",So),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,a=On(i),l=On(s);return e||(Ra(s,l)&&Yr(a,"has",s),Yr(a,"has",l)),s===l?i.has(s):i.has(s)||i.has(l)},forEach(s,i){const a=this,l=a.__v_raw,u=On(l),d=t?Dp:e?Np:Xr;return!e&&Yr(u,"iterate",So),l.forEach((f,p)=>s.call(i,d(f),d(p),a))}};return Mr(n,e?{add:td("add"),set:td("set"),delete:td("delete"),clear:td("clear")}:{add(s){!t&&!Fs(s)&&!$o(s)&&(s=On(s));const i=On(this);return ed(i).has.call(i,s)||(i.add(s),Xi(i,"add",s,s)),this},set(s,i){!t&&!Fs(i)&&!$o(i)&&(i=On(i));const a=On(this),{has:l,get:u}=ed(a);let d=l.call(a,s);d||(s=On(s),d=l.call(a,s));const f=u.call(a,s);return a.set(s,i),d?Ra(i,f)&&Xi(a,"set",s,i):Xi(a,"add",s,i),this},delete(s){const i=On(this),{has:a,get:l}=ed(i);let u=a.call(i,s);u||(s=On(s),u=a.call(i,s)),l&&l.call(i,s);const d=i.delete(s);return u&&Xi(i,"delete",s,void 0),d},clear(){const s=On(this),i=s.size!==0,a=s.clear();return i&&Xi(s,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=oA(s,e,t)}),n}function vg(e,t){const n=lA(e,t);return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(yn(n,s)&&s in r?n:r,s,i)}const uA={get:vg(!1,!1)},cA={get:vg(!1,!0)},dA={get:vg(!0,!1)};const Zx=new WeakMap,Qx=new WeakMap,eS=new WeakMap,fA=new WeakMap;function hA(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pA(e){return e.__v_skip||!Object.isExtensible(e)?0:hA(VI(e))}function wn(e){return $o(e)?e:bg(e,!1,sA,uA,Zx)}function yg(e){return bg(e,!1,aA,cA,Qx)}function Fl(e){return bg(e,!0,iA,dA,eS)}function bg(e,t,n,r,s){if(!jt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const a=pA(e);if(a===0)return e;const l=new Proxy(e,a===2?r:n);return s.set(e,l),l}function Qi(e){return $o(e)?Qi(e.__v_raw):!!(e&&e.__v_isReactive)}function $o(e){return!!(e&&e.__v_isReadonly)}function Fs(e){return!!(e&&e.__v_isShallow)}function wg(e){return e?!!e.__v_raw:!1}function On(e){const t=e&&e.__v_raw;return t?On(t):e}function _i(e){return!yn(e,"__v_skip")&&Object.isExtensible(e)&&Dx(e,"__v_skip",!0),e}const Xr=e=>jt(e)?wn(e):e,Np=e=>jt(e)?Fl(e):e;function kn(e){return e?e.__v_isRef===!0:!1}function Q(e){return tS(e,!1)}function Un(e){return tS(e,!0)}function tS(e,t){return kn(e)?e:new mA(e,t)}class mA{constructor(t,n){this.dep=new Ff,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:On(t),this._value=n?t:Xr(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Fs(t)||$o(t);t=r?t:On(t),Ra(t,n)&&(this._rawValue=t,this._value=r?t:Xr(t),this.dep.trigger())}}function o(e){return kn(e)?e.value:e}const gA={get:(e,t,n)=>t==="__v_raw"?e:o(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return kn(s)&&!kn(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function nS(e){return Qi(e)?e:new Proxy(e,gA)}class vA{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Ff,{get:r,set:s}=t(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=s}get value(){return this._value=this._get()}set value(t){this._set(t)}}function yA(e){return new vA(e)}function Er(e){const t=nt(e)?new Array(e.length):{};for(const n in e)t[n]=rS(e,n);return t}class bA{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return ZI(On(this._object),this._key)}}class wA{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Tn(e,t,n){return kn(e)?e:_t(e)?new wA(e):jt(e)&&arguments.length>1?rS(e,t,n):Q(e)}function rS(e,t,n){const r=e[t];return kn(r)?r:new bA(e,t,n)}class xA{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ff(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=zu-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ir!==this)return Hx(this,!0),!0}get value(){const t=this.dep.track();return jx(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function SA(e,t,n=!1){let r,s;return _t(e)?r=e:(r=e.get,s=e.set),new xA(r,s,n)}const nd={},tf=new WeakMap;let ho;function CA(e,t=!1,n=ho){if(n){let r=tf.get(n);r||tf.set(n,r=[]),r.push(e)}}function _A(e,t,n=tr){const{immediate:r,deep:s,once:i,scheduler:a,augmentJob:l,call:u}=n,d=k=>s?k:Fs(k)||s===!1||s===0?qi(k,1):qi(k);let f,p,g,v,w=!1,b=!1;if(kn(e)?(p=()=>e.value,w=Fs(e)):Qi(e)?(p=()=>d(e),w=!0):nt(e)?(b=!0,w=e.some(k=>Qi(k)||Fs(k)),p=()=>e.map(k=>{if(kn(k))return k.value;if(Qi(k))return d(k);if(_t(k))return u?u(k,2):k()})):_t(e)?t?p=u?()=>u(e,2):e:p=()=>{if(g){Xa();try{g()}finally{qa()}}const k=ho;ho=f;try{return u?u(e,3,[v]):e(v)}finally{ho=k}}:p=In,t&&s){const k=p,A=s===!0?1/0:s;p=()=>qi(k(),A)}const _=fg(),C=()=>{f.stop(),_&&_.active&&ug(_.effects,f)};if(i&&t){const k=t;t=(...A)=>{k(...A),C()}}let M=b?new Array(e.length).fill(nd):nd;const E=k=>{if(!(!(f.flags&1)||!f.dirty&&!k))if(t){const A=f.run();if(s||w||(b?A.some((D,H)=>Ra(D,M[H])):Ra(A,M))){g&&g();const D=ho;ho=f;try{const H=[A,M===nd?void 0:b&&M[0]===nd?[]:M,v];u?u(t,3,H):t(...H),M=A}finally{ho=D}}}else f.run()};return l&&l(E),f=new Bx(p),f.scheduler=a?()=>a(E,!1):E,v=k=>CA(k,!1,f),g=f.onStop=()=>{const k=tf.get(f);if(k){if(u)u(k,4);else for(const A of k)A();tf.delete(f)}},t?r?E(!0):M=f.run():a?a(E.bind(null,!0),!0):f.run(),C.pause=f.pause.bind(f),C.resume=f.resume.bind(f),C.stop=C,C}function qi(e,t=1/0,n){if(t<=0||!jt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,kn(e))qi(e.value,t,n);else if(nt(e))for(let r=0;r<e.length;r++)qi(e[r],t,n);else if(Df(e)||ol(e))e.forEach(r=>{qi(r,t,n)});else if(Vu(e)){for(const r in e)qi(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&qi(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function vc(e,t,n,r){try{return r?e(...r):e()}catch(s){zf(s,t,n)}}function si(e,t,n,r){if(_t(e)){const s=vc(e,t,n,r);return s&&Fu(s)&&s.catch(i=>{zf(i,t,n)}),s}if(nt(e)){const s=[];for(let i=0;i<e.length;i++)s.push(si(e[i],t,n,r));return s}}function zf(e,t,n,r=!0){const s=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||tr;if(t){let l=t.parent;const u=t.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const f=l.ec;if(f){for(let p=0;p<f.length;p++)if(f[p](e,u,d)===!1)return}l=l.parent}if(i){Xa(),vc(i,null,10,[e,u,d]),qa();return}}TA(e,n,s,r,a)}function TA(e,t,n,r=!0,s=!1){if(s)throw e;console.error(e)}const as=[];let wi=-1;const ll=[];let Ea=null,Jo=0;const sS=Promise.resolve();let nf=null;function Et(e){const t=nf||sS;return e?t.then(this?e.bind(this):e):t}function kA(e){let t=wi+1,n=as.length;for(;t<n;){const r=t+n>>>1,s=as[r],i=Ku(s);i<e||i===e&&s.flags&2?t=r+1:n=r}return t}function xg(e){if(!(e.flags&1)){const t=Ku(e),n=as[as.length-1];!n||!(e.flags&2)&&t>=Ku(n)?as.push(e):as.splice(kA(t),0,e),e.flags|=1,iS()}}function iS(){nf||(nf=sS.then(oS))}function EA(e){nt(e)?ll.push(...e):Ea&&e.id===-1?Ea.splice(Jo+1,0,e):e.flags&1||(ll.push(e),e.flags|=1),iS()}function Mb(e,t,n=wi+1){for(;n<as.length;n++){const r=as[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;as.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function aS(e){if(ll.length){const t=[...new Set(ll)].sort((n,r)=>Ku(n)-Ku(r));if(ll.length=0,Ea){Ea.push(...t);return}for(Ea=t,Jo=0;Jo<Ea.length;Jo++){const n=Ea[Jo];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ea=null,Jo=0}}const Ku=e=>e.id==null?e.flags&2?-1:1/0:e.id;function oS(e){try{for(wi=0;wi<as.length;wi++){const t=as[wi];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),vc(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;wi<as.length;wi++){const t=as[wi];t&&(t.flags&=-2)}wi=-1,as.length=0,aS(),nf=null,(as.length||ll.length)&&oS()}}let Lr=null,lS=null;function rf(e){const t=Lr;return Lr=e,lS=e&&e.type.__scopeId||null,t}function Se(e,t=Lr,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&Gb(-1);const i=rf(t);let a;try{a=e(...s)}finally{rf(i),r._d&&Gb(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Bt(e,t){if(Lr===null)return e;const n=jf(Lr),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,a,l,u=tr]=t[s];i&&(_t(i)&&(i={mounted:i,updated:i}),i.deep&&qi(a),r.push({dir:i,instance:n,value:a,oldValue:void 0,arg:l,modifiers:u}))}return e}function oo(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let a=0;a<s.length;a++){const l=s[a];i&&(l.oldValue=i[a].value);let u=l.dir[r];u&&(Xa(),si(u,n,8,[e.el,l,e,t]),qa())}}const uS=Symbol("_vte"),cS=e=>e.__isTeleport,_u=e=>e&&(e.disabled||e.disabled===""),Rb=e=>e&&(e.defer||e.defer===""),Db=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Nb=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Pp=(e,t)=>{const n=e&&e.to;return xt(n)?t?t(n):null:n},dS={name:"Teleport",__isTeleport:!0,process(e,t,n,r,s,i,a,l,u,d){const{mc:f,pc:p,pbc:g,o:{insert:v,querySelector:w,createText:b,createComment:_}}=d,C=_u(t.props);let{shapeFlag:M,children:E,dynamicChildren:k}=t;if(e==null){const A=t.el=b(""),D=t.anchor=b("");v(A,n,r),v(D,n,r);const H=(K,G)=>{M&16&&(s&&s.isCE&&(s.ce._teleportTarget=K),f(E,K,G,s,i,a,l,u))},U=()=>{const K=t.target=Pp(t.props,w),G=fS(K,t,b,v);K&&(a!=="svg"&&Db(K)?a="svg":a!=="mathml"&&Nb(K)&&(a="mathml"),C||(H(K,G),_d(t,!1)))};C&&(H(n,D),_d(t,!0)),Rb(t.props)?ss(()=>{U(),t.el.__isMounted=!0},i):U()}else{if(Rb(t.props)&&!e.el.__isMounted){ss(()=>{dS.process(e,t,n,r,s,i,a,l,u,d),delete e.el.__isMounted},i);return}t.el=e.el,t.targetStart=e.targetStart;const A=t.anchor=e.anchor,D=t.target=e.target,H=t.targetAnchor=e.targetAnchor,U=_u(e.props),K=U?n:D,G=U?A:H;if(a==="svg"||Db(D)?a="svg":(a==="mathml"||Nb(D))&&(a="mathml"),k?(g(e.dynamicChildren,k,K,s,i,a,l),Eg(e,t,!0)):u||p(e,t,K,G,s,i,a,l,!1),C)U?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):rd(t,n,A,d,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const q=t.target=Pp(t.props,w);q&&rd(t,q,null,d,0)}else U&&rd(t,D,H,d,1);_d(t,C)}},remove(e,t,n,{um:r,o:{remove:s}},i){const{shapeFlag:a,children:l,anchor:u,targetStart:d,targetAnchor:f,target:p,props:g}=e;if(p&&(s(d),s(f)),i&&s(u),a&16){const v=i||!_u(g);for(let w=0;w<l.length;w++){const b=l[w];r(b,t,n,v,!!b.dynamicChildren)}}},move:rd,hydrate:$A};function rd(e,t,n,{o:{insert:r},m:s},i=2){i===0&&r(e.targetAnchor,t,n);const{el:a,anchor:l,shapeFlag:u,children:d,props:f}=e,p=i===2;if(p&&r(a,t,n),(!p||_u(f))&&u&16)for(let g=0;g<d.length;g++)s(d[g],t,n,2);p&&r(l,t,n)}function $A(e,t,n,r,s,i,{o:{nextSibling:a,parentNode:l,querySelector:u,insert:d,createText:f}},p){const g=t.target=Pp(t.props,u);if(g){const v=_u(t.props),w=g._lpa||g.firstChild;if(t.shapeFlag&16)if(v)t.anchor=p(a(e),t,l(e),n,r,s,i),t.targetStart=w,t.targetAnchor=w&&a(w);else{t.anchor=a(e);let b=w;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")t.targetStart=b;else if(b.data==="teleport anchor"){t.targetAnchor=b,g._lpa=t.targetAnchor&&a(t.targetAnchor);break}}b=a(b)}t.targetAnchor||fS(g,t,f,d),p(w&&a(w),t,g,n,r,s,i)}_d(t,v)}return t.anchor&&a(t.anchor)}const IA=dS;function _d(e,t){const n=e.ctx;if(n&&n.ut){let r,s;for(t?(r=e.el,s=e.anchor):(r=e.targetStart,s=e.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function fS(e,t,n,r){const s=t.targetStart=n(""),i=t.targetAnchor=n("");return s[uS]=i,e&&(r(s,e),r(i,e)),i}const $a=Symbol("_leaveCb"),sd=Symbol("_enterCb");function hS(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ut(()=>{e.isMounted=!0}),Fn(()=>{e.isUnmounting=!0}),e}const Ms=[Function,Array],pS={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ms,onEnter:Ms,onAfterEnter:Ms,onEnterCancelled:Ms,onBeforeLeave:Ms,onLeave:Ms,onAfterLeave:Ms,onLeaveCancelled:Ms,onBeforeAppear:Ms,onAppear:Ms,onAfterAppear:Ms,onAppearCancelled:Ms},mS=e=>{const t=e.subTree;return t.component?mS(t.component):t},AA={name:"BaseTransition",props:pS,setup(e,{slots:t}){const n=Gt(),r=hS();return()=>{const s=t.default&&Sg(t.default(),!0);if(!s||!s.length)return;const i=gS(s),a=On(e),{mode:l}=a;if(r.isLeaving)return Uh(i);const u=Pb(i);if(!u)return Uh(i);let d=Hu(u,a,r,n,p=>d=p);u.type!==Ar&&Io(u,d);let f=n.subTree&&Pb(n.subTree);if(f&&f.type!==Ar&&!po(u,f)&&mS(n).type!==Ar){let p=Hu(f,a,r,n);if(Io(f,p),l==="out-in"&&u.type!==Ar)return r.isLeaving=!0,p.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete p.afterLeave,f=void 0},Uh(i);l==="in-out"&&u.type!==Ar?p.delayLeave=(g,v,w)=>{const b=vS(r,f);b[String(f.key)]=f,g[$a]=()=>{v(),g[$a]=void 0,delete d.delayedLeave,f=void 0},d.delayedLeave=()=>{w(),delete d.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return i}}};function gS(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Ar){t=n;break}}return t}const LA=AA;function vS(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Hu(e,t,n,r,s){const{appear:i,mode:a,persisted:l=!1,onBeforeEnter:u,onEnter:d,onAfterEnter:f,onEnterCancelled:p,onBeforeLeave:g,onLeave:v,onAfterLeave:w,onLeaveCancelled:b,onBeforeAppear:_,onAppear:C,onAfterAppear:M,onAppearCancelled:E}=t,k=String(e.key),A=vS(n,e),D=(K,G)=>{K&&si(K,r,9,G)},H=(K,G)=>{const q=G[1];D(K,G),nt(K)?K.every(Y=>Y.length<=1)&&q():K.length<=1&&q()},U={mode:a,persisted:l,beforeEnter(K){let G=u;if(!n.isMounted)if(i)G=_||u;else return;K[$a]&&K[$a](!0);const q=A[k];q&&po(e,q)&&q.el[$a]&&q.el[$a](),D(G,[K])},enter(K){let G=d,q=f,Y=p;if(!n.isMounted)if(i)G=C||d,q=M||f,Y=E||p;else return;let de=!1;const xe=K[sd]=oe=>{de||(de=!0,oe?D(Y,[K]):D(q,[K]),U.delayedLeave&&U.delayedLeave(),K[sd]=void 0)};G?H(G,[K,xe]):xe()},leave(K,G){const q=String(e.key);if(K[sd]&&K[sd](!0),n.isUnmounting)return G();D(g,[K]);let Y=!1;const de=K[$a]=xe=>{Y||(Y=!0,G(),xe?D(b,[K]):D(w,[K]),K[$a]=void 0,A[q]===e&&delete A[q])};A[q]=e,v?H(v,[K,de]):de()},clone(K){const G=Hu(K,t,n,r,s);return s&&s(G),G}};return U}function Uh(e){if(Bf(e))return e=ta(e),e.children=null,e}function Pb(e){if(!Bf(e))return cS(e.type)&&e.children?gS(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&_t(n.default))return n.default()}}function Io(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Io(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Sg(e,t=!1,n){let r=[],s=0;for(let i=0;i<e.length;i++){let a=e[i];const l=n==null?a.key:String(n)+String(a.key!=null?a.key:i);a.type===Ct?(a.patchFlag&128&&s++,r=r.concat(Sg(a.children,t,l))):(t||a.type!==Ar)&&r.push(l!=null?ta(a,{key:l}):a)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function ve(e,t){return _t(e)?Mr({name:e.name},t,{setup:e}):e}function yS(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function sf(e,t,n,r,s=!1){if(nt(e)){e.forEach((w,b)=>sf(w,t&&(nt(t)?t[b]:t),n,r,s));return}if(ul(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&sf(e,t,n,r.component.subTree);return}const i=r.shapeFlag&4?jf(r.component):r.el,a=s?null:i,{i:l,r:u}=e,d=t&&t.r,f=l.refs===tr?l.refs={}:l.refs,p=l.setupState,g=On(p),v=p===tr?()=>!1:w=>yn(g,w);if(d!=null&&d!==u&&(xt(d)?(f[d]=null,v(d)&&(p[d]=null)):kn(d)&&(d.value=null)),_t(u))vc(u,l,12,[a,f]);else{const w=xt(u),b=kn(u);if(w||b){const _=()=>{if(e.f){const C=w?v(u)?p[u]:f[u]:u.value;s?nt(C)&&ug(C,i):nt(C)?C.includes(i)||C.push(i):w?(f[u]=[i],v(u)&&(p[u]=f[u])):(u.value=[i],e.k&&(f[e.k]=u.value))}else w?(f[u]=a,v(u)&&(p[u]=a)):b&&(u.value=a,e.k&&(f[e.k]=a))};a?(_.id=-1,ss(_,n)):_()}}}Pf().requestIdleCallback;Pf().cancelIdleCallback;const ul=e=>!!e.type.__asyncLoader,Bf=e=>e.type.__isKeepAlive;function Cg(e,t){wS(e,"a",t)}function bS(e,t){wS(e,"da",t)}function wS(e,t,n=Nr){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Kf(t,r,n),n){let s=n.parent;for(;s&&s.parent;)Bf(s.parent.vnode)&&OA(r,t,n,s),s=s.parent}}function OA(e,t,n,r){const s=Kf(t,e,r,!0);Ja(()=>{ug(r[t],s)},n)}function Kf(e,t,n=Nr,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...a)=>{Xa();const l=yc(n),u=si(t,n,e,a);return l(),qa(),u});return r?s.unshift(i):s.push(i),i}}const aa=e=>(t,n=Nr)=>{(!Uu||e==="sp")&&Kf(e,(...r)=>t(...r),n)},Hf=aa("bm"),Ut=aa("m"),xS=aa("bu"),ui=aa("u"),Fn=aa("bum"),Ja=aa("um"),MA=aa("sp"),RA=aa("rtg"),DA=aa("rtc");function NA(e,t=Nr){Kf("ec",e,t)}const _g="components",PA="directives";function Dt(e,t){return Tg(_g,e,!0,t)||e}const SS=Symbol.for("v-ndc");function Yt(e){return xt(e)?Tg(_g,e,!1)||e:e||SS}function Wf(e){return Tg(PA,e)}function Tg(e,t,n=!0,r=!1){const s=Lr||Nr;if(s){const i=s.type;if(e===_g){const l=SL(i,!1);if(l&&(l===t||l===ds(t)||l===gc(ds(t))))return i}const a=Fb(s[e]||i[e],t)||Fb(s.appContext[e],t);return!a&&r?i:a}}function Fb(e,t){return e&&(e[t]||e[ds(t)]||e[gc(ds(t))])}function nn(e,t,n,r){let s;const i=n,a=nt(e);if(a||xt(e)){const l=a&&Qi(e);let u=!1;l&&(u=!Fs(e),e=Vf(e)),s=new Array(e.length);for(let d=0,f=e.length;d<f;d++)s[d]=t(u?Xr(e[d]):e[d],d,void 0,i)}else if(typeof e=="number"){s=new Array(e);for(let l=0;l<e;l++)s[l]=t(l+1,l,void 0,i)}else if(jt(e))if(e[Symbol.iterator])s=Array.from(e,(l,u)=>t(l,u,void 0,i));else{const l=Object.keys(e);s=new Array(l.length);for(let u=0,d=l.length;u<d;u++){const f=l[u];s[u]=t(e[f],f,u,i)}}else s=[];return s}function zs(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(nt(r))for(let s=0;s<r.length;s++)e[r[s].name]=r[s].fn;else r&&(e[r.name]=r.key?(...s)=>{const i=r.fn(...s);return i&&(i.key=r.key),i}:r.fn)}return e}function Oe(e,t,n={},r,s){if(Lr.ce||Lr.parent&&ul(Lr.parent)&&Lr.parent.ce)return t!=="default"&&(n.name=t),V(),Ve(Ct,null,[pe("slot",n,r&&r())],64);let i=e[t];i&&i._c&&(i._d=!1),V();const a=i&&CS(i(n)),l=n.key||a&&a.key,u=Ve(Ct,{key:(l&&!ri(l)?l:`_${t}`)+(!a&&r?"_fb":"")},a||(r?r():[]),a&&e._===1?64:-2);return!s&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),i&&i._c&&(i._d=!0),u}function CS(e){return e.some(t=>qn(t)?!(t.type===Ar||t.type===Ct&&!CS(t.children)):!0)?e:null}function FA(e,t){const n={};for(const r in e)n[xu(r)]=e[r];return n}const Fp=e=>e?HS(e)?jf(e):Fp(e.parent):null,Tu=Mr(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Fp(e.parent),$root:e=>Fp(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>kS(e),$forceUpdate:e=>e.f||(e.f=()=>{xg(e.update)}),$nextTick:e=>e.n||(e.n=Et.bind(e.proxy)),$watch:e=>aL.bind(e)}),jh=(e,t)=>e!==tr&&!e.__isScriptSetup&&yn(e,t),VA={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:a,type:l,appContext:u}=e;let d;if(t[0]!=="$"){const v=a[t];if(v!==void 0)switch(v){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(jh(r,t))return a[t]=1,r[t];if(s!==tr&&yn(s,t))return a[t]=2,s[t];if((d=e.propsOptions[0])&&yn(d,t))return a[t]=3,i[t];if(n!==tr&&yn(n,t))return a[t]=4,n[t];Vp&&(a[t]=0)}}const f=Tu[t];let p,g;if(f)return t==="$attrs"&&Yr(e.attrs,"get",""),f(e);if((p=l.__cssModules)&&(p=p[t]))return p;if(n!==tr&&yn(n,t))return a[t]=4,n[t];if(g=u.config.globalProperties,yn(g,t))return g[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return jh(s,t)?(s[t]=n,!0):r!==tr&&yn(r,t)?(r[t]=n,!0):yn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},a){let l;return!!n[a]||e!==tr&&yn(e,a)||jh(t,a)||(l=i[0])&&yn(l,a)||yn(r,a)||yn(Tu,a)||yn(s.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:yn(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Sr(){return _S().slots}function oa(){return _S().attrs}function _S(){const e=Gt();return e.setupContext||(e.setupContext=US(e))}function Vb(e){return nt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Vp=!0;function zA(e){const t=kS(e),n=e.proxy,r=e.ctx;Vp=!1,t.beforeCreate&&zb(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:a,watch:l,provide:u,inject:d,created:f,beforeMount:p,mounted:g,beforeUpdate:v,updated:w,activated:b,deactivated:_,beforeDestroy:C,beforeUnmount:M,destroyed:E,unmounted:k,render:A,renderTracked:D,renderTriggered:H,errorCaptured:U,serverPrefetch:K,expose:G,inheritAttrs:q,components:Y,directives:de,filters:xe}=t;if(d&&BA(d,r,null),a)for(const ne in a){const ee=a[ne];_t(ee)&&(r[ne]=ee.bind(n))}if(s){const ne=s.call(n,n);jt(ne)&&(e.data=wn(ne))}if(Vp=!0,i)for(const ne in i){const ee=i[ne],J=_t(ee)?ee.bind(n,n):_t(ee.get)?ee.get.bind(n,n):In,fe=!_t(ee)&&_t(ee.set)?ee.set.bind(n):In,ge=L({get:J,set:fe});Object.defineProperty(r,ne,{enumerable:!0,configurable:!0,get:()=>ge.value,set:ke=>ge.value=ke})}if(l)for(const ne in l)TS(l[ne],r,n,ne);if(u){const ne=_t(u)?u.call(n):u;Reflect.ownKeys(ne).forEach(ee=>{Qt(ee,ne[ee])})}f&&zb(f,e,"c");function Z(ne,ee){nt(ee)?ee.forEach(J=>ne(J.bind(n))):ee&&ne(ee.bind(n))}if(Z(Hf,p),Z(Ut,g),Z(xS,v),Z(ui,w),Z(Cg,b),Z(bS,_),Z(NA,U),Z(DA,D),Z(RA,H),Z(Fn,M),Z(Ja,k),Z(MA,K),nt(G))if(G.length){const ne=e.exposed||(e.exposed={});G.forEach(ee=>{Object.defineProperty(ne,ee,{get:()=>n[ee],set:J=>n[ee]=J})})}else e.exposed||(e.exposed={});A&&e.render===In&&(e.render=A),q!=null&&(e.inheritAttrs=q),Y&&(e.components=Y),de&&(e.directives=de),K&&yS(e)}function BA(e,t,n=In){nt(e)&&(e=zp(e));for(const r in e){const s=e[r];let i;jt(s)?"default"in s?i=vt(s.from||r,s.default,!0):i=vt(s.from||r):i=vt(s),kn(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):t[r]=i}}function zb(e,t,n){si(nt(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function TS(e,t,n,r){let s=r.includes(".")?FS(n,r):()=>n[r];if(xt(e)){const i=t[e];_t(i)&&je(s,i)}else if(_t(e))je(s,e.bind(n));else if(jt(e))if(nt(e))e.forEach(i=>TS(i,t,n,r));else{const i=_t(e.handler)?e.handler.bind(n):t[e.handler];_t(i)&&je(s,i,e)}}function kS(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,l=i.get(t);let u;return l?u=l:!s.length&&!n&&!r?u=t:(u={},s.length&&s.forEach(d=>af(u,d,a,!0)),af(u,t,a)),jt(t)&&i.set(t,u),u}function af(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&af(e,i,n,!0),s&&s.forEach(a=>af(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const l=KA[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const KA={data:Bb,props:Kb,emits:Kb,methods:mu,computed:mu,beforeCreate:rs,created:rs,beforeMount:rs,mounted:rs,beforeUpdate:rs,updated:rs,beforeDestroy:rs,beforeUnmount:rs,destroyed:rs,unmounted:rs,activated:rs,deactivated:rs,errorCaptured:rs,serverPrefetch:rs,components:mu,directives:mu,watch:WA,provide:Bb,inject:HA};function Bb(e,t){return t?e?function(){return Mr(_t(e)?e.call(this,this):e,_t(t)?t.call(this,this):t)}:t:e}function HA(e,t){return mu(zp(e),zp(t))}function zp(e){if(nt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function rs(e,t){return e?[...new Set([].concat(e,t))]:t}function mu(e,t){return e?Mr(Object.create(null),e,t):t}function Kb(e,t){return e?nt(e)&&nt(t)?[...new Set([...e,...t])]:Mr(Object.create(null),Vb(e),Vb(t??{})):t}function WA(e,t){if(!e)return t;if(!t)return e;const n=Mr(Object.create(null),e);for(const r in t)n[r]=rs(e[r],t[r]);return n}function ES(){return{app:null,config:{isNativeTag:PI,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let UA=0;function jA(e,t){return function(r,s=null){_t(r)||(r=Mr({},r)),s!=null&&!jt(s)&&(s=null);const i=ES(),a=new WeakSet,l=[];let u=!1;const d=i.app={_uid:UA++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:_L,get config(){return i.config},set config(f){},use(f,...p){return a.has(f)||(f&&_t(f.install)?(a.add(f),f.install(d,...p)):_t(f)&&(a.add(f),f(d,...p))),d},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),d},component(f,p){return p?(i.components[f]=p,d):i.components[f]},directive(f,p){return p?(i.directives[f]=p,d):i.directives[f]},mount(f,p,g){if(!u){const v=d._ceVNode||pe(r,s);return v.appContext=i,g===!0?g="svg":g===!1&&(g=void 0),e(v,f,g),u=!0,d._container=f,f.__vue_app__=d,jf(v.component)}},onUnmount(f){l.push(f)},unmount(){u&&(si(l,d._instance,16),e(null,d._container),delete d._container.__vue_app__)},provide(f,p){return i.provides[f]=p,d},runWithContext(f){const p=Co;Co=d;try{return f()}finally{Co=p}}};return d}}let Co=null;function Qt(e,t){if(Nr){let n=Nr.provides;const r=Nr.parent&&Nr.parent.provides;r===n&&(n=Nr.provides=Object.create(r)),n[e]=t}}function vt(e,t,n=!1){const r=Nr||Lr;if(r||Co){const s=Co?Co._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&_t(t)?t.call(r&&r.proxy):t}}function GA(){return!!(Nr||Lr||Co)}const $S={},IS=()=>Object.create($S),AS=e=>Object.getPrototypeOf(e)===$S;function YA(e,t,n,r=!1){const s={},i=IS();e.propsDefaults=Object.create(null),LS(e,t,s,i);for(const a in e.propsOptions[0])a in s||(s[a]=void 0);n?e.props=r?s:yg(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function XA(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:a}}=e,l=On(s),[u]=e.propsOptions;let d=!1;if((r||a>0)&&!(a&16)){if(a&8){const f=e.vnode.dynamicProps;for(let p=0;p<f.length;p++){let g=f[p];if(Uf(e.emitsOptions,g))continue;const v=t[g];if(u)if(yn(i,g))v!==i[g]&&(i[g]=v,d=!0);else{const w=ds(g);s[w]=Bp(u,l,w,v,e,!1)}else v!==i[g]&&(i[g]=v,d=!0)}}}else{LS(e,t,s,i)&&(d=!0);let f;for(const p in l)(!t||!yn(t,p)&&((f=ia(p))===p||!yn(t,f)))&&(u?n&&(n[p]!==void 0||n[f]!==void 0)&&(s[p]=Bp(u,l,p,void 0,e,!0)):delete s[p]);if(i!==l)for(const p in i)(!t||!yn(t,p))&&(delete i[p],d=!0)}d&&Xi(e.attrs,"set","")}function LS(e,t,n,r){const[s,i]=e.propsOptions;let a=!1,l;if(t)for(let u in t){if(wu(u))continue;const d=t[u];let f;s&&yn(s,f=ds(u))?!i||!i.includes(f)?n[f]=d:(l||(l={}))[f]=d:Uf(e.emitsOptions,u)||(!(u in r)||d!==r[u])&&(r[u]=d,a=!0)}if(i){const u=On(n),d=l||tr;for(let f=0;f<i.length;f++){const p=i[f];n[p]=Bp(s,u,p,d[p],e,!yn(d,p))}}return a}function Bp(e,t,n,r,s,i){const a=e[n];if(a!=null){const l=yn(a,"default");if(l&&r===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&_t(u)){const{propsDefaults:d}=s;if(n in d)r=d[n];else{const f=yc(s);r=d[n]=u.call(null,t),f()}}else r=u;s.ce&&s.ce._setProp(n,r)}a[0]&&(i&&!l?r=!1:a[1]&&(r===""||r===ia(n))&&(r=!0))}return r}const qA=new WeakMap;function OS(e,t,n=!1){const r=n?qA:t.propsCache,s=r.get(e);if(s)return s;const i=e.props,a={},l=[];let u=!1;if(!_t(e)){const f=p=>{u=!0;const[g,v]=OS(p,t,!0);Mr(a,g),v&&l.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!i&&!u)return jt(e)&&r.set(e,al),al;if(nt(i))for(let f=0;f<i.length;f++){const p=ds(i[f]);Hb(p)&&(a[p]=tr)}else if(i)for(const f in i){const p=ds(f);if(Hb(p)){const g=i[f],v=a[p]=nt(g)||_t(g)?{type:g}:Mr({},g),w=v.type;let b=!1,_=!0;if(nt(w))for(let C=0;C<w.length;++C){const M=w[C],E=_t(M)&&M.name;if(E==="Boolean"){b=!0;break}else E==="String"&&(_=!1)}else b=_t(w)&&w.name==="Boolean";v[0]=b,v[1]=_,(b||yn(v,"default"))&&l.push(p)}}const d=[a,l];return jt(e)&&r.set(e,d),d}function Hb(e){return e[0]!=="$"&&!wu(e)}const MS=e=>e[0]==="_"||e==="$stable",kg=e=>nt(e)?e.map(xi):[xi(e)],JA=(e,t,n)=>{if(t._n)return t;const r=Se((...s)=>kg(t(...s)),n);return r._c=!1,r},RS=(e,t,n)=>{const r=e._ctx;for(const s in e){if(MS(s))continue;const i=e[s];if(_t(i))t[s]=JA(s,i,r);else if(i!=null){const a=kg(i);t[s]=()=>a}}},DS=(e,t)=>{const n=kg(t);e.slots.default=()=>n},NS=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},ZA=(e,t,n)=>{const r=e.slots=IS();if(e.vnode.shapeFlag&32){const s=t._;s?(NS(r,t,n),n&&Dx(r,"_",s,!0)):RS(t,r)}else t&&DS(e,t)},QA=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,a=tr;if(r.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:NS(s,t,n):(i=!t.$stable,RS(t,s)),a=t}else t&&(DS(e,t),a={default:1});if(i)for(const l in s)!MS(l)&&a[l]==null&&delete s[l]},ss=hL;function eL(e){return tL(e)}function tL(e,t){const n=Pf();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:a,createText:l,createComment:u,setText:d,setElementText:f,parentNode:p,nextSibling:g,setScopeId:v=In,insertStaticContent:w}=e,b=(ae,be,$e,Ge=null,Qe=null,Le=null,Ze=void 0,We=null,it=!!be.dynamicChildren)=>{if(ae===be)return;ae&&!po(ae,be)&&(Ge=he(ae),ke(ae,Qe,Le,!0),ae=null),be.patchFlag===-2&&(it=!1,be.dynamicChildren=null);const{type:rt,ref:St,shapeFlag:mt}=be;switch(rt){case Vl:_(ae,be,$e,Ge);break;case Ar:C(ae,be,$e,Ge);break;case Yh:ae==null&&M(be,$e,Ge,Ze);break;case Ct:Y(ae,be,$e,Ge,Qe,Le,Ze,We,it);break;default:mt&1?A(ae,be,$e,Ge,Qe,Le,Ze,We,it):mt&6?de(ae,be,$e,Ge,Qe,Le,Ze,We,it):(mt&64||mt&128)&&rt.process(ae,be,$e,Ge,Qe,Le,Ze,We,it,et)}St!=null&&Qe&&sf(St,ae&&ae.ref,Le,be||ae,!be)},_=(ae,be,$e,Ge)=>{if(ae==null)r(be.el=l(be.children),$e,Ge);else{const Qe=be.el=ae.el;be.children!==ae.children&&d(Qe,be.children)}},C=(ae,be,$e,Ge)=>{ae==null?r(be.el=u(be.children||""),$e,Ge):be.el=ae.el},M=(ae,be,$e,Ge)=>{[ae.el,ae.anchor]=w(ae.children,be,$e,Ge,ae.el,ae.anchor)},E=({el:ae,anchor:be},$e,Ge)=>{let Qe;for(;ae&&ae!==be;)Qe=g(ae),r(ae,$e,Ge),ae=Qe;r(be,$e,Ge)},k=({el:ae,anchor:be})=>{let $e;for(;ae&&ae!==be;)$e=g(ae),s(ae),ae=$e;s(be)},A=(ae,be,$e,Ge,Qe,Le,Ze,We,it)=>{be.type==="svg"?Ze="svg":be.type==="math"&&(Ze="mathml"),ae==null?D(be,$e,Ge,Qe,Le,Ze,We,it):K(ae,be,Qe,Le,Ze,We,it)},D=(ae,be,$e,Ge,Qe,Le,Ze,We)=>{let it,rt;const{props:St,shapeFlag:mt,transition:Ye,dirs:yt}=ae;if(it=ae.el=a(ae.type,Le,St&&St.is,St),mt&8?f(it,ae.children):mt&16&&U(ae.children,it,null,Ge,Qe,Gh(ae,Le),Ze,We),yt&&oo(ae,null,Ge,"created"),H(it,ae,ae.scopeId,Ze,Ge),St){for(const qt in St)qt!=="value"&&!wu(qt)&&i(it,qt,null,St[qt],Le,Ge);"value"in St&&i(it,"value",null,St.value,Le),(rt=St.onVnodeBeforeMount)&&yi(rt,Ge,ae)}yt&&oo(ae,null,Ge,"beforeMount");const Mt=nL(Qe,Ye);Mt&&Ye.beforeEnter(it),r(it,be,$e),((rt=St&&St.onVnodeMounted)||Mt||yt)&&ss(()=>{rt&&yi(rt,Ge,ae),Mt&&Ye.enter(it),yt&&oo(ae,null,Ge,"mounted")},Qe)},H=(ae,be,$e,Ge,Qe)=>{if($e&&v(ae,$e),Ge)for(let Le=0;Le<Ge.length;Le++)v(ae,Ge[Le]);if(Qe){let Le=Qe.subTree;if(be===Le||zS(Le.type)&&(Le.ssContent===be||Le.ssFallback===be)){const Ze=Qe.vnode;H(ae,Ze,Ze.scopeId,Ze.slotScopeIds,Qe.parent)}}},U=(ae,be,$e,Ge,Qe,Le,Ze,We,it=0)=>{for(let rt=it;rt<ae.length;rt++){const St=ae[rt]=We?Ia(ae[rt]):xi(ae[rt]);b(null,St,be,$e,Ge,Qe,Le,Ze,We)}},K=(ae,be,$e,Ge,Qe,Le,Ze)=>{const We=be.el=ae.el;let{patchFlag:it,dynamicChildren:rt,dirs:St}=be;it|=ae.patchFlag&16;const mt=ae.props||tr,Ye=be.props||tr;let yt;if($e&&lo($e,!1),(yt=Ye.onVnodeBeforeUpdate)&&yi(yt,$e,be,ae),St&&oo(be,ae,$e,"beforeUpdate"),$e&&lo($e,!0),(mt.innerHTML&&Ye.innerHTML==null||mt.textContent&&Ye.textContent==null)&&f(We,""),rt?G(ae.dynamicChildren,rt,We,$e,Ge,Gh(be,Qe),Le):Ze||ee(ae,be,We,null,$e,Ge,Gh(be,Qe),Le,!1),it>0){if(it&16)q(We,mt,Ye,$e,Qe);else if(it&2&&mt.class!==Ye.class&&i(We,"class",null,Ye.class,Qe),it&4&&i(We,"style",mt.style,Ye.style,Qe),it&8){const Mt=be.dynamicProps;for(let qt=0;qt<Mt.length;qt++){const Ht=Mt[qt],gn=mt[Ht],en=Ye[Ht];(en!==gn||Ht==="value")&&i(We,Ht,gn,en,Qe,$e)}}it&1&&ae.children!==be.children&&f(We,be.children)}else!Ze&&rt==null&&q(We,mt,Ye,$e,Qe);((yt=Ye.onVnodeUpdated)||St)&&ss(()=>{yt&&yi(yt,$e,be,ae),St&&oo(be,ae,$e,"updated")},Ge)},G=(ae,be,$e,Ge,Qe,Le,Ze)=>{for(let We=0;We<be.length;We++){const it=ae[We],rt=be[We],St=it.el&&(it.type===Ct||!po(it,rt)||it.shapeFlag&70)?p(it.el):$e;b(it,rt,St,null,Ge,Qe,Le,Ze,!0)}},q=(ae,be,$e,Ge,Qe)=>{if(be!==$e){if(be!==tr)for(const Le in be)!wu(Le)&&!(Le in $e)&&i(ae,Le,be[Le],null,Qe,Ge);for(const Le in $e){if(wu(Le))continue;const Ze=$e[Le],We=be[Le];Ze!==We&&Le!=="value"&&i(ae,Le,We,Ze,Qe,Ge)}"value"in $e&&i(ae,"value",be.value,$e.value,Qe)}},Y=(ae,be,$e,Ge,Qe,Le,Ze,We,it)=>{const rt=be.el=ae?ae.el:l(""),St=be.anchor=ae?ae.anchor:l("");let{patchFlag:mt,dynamicChildren:Ye,slotScopeIds:yt}=be;yt&&(We=We?We.concat(yt):yt),ae==null?(r(rt,$e,Ge),r(St,$e,Ge),U(be.children||[],$e,St,Qe,Le,Ze,We,it)):mt>0&&mt&64&&Ye&&ae.dynamicChildren?(G(ae.dynamicChildren,Ye,$e,Qe,Le,Ze,We),(be.key!=null||Qe&&be===Qe.subTree)&&Eg(ae,be,!0)):ee(ae,be,$e,St,Qe,Le,Ze,We,it)},de=(ae,be,$e,Ge,Qe,Le,Ze,We,it)=>{be.slotScopeIds=We,ae==null?be.shapeFlag&512?Qe.ctx.activate(be,$e,Ge,Ze,it):xe(be,$e,Ge,Qe,Le,Ze,it):oe(ae,be,it)},xe=(ae,be,$e,Ge,Qe,Le,Ze)=>{const We=ae.component=yL(ae,Ge,Qe);if(Bf(ae)&&(We.ctx.renderer=et),bL(We,!1,Ze),We.asyncDep){if(Qe&&Qe.registerDep(We,Z,Ze),!ae.el){const it=We.subTree=pe(Ar);C(null,it,be,$e)}}else Z(We,ae,be,$e,Qe,Le,Ze)},oe=(ae,be,$e)=>{const Ge=be.component=ae.component;if(dL(ae,be,$e))if(Ge.asyncDep&&!Ge.asyncResolved){ne(Ge,be,$e);return}else Ge.next=be,Ge.update();else be.el=ae.el,Ge.vnode=be},Z=(ae,be,$e,Ge,Qe,Le,Ze)=>{const We=()=>{if(ae.isMounted){let{next:mt,bu:Ye,u:yt,parent:Mt,vnode:qt}=ae;{const Bn=PS(ae);if(Bn){mt&&(mt.el=qt.el,ne(ae,mt,Ze)),Bn.asyncDep.then(()=>{ae.isUnmounted||We()});return}}let Ht=mt,gn;lo(ae,!1),mt?(mt.el=qt.el,ne(ae,mt,Ze)):mt=qt,Ye&&Cd(Ye),(gn=mt.props&&mt.props.onVnodeBeforeUpdate)&&yi(gn,Mt,mt,qt),lo(ae,!0);const en=Ub(ae),jn=ae.subTree;ae.subTree=en,b(jn,en,p(jn.el),he(jn),ae,Qe,Le),mt.el=en.el,Ht===null&&fL(ae,en.el),yt&&ss(yt,Qe),(gn=mt.props&&mt.props.onVnodeUpdated)&&ss(()=>yi(gn,Mt,mt,qt),Qe)}else{let mt;const{el:Ye,props:yt}=be,{bm:Mt,m:qt,parent:Ht,root:gn,type:en}=ae,jn=ul(be);lo(ae,!1),Mt&&Cd(Mt),!jn&&(mt=yt&&yt.onVnodeBeforeMount)&&yi(mt,Ht,be),lo(ae,!0);{gn.ce&&gn.ce._injectChildStyle(en);const Bn=ae.subTree=Ub(ae);b(null,Bn,$e,Ge,ae,Qe,Le),be.el=Bn.el}if(qt&&ss(qt,Qe),!jn&&(mt=yt&&yt.onVnodeMounted)){const Bn=be;ss(()=>yi(mt,Ht,Bn),Qe)}(be.shapeFlag&256||Ht&&ul(Ht.vnode)&&Ht.vnode.shapeFlag&256)&&ae.a&&ss(ae.a,Qe),ae.isMounted=!0,be=$e=Ge=null}};ae.scope.on();const it=ae.effect=new Bx(We);ae.scope.off();const rt=ae.update=it.run.bind(it),St=ae.job=it.runIfDirty.bind(it);St.i=ae,St.id=ae.uid,it.scheduler=()=>xg(St),lo(ae,!0),rt()},ne=(ae,be,$e)=>{be.component=ae;const Ge=ae.vnode.props;ae.vnode=be,ae.next=null,XA(ae,be.props,Ge,$e),QA(ae,be.children,$e),Xa(),Mb(ae),qa()},ee=(ae,be,$e,Ge,Qe,Le,Ze,We,it=!1)=>{const rt=ae&&ae.children,St=ae?ae.shapeFlag:0,mt=be.children,{patchFlag:Ye,shapeFlag:yt}=be;if(Ye>0){if(Ye&128){fe(rt,mt,$e,Ge,Qe,Le,Ze,We,it);return}else if(Ye&256){J(rt,mt,$e,Ge,Qe,Le,Ze,We,it);return}}yt&8?(St&16&&He(rt,Qe,Le),mt!==rt&&f($e,mt)):St&16?yt&16?fe(rt,mt,$e,Ge,Qe,Le,Ze,We,it):He(rt,Qe,Le,!0):(St&8&&f($e,""),yt&16&&U(mt,$e,Ge,Qe,Le,Ze,We,it))},J=(ae,be,$e,Ge,Qe,Le,Ze,We,it)=>{ae=ae||al,be=be||al;const rt=ae.length,St=be.length,mt=Math.min(rt,St);let Ye;for(Ye=0;Ye<mt;Ye++){const yt=be[Ye]=it?Ia(be[Ye]):xi(be[Ye]);b(ae[Ye],yt,$e,null,Qe,Le,Ze,We,it)}rt>St?He(ae,Qe,Le,!0,!1,mt):U(be,$e,Ge,Qe,Le,Ze,We,it,mt)},fe=(ae,be,$e,Ge,Qe,Le,Ze,We,it)=>{let rt=0;const St=be.length;let mt=ae.length-1,Ye=St-1;for(;rt<=mt&&rt<=Ye;){const yt=ae[rt],Mt=be[rt]=it?Ia(be[rt]):xi(be[rt]);if(po(yt,Mt))b(yt,Mt,$e,null,Qe,Le,Ze,We,it);else break;rt++}for(;rt<=mt&&rt<=Ye;){const yt=ae[mt],Mt=be[Ye]=it?Ia(be[Ye]):xi(be[Ye]);if(po(yt,Mt))b(yt,Mt,$e,null,Qe,Le,Ze,We,it);else break;mt--,Ye--}if(rt>mt){if(rt<=Ye){const yt=Ye+1,Mt=yt<St?be[yt].el:Ge;for(;rt<=Ye;)b(null,be[rt]=it?Ia(be[rt]):xi(be[rt]),$e,Mt,Qe,Le,Ze,We,it),rt++}}else if(rt>Ye)for(;rt<=mt;)ke(ae[rt],Qe,Le,!0),rt++;else{const yt=rt,Mt=rt,qt=new Map;for(rt=Mt;rt<=Ye;rt++){const Ke=be[rt]=it?Ia(be[rt]):xi(be[rt]);Ke.key!=null&&qt.set(Ke.key,rt)}let Ht,gn=0;const en=Ye-Mt+1;let jn=!1,Bn=0;const Ue=new Array(en);for(rt=0;rt<en;rt++)Ue[rt]=0;for(rt=yt;rt<=mt;rt++){const Ke=ae[rt];if(gn>=en){ke(Ke,Qe,Le,!0);continue}let _e;if(Ke.key!=null)_e=qt.get(Ke.key);else for(Ht=Mt;Ht<=Ye;Ht++)if(Ue[Ht-Mt]===0&&po(Ke,be[Ht])){_e=Ht;break}_e===void 0?ke(Ke,Qe,Le,!0):(Ue[_e-Mt]=rt+1,_e>=Bn?Bn=_e:jn=!0,b(Ke,be[_e],$e,null,Qe,Le,Ze,We,it),gn++)}const Ae=jn?rL(Ue):al;for(Ht=Ae.length-1,rt=en-1;rt>=0;rt--){const Ke=Mt+rt,_e=be[Ke],lt=Ke+1<St?be[Ke+1].el:Ge;Ue[rt]===0?b(null,_e,$e,lt,Qe,Le,Ze,We,it):jn&&(Ht<0||rt!==Ae[Ht]?ge(_e,$e,lt,2):Ht--)}}},ge=(ae,be,$e,Ge,Qe=null)=>{const{el:Le,type:Ze,transition:We,children:it,shapeFlag:rt}=ae;if(rt&6){ge(ae.component.subTree,be,$e,Ge);return}if(rt&128){ae.suspense.move(be,$e,Ge);return}if(rt&64){Ze.move(ae,be,$e,et);return}if(Ze===Ct){r(Le,be,$e);for(let mt=0;mt<it.length;mt++)ge(it[mt],be,$e,Ge);r(ae.anchor,be,$e);return}if(Ze===Yh){E(ae,be,$e);return}if(Ge!==2&&rt&1&&We)if(Ge===0)We.beforeEnter(Le),r(Le,be,$e),ss(()=>We.enter(Le),Qe);else{const{leave:mt,delayLeave:Ye,afterLeave:yt}=We,Mt=()=>r(Le,be,$e),qt=()=>{mt(Le,()=>{Mt(),yt&&yt()})};Ye?Ye(Le,Mt,qt):qt()}else r(Le,be,$e)},ke=(ae,be,$e,Ge=!1,Qe=!1)=>{const{type:Le,props:Ze,ref:We,children:it,dynamicChildren:rt,shapeFlag:St,patchFlag:mt,dirs:Ye,cacheIndex:yt}=ae;if(mt===-2&&(Qe=!1),We!=null&&sf(We,null,$e,ae,!0),yt!=null&&(be.renderCache[yt]=void 0),St&256){be.ctx.deactivate(ae);return}const Mt=St&1&&Ye,qt=!ul(ae);let Ht;if(qt&&(Ht=Ze&&Ze.onVnodeBeforeUnmount)&&yi(Ht,be,ae),St&6)Be(ae.component,$e,Ge);else{if(St&128){ae.suspense.unmount($e,Ge);return}Mt&&oo(ae,null,be,"beforeUnmount"),St&64?ae.type.remove(ae,be,$e,et,Ge):rt&&!rt.hasOnce&&(Le!==Ct||mt>0&&mt&64)?He(rt,be,$e,!1,!0):(Le===Ct&&mt&384||!Qe&&St&16)&&He(it,be,$e),Ge&&ye(ae)}(qt&&(Ht=Ze&&Ze.onVnodeUnmounted)||Mt)&&ss(()=>{Ht&&yi(Ht,be,ae),Mt&&oo(ae,null,be,"unmounted")},$e)},ye=ae=>{const{type:be,el:$e,anchor:Ge,transition:Qe}=ae;if(be===Ct){Fe($e,Ge);return}if(be===Yh){k(ae);return}const Le=()=>{s($e),Qe&&!Qe.persisted&&Qe.afterLeave&&Qe.afterLeave()};if(ae.shapeFlag&1&&Qe&&!Qe.persisted){const{leave:Ze,delayLeave:We}=Qe,it=()=>Ze($e,Le);We?We(ae.el,Le,it):it()}else Le()},Fe=(ae,be)=>{let $e;for(;ae!==be;)$e=g(ae),s(ae),ae=$e;s(be)},Be=(ae,be,$e)=>{const{bum:Ge,scope:Qe,job:Le,subTree:Ze,um:We,m:it,a:rt}=ae;Wb(it),Wb(rt),Ge&&Cd(Ge),Qe.stop(),Le&&(Le.flags|=8,ke(Ze,ae,be,$e)),We&&ss(We,be),ss(()=>{ae.isUnmounted=!0},be),be&&be.pendingBranch&&!be.isUnmounted&&ae.asyncDep&&!ae.asyncResolved&&ae.suspenseId===be.pendingId&&(be.deps--,be.deps===0&&be.resolve())},He=(ae,be,$e,Ge=!1,Qe=!1,Le=0)=>{for(let Ze=Le;Ze<ae.length;Ze++)ke(ae[Ze],be,$e,Ge,Qe)},he=ae=>{if(ae.shapeFlag&6)return he(ae.component.subTree);if(ae.shapeFlag&128)return ae.suspense.next();const be=g(ae.anchor||ae.el),$e=be&&be[uS];return $e?g($e):be};let Ne=!1;const Pe=(ae,be,$e)=>{ae==null?be._vnode&&ke(be._vnode,null,null,!0):b(be._vnode||null,ae,be,null,null,null,$e),be._vnode=ae,Ne||(Ne=!0,Mb(),aS(),Ne=!1)},et={p:b,um:ke,m:ge,r:ye,mt:xe,mc:U,pc:ee,pbc:G,n:he,o:e};return{render:Pe,hydrate:void 0,createApp:jA(Pe)}}function Gh({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function lo({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function nL(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Eg(e,t,n=!1){const r=e.children,s=t.children;if(nt(r)&&nt(s))for(let i=0;i<r.length;i++){const a=r[i];let l=s[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[i]=Ia(s[i]),l.el=a.el),!n&&l.patchFlag!==-2&&Eg(a,l)),l.type===Vl&&(l.el=a.el)}}function rL(e){const t=e.slice(),n=[0];let r,s,i,a,l;const u=e.length;for(r=0;r<u;r++){const d=e[r];if(d!==0){if(s=n[n.length-1],e[s]<d){t[r]=s,n.push(r);continue}for(i=0,a=n.length-1;i<a;)l=i+a>>1,e[n[l]]<d?i=l+1:a=l;d<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=t[a];return n}function PS(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:PS(t)}function Wb(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const sL=Symbol.for("v-scx"),iL=()=>vt(sL);function Vr(e,t){return $g(e,null,t)}function je(e,t,n){return $g(e,t,n)}function $g(e,t,n=tr){const{immediate:r,deep:s,flush:i,once:a}=n,l=Mr({},n),u=t&&r||!t&&i!=="post";let d;if(Uu){if(i==="sync"){const v=iL();d=v.__watcherHandles||(v.__watcherHandles=[])}else if(!u){const v=()=>{};return v.stop=In,v.resume=In,v.pause=In,v}}const f=Nr;l.call=(v,w,b)=>si(v,f,w,b);let p=!1;i==="post"?l.scheduler=v=>{ss(v,f&&f.suspense)}:i!=="sync"&&(p=!0,l.scheduler=(v,w)=>{w?v():xg(v)}),l.augmentJob=v=>{t&&(v.flags|=4),p&&(v.flags|=2,f&&(v.id=f.uid,v.i=f))};const g=_A(e,t,l);return Uu&&(d?d.push(g):u&&g()),g}function aL(e,t,n){const r=this.proxy,s=xt(e)?e.includes(".")?FS(r,e):()=>r[e]:e.bind(r,r);let i;_t(t)?i=t:(i=t.handler,n=t);const a=yc(this),l=$g(s,i.bind(r),n);return a(),l}function FS(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const oL=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ds(t)}Modifiers`]||e[`${ia(t)}Modifiers`];function lL(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||tr;let s=n;const i=t.startsWith("update:"),a=i&&oL(r,t.slice(7));a&&(a.trim&&(s=n.map(f=>xt(f)?f.trim():f)),a.number&&(s=n.map(Op)));let l,u=r[l=xu(t)]||r[l=xu(ds(t))];!u&&i&&(u=r[l=xu(ia(t))]),u&&si(u,e,6,s);const d=r[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,si(d,e,6,s)}}function VS(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let a={},l=!1;if(!_t(e)){const u=d=>{const f=VS(d,t,!0);f&&(l=!0,Mr(a,f))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!i&&!l?(jt(e)&&r.set(e,null),null):(nt(i)?i.forEach(u=>a[u]=null):Mr(a,i),jt(e)&&r.set(e,a),a)}function Uf(e,t){return!e||!Rf(t)?!1:(t=t.slice(2).replace(/Once$/,""),yn(e,t[0].toLowerCase()+t.slice(1))||yn(e,ia(t))||yn(e,t))}function Ub(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:a,attrs:l,emit:u,render:d,renderCache:f,props:p,data:g,setupState:v,ctx:w,inheritAttrs:b}=e,_=rf(e);let C,M;try{if(n.shapeFlag&4){const k=s||r,A=k;C=xi(d.call(A,k,f,p,v,g,w)),M=l}else{const k=t;C=xi(k.length>1?k(p,{attrs:l,slots:a,emit:u}):k(p,null)),M=t.props?l:uL(l)}}catch(k){ku.length=0,zf(k,e,1),C=pe(Ar)}let E=C;if(M&&b!==!1){const k=Object.keys(M),{shapeFlag:A}=E;k.length&&A&7&&(i&&k.some(lg)&&(M=cL(M,i)),E=ta(E,M,!1,!0))}return n.dirs&&(E=ta(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&Io(E,n.transition),C=E,rf(_),C}const uL=e=>{let t;for(const n in e)(n==="class"||n==="style"||Rf(n))&&((t||(t={}))[n]=e[n]);return t},cL=(e,t)=>{const n={};for(const r in e)(!lg(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function dL(e,t,n){const{props:r,children:s,component:i}=e,{props:a,children:l,patchFlag:u}=t,d=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?jb(r,a,d):!!a;if(u&8){const f=t.dynamicProps;for(let p=0;p<f.length;p++){const g=f[p];if(a[g]!==r[g]&&!Uf(d,g))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===a?!1:r?a?jb(r,a,d):!0:!!a;return!1}function jb(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!Uf(n,i))return!0}return!1}function fL({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const zS=e=>e.__isSuspense;function hL(e,t){t&&t.pendingBranch?nt(e)?t.effects.push(...e):t.effects.push(e):EA(e)}const Ct=Symbol.for("v-fgt"),Vl=Symbol.for("v-txt"),Ar=Symbol.for("v-cmt"),Yh=Symbol.for("v-stc"),ku=[];let ks=null;function V(e=!1){ku.push(ks=e?null:[])}function pL(){ku.pop(),ks=ku[ku.length-1]||null}let Wu=1;function Gb(e,t=!1){Wu+=e,e<0&&ks&&t&&(ks.hasOnce=!0)}function BS(e){return e.dynamicChildren=Wu>0?ks||al:null,pL(),Wu>0&&ks&&ks.push(e),e}function le(e,t,n,r,s,i){return BS(ue(e,t,n,r,s,i,!0))}function Ve(e,t,n,r,s){return BS(pe(e,t,n,r,s,!0))}function qn(e){return e?e.__v_isVNode===!0:!1}function po(e,t){return e.type===t.type&&e.key===t.key}const KS=({key:e})=>e??null,Td=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?xt(e)||kn(e)||_t(e)?{i:Lr,r:e,k:t,f:!!n}:e:null);function ue(e,t=null,n=null,r=0,s=null,i=e===Ct?0:1,a=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&KS(t),ref:t&&Td(t),scopeId:lS,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Lr};return l?(Ig(u,n),i&128&&e.normalize(u)):n&&(u.shapeFlag|=xt(n)?8:16),Wu>0&&!a&&ks&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&ks.push(u),u}const pe=mL;function mL(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===SS)&&(e=Ar),qn(e)){const l=ta(e,t,!0);return n&&Ig(l,n),Wu>0&&!i&&ks&&(l.shapeFlag&6?ks[ks.indexOf(e)]=l:ks.push(l)),l.patchFlag=-2,l}if(CL(e)&&(e=e.__vccOpts),t){t=za(t);let{class:l,style:u}=t;l&&!xt(l)&&(t.class=W(l)),jt(u)&&(wg(u)&&!nt(u)&&(u=Mr({},u)),t.style=Tt(u))}const a=xt(e)?1:zS(e)?128:cS(e)?64:jt(e)?4:_t(e)?2:0;return ue(e,t,n,r,s,a,i,!0)}function za(e){return e?wg(e)||AS(e)?Mr({},e):e:null}function ta(e,t,n=!1,r=!1){const{props:s,ref:i,patchFlag:a,children:l,transition:u}=e,d=t?Xt(s||{},t):s,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&KS(d),ref:t&&t.ref?n&&i?nt(i)?i.concat(Td(t)):[i,Td(t)]:Td(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ct?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ta(e.ssContent),ssFallback:e.ssFallback&&ta(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&r&&Io(f,u.clone(f)),f}function At(e=" ",t=0){return pe(Vl,null,e,t)}function Re(e="",t=!1){return t?(V(),Ve(Ar,null,e)):pe(Ar,null,e)}function xi(e){return e==null||typeof e=="boolean"?pe(Ar):nt(e)?pe(Ct,null,e.slice()):qn(e)?Ia(e):pe(Vl,null,String(e))}function Ia(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ta(e)}function Ig(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(nt(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Ig(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!AS(t)?t._ctx=Lr:s===3&&Lr&&(Lr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else _t(t)?(t={default:t,_ctx:Lr},n=32):(t=String(t),r&64?(n=16,t=[At(t)]):n=8);e.children=t,e.shapeFlag|=n}function Xt(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=W([t.class,r.class]));else if(s==="style")t.style=Tt([t.style,r.style]);else if(Rf(s)){const i=t[s],a=r[s];a&&i!==a&&!(nt(i)&&i.includes(a))&&(t[s]=i?[].concat(i,a):a)}else s!==""&&(t[s]=r[s])}return t}function yi(e,t,n,r=null){si(e,t,7,[n,r])}const gL=ES();let vL=0;function yL(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||gL,i={uid:vL++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new zx(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:OS(r,s),emitsOptions:VS(r,s),emit:null,emitted:null,propsDefaults:tr,inheritAttrs:r.inheritAttrs,ctx:tr,data:tr,props:tr,attrs:tr,slots:tr,refs:tr,setupState:tr,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=lL.bind(null,i),e.ce&&e.ce(i),i}let Nr=null;const Gt=()=>Nr||Lr;let of,Kp;{const e=Pf(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(a=>a(i)):s[0](i)}};of=t("__VUE_INSTANCE_SETTERS__",n=>Nr=n),Kp=t("__VUE_SSR_SETTERS__",n=>Uu=n)}const yc=e=>{const t=Nr;return of(e),e.scope.on(),()=>{e.scope.off(),of(t)}},Yb=()=>{Nr&&Nr.scope.off(),of(null)};function HS(e){return e.vnode.shapeFlag&4}let Uu=!1;function bL(e,t=!1,n=!1){t&&Kp(t);const{props:r,children:s}=e.vnode,i=HS(e);YA(e,r,i,t),ZA(e,s,n);const a=i?wL(e,t):void 0;return t&&Kp(!1),a}function wL(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,VA);const{setup:r}=n;if(r){Xa();const s=e.setupContext=r.length>1?US(e):null,i=yc(e),a=vc(r,e,0,[e.props,s]),l=Fu(a);if(qa(),i(),(l||e.sp)&&!ul(e)&&yS(e),l){if(a.then(Yb,Yb),t)return a.then(u=>{Xb(e,u)}).catch(u=>{zf(u,e,0)});e.asyncDep=a}else Xb(e,a)}else WS(e)}function Xb(e,t,n){_t(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:jt(t)&&(e.setupState=nS(t)),WS(e)}function WS(e,t,n){const r=e.type;e.render||(e.render=r.render||In);{const s=yc(e);Xa();try{zA(e)}finally{qa(),s()}}}const xL={get(e,t){return Yr(e,"get",""),e[t]}};function US(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,xL),slots:e.slots,emit:e.emit,expose:t}}function jf(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(nS(_i(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Tu)return Tu[n](e)},has(t,n){return n in t||n in Tu}})):e.proxy}function SL(e,t=!0){return _t(e)?e.displayName||e.name:e.name||t&&e.__name}function CL(e){return _t(e)&&"__vccOpts"in e}const L=(e,t)=>SA(e,t,Uu);function It(e,t,n){const r=arguments.length;return r===2?jt(t)&&!nt(t)?qn(t)?pe(e,null,[t]):pe(e,t):pe(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&qn(n)&&(n=[n]),pe(e,t,n))}const _L="3.5.13",TL=In;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Hp;const qb=typeof window<"u"&&window.trustedTypes;if(qb)try{Hp=qb.createPolicy("vue",{createHTML:e=>e})}catch{}const jS=Hp?e=>Hp.createHTML(e):e=>e,kL="http://www.w3.org/2000/svg",EL="http://www.w3.org/1998/Math/MathML",ji=typeof document<"u"?document:null,Jb=ji&&ji.createElement("template"),$L={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?ji.createElementNS(kL,e):t==="mathml"?ji.createElementNS(EL,e):n?ji.createElement(e,{is:n}):ji.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>ji.createTextNode(e),createComment:e=>ji.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ji.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const a=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Jb.innerHTML=jS(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const l=Jb.content;if(r==="svg"||r==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},wa="transition",au="animation",vl=Symbol("_vtc"),GS={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},YS=Mr({},pS,GS),IL=e=>(e.displayName="Transition",e.props=YS,e),Rr=IL((e,{slots:t})=>It(LA,XS(e),t)),uo=(e,t=[])=>{nt(e)?e.forEach(n=>n(...t)):e&&e(...t)},Zb=e=>e?nt(e)?e.some(t=>t.length>1):e.length>1:!1;function XS(e){const t={};for(const Y in e)Y in GS||(t[Y]=e[Y]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:u=i,appearActiveClass:d=a,appearToClass:f=l,leaveFromClass:p=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:v=`${n}-leave-to`}=e,w=AL(s),b=w&&w[0],_=w&&w[1],{onBeforeEnter:C,onEnter:M,onEnterCancelled:E,onLeave:k,onLeaveCancelled:A,onBeforeAppear:D=C,onAppear:H=M,onAppearCancelled:U=E}=t,K=(Y,de,xe,oe)=>{Y._enterCancelled=oe,Ca(Y,de?f:l),Ca(Y,de?d:a),xe&&xe()},G=(Y,de)=>{Y._isLeaving=!1,Ca(Y,p),Ca(Y,v),Ca(Y,g),de&&de()},q=Y=>(de,xe)=>{const oe=Y?H:M,Z=()=>K(de,Y,xe);uo(oe,[de,Z]),Qb(()=>{Ca(de,Y?u:i),bi(de,Y?f:l),Zb(oe)||e0(de,r,b,Z)})};return Mr(t,{onBeforeEnter(Y){uo(C,[Y]),bi(Y,i),bi(Y,a)},onBeforeAppear(Y){uo(D,[Y]),bi(Y,u),bi(Y,d)},onEnter:q(!1),onAppear:q(!0),onLeave(Y,de){Y._isLeaving=!0;const xe=()=>G(Y,de);bi(Y,p),Y._enterCancelled?(bi(Y,g),Wp()):(Wp(),bi(Y,g)),Qb(()=>{Y._isLeaving&&(Ca(Y,p),bi(Y,v),Zb(k)||e0(Y,r,_,xe))}),uo(k,[Y,xe])},onEnterCancelled(Y){K(Y,!1,void 0,!0),uo(E,[Y])},onAppearCancelled(Y){K(Y,!0,void 0,!0),uo(U,[Y])},onLeaveCancelled(Y){G(Y),uo(A,[Y])}})}function AL(e){if(e==null)return null;if(jt(e))return[Xh(e.enter),Xh(e.leave)];{const t=Xh(e);return[t,t]}}function Xh(e){return KI(e)}function bi(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[vl]||(e[vl]=new Set)).add(t)}function Ca(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[vl];n&&(n.delete(t),n.size||(e[vl]=void 0))}function Qb(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let LL=0;function e0(e,t,n,r){const s=e._endId=++LL,i=()=>{s===e._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:a,timeout:l,propCount:u}=qS(e,t);if(!a)return r();const d=a+"end";let f=0;const p=()=>{e.removeEventListener(d,g),i()},g=v=>{v.target===e&&++f>=u&&p()};setTimeout(()=>{f<u&&p()},l+1),e.addEventListener(d,g)}function qS(e,t){const n=window.getComputedStyle(e),r=w=>(n[w]||"").split(", "),s=r(`${wa}Delay`),i=r(`${wa}Duration`),a=t0(s,i),l=r(`${au}Delay`),u=r(`${au}Duration`),d=t0(l,u);let f=null,p=0,g=0;t===wa?a>0&&(f=wa,p=a,g=i.length):t===au?d>0&&(f=au,p=d,g=u.length):(p=Math.max(a,d),f=p>0?a>d?wa:au:null,g=f?f===wa?i.length:u.length:0);const v=f===wa&&/\b(transform|all)(,|$)/.test(r(`${wa}Property`).toString());return{type:f,timeout:p,propCount:g,hasTransform:v}}function t0(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>n0(n)+n0(e[r])))}function n0(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Wp(){return document.body.offsetHeight}function OL(e,t,n){const r=e[vl];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const lf=Symbol("_vod"),JS=Symbol("_vsh"),mn={beforeMount(e,{value:t},{transition:n}){e[lf]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):ou(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),ou(e,!0),r.enter(e)):r.leave(e,()=>{ou(e,!1)}):ou(e,t))},beforeUnmount(e,{value:t}){ou(e,t)}};function ou(e,t){e.style.display=t?e[lf]:"none",e[JS]=!t}const ML=Symbol(""),RL=/(^|;)\s*display\s*:/;function DL(e,t,n){const r=e.style,s=xt(n);let i=!1;if(n&&!s){if(t)if(xt(t))for(const a of t.split(";")){const l=a.slice(0,a.indexOf(":")).trim();n[l]==null&&kd(r,l,"")}else for(const a in t)n[a]==null&&kd(r,a,"");for(const a in n)a==="display"&&(i=!0),kd(r,a,n[a])}else if(s){if(t!==n){const a=r[ML];a&&(n+=";"+a),r.cssText=n,i=RL.test(n)}}else t&&e.removeAttribute("style");lf in e&&(e[lf]=i?r.display:"",e[JS]&&(r.display="none"))}const r0=/\s*!important$/;function kd(e,t,n){if(nt(n))n.forEach(r=>kd(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=NL(e,t);r0.test(n)?e.setProperty(ia(r),n.replace(r0,""),"important"):e[r]=n}}const s0=["Webkit","Moz","ms"],qh={};function NL(e,t){const n=qh[t];if(n)return n;let r=ds(t);if(r!=="filter"&&r in e)return qh[t]=r;r=gc(r);for(let s=0;s<s0.length;s++){const i=s0[s]+r;if(i in e)return qh[t]=i}return t}const i0="http://www.w3.org/1999/xlink";function a0(e,t,n,r,s,i=YI(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(i0,t.slice(6,t.length)):e.setAttributeNS(i0,t,n):n==null||i&&!Nx(n)?e.removeAttribute(t):e.setAttribute(t,i?"":ri(n)?String(n):n)}function o0(e,t,n,r,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?jS(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?e.getAttribute("value")||"":e.value,u=n==null?e.type==="checkbox"?"on":"":String(n);(l!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=Nx(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(s||t)}function La(e,t,n,r){e.addEventListener(t,n,r)}function PL(e,t,n,r){e.removeEventListener(t,n,r)}const l0=Symbol("_vei");function FL(e,t,n,r,s=null){const i=e[l0]||(e[l0]={}),a=i[t];if(r&&a)a.value=r;else{const[l,u]=VL(t);if(r){const d=i[t]=KL(r,s);La(e,l,d,u)}else a&&(PL(e,l,a,u),i[t]=void 0)}}const u0=/(?:Once|Passive|Capture)$/;function VL(e){let t;if(u0.test(e)){t={};let r;for(;r=e.match(u0);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ia(e.slice(2)),t]}let Jh=0;const zL=Promise.resolve(),BL=()=>Jh||(zL.then(()=>Jh=0),Jh=Date.now());function KL(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;si(HL(r,n.value),t,5,[r])};return n.value=e,n.attached=BL(),n}function HL(e,t){if(nt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const c0=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,WL=(e,t,n,r,s,i)=>{const a=s==="svg";t==="class"?OL(e,r,a):t==="style"?DL(e,n,r):Rf(t)?lg(t)||FL(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):UL(e,t,r,a))?(o0(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&a0(e,t,r,a,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!xt(r))?o0(e,ds(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),a0(e,t,r,a))};function UL(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&c0(t)&&_t(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return c0(t)&&xt(n)?!1:t in e}const ZS=new WeakMap,QS=new WeakMap,uf=Symbol("_moveCb"),d0=Symbol("_enterCb"),jL=e=>(delete e.props.mode,e),GL=jL({name:"TransitionGroup",props:Mr({},YS,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Gt(),r=hS();let s,i;return ui(()=>{if(!s.length)return;const a=e.moveClass||`${e.name||"v"}-move`;if(!JL(s[0].el,n.vnode.el,a))return;s.forEach(YL),s.forEach(XL);const l=s.filter(qL);Wp(),l.forEach(u=>{const d=u.el,f=d.style;bi(d,a),f.transform=f.webkitTransform=f.transitionDuration="";const p=d[uf]=g=>{g&&g.target!==d||(!g||/transform$/.test(g.propertyName))&&(d.removeEventListener("transitionend",p),d[uf]=null,Ca(d,a))};d.addEventListener("transitionend",p)})}),()=>{const a=On(e),l=XS(a);let u=a.tag||Ct;if(s=[],i)for(let d=0;d<i.length;d++){const f=i[d];f.el&&f.el instanceof Element&&(s.push(f),Io(f,Hu(f,l,r,n)),ZS.set(f,f.el.getBoundingClientRect()))}i=t.default?Sg(t.default()):[];for(let d=0;d<i.length;d++){const f=i[d];f.key!=null&&Io(f,Hu(f,l,r,n))}return pe(u,null,i)}}}),e2=GL;function YL(e){const t=e.el;t[uf]&&t[uf](),t[d0]&&t[d0]()}function XL(e){QS.set(e,e.el.getBoundingClientRect())}function qL(e){const t=ZS.get(e),n=QS.get(e),r=t.left-n.left,s=t.top-n.top;if(r||s){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${s}px)`,i.transitionDuration="0s",e}}function JL(e,t,n){const r=e.cloneNode(),s=e[vl];s&&s.forEach(l=>{l.split(/\s+/).forEach(u=>u&&r.classList.remove(u))}),n.split(/\s+/).forEach(l=>l&&r.classList.add(l)),r.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(r);const{hasTransform:a}=qS(r);return i.removeChild(r),a}const yl=e=>{const t=e.props["onUpdate:modelValue"]||!1;return nt(t)?n=>Cd(t,n):t};function ZL(e){e.target.composing=!0}function f0(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ea=Symbol("_assign"),Gf={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[ea]=yl(s);const i=r||s.props&&s.props.type==="number";La(e,t?"change":"input",a=>{if(a.target.composing)return;let l=e.value;n&&(l=l.trim()),i&&(l=Op(l)),e[ea](l)}),n&&La(e,"change",()=>{e.value=e.value.trim()}),t||(La(e,"compositionstart",ZL),La(e,"compositionend",f0),La(e,"change",f0))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},a){if(e[ea]=yl(a),e.composing)return;const l=(i||e.type==="number")&&!/^0\d/.test(e.value)?Op(e.value):e.value,u=t??"";l!==u&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||s&&e.value.trim()===u)||(e.value=u))}},cf={deep:!0,created(e,t,n){e[ea]=yl(n),La(e,"change",()=>{const r=e._modelValue,s=n2(e),i=e.checked,a=e[ea];if(nt(r)){const l=Px(r,s),u=l!==-1;if(i&&!u)a(r.concat(s));else if(!i&&u){const d=[...r];d.splice(l,1),a(d)}}else if(Df(r)){const l=new Set(r);i?l.add(s):l.delete(s),a(l)}else a(r2(e,i))})},mounted:h0,beforeUpdate(e,t,n){e[ea]=yl(n),h0(e,t,n)}};function h0(e,{value:t,oldValue:n},r){e._modelValue=t;let s;if(nt(t))s=Px(t,r.props.value)>-1;else if(Df(t))s=t.has(r.props.value);else{if(t===n)return;s=gl(t,r2(e,!0))}e.checked!==s&&(e.checked=s)}const t2={created(e,{value:t},n){e.checked=gl(t,n.props.value),e[ea]=yl(n),La(e,"change",()=>{e[ea](n2(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[ea]=yl(r),t!==n&&(e.checked=gl(t,r.props.value))}};function n2(e){return"_value"in e?e._value:e.value}function r2(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const QL=["ctrl","shift","alt","meta"],eO={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>QL.some(n=>e[`${n}Key`]&&!t.includes(n))},Lt=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(s,...i)=>{for(let a=0;a<t.length;a++){const l=eO[t[a]];if(l&&l(s,t))return}return e(s,...i)})},tO={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Vn=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=ia(s.key);if(t.some(a=>a===i||tO[a]===i))return e(s)})},nO=Mr({patchProp:WL},$L);let p0;function s2(){return p0||(p0=eL(nO))}const Ba=(...e)=>{s2().render(...e)},i2=(...e)=>{const t=s2().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=sO(r);if(!s)return;const i=t._component;!_t(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=n(s,!1,rO(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},t};function rO(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function sO(e){return xt(e)?document.querySelector(e):e}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let a2;const Yf=e=>a2=e,o2=Symbol();function Up(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Eu;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Eu||(Eu={}));function iO(){const e=dg(!0),t=e.run(()=>Q({}));let n=[],r=[];const s=_i({install(i){Yf(s),s._a=i,i.provide(o2,s),i.config.globalProperties.$pinia=s,r.forEach(a=>n.push(a)),r=[]},use(i){return this._a?n.push(i):r.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const l2=()=>{};function m0(e,t,n,r=l2){e.push(t);const s=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),r())};return!n&&fg()&&hg(s),s}function Wo(e,...t){e.slice().forEach(n=>{n(...t)})}const aO=e=>e(),g0=Symbol(),Zh=Symbol();function jp(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,r)=>e.set(r,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],s=e[n];Up(s)&&Up(r)&&e.hasOwnProperty(n)&&!kn(r)&&!Qi(r)?e[n]=jp(s,r):e[n]=r}return e}const oO=Symbol();function lO(e){return!Up(e)||!e.hasOwnProperty(oO)}const{assign:_a}=Object;function uO(e){return!!(kn(e)&&e.effect)}function cO(e,t,n,r){const{state:s,actions:i,getters:a}=t,l=n.state.value[e];let u;function d(){l||(n.state.value[e]=s?s():{});const f=Er(n.state.value[e]);return _a(f,i,Object.keys(a||{}).reduce((p,g)=>(p[g]=_i(L(()=>{Yf(n);const v=n._s.get(e);return a[g].call(v,v)})),p),{}))}return u=u2(e,d,t,n,r,!0),u}function u2(e,t,n={},r,s,i){let a;const l=_a({actions:{}},n),u={deep:!0};let d,f,p=[],g=[],v;const w=r.state.value[e];!i&&!w&&(r.state.value[e]={}),Q({});let b;function _(U){let K;d=f=!1,typeof U=="function"?(U(r.state.value[e]),K={type:Eu.patchFunction,storeId:e,events:v}):(jp(r.state.value[e],U),K={type:Eu.patchObject,payload:U,storeId:e,events:v});const G=b=Symbol();Et().then(()=>{b===G&&(d=!0)}),f=!0,Wo(p,K,r.state.value[e])}const C=i?function(){const{state:K}=n,G=K?K():{};this.$patch(q=>{_a(q,G)})}:l2;function M(){a.stop(),p=[],g=[],r._s.delete(e)}const E=(U,K="")=>{if(g0 in U)return U[Zh]=K,U;const G=function(){Yf(r);const q=Array.from(arguments),Y=[],de=[];function xe(ne){Y.push(ne)}function oe(ne){de.push(ne)}Wo(g,{args:q,name:G[Zh],store:A,after:xe,onError:oe});let Z;try{Z=U.apply(this&&this.$id===e?this:A,q)}catch(ne){throw Wo(de,ne),ne}return Z instanceof Promise?Z.then(ne=>(Wo(Y,ne),ne)).catch(ne=>(Wo(de,ne),Promise.reject(ne))):(Wo(Y,Z),Z)};return G[g0]=!0,G[Zh]=K,G},k={_p:r,$id:e,$onAction:m0.bind(null,g),$patch:_,$reset:C,$subscribe(U,K={}){const G=m0(p,U,K.detached,()=>q()),q=a.run(()=>je(()=>r.state.value[e],Y=>{(K.flush==="sync"?f:d)&&U({storeId:e,type:Eu.direct,events:v},Y)},_a({},u,K)));return G},$dispose:M},A=wn(k);r._s.set(e,A);const H=(r._a&&r._a.runWithContext||aO)(()=>r._e.run(()=>(a=dg()).run(()=>t({action:E}))));for(const U in H){const K=H[U];if(kn(K)&&!uO(K)||Qi(K))i||(w&&lO(K)&&(kn(K)?K.value=w[U]:jp(K,w[U])),r.state.value[e][U]=K);else if(typeof K=="function"){const G=E(K,U);H[U]=G,l.actions[U]=K}}return _a(A,H),_a(On(A),H),Object.defineProperty(A,"$state",{get:()=>r.state.value[e],set:U=>{_(K=>{_a(K,U)})}}),r._p.forEach(U=>{_a(A,a.run(()=>U({store:A,app:r._a,pinia:r,options:l})))}),w&&i&&n.hydrate&&n.hydrate(A.$state,w),d=!0,f=!0,A}/*! #__NO_SIDE_EFFECTS__ */function dO(e,t,n){let r,s;const i=typeof t=="function";r=e,s=i?n:t;function a(l,u){const d=GA();return l=l||(d?vt(o2,null):null),l&&Yf(l),l=a2,l._s.has(r)||(i?u2(r,t,s,l):cO(r,s,l)),l._s.get(r)}return a.$id=r,a}function c2(e){{const t=On(e),n={};for(const r in t){const s=t[r];s.effect?n[r]=L({get:()=>e[r],set(i){e[r]=i}}):(kn(s)||Qi(s))&&(n[r]=Tn(e,r))}return n}}const fO="2.9.3",v0=Symbol("INSTALLED_KEY"),d2=Symbol(),$u="el",hO="is-",co=(e,t,n,r,s)=>{let i=`${e}-${t}`;return n&&(i+=`-${n}`),r&&(i+=`__${r}`),s&&(i+=`--${s}`),i},f2=Symbol("namespaceContextKey"),Ag=e=>{const t=e||(Gt()?vt(f2,Q($u)):Q($u));return L(()=>o(t)||$u)},Xe=(e,t)=>{const n=Ag(t);return{namespace:n,b:(b="")=>co(n.value,e,b,"",""),e:b=>b?co(n.value,e,"",b,""):"",m:b=>b?co(n.value,e,"","",b):"",be:(b,_)=>b&&_?co(n.value,e,b,_,""):"",em:(b,_)=>b&&_?co(n.value,e,"",b,_):"",bm:(b,_)=>b&&_?co(n.value,e,b,"",_):"",bem:(b,_,C)=>b&&_&&C?co(n.value,e,b,_,C):"",is:(b,..._)=>{const C=_.length>=1?_[0]:!0;return b&&C?`${hO}${b}`:""},cssVar:b=>{const _={};for(const C in b)b[C]&&(_[`--${n.value}-${C}`]=b[C]);return _},cssVarName:b=>`--${n.value}-${b}`,cssVarBlock:b=>{const _={};for(const C in b)b[C]&&(_[`--${n.value}-${e}-${C}`]=b[C]);return _},cssVarBlockName:b=>`--${n.value}-${e}-${b}`}};var h2=typeof global=="object"&&global&&global.Object===Object&&global,pO=typeof self=="object"&&self&&self.Object===Object&&self,ci=h2||pO||Function("return this")(),Bs=ci.Symbol,p2=Object.prototype,mO=p2.hasOwnProperty,gO=p2.toString,lu=Bs?Bs.toStringTag:void 0;function vO(e){var t=mO.call(e,lu),n=e[lu];try{e[lu]=void 0;var r=!0}catch{}var s=gO.call(e);return r&&(t?e[lu]=n:delete e[lu]),s}var yO=Object.prototype,bO=yO.toString;function wO(e){return bO.call(e)}var xO="[object Null]",SO="[object Undefined]",y0=Bs?Bs.toStringTag:void 0;function Po(e){return e==null?e===void 0?SO:xO:y0&&y0 in Object(e)?vO(e):wO(e)}function Ei(e){return e!=null&&typeof e=="object"}var CO="[object Symbol]";function Xf(e){return typeof e=="symbol"||Ei(e)&&Po(e)==CO}function Lg(e,t){for(var n=-1,r=e==null?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}var fs=Array.isArray,b0=Bs?Bs.prototype:void 0,w0=b0?b0.toString:void 0;function m2(e){if(typeof e=="string")return e;if(fs(e))return Lg(e,m2)+"";if(Xf(e))return w0?w0.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var _O=/\s/;function TO(e){for(var t=e.length;t--&&_O.test(e.charAt(t)););return t}var kO=/^\s+/;function EO(e){return e&&e.slice(0,TO(e)+1).replace(kO,"")}function hs(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var x0=NaN,$O=/^[-+]0x[0-9a-f]+$/i,IO=/^0b[01]+$/i,AO=/^0o[0-7]+$/i,LO=parseInt;function S0(e){if(typeof e=="number")return e;if(Xf(e))return x0;if(hs(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=hs(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=EO(e);var n=IO.test(e);return n||AO.test(e)?LO(e.slice(2),n?2:8):$O.test(e)?x0:+e}function Og(e){return e}var OO="[object AsyncFunction]",MO="[object Function]",RO="[object GeneratorFunction]",DO="[object Proxy]";function Mg(e){if(!hs(e))return!1;var t=Po(e);return t==MO||t==RO||t==OO||t==DO}var Qh=ci["__core-js_shared__"],C0=function(){var e=/[^.]+$/.exec(Qh&&Qh.keys&&Qh.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function NO(e){return!!C0&&C0 in e}var PO=Function.prototype,FO=PO.toString;function Fo(e){if(e!=null){try{return FO.call(e)}catch{}try{return e+""}catch{}}return""}var VO=/[\\^$.*+?()[\]{}|]/g,zO=/^\[object .+?Constructor\]$/,BO=Function.prototype,KO=Object.prototype,HO=BO.toString,WO=KO.hasOwnProperty,UO=RegExp("^"+HO.call(WO).replace(VO,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jO(e){if(!hs(e)||NO(e))return!1;var t=Mg(e)?UO:zO;return t.test(Fo(e))}function GO(e,t){return e==null?void 0:e[t]}function Vo(e,t){var n=GO(e,t);return jO(n)?n:void 0}var Gp=Vo(ci,"WeakMap"),_0=Object.create,YO=function(){function e(){}return function(t){if(!hs(t))return{};if(_0)return _0(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function XO(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function qO(){}function g2(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var JO=800,ZO=16,QO=Date.now;function eM(e){var t=0,n=0;return function(){var r=QO(),s=ZO-(r-n);if(n=r,s>0){if(++t>=JO)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function tM(e){return function(){return e}}var df=function(){try{var e=Vo(Object,"defineProperty");return e({},"",{}),e}catch{}}(),nM=df?function(e,t){return df(e,"toString",{configurable:!0,enumerable:!1,value:tM(t),writable:!0})}:Og,v2=eM(nM);function rM(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function y2(e,t,n,r){for(var s=e.length,i=n+(r?1:-1);r?i--:++i<s;)if(t(e[i],i,e))return i;return-1}function sM(e){return e!==e}function iM(e,t,n){for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}function aM(e,t,n){return t===t?iM(e,t,n):y2(e,sM,n)}function oM(e,t){var n=e==null?0:e.length;return!!n&&aM(e,t,0)>-1}var lM=9007199254740991,uM=/^(?:0|[1-9]\d*)$/;function qf(e,t){var n=typeof e;return t=t??lM,!!t&&(n=="number"||n!="symbol"&&uM.test(e))&&e>-1&&e%1==0&&e<t}function Rg(e,t,n){t=="__proto__"&&df?df(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function bc(e,t){return e===t||e!==e&&t!==t}var cM=Object.prototype,dM=cM.hasOwnProperty;function Dg(e,t,n){var r=e[t];(!(dM.call(e,t)&&bc(r,n))||n===void 0&&!(t in e))&&Rg(e,t,n)}function zl(e,t,n,r){var s=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var l=t[i],u=void 0;u===void 0&&(u=e[l]),s?Rg(n,l,u):Dg(n,l,u)}return n}var T0=Math.max;function b2(e,t,n){return t=T0(t===void 0?e.length-1:t,0),function(){for(var r=arguments,s=-1,i=T0(r.length-t,0),a=Array(i);++s<i;)a[s]=r[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=r[s];return l[t]=n(a),XO(e,this,l)}}function w2(e,t){return v2(b2(e,t,Og),e+"")}var fM=9007199254740991;function Ng(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=fM}function Bl(e){return e!=null&&Ng(e.length)&&!Mg(e)}function hM(e,t,n){if(!hs(n))return!1;var r=typeof t;return(r=="number"?Bl(n)&&qf(t,n.length):r=="string"&&t in n)?bc(n[t],e):!1}function pM(e){return w2(function(t,n){var r=-1,s=n.length,i=s>1?n[s-1]:void 0,a=s>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(s--,i):void 0,a&&hM(n[0],n[1],a)&&(i=s<3?void 0:i,s=1),t=Object(t);++r<s;){var l=n[r];l&&e(t,l,r,i)}return t})}var mM=Object.prototype;function Pg(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||mM;return e===n}function gM(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var vM="[object Arguments]";function k0(e){return Ei(e)&&Po(e)==vM}var x2=Object.prototype,yM=x2.hasOwnProperty,bM=x2.propertyIsEnumerable,ju=k0(function(){return arguments}())?k0:function(e){return Ei(e)&&yM.call(e,"callee")&&!bM.call(e,"callee")};function wM(){return!1}var S2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,E0=S2&&typeof module=="object"&&module&&!module.nodeType&&module,xM=E0&&E0.exports===S2,$0=xM?ci.Buffer:void 0,SM=$0?$0.isBuffer:void 0,Gu=SM||wM,CM="[object Arguments]",_M="[object Array]",TM="[object Boolean]",kM="[object Date]",EM="[object Error]",$M="[object Function]",IM="[object Map]",AM="[object Number]",LM="[object Object]",OM="[object RegExp]",MM="[object Set]",RM="[object String]",DM="[object WeakMap]",NM="[object ArrayBuffer]",PM="[object DataView]",FM="[object Float32Array]",VM="[object Float64Array]",zM="[object Int8Array]",BM="[object Int16Array]",KM="[object Int32Array]",HM="[object Uint8Array]",WM="[object Uint8ClampedArray]",UM="[object Uint16Array]",jM="[object Uint32Array]",or={};or[FM]=or[VM]=or[zM]=or[BM]=or[KM]=or[HM]=or[WM]=or[UM]=or[jM]=!0;or[CM]=or[_M]=or[NM]=or[TM]=or[PM]=or[kM]=or[EM]=or[$M]=or[IM]=or[AM]=or[LM]=or[OM]=or[MM]=or[RM]=or[DM]=!1;function GM(e){return Ei(e)&&Ng(e.length)&&!!or[Po(e)]}function Fg(e){return function(t){return e(t)}}var C2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Iu=C2&&typeof module=="object"&&module&&!module.nodeType&&module,YM=Iu&&Iu.exports===C2,ep=YM&&h2.process,bl=function(){try{var e=Iu&&Iu.require&&Iu.require("util").types;return e||ep&&ep.binding&&ep.binding("util")}catch{}}(),I0=bl&&bl.isTypedArray,Vg=I0?Fg(I0):GM,XM=Object.prototype,qM=XM.hasOwnProperty;function _2(e,t){var n=fs(e),r=!n&&ju(e),s=!n&&!r&&Gu(e),i=!n&&!r&&!s&&Vg(e),a=n||r||s||i,l=a?gM(e.length,String):[],u=l.length;for(var d in e)(t||qM.call(e,d))&&!(a&&(d=="length"||s&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||qf(d,u)))&&l.push(d);return l}function T2(e,t){return function(n){return e(t(n))}}var JM=T2(Object.keys,Object),ZM=Object.prototype,QM=ZM.hasOwnProperty;function eR(e){if(!Pg(e))return JM(e);var t=[];for(var n in Object(e))QM.call(e,n)&&n!="constructor"&&t.push(n);return t}function wc(e){return Bl(e)?_2(e):eR(e)}function tR(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var nR=Object.prototype,rR=nR.hasOwnProperty;function sR(e){if(!hs(e))return tR(e);var t=Pg(e),n=[];for(var r in e)r=="constructor"&&(t||!rR.call(e,r))||n.push(r);return n}function xc(e){return Bl(e)?_2(e,!0):sR(e)}var iR=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,aR=/^\w*$/;function zg(e,t){if(fs(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Xf(e)?!0:aR.test(e)||!iR.test(e)||t!=null&&e in Object(t)}var Yu=Vo(Object,"create");function oR(){this.__data__=Yu?Yu(null):{},this.size=0}function lR(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var uR="__lodash_hash_undefined__",cR=Object.prototype,dR=cR.hasOwnProperty;function fR(e){var t=this.__data__;if(Yu){var n=t[e];return n===uR?void 0:n}return dR.call(t,e)?t[e]:void 0}var hR=Object.prototype,pR=hR.hasOwnProperty;function mR(e){var t=this.__data__;return Yu?t[e]!==void 0:pR.call(t,e)}var gR="__lodash_hash_undefined__";function vR(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Yu&&t===void 0?gR:t,this}function Ao(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ao.prototype.clear=oR;Ao.prototype.delete=lR;Ao.prototype.get=fR;Ao.prototype.has=mR;Ao.prototype.set=vR;function yR(){this.__data__=[],this.size=0}function Jf(e,t){for(var n=e.length;n--;)if(bc(e[n][0],t))return n;return-1}var bR=Array.prototype,wR=bR.splice;function xR(e){var t=this.__data__,n=Jf(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():wR.call(t,n,1),--this.size,!0}function SR(e){var t=this.__data__,n=Jf(t,e);return n<0?void 0:t[n][1]}function CR(e){return Jf(this.__data__,e)>-1}function _R(e,t){var n=this.__data__,r=Jf(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function la(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}la.prototype.clear=yR;la.prototype.delete=xR;la.prototype.get=SR;la.prototype.has=CR;la.prototype.set=_R;var Xu=Vo(ci,"Map");function TR(){this.size=0,this.__data__={hash:new Ao,map:new(Xu||la),string:new Ao}}function kR(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Zf(e,t){var n=e.__data__;return kR(t)?n[typeof t=="string"?"string":"hash"]:n.map}function ER(e){var t=Zf(this,e).delete(e);return this.size-=t?1:0,t}function $R(e){return Zf(this,e).get(e)}function IR(e){return Zf(this,e).has(e)}function AR(e,t){var n=Zf(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function ua(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ua.prototype.clear=TR;ua.prototype.delete=ER;ua.prototype.get=$R;ua.prototype.has=IR;ua.prototype.set=AR;var LR="Expected a function";function Qf(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(LR);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var a=e.apply(this,r);return n.cache=i.set(s,a)||i,a};return n.cache=new(Qf.Cache||ua),n}Qf.Cache=ua;var OR=500;function MR(e){var t=Qf(e,function(r){return n.size===OR&&n.clear(),r}),n=t.cache;return t}var RR=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,DR=/\\(\\)?/g,NR=MR(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(RR,function(n,r,s,i){t.push(s?i.replace(DR,"$1"):r||n)}),t});function PR(e){return e==null?"":m2(e)}function Kl(e,t){return fs(e)?e:zg(e,t)?[e]:NR(PR(e))}function Hl(e){if(typeof e=="string"||Xf(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function eh(e,t){t=Kl(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Hl(t[n++])];return n&&n==r?e:void 0}function cr(e,t,n){var r=e==null?void 0:eh(e,t);return r===void 0?n:r}function Bg(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}var A0=Bs?Bs.isConcatSpreadable:void 0;function FR(e){return fs(e)||ju(e)||!!(A0&&e&&e[A0])}function Sc(e,t,n,r,s){var i=-1,a=e.length;for(n||(n=FR),s||(s=[]);++i<a;){var l=e[i];t>0&&n(l)?t>1?Sc(l,t-1,n,r,s):Bg(s,l):r||(s[s.length]=l)}return s}function k2(e){var t=e==null?0:e.length;return t?Sc(e,1):[]}function E2(e){return v2(b2(e,void 0,k2),e+"")}var Kg=T2(Object.getPrototypeOf,Object),VR="[object Object]",zR=Function.prototype,BR=Object.prototype,$2=zR.toString,KR=BR.hasOwnProperty,HR=$2.call(Object);function I2(e){if(!Ei(e)||Po(e)!=VR)return!1;var t=Kg(e);if(t===null)return!0;var n=KR.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&$2.call(n)==HR}function WR(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(s);++r<s;)i[r]=e[r+t];return i}function qr(){if(!arguments.length)return[];var e=arguments[0];return fs(e)?e:[e]}function UR(){this.__data__=new la,this.size=0}function jR(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function GR(e){return this.__data__.get(e)}function YR(e){return this.__data__.has(e)}var XR=200;function qR(e,t){var n=this.__data__;if(n instanceof la){var r=n.__data__;if(!Xu||r.length<XR-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ua(r)}return n.set(e,t),this.size=n.size,this}function ti(e){var t=this.__data__=new la(e);this.size=t.size}ti.prototype.clear=UR;ti.prototype.delete=jR;ti.prototype.get=GR;ti.prototype.has=YR;ti.prototype.set=qR;function JR(e,t){return e&&zl(t,wc(t),e)}function ZR(e,t){return e&&zl(t,xc(t),e)}var A2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,L0=A2&&typeof module=="object"&&module&&!module.nodeType&&module,QR=L0&&L0.exports===A2,O0=QR?ci.Buffer:void 0,M0=O0?O0.allocUnsafe:void 0;function L2(e,t){if(t)return e.slice();var n=e.length,r=M0?M0(n):new e.constructor(n);return e.copy(r),r}function e3(e,t){for(var n=-1,r=e==null?0:e.length,s=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[s++]=a)}return i}function O2(){return[]}var t3=Object.prototype,n3=t3.propertyIsEnumerable,R0=Object.getOwnPropertySymbols,Hg=R0?function(e){return e==null?[]:(e=Object(e),e3(R0(e),function(t){return n3.call(e,t)}))}:O2;function r3(e,t){return zl(e,Hg(e),t)}var s3=Object.getOwnPropertySymbols,M2=s3?function(e){for(var t=[];e;)Bg(t,Hg(e)),e=Kg(e);return t}:O2;function i3(e,t){return zl(e,M2(e),t)}function R2(e,t,n){var r=t(e);return fs(e)?r:Bg(r,n(e))}function Yp(e){return R2(e,wc,Hg)}function D2(e){return R2(e,xc,M2)}var Xp=Vo(ci,"DataView"),qp=Vo(ci,"Promise"),cl=Vo(ci,"Set"),D0="[object Map]",a3="[object Object]",N0="[object Promise]",P0="[object Set]",F0="[object WeakMap]",V0="[object DataView]",o3=Fo(Xp),l3=Fo(Xu),u3=Fo(qp),c3=Fo(cl),d3=Fo(Gp),qs=Po;(Xp&&qs(new Xp(new ArrayBuffer(1)))!=V0||Xu&&qs(new Xu)!=D0||qp&&qs(qp.resolve())!=N0||cl&&qs(new cl)!=P0||Gp&&qs(new Gp)!=F0)&&(qs=function(e){var t=Po(e),n=t==a3?e.constructor:void 0,r=n?Fo(n):"";if(r)switch(r){case o3:return V0;case l3:return D0;case u3:return N0;case c3:return P0;case d3:return F0}return t});var f3=Object.prototype,h3=f3.hasOwnProperty;function p3(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&h3.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var ff=ci.Uint8Array;function Wg(e){var t=new e.constructor(e.byteLength);return new ff(t).set(new ff(e)),t}function m3(e,t){var n=t?Wg(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var g3=/\w*$/;function v3(e){var t=new e.constructor(e.source,g3.exec(e));return t.lastIndex=e.lastIndex,t}var z0=Bs?Bs.prototype:void 0,B0=z0?z0.valueOf:void 0;function y3(e){return B0?Object(B0.call(e)):{}}function N2(e,t){var n=t?Wg(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var b3="[object Boolean]",w3="[object Date]",x3="[object Map]",S3="[object Number]",C3="[object RegExp]",_3="[object Set]",T3="[object String]",k3="[object Symbol]",E3="[object ArrayBuffer]",$3="[object DataView]",I3="[object Float32Array]",A3="[object Float64Array]",L3="[object Int8Array]",O3="[object Int16Array]",M3="[object Int32Array]",R3="[object Uint8Array]",D3="[object Uint8ClampedArray]",N3="[object Uint16Array]",P3="[object Uint32Array]";function F3(e,t,n){var r=e.constructor;switch(t){case E3:return Wg(e);case b3:case w3:return new r(+e);case $3:return m3(e,n);case I3:case A3:case L3:case O3:case M3:case R3:case D3:case N3:case P3:return N2(e,n);case x3:return new r;case S3:case T3:return new r(e);case C3:return v3(e);case _3:return new r;case k3:return y3(e)}}function P2(e){return typeof e.constructor=="function"&&!Pg(e)?YO(Kg(e)):{}}var V3="[object Map]";function z3(e){return Ei(e)&&qs(e)==V3}var K0=bl&&bl.isMap,B3=K0?Fg(K0):z3,K3="[object Set]";function H3(e){return Ei(e)&&qs(e)==K3}var H0=bl&&bl.isSet,W3=H0?Fg(H0):H3,U3=1,j3=2,G3=4,F2="[object Arguments]",Y3="[object Array]",X3="[object Boolean]",q3="[object Date]",J3="[object Error]",V2="[object Function]",Z3="[object GeneratorFunction]",Q3="[object Map]",eD="[object Number]",z2="[object Object]",tD="[object RegExp]",nD="[object Set]",rD="[object String]",sD="[object Symbol]",iD="[object WeakMap]",aD="[object ArrayBuffer]",oD="[object DataView]",lD="[object Float32Array]",uD="[object Float64Array]",cD="[object Int8Array]",dD="[object Int16Array]",fD="[object Int32Array]",hD="[object Uint8Array]",pD="[object Uint8ClampedArray]",mD="[object Uint16Array]",gD="[object Uint32Array]",sr={};sr[F2]=sr[Y3]=sr[aD]=sr[oD]=sr[X3]=sr[q3]=sr[lD]=sr[uD]=sr[cD]=sr[dD]=sr[fD]=sr[Q3]=sr[eD]=sr[z2]=sr[tD]=sr[nD]=sr[rD]=sr[sD]=sr[hD]=sr[pD]=sr[mD]=sr[gD]=!0;sr[J3]=sr[V2]=sr[iD]=!1;function dl(e,t,n,r,s,i){var a,l=t&U3,u=t&j3,d=t&G3;if(n&&(a=s?n(e,r,s,i):n(e)),a!==void 0)return a;if(!hs(e))return e;var f=fs(e);if(f){if(a=p3(e),!l)return g2(e,a)}else{var p=qs(e),g=p==V2||p==Z3;if(Gu(e))return L2(e,l);if(p==z2||p==F2||g&&!s){if(a=u||g?{}:P2(e),!l)return u?i3(e,ZR(a,e)):r3(e,JR(a,e))}else{if(!sr[p])return s?e:{};a=F3(e,p,l)}}i||(i=new ti);var v=i.get(e);if(v)return v;i.set(e,a),W3(e)?e.forEach(function(_){a.add(dl(_,t,n,_,e,i))}):B3(e)&&e.forEach(function(_,C){a.set(C,dl(_,t,n,C,e,i))});var w=d?u?D2:Yp:u?xc:wc,b=f?void 0:w(e);return rM(b||e,function(_,C){b&&(C=_,_=e[C]),Dg(a,C,dl(_,t,n,C,e,i))}),a}var vD=4;function W0(e){return dl(e,vD)}var yD=1,bD=4;function hf(e){return dl(e,yD|bD)}var wD="__lodash_hash_undefined__";function xD(e){return this.__data__.set(e,wD),this}function SD(e){return this.__data__.has(e)}function qu(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new ua;++t<n;)this.add(e[t])}qu.prototype.add=qu.prototype.push=xD;qu.prototype.has=SD;function CD(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function B2(e,t){return e.has(t)}var _D=1,TD=2;function K2(e,t,n,r,s,i){var a=n&_D,l=e.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;var d=i.get(e),f=i.get(t);if(d&&f)return d==t&&f==e;var p=-1,g=!0,v=n&TD?new qu:void 0;for(i.set(e,t),i.set(t,e);++p<l;){var w=e[p],b=t[p];if(r)var _=a?r(b,w,p,t,e,i):r(w,b,p,e,t,i);if(_!==void 0){if(_)continue;g=!1;break}if(v){if(!CD(t,function(C,M){if(!B2(v,M)&&(w===C||s(w,C,n,r,i)))return v.push(M)})){g=!1;break}}else if(!(w===b||s(w,b,n,r,i))){g=!1;break}}return i.delete(e),i.delete(t),g}function kD(e){var t=-1,n=Array(e.size);return e.forEach(function(r,s){n[++t]=[s,r]}),n}function Ug(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var ED=1,$D=2,ID="[object Boolean]",AD="[object Date]",LD="[object Error]",OD="[object Map]",MD="[object Number]",RD="[object RegExp]",DD="[object Set]",ND="[object String]",PD="[object Symbol]",FD="[object ArrayBuffer]",VD="[object DataView]",U0=Bs?Bs.prototype:void 0,tp=U0?U0.valueOf:void 0;function zD(e,t,n,r,s,i,a){switch(n){case VD:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case FD:return!(e.byteLength!=t.byteLength||!i(new ff(e),new ff(t)));case ID:case AD:case MD:return bc(+e,+t);case LD:return e.name==t.name&&e.message==t.message;case RD:case ND:return e==t+"";case OD:var l=kD;case DD:var u=r&ED;if(l||(l=Ug),e.size!=t.size&&!u)return!1;var d=a.get(e);if(d)return d==t;r|=$D,a.set(e,t);var f=K2(l(e),l(t),r,s,i,a);return a.delete(e),f;case PD:if(tp)return tp.call(e)==tp.call(t)}return!1}var BD=1,KD=Object.prototype,HD=KD.hasOwnProperty;function WD(e,t,n,r,s,i){var a=n&BD,l=Yp(e),u=l.length,d=Yp(t),f=d.length;if(u!=f&&!a)return!1;for(var p=u;p--;){var g=l[p];if(!(a?g in t:HD.call(t,g)))return!1}var v=i.get(e),w=i.get(t);if(v&&w)return v==t&&w==e;var b=!0;i.set(e,t),i.set(t,e);for(var _=a;++p<u;){g=l[p];var C=e[g],M=t[g];if(r)var E=a?r(M,C,g,t,e,i):r(C,M,g,e,t,i);if(!(E===void 0?C===M||s(C,M,n,r,i):E)){b=!1;break}_||(_=g=="constructor")}if(b&&!_){var k=e.constructor,A=t.constructor;k!=A&&"constructor"in e&&"constructor"in t&&!(typeof k=="function"&&k instanceof k&&typeof A=="function"&&A instanceof A)&&(b=!1)}return i.delete(e),i.delete(t),b}var UD=1,j0="[object Arguments]",G0="[object Array]",id="[object Object]",jD=Object.prototype,Y0=jD.hasOwnProperty;function GD(e,t,n,r,s,i){var a=fs(e),l=fs(t),u=a?G0:qs(e),d=l?G0:qs(t);u=u==j0?id:u,d=d==j0?id:d;var f=u==id,p=d==id,g=u==d;if(g&&Gu(e)){if(!Gu(t))return!1;a=!0,f=!1}if(g&&!f)return i||(i=new ti),a||Vg(e)?K2(e,t,n,r,s,i):zD(e,t,u,n,r,s,i);if(!(n&UD)){var v=f&&Y0.call(e,"__wrapped__"),w=p&&Y0.call(t,"__wrapped__");if(v||w){var b=v?e.value():e,_=w?t.value():t;return i||(i=new ti),s(b,_,n,r,i)}}return g?(i||(i=new ti),WD(e,t,n,r,s,i)):!1}function th(e,t,n,r,s){return e===t?!0:e==null||t==null||!Ei(e)&&!Ei(t)?e!==e&&t!==t:GD(e,t,n,r,th,s)}var YD=1,XD=2;function qD(e,t,n,r){var s=n.length,i=s;if(e==null)return!i;for(e=Object(e);s--;){var a=n[s];if(a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++s<i;){a=n[s];var l=a[0],u=e[l],d=a[1];if(a[2]){if(u===void 0&&!(l in e))return!1}else{var f=new ti,p;if(!(p===void 0?th(d,u,YD|XD,r,f):p))return!1}}return!0}function H2(e){return e===e&&!hs(e)}function JD(e){for(var t=wc(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,H2(s)]}return t}function W2(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function ZD(e){var t=JD(e);return t.length==1&&t[0][2]?W2(t[0][0],t[0][1]):function(n){return n===e||qD(n,e,t)}}function QD(e,t){return e!=null&&t in Object(e)}function eN(e,t,n){t=Kl(t,e);for(var r=-1,s=t.length,i=!1;++r<s;){var a=Hl(t[r]);if(!(i=e!=null&&n(e,a)))break;e=e[a]}return i||++r!=s?i:(s=e==null?0:e.length,!!s&&Ng(s)&&qf(a,s)&&(fs(e)||ju(e)))}function U2(e,t){return e!=null&&eN(e,t,QD)}var tN=1,nN=2;function rN(e,t){return zg(e)&&H2(t)?W2(Hl(e),t):function(n){var r=cr(n,e);return r===void 0&&r===t?U2(n,e):th(t,r,tN|nN)}}function sN(e){return function(t){return t==null?void 0:t[e]}}function iN(e){return function(t){return eh(t,e)}}function aN(e){return zg(e)?sN(Hl(e)):iN(e)}function j2(e){return typeof e=="function"?e:e==null?Og:typeof e=="object"?fs(e)?rN(e[0],e[1]):ZD(e):aN(e)}function oN(e){return function(t,n,r){for(var s=-1,i=Object(t),a=r(t),l=a.length;l--;){var u=a[++s];if(n(i[u],u,i)===!1)break}return t}}var G2=oN();function lN(e,t){return e&&G2(e,t,wc)}function uN(e,t){return function(n,r){if(n==null)return n;if(!Bl(n))return e(n,r);for(var s=n.length,i=-1,a=Object(n);++i<s&&r(a[i],i,a)!==!1;);return n}}var cN=uN(lN),np=function(){return ci.Date.now()},dN="Expected a function",fN=Math.max,hN=Math.min;function xs(e,t,n){var r,s,i,a,l,u,d=0,f=!1,p=!1,g=!0;if(typeof e!="function")throw new TypeError(dN);t=S0(t)||0,hs(n)&&(f=!!n.leading,p="maxWait"in n,i=p?fN(S0(n.maxWait)||0,t):i,g="trailing"in n?!!n.trailing:g);function v(D){var H=r,U=s;return r=s=void 0,d=D,a=e.apply(U,H),a}function w(D){return d=D,l=setTimeout(C,t),f?v(D):a}function b(D){var H=D-u,U=D-d,K=t-H;return p?hN(K,i-U):K}function _(D){var H=D-u,U=D-d;return u===void 0||H>=t||H<0||p&&U>=i}function C(){var D=np();if(_(D))return M(D);l=setTimeout(C,b(D))}function M(D){return l=void 0,g&&r?v(D):(r=s=void 0,a)}function E(){l!==void 0&&clearTimeout(l),d=0,r=u=s=l=void 0}function k(){return l===void 0?a:M(np())}function A(){var D=np(),H=_(D);if(r=arguments,s=this,u=D,H){if(l===void 0)return w(u);if(p)return clearTimeout(l),l=setTimeout(C,t),v(u)}return l===void 0&&(l=setTimeout(C,t)),a}return A.cancel=E,A.flush=k,A}function Jp(e,t,n){(n!==void 0&&!bc(e[t],n)||n===void 0&&!(t in e))&&Rg(e,t,n)}function Y2(e){return Ei(e)&&Bl(e)}function Zp(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function pN(e){return zl(e,xc(e))}function mN(e,t,n,r,s,i,a){var l=Zp(e,n),u=Zp(t,n),d=a.get(u);if(d){Jp(e,n,d);return}var f=i?i(l,u,n+"",e,t,a):void 0,p=f===void 0;if(p){var g=fs(u),v=!g&&Gu(u),w=!g&&!v&&Vg(u);f=u,g||v||w?fs(l)?f=l:Y2(l)?f=g2(l):v?(p=!1,f=L2(u,!0)):w?(p=!1,f=N2(u,!0)):f=[]:I2(u)||ju(u)?(f=l,ju(l)?f=pN(l):(!hs(l)||Mg(l))&&(f=P2(u))):p=!1}p&&(a.set(u,f),s(f,u,r,i,a),a.delete(u)),Jp(e,n,f)}function X2(e,t,n,r,s){e!==t&&G2(t,function(i,a){if(s||(s=new ti),hs(i))mN(e,t,a,n,X2,r,s);else{var l=r?r(Zp(e,a),i,a+"",e,t,s):void 0;l===void 0&&(l=i),Jp(e,a,l)}},xc)}function gN(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function q2(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var s=r-1;return y2(e,j2(t),s,!0)}function vN(e,t){var n=-1,r=Bl(e)?Array(e.length):[];return cN(e,function(s,i,a){r[++n]=t(s,i,a)}),r}function yN(e,t){var n=fs(e)?Lg:vN;return n(e,j2(t))}function bN(e,t){return Sc(yN(e,t),1)}var wN=1/0;function xN(e){var t=e==null?0:e.length;return t?Sc(e,wN):[]}function Ju(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var s=e[t];r[s[0]]=s[1]}return r}function SN(e,t){return t.length<2?e:eh(e,WR(t,0,-1))}function zr(e,t){return th(e,t)}function kr(e){return e==null}function Cc(e){return e===null}function J2(e){return e===void 0}var Z2=pM(function(e,t,n){X2(e,t,n)});function CN(e,t){return t=Kl(t,e),e=SN(e,t),e==null||delete e[Hl(gN(t))]}function _N(e){return I2(e)?void 0:e}var TN=1,kN=2,EN=4,$N=E2(function(e,t){var n={};if(e==null)return n;var r=!1;t=Lg(t,function(i){return i=Kl(i,e),r||(r=i.length>1),i}),zl(e,D2(e),n),r&&(n=dl(n,TN|kN|EN,_N));for(var s=t.length;s--;)CN(n,t[s]);return n});function Q2(e,t,n,r){if(!hs(e))return e;t=Kl(t,e);for(var s=-1,i=t.length,a=i-1,l=e;l!=null&&++s<i;){var u=Hl(t[s]),d=n;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(s!=a){var f=l[u];d=void 0,d===void 0&&(d=hs(f)?f:qf(t[s+1])?[]:{})}Dg(l,u,d),l=l[u]}return e}function IN(e,t,n){for(var r=-1,s=t.length,i={};++r<s;){var a=t[r],l=eh(e,a);n(l,a)&&Q2(i,Kl(a,e),l)}return i}function AN(e,t){return IN(e,t,function(n,r){return U2(e,r)})}var Zs=E2(function(e,t){return e==null?{}:AN(e,t)});function LN(e,t,n){return e==null?e:Q2(e,t,n)}var ON="Expected a function";function _o(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(ON);return hs(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),xs(e,t,{leading:r,maxWait:t,trailing:s})}var MN=1/0,RN=cl&&1/Ug(new cl([,-0]))[1]==MN?function(e){return new cl(e)}:qO,DN=200;function NN(e,t,n){var r=-1,s=oM,i=e.length,a=!0,l=[],u=l;if(i>=DN){var d=RN(e);if(d)return Ug(d);a=!1,s=B2,u=new qu}else u=l;e:for(;++r<i;){var f=e[r],p=f;if(f=f!==0?f:0,a&&p===p){for(var g=u.length;g--;)if(u[g]===p)continue e;l.push(f)}else s(u,p,n)||(u!==l&&u.push(p),l.push(f))}return l}var rp=w2(function(e){return NN(Sc(e,1,Y2,!0))});const xn=e=>e===void 0,zn=e=>typeof e=="boolean",$t=e=>typeof e=="number",Ts=e=>!e&&e!==0||nt(e)&&e.length===0||jt(e)&&!Object.keys(e).length,us=e=>typeof Element>"u"?!1:e instanceof Element,ni=e=>kr(e),PN=e=>xt(e)?!Number.isNaN(Number(e)):!1,nh=e=>e===window;var FN=Object.defineProperty,VN=Object.defineProperties,zN=Object.getOwnPropertyDescriptors,X0=Object.getOwnPropertySymbols,BN=Object.prototype.hasOwnProperty,KN=Object.prototype.propertyIsEnumerable,q0=(e,t,n)=>t in e?FN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HN=(e,t)=>{for(var n in t||(t={}))BN.call(t,n)&&q0(e,n,t[n]);if(X0)for(var n of X0(t))KN.call(t,n)&&q0(e,n,t[n]);return e},WN=(e,t)=>VN(e,zN(t));function Qp(e,t){var n;const r=Un();return Vr(()=>{r.value=e()},WN(HN({},t),{flush:(n=void 0)!=null?n:"sync"})),Fl(r)}var J0;const un=typeof window<"u",UN=e=>typeof e<"u",em=e=>typeof e=="function",jN=e=>typeof e=="string",wl=()=>{},tm=un&&((J0=window==null?void 0:window.navigator)==null?void 0:J0.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Ka(e){return typeof e=="function"?e():o(e)}function eC(e,t){function n(...r){return new Promise((s,i)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(s).catch(i)})}return n}function GN(e,t={}){let n,r,s=wl;const i=l=>{clearTimeout(l),s(),s=wl};return l=>{const u=Ka(e),d=Ka(t.maxWait);return n&&i(n),u<=0||d!==void 0&&d<=0?(r&&(i(r),r=null),Promise.resolve(l())):new Promise((f,p)=>{s=t.rejectOnCancel?p:f,d&&!r&&(r=setTimeout(()=>{n&&i(n),r=null,f(l())},d)),n=setTimeout(()=>{r&&i(r),r=null,f(l())},u)})}}function YN(e,t=!0,n=!0,r=!1){let s=0,i,a=!0,l=wl,u;const d=()=>{i&&(clearTimeout(i),i=void 0,l(),l=wl)};return p=>{const g=Ka(e),v=Date.now()-s,w=()=>u=p();return d(),g<=0?(s=Date.now(),w()):(v>g&&(n||!a)?(s=Date.now(),w()):t&&(u=new Promise((b,_)=>{l=r?_:b,i=setTimeout(()=>{s=Date.now(),a=!0,b(w()),d()},Math.max(0,g-v))})),!n&&!i&&(i=setTimeout(()=>a=!0,g)),a=!1,u)}}function XN(e){return e}function qN(e,t){let n,r,s;const i=Q(!0),a=()=>{i.value=!0,s()};je(e,a,{flush:"sync"});const l=em(t)?t:t.get,u=em(t)?void 0:t.set,d=yA((f,p)=>(r=f,s=p,{get(){return i.value&&(n=l(),i.value=!1),r(),n},set(g){u==null||u(g)}}));return Object.isExtensible(d)&&(d.trigger=a),d}function _c(e){return fg()?(hg(e),!0):!1}function JN(e,t=200,n={}){return eC(GN(t,n),e)}function ZN(e,t=200,n={}){const r=Q(e.value),s=JN(()=>{r.value=e.value},t,n);return je(e,()=>s()),r}function tC(e,t=200,n=!1,r=!0,s=!1){return eC(YN(t,n,r,s),e)}function jg(e,t=!0){Gt()?Ut(e):t?e():Et(e)}function Lo(e,t,n={}){const{immediate:r=!0}=n,s=Q(!1);let i=null;function a(){i&&(clearTimeout(i),i=null)}function l(){s.value=!1,a()}function u(...d){a(),s.value=!0,i=setTimeout(()=>{s.value=!1,i=null,e(...d)},Ka(t))}return r&&(s.value=!0,un&&u()),_c(l),{isPending:Fl(s),start:u,stop:l}}function ls(e){var t;const n=Ka(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Za=un?window:void 0,QN=un?window.document:void 0;function Mn(...e){let t,n,r,s;if(jN(e[0])||Array.isArray(e[0])?([n,r,s]=e,t=Za):[t,n,r,s]=e,!t)return wl;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const i=[],a=()=>{i.forEach(f=>f()),i.length=0},l=(f,p,g,v)=>(f.addEventListener(p,g,v),()=>f.removeEventListener(p,g,v)),u=je(()=>[ls(t),Ka(s)],([f,p])=>{a(),f&&i.push(...n.flatMap(g=>r.map(v=>l(f,g,v,p))))},{immediate:!0,flush:"post"}),d=()=>{u(),a()};return _c(d),d}let Z0=!1;function Gg(e,t,n={}){const{window:r=Za,ignore:s=[],capture:i=!0,detectIframe:a=!1}=n;if(!r)return;tm&&!Z0&&(Z0=!0,Array.from(r.document.body.children).forEach(g=>g.addEventListener("click",wl)));let l=!0;const u=g=>s.some(v=>{if(typeof v=="string")return Array.from(r.document.querySelectorAll(v)).some(w=>w===g.target||g.composedPath().includes(w));{const w=ls(v);return w&&(g.target===w||g.composedPath().includes(w))}}),f=[Mn(r,"click",g=>{const v=ls(e);if(!(!v||v===g.target||g.composedPath().includes(v))){if(g.detail===0&&(l=!u(g)),!l){l=!0;return}t(g)}},{passive:!0,capture:i}),Mn(r,"pointerdown",g=>{const v=ls(e);v&&(l=!g.composedPath().includes(v)&&!u(g))},{passive:!0}),a&&Mn(r,"blur",g=>{var v;const w=ls(e);((v=r.document.activeElement)==null?void 0:v.tagName)==="IFRAME"&&!(w!=null&&w.contains(r.document.activeElement))&&t(g)})].filter(Boolean);return()=>f.forEach(g=>g())}function eP(e={}){var t;const{window:n=Za}=e,r=(t=e.document)!=null?t:n==null?void 0:n.document,s=qN(()=>null,()=>r==null?void 0:r.activeElement);return n&&(Mn(n,"blur",i=>{i.relatedTarget===null&&s.trigger()},!0),Mn(n,"focus",s.trigger,!0)),s}function nC(e,t=!1){const n=Q(),r=()=>n.value=!!e();return r(),jg(r,t),n}function tP(e){return JSON.parse(JSON.stringify(e))}const Q0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ew="__vueuse_ssr_handlers__";Q0[ew]=Q0[ew]||{};function nP(e,t,{window:n=Za,initialValue:r=""}={}){const s=Q(r),i=L(()=>{var a;return ls(t)||((a=n==null?void 0:n.document)==null?void 0:a.documentElement)});return je([i,()=>Ka(e)],([a,l])=>{var u;if(a&&n){const d=(u=n.getComputedStyle(a).getPropertyValue(l))==null?void 0:u.trim();s.value=d||r}},{immediate:!0}),je(s,a=>{var l;(l=i.value)!=null&&l.style&&i.value.style.setProperty(Ka(e),a)}),s}function rP({document:e=QN}={}){if(!e)return Q("visible");const t=Q(e.visibilityState);return Mn(e,"visibilitychange",()=>{t.value=e.visibilityState}),t}var tw=Object.getOwnPropertySymbols,sP=Object.prototype.hasOwnProperty,iP=Object.prototype.propertyIsEnumerable,aP=(e,t)=>{var n={};for(var r in e)sP.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&tw)for(var r of tw(e))t.indexOf(r)<0&&iP.call(e,r)&&(n[r]=e[r]);return n};function Jn(e,t,n={}){const r=n,{window:s=Za}=r,i=aP(r,["window"]);let a;const l=nC(()=>s&&"ResizeObserver"in s),u=()=>{a&&(a.disconnect(),a=void 0)},d=je(()=>ls(e),p=>{u(),l.value&&s&&p&&(a=new ResizeObserver(t),a.observe(p,i))},{immediate:!0,flush:"post"}),f=()=>{u(),d()};return _c(f),{isSupported:l,stop:f}}function nw(e,t={}){const{reset:n=!0,windowResize:r=!0,windowScroll:s=!0,immediate:i=!0}=t,a=Q(0),l=Q(0),u=Q(0),d=Q(0),f=Q(0),p=Q(0),g=Q(0),v=Q(0);function w(){const b=ls(e);if(!b){n&&(a.value=0,l.value=0,u.value=0,d.value=0,f.value=0,p.value=0,g.value=0,v.value=0);return}const _=b.getBoundingClientRect();a.value=_.height,l.value=_.bottom,u.value=_.left,d.value=_.right,f.value=_.top,p.value=_.width,g.value=_.x,v.value=_.y}return Jn(e,w),je(()=>ls(e),b=>!b&&w()),s&&Mn("scroll",w,{capture:!0,passive:!0}),r&&Mn("resize",w,{passive:!0}),jg(()=>{i&&w()}),{height:a,bottom:l,left:u,right:d,top:f,width:p,x:g,y:v,update:w}}var rw=Object.getOwnPropertySymbols,oP=Object.prototype.hasOwnProperty,lP=Object.prototype.propertyIsEnumerable,uP=(e,t)=>{var n={};for(var r in e)oP.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rw)for(var r of rw(e))t.indexOf(r)<0&&lP.call(e,r)&&(n[r]=e[r]);return n};function rC(e,t,n={}){const r=n,{window:s=Za}=r,i=uP(r,["window"]);let a;const l=nC(()=>s&&"MutationObserver"in s),u=()=>{a&&(a.disconnect(),a=void 0)},d=je(()=>ls(e),p=>{u(),l.value&&s&&p&&(a=new MutationObserver(t),a.observe(p,i))},{immediate:!0}),f=()=>{u(),d()};return _c(f),{isSupported:l,stop:f}}var sw;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(sw||(sw={}));var cP=Object.defineProperty,iw=Object.getOwnPropertySymbols,dP=Object.prototype.hasOwnProperty,fP=Object.prototype.propertyIsEnumerable,aw=(e,t,n)=>t in e?cP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hP=(e,t)=>{for(var n in t||(t={}))dP.call(t,n)&&aw(e,n,t[n]);if(iw)for(var n of iw(t))fP.call(t,n)&&aw(e,n,t[n]);return e};const pP={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};hP({linear:XN},pP);function sC(e,t,n,r={}){var s,i,a;const{clone:l=!1,passive:u=!1,eventName:d,deep:f=!1,defaultValue:p}=r,g=Gt(),v=n||(g==null?void 0:g.emit)||((s=g==null?void 0:g.$emit)==null?void 0:s.bind(g))||((a=(i=g==null?void 0:g.proxy)==null?void 0:i.$emit)==null?void 0:a.bind(g==null?void 0:g.proxy));let w=d;t||(t="modelValue"),w=d||w||`update:${t.toString()}`;const b=C=>l?em(l)?l(C):tP(C):C,_=()=>UN(e[t])?b(e[t]):p;if(u){const C=_(),M=Q(C);return je(()=>e[t],E=>M.value=b(E)),je(M,E=>{(E!==e[t]||f)&&v(w,E)},{deep:f}),M}else return L({get(){return _()},set(C){v(w,C)}})}function mP({window:e=Za}={}){if(!e)return Q(!1);const t=Q(e.document.hasFocus());return Mn(e,"blur",()=>{t.value=!1}),Mn(e,"focus",()=>{t.value=!0}),t}function gP(e={}){const{window:t=Za,initialWidth:n=1/0,initialHeight:r=1/0,listenOrientation:s=!0,includeScrollbar:i=!0}=e,a=Q(n),l=Q(r),u=()=>{t&&(i?(a.value=t.innerWidth,l.value=t.innerHeight):(a.value=t.document.documentElement.clientWidth,l.value=t.document.documentElement.clientHeight))};return u(),jg(u),Mn("resize",u,{passive:!0}),s&&Mn("orientationchange",u,{passive:!0}),{width:a,height:l}}class vP extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function xr(e,t){throw new vP(`[${e}] ${t}`)}const ow={current:0},lw=Q(0),iC=2e3,uw=Symbol("elZIndexContextKey"),aC=Symbol("zIndexContextKey"),Wl=e=>{const t=Gt()?vt(uw,ow):ow,n=e||(Gt()?vt(aC,void 0):void 0),r=L(()=>{const a=o(n);return $t(a)?a:iC}),s=L(()=>r.value+lw.value),i=()=>(t.current++,lw.value=t.current,s.value);return!un&&vt(uw),{initialZIndex:r,currentZIndex:s,nextZIndex:i}};var yP={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const bP=e=>(t,n)=>wP(t,n,o(e)),wP=(e,t,n)=>cr(n,e,e).replace(/\{(\w+)\}/g,(r,s)=>{var i;return`${(i=t==null?void 0:t[s])!=null?i:`{${s}}`}`}),xP=e=>{const t=L(()=>o(e).name),n=kn(e)?e:Q(e);return{lang:t,locale:n,t:bP(e)}},oC=Symbol("localeContextKey"),cn=e=>{const t=e||vt(oC,Q());return xP(L(()=>t.value||yP))},lC="__epPropKey",Ie=e=>e,SP=e=>jt(e)&&!!e[lC],di=(e,t)=>{if(!jt(e)||SP(e))return e;const{values:n,required:r,default:s,type:i,validator:a}=e,u={type:i,required:!!r,validator:n||a?d=>{let f=!1,p=[];if(n&&(p=Array.from(n),yn(e,"default")&&p.push(s),f||(f=p.includes(d))),a&&(f||(f=a(d))),!f&&p.length>0){const g=[...new Set(p)].map(v=>JSON.stringify(v)).join(", ");TL(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${g}], got value ${JSON.stringify(d)}.`)}return f}:void 0,[lC]:!0};return yn(e,"default")&&(u.default=s),u},st=e=>Ju(Object.entries(e).map(([t,n])=>[t,di(n,t)])),Oi=["","default","small","large"],vr=di({type:String,values:Oi,required:!1}),uC=Symbol("size"),cC=()=>{const e=vt(uC,{});return L(()=>o(e.size)||"")},dC=Symbol("emptyValuesContextKey"),CP=["",void 0,null],_P=void 0,Ul=st({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:e=>_t(e)?!e():!e}}),rh=(e,t)=>{const n=Gt()?vt(dC,Q({})):Q({}),r=L(()=>e.emptyValues||n.value.emptyValues||CP),s=L(()=>_t(e.valueOnClear)?e.valueOnClear():e.valueOnClear!==void 0?e.valueOnClear:_t(n.value.valueOnClear)?n.value.valueOnClear():n.value.valueOnClear!==void 0?n.value.valueOnClear:t!==void 0?t:_P),i=a=>r.value.includes(a);return r.value.includes(s.value),{emptyValues:r,valueOnClear:s,isEmptyValue:i}},xl=e=>Object.keys(e),fC=e=>Object.entries(e),Ed=(e,t,n)=>({get value(){return cr(e,t,n)},set value(r){LN(e,t,r)}}),pf=Q();function sh(e,t=void 0){const n=Gt()?vt(d2,pf):pf;return e?L(()=>{var r,s;return(s=(r=n.value)==null?void 0:r[e])!=null?s:t}):n}function ih(e,t){const n=sh(),r=Xe(e,L(()=>{var l;return((l=n.value)==null?void 0:l.namespace)||$u})),s=cn(L(()=>{var l;return(l=n.value)==null?void 0:l.locale})),i=Wl(L(()=>{var l;return((l=n.value)==null?void 0:l.zIndex)||iC})),a=L(()=>{var l;return o(t)||((l=n.value)==null?void 0:l.size)||""});return Yg(L(()=>o(n)||{})),{ns:r,locale:s,zIndex:i,size:a}}const Yg=(e,t,n=!1)=>{var r;const s=!!Gt(),i=s?sh():void 0,a=(r=t==null?void 0:t.provide)!=null?r:s?Qt:void 0;if(!a)return;const l=L(()=>{const u=o(e);return i!=null&&i.value?TP(i.value,u):u});return a(d2,l),a(oC,L(()=>l.value.locale)),a(f2,L(()=>l.value.namespace)),a(aC,L(()=>l.value.zIndex)),a(uC,{size:L(()=>l.value.size||"")}),a(dC,L(()=>({emptyValues:l.value.emptyValues,valueOnClear:l.value.valueOnClear}))),(n||!pf.value)&&(pf.value=l.value),l},TP=(e,t)=>{const n=[...new Set([...xl(e),...xl(t)])],r={};for(const s of n)r[s]=t[s]!==void 0?t[s]:e[s];return r},kP=(e=[])=>({version:fO,install:(n,r)=>{n[v0]||(n[v0]=!0,e.forEach(s=>n.use(s)),r&&Yg(r,n,!0))}}),Kt="update:modelValue",Nn="change",Br="input",EP=st({zIndex:{type:Ie([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),$P={scroll:({scrollTop:e,fixed:t})=>$t(e)&&zn(t),[Nn]:e=>zn(e)};var ot=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n};function IP(e,t,n,r){const s=n-t;return e/=r/2,e<1?s/2*e*e*e+t:s/2*((e-=2)*e*e+2)+t}const Ha=e=>un?window.requestAnimationFrame(e):setTimeout(e,16),Oo=e=>un?window.cancelAnimationFrame(e):clearTimeout(e),hC=(e="")=>e.split(" ").filter(t=>!!t.trim()),ys=(e,t)=>{if(!e||!t)return!1;if(t.includes(" "))throw new Error("className should not contain space.");return e.classList.contains(t)},Ns=(e,t)=>{!e||!t.trim()||e.classList.add(...hC(t))},Qr=(e,t)=>{!e||!t.trim()||e.classList.remove(...hC(t))},Ji=(e,t)=>{var n;if(!un||!e||!t)return"";let r=ds(t);r==="float"&&(r="cssFloat");try{const s=e.style[r];if(s)return s;const i=(n=document.defaultView)==null?void 0:n.getComputedStyle(e,"");return i?i[r]:""}catch{return e.style[r]}},pC=(e,t,n)=>{if(!(!e||!t))if(jt(t))fC(t).forEach(([r,s])=>pC(e,r,s));else{const r=ds(t);e.style[r]=n}};function nr(e,t="px"){if(!e)return"";if($t(e)||PN(e))return`${e}${t}`;if(xt(e))return e}const AP=(e,t)=>{if(!un)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)],r=Ji(e,n);return["scroll","auto","overlay"].some(s=>r.includes(s))},Xg=(e,t)=>{if(!un)return;let n=e;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(AP(n,t))return n;n=n.parentNode}return n};let ad;const mC=e=>{var t;if(!un)return 0;if(ad!==void 0)return ad;const n=document.createElement("div");n.className=`${e}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const r=n.offsetWidth;n.style.overflow="scroll";const s=document.createElement("div");s.style.width="100%",n.appendChild(s);const i=s.offsetWidth;return(t=n.parentNode)==null||t.removeChild(n),ad=r-i,ad};function qg(e,t){if(!un)return;if(!t){e.scrollTop=0;return}const n=[];let r=t.offsetParent;for(;r!==null&&e!==r&&e.contains(r);)n.push(r),r=r.offsetParent;const s=t.offsetTop+n.reduce((u,d)=>u+d.offsetTop,0),i=s+t.offsetHeight,a=e.scrollTop,l=a+e.clientHeight;s<a?e.scrollTop=s:i>l&&(e.scrollTop=i-e.clientHeight)}function LP(e,t,n,r,s){const i=Date.now();let a;const l=()=>{const d=Date.now()-i,f=IP(d>r?r:d,t,n,r);nh(e)?e.scrollTo(window.pageXOffset,f):e.scrollTop=f,d<r?a=Ha(l):_t(s)&&s()};return l(),()=>{a&&Oo(a)}}const cw=(e,t)=>nh(t)?e.ownerDocument.documentElement:t,dw=e=>nh(e)?window.scrollY:e.scrollTop,gC="ElAffix",OP=ve({name:gC}),MP=ve({...OP,props:EP,emits:$P,setup(e,{expose:t,emit:n}){const r=e,s=Xe("affix"),i=Un(),a=Un(),l=Un(),{height:u}=gP(),{height:d,width:f,top:p,bottom:g,update:v}=nw(a,{windowScroll:!1}),w=nw(i),b=Q(!1),_=Q(0),C=Q(0),M=L(()=>({height:b.value?`${d.value}px`:"",width:b.value?`${f.value}px`:""})),E=L(()=>{if(!b.value)return{};const D=r.offset?nr(r.offset):0;return{height:`${d.value}px`,width:`${f.value}px`,top:r.position==="top"?D:"",bottom:r.position==="bottom"?D:"",transform:C.value?`translateY(${C.value}px)`:"",zIndex:r.zIndex}}),k=()=>{if(!l.value)return;_.value=l.value instanceof Window?document.documentElement.scrollTop:l.value.scrollTop||0;const{position:D,target:H,offset:U}=r,K=U+d.value;if(D==="top")if(H){const G=w.bottom.value-K;b.value=U>p.value&&w.bottom.value>0,C.value=G<0?G:0}else b.value=U>p.value;else if(H){const G=u.value-w.top.value-K;b.value=u.value-U<g.value&&u.value>w.top.value,C.value=G<0?-G:0}else b.value=u.value-U<g.value},A=()=>{v(),n("scroll",{scrollTop:_.value,fixed:b.value})};return je(b,D=>n("change",D)),Ut(()=>{var D;r.target?(i.value=(D=document.querySelector(r.target))!=null?D:void 0,i.value||xr(gC,`Target does not exist: ${r.target}`)):i.value=document.documentElement,l.value=Xg(a.value,!0),v()}),Mn(l,"scroll",A),Vr(k),t({update:k,updateRoot:v}),(D,H)=>(V(),le("div",{ref_key:"root",ref:a,class:W(o(s).b()),style:Tt(o(M))},[ue("div",{class:W({[o(s).m("fixed")]:b.value}),style:Tt(o(E))},[Oe(D.$slots,"default")],6)],6))}});var RP=ot(MP,[["__file","affix.vue"]]);const zt=(e,t)=>{if(e.install=n=>{for(const r of[e,...Object.values(t??{})])n.component(r.name,r)},t)for(const[n,r]of Object.entries(t))e[n]=r;return e},vC=(e,t)=>(e.install=n=>{e._context=n._context,n.config.globalProperties[t]=e},e),DP=(e,t)=>(e.install=n=>{n.directive(t,e)},e),Qn=e=>(e.install=In,e),NP=zt(RP),PP=st({size:{type:Ie([Number,String])},color:{type:String}}),FP=ve({name:"ElIcon",inheritAttrs:!1}),VP=ve({...FP,props:PP,setup(e){const t=e,n=Xe("icon"),r=L(()=>{const{size:s,color:i}=t;return!s&&!i?{}:{fontSize:xn(s)?void 0:nr(s),"--color":i}});return(s,i)=>(V(),le("i",Xt({class:o(n).b(),style:o(r)},s.$attrs),[Oe(s.$slots,"default")],16))}});var zP=ot(VP,[["__file","icon.vue"]]);const wt=zt(zP);/*! Element Plus Icons Vue v2.3.1 */var BP=ve({name:"ArrowDown",__name:"arrow-down",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),ca=BP,KP=ve({name:"ArrowLeft",__name:"arrow-left",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),Wa=KP,HP=ve({name:"ArrowRight",__name:"arrow-right",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),cs=HP,WP=ve({name:"ArrowUp",__name:"arrow-up",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),Jg=WP,UP=ve({name:"Back",__name:"back",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),ue("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),jP=UP,GP=ve({name:"Calendar",__name:"calendar",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),YP=GP,XP=ve({name:"CaretRight",__name:"caret-right",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),yC=XP,qP=ve({name:"CaretTop",__name:"caret-top",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),JP=qP,ZP=ve({name:"Check",__name:"check",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),Tc=ZP,QP=ve({name:"CircleCheckFilled",__name:"circle-check-filled",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),e4=QP,t4=ve({name:"CircleCheck",__name:"circle-check",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),ue("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),Zg=t4,n4=ve({name:"CircleCloseFilled",__name:"circle-close-filled",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),Qg=n4,r4=ve({name:"CircleClose",__name:"circle-close",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),ue("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),da=r4,s4=ve({name:"Clock",__name:"clock",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),ue("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),ue("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),bC=s4,i4=ve({name:"Close",__name:"close",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),ii=i4,a4=ve({name:"DArrowLeft",__name:"d-arrow-left",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),Ua=a4,o4=ve({name:"DArrowRight",__name:"d-arrow-right",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),ja=o4,l4=ve({name:"Delete",__name:"delete",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),wC=l4,u4=ve({name:"Document",__name:"document",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),c4=u4,d4=ve({name:"FullScreen",__name:"full-screen",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),f4=d4,h4=ve({name:"Hide",__name:"hide",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),ue("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),p4=h4,m4=ve({name:"InfoFilled",__name:"info-filled",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),ev=m4,g4=ve({name:"Loading",__name:"loading",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),$i=g4,v4=ve({name:"Minus",__name:"minus",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),y4=v4,b4=ve({name:"MoreFilled",__name:"more-filled",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),fw=b4,w4=ve({name:"More",__name:"more",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),x4=w4,S4=ve({name:"PictureFilled",__name:"picture-filled",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),C4=S4,_4=ve({name:"Plus",__name:"plus",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),xC=_4,T4=ve({name:"QuestionFilled",__name:"question-filled",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}}),k4=T4,E4=ve({name:"RefreshLeft",__name:"refresh-left",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),$4=E4,I4=ve({name:"RefreshRight",__name:"refresh-right",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),A4=I4,L4=ve({name:"ScaleToOriginal",__name:"scale-to-original",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),O4=L4,M4=ve({name:"Search",__name:"search",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),R4=M4,D4=ve({name:"SortDown",__name:"sort-down",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),N4=D4,P4=ve({name:"SortUp",__name:"sort-up",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),F4=P4,V4=ve({name:"StarFilled",__name:"star-filled",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),od=V4,z4=ve({name:"Star",__name:"star",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),B4=z4,K4=ve({name:"SuccessFilled",__name:"success-filled",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),SC=K4,H4=ve({name:"View",__name:"view",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),W4=H4,U4=ve({name:"WarningFilled",__name:"warning-filled",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),ah=U4,j4=ve({name:"ZoomIn",__name:"zoom-in",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),CC=j4,G4=ve({name:"ZoomOut",__name:"zoom-out",setup(e){return(t,n)=>(V(),le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),Y4=G4;const Pn=Ie([String,Object,Function]),tv={Close:ii},nv={Close:ii,SuccessFilled:SC,InfoFilled:ev,WarningFilled:ah,CircleCloseFilled:Qg},Ga={success:SC,warning:ah,error:Qg,info:ev},oh={validating:$i,success:Zg,error:da},X4=["light","dark"],q4=st({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:xl(Ga),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:X4,default:"light"}}),J4={close:e=>e instanceof MouseEvent},Z4=ve({name:"ElAlert"}),Q4=ve({...Z4,props:q4,emits:J4,setup(e,{emit:t}){const n=e,{Close:r}=nv,s=Sr(),i=Xe("alert"),a=Q(!0),l=L(()=>Ga[n.type]),u=L(()=>!!(n.description||s.default)),d=f=>{a.value=!1,t("close",f)};return(f,p)=>(V(),Ve(Rr,{name:o(i).b("fade"),persisted:""},{default:Se(()=>[Bt(ue("div",{class:W([o(i).b(),o(i).m(f.type),o(i).is("center",f.center),o(i).is(f.effect)]),role:"alert"},[f.showIcon&&o(l)?(V(),Ve(o(wt),{key:0,class:W([o(i).e("icon"),{[o(i).is("big")]:o(u)}])},{default:Se(()=>[(V(),Ve(Yt(o(l))))]),_:1},8,["class"])):Re("v-if",!0),ue("div",{class:W(o(i).e("content"))},[f.title||f.$slots.title?(V(),le("span",{key:0,class:W([o(i).e("title"),{"with-description":o(u)}])},[Oe(f.$slots,"title",{},()=>[At(at(f.title),1)])],2)):Re("v-if",!0),o(u)?(V(),le("p",{key:1,class:W(o(i).e("description"))},[Oe(f.$slots,"default",{},()=>[At(at(f.description),1)])],2)):Re("v-if",!0),f.closable?(V(),le(Ct,{key:2},[f.closeText?(V(),le("div",{key:0,class:W([o(i).e("close-btn"),o(i).is("customed")]),onClick:d},at(f.closeText),3)):(V(),Ve(o(wt),{key:1,class:W(o(i).e("close-btn")),onClick:d},{default:Se(()=>[pe(o(r))]),_:1},8,["class"]))],64)):Re("v-if",!0)],2)],2),[[mn,a.value]])]),_:3},8,["name"]))}});var eF=ot(Q4,[["__file","alert.vue"]]);const tF=zt(eF),lh=()=>un&&/firefox/i.test(window.navigator.userAgent);let Gs;const nF=`
  height:0 !important;
  visibility:hidden !important;
  ${lh()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,rF=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function sF(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),s=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:rF.map(a=>`${a}:${t.getPropertyValue(a)}`).join(";"),paddingSize:r,borderSize:s,boxSizing:n}}function hw(e,t=1,n){var r;Gs||(Gs=document.createElement("textarea"),document.body.appendChild(Gs));const{paddingSize:s,borderSize:i,boxSizing:a,contextStyle:l}=sF(e);Gs.setAttribute("style",`${l};${nF}`),Gs.value=e.value||e.placeholder||"";let u=Gs.scrollHeight;const d={};a==="border-box"?u=u+i:a==="content-box"&&(u=u-s),Gs.value="";const f=Gs.scrollHeight-s;if($t(t)){let p=f*t;a==="border-box"&&(p=p+s+i),u=Math.max(p,u),d.minHeight=`${p}px`}if($t(n)){let p=f*n;a==="border-box"&&(p=p+s+i),u=Math.min(p,u)}return d.height=`${u}px`,(r=Gs.parentNode)==null||r.removeChild(Gs),Gs=void 0,d}const Zn=e=>e,iF=st({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),Fr=e=>Zs(iF,e),rv=st({id:{type:String,default:void 0},size:vr,disabled:Boolean,modelValue:{type:Ie([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Ie([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:Pn},prefixIcon:{type:Pn},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Ie([Object,Array,String]),default:()=>Zn({})},autofocus:Boolean,rows:{type:Number,default:2},...Fr(["ariaLabel"])}),aF={[Kt]:e=>xt(e),input:e=>xt(e),change:e=>xt(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},oF=["class","style"],lF=/^on[A-Z]/,kc=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,r=L(()=>((n==null?void 0:n.value)||[]).concat(oF)),s=Gt();return L(s?()=>{var i;return Ju(Object.entries((i=s.proxy)==null?void 0:i.$attrs).filter(([a])=>!r.value.includes(a)&&!(t&&lF.test(a))))}:()=>({}))},zo=Symbol("formContextKey"),Ii=Symbol("formItemContextKey"),pw={prefix:Math.floor(Math.random()*1e4),current:0},uF=Symbol("elIdInjection"),sv=()=>Gt()?vt(uF,pw):pw,Pr=e=>{const t=sv(),n=Ag();return Qp(()=>o(e)||`${n.value}-id-${t.prefix}-${t.current++}`)},Wr=()=>{const e=vt(zo,void 0),t=vt(Ii,void 0);return{form:e,formItem:t}},Us=(e,{formItemContext:t,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=Q(!1)),r||(r=Q(!1));const s=Q();let i;const a=L(()=>{var l;return!!(!(e.label||e.ariaLabel)&&t&&t.inputIds&&((l=t.inputIds)==null?void 0:l.length)<=1)});return Ut(()=>{i=je([Tn(e,"id"),n],([l,u])=>{const d=l??(u?void 0:Pr().value);d!==s.value&&(t!=null&&t.removeInputId&&(s.value&&t.removeInputId(s.value),!(r!=null&&r.value)&&!u&&d&&t.addInputId(d)),s.value=d)},{immediate:!0})}),Ja(()=>{i&&i(),t!=null&&t.removeInputId&&s.value&&t.removeInputId(s.value)}),{isLabeledByFormItem:a,inputId:s}},_C=e=>{const t=Gt();return L(()=>{var n,r;return(r=(n=t==null?void 0:t.proxy)==null?void 0:n.$props)==null?void 0:r[e]})},pr=(e,t={})=>{const n=Q(void 0),r=t.prop?n:_C("size"),s=t.global?n:cC(),i=t.form?{size:void 0}:vt(zo,void 0),a=t.formItem?{size:void 0}:vt(Ii,void 0);return L(()=>r.value||o(e)||(a==null?void 0:a.size)||(i==null?void 0:i.size)||s.value||"")},Ur=e=>{const t=_C("disabled"),n=vt(zo,void 0);return L(()=>t.value||o(e)||(n==null?void 0:n.disabled)||!1)};function Qa(e,{beforeFocus:t,afterFocus:n,beforeBlur:r,afterBlur:s}={}){const i=Gt(),{emit:a}=i,l=Un(),u=Q(!1),d=g=>{_t(t)&&t(g)||u.value||(u.value=!0,a("focus",g),n==null||n())},f=g=>{var v;_t(r)&&r(g)||g.relatedTarget&&((v=l.value)!=null&&v.contains(g.relatedTarget))||(u.value=!1,a("blur",g),s==null||s())},p=()=>{var g,v;(g=l.value)!=null&&g.contains(document.activeElement)&&l.value!==document.activeElement||(v=e.value)==null||v.focus()};return je(l,g=>{g&&g.setAttribute("tabindex","-1")}),Mn(l,"focus",d,!0),Mn(l,"blur",f,!0),Mn(l,"click",p,!0),{isFocused:u,wrapperRef:l,handleFocus:d,handleBlur:f}}const cF=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function Ec({afterComposition:e,emit:t}){const n=Q(!1),r=l=>{t==null||t("compositionstart",l),n.value=!0},s=l=>{var u;t==null||t("compositionupdate",l);const d=(u=l.target)==null?void 0:u.value,f=d[d.length-1]||"";n.value=!cF(f)},i=l=>{t==null||t("compositionend",l),n.value&&(n.value=!1,Et(()=>e(l)))};return{isComposing:n,handleComposition:l=>{l.type==="compositionend"?i(l):s(l)},handleCompositionStart:r,handleCompositionUpdate:s,handleCompositionEnd:i}}function dF(e){let t;function n(){if(e.value==null)return;const{selectionStart:s,selectionEnd:i,value:a}=e.value;if(s==null||i==null)return;const l=a.slice(0,Math.max(0,s)),u=a.slice(Math.max(0,i));t={selectionStart:s,selectionEnd:i,value:a,beforeTxt:l,afterTxt:u}}function r(){if(e.value==null||t==null)return;const{value:s}=e.value,{beforeTxt:i,afterTxt:a,selectionStart:l}=t;if(i==null||a==null||l==null)return;let u=s.length;if(s.endsWith(a))u=s.length-a.length;else if(s.startsWith(i))u=i.length;else{const d=i[l-1],f=s.indexOf(d,l-1);f!==-1&&(u=f+1)}e.value.setSelectionRange(u,u)}return[n,r]}const fF=ve({name:"ElInput",inheritAttrs:!1}),hF=ve({...fF,props:rv,emits:aF,setup(e,{expose:t,emit:n}){const r=e,s=oa(),i=kc(),a=Sr(),l=L(()=>[r.type==="textarea"?b.b():w.b(),w.m(g.value),w.is("disabled",v.value),w.is("exceed",ke.value),{[w.b("group")]:a.prepend||a.append,[w.m("prefix")]:a.prefix||r.prefixIcon,[w.m("suffix")]:a.suffix||r.suffixIcon||r.clearable||r.showPassword,[w.bm("suffix","password-clear")]:ee.value&&J.value,[w.b("hidden")]:r.type==="hidden"},s.class]),u=L(()=>[w.e("wrapper"),w.is("focus",U.value)]),{form:d,formItem:f}=Wr(),{inputId:p}=Us(r,{formItemContext:f}),g=pr(),v=Ur(),w=Xe("input"),b=Xe("textarea"),_=Un(),C=Un(),M=Q(!1),E=Q(!1),k=Q(),A=Un(r.inputStyle),D=L(()=>_.value||C.value),{wrapperRef:H,isFocused:U,handleFocus:K,handleBlur:G}=Qa(D,{beforeFocus(){return v.value},afterBlur(){var Ye;r.validateEvent&&((Ye=f==null?void 0:f.validate)==null||Ye.call(f,"blur").catch(yt=>void 0))}}),q=L(()=>{var Ye;return(Ye=d==null?void 0:d.statusIcon)!=null?Ye:!1}),Y=L(()=>(f==null?void 0:f.validateState)||""),de=L(()=>Y.value&&oh[Y.value]),xe=L(()=>E.value?W4:p4),oe=L(()=>[s.style]),Z=L(()=>[r.inputStyle,A.value,{resize:r.resize}]),ne=L(()=>kr(r.modelValue)?"":String(r.modelValue)),ee=L(()=>r.clearable&&!v.value&&!r.readonly&&!!ne.value&&(U.value||M.value)),J=L(()=>r.showPassword&&!v.value&&!!ne.value&&(!!ne.value||U.value)),fe=L(()=>r.showWordLimit&&!!r.maxlength&&(r.type==="text"||r.type==="textarea")&&!v.value&&!r.readonly&&!r.showPassword),ge=L(()=>ne.value.length),ke=L(()=>!!fe.value&&ge.value>Number(r.maxlength)),ye=L(()=>!!a.suffix||!!r.suffixIcon||ee.value||r.showPassword||fe.value||!!Y.value&&q.value),[Fe,Be]=dF(_);Jn(C,Ye=>{if(Ne(),!fe.value||r.resize!=="both")return;const yt=Ye[0],{width:Mt}=yt.contentRect;k.value={right:`calc(100% - ${Mt+15+6}px)`}});const He=()=>{const{type:Ye,autosize:yt}=r;if(!(!un||Ye!=="textarea"||!C.value))if(yt){const Mt=jt(yt)?yt.minRows:void 0,qt=jt(yt)?yt.maxRows:void 0,Ht=hw(C.value,Mt,qt);A.value={overflowY:"hidden",...Ht},Et(()=>{C.value.offsetHeight,A.value=Ht})}else A.value={minHeight:hw(C.value).minHeight}},Ne=(Ye=>{let yt=!1;return()=>{var Mt;if(yt||!r.autosize)return;((Mt=C.value)==null?void 0:Mt.offsetParent)===null||(Ye(),yt=!0)}})(He),Pe=()=>{const Ye=D.value,yt=r.formatter?r.formatter(ne.value):ne.value;!Ye||Ye.value===yt||(Ye.value=yt)},et=async Ye=>{Fe();let{value:yt}=Ye.target;if(r.formatter&&(yt=r.parser?r.parser(yt):yt),!ae.value){if(yt===ne.value){Pe();return}n(Kt,yt),n("input",yt),await Et(),Pe(),Be()}},qe=Ye=>{n("change",Ye.target.value)},{isComposing:ae,handleCompositionStart:be,handleCompositionUpdate:$e,handleCompositionEnd:Ge}=Ec({emit:n,afterComposition:et}),Qe=()=>{Fe(),E.value=!E.value,setTimeout(Be)},Le=()=>{var Ye;return(Ye=D.value)==null?void 0:Ye.focus()},Ze=()=>{var Ye;return(Ye=D.value)==null?void 0:Ye.blur()},We=Ye=>{M.value=!1,n("mouseleave",Ye)},it=Ye=>{M.value=!0,n("mouseenter",Ye)},rt=Ye=>{n("keydown",Ye)},St=()=>{var Ye;(Ye=D.value)==null||Ye.select()},mt=()=>{n(Kt,""),n("change",""),n("clear"),n("input","")};return je(()=>r.modelValue,()=>{var Ye;Et(()=>He()),r.validateEvent&&((Ye=f==null?void 0:f.validate)==null||Ye.call(f,"change").catch(yt=>void 0))}),je(ne,()=>Pe()),je(()=>r.type,async()=>{await Et(),Pe(),He()}),Ut(()=>{!r.formatter&&r.parser,Pe(),Et(He)}),t({input:_,textarea:C,ref:D,textareaStyle:Z,autosize:Tn(r,"autosize"),isComposing:ae,focus:Le,blur:Ze,select:St,clear:mt,resizeTextarea:He}),(Ye,yt)=>(V(),le("div",{class:W([o(l),{[o(w).bm("group","append")]:Ye.$slots.append,[o(w).bm("group","prepend")]:Ye.$slots.prepend}]),style:Tt(o(oe)),onMouseenter:it,onMouseleave:We},[Re(" input "),Ye.type!=="textarea"?(V(),le(Ct,{key:0},[Re(" prepend slot "),Ye.$slots.prepend?(V(),le("div",{key:0,class:W(o(w).be("group","prepend"))},[Oe(Ye.$slots,"prepend")],2)):Re("v-if",!0),ue("div",{ref_key:"wrapperRef",ref:H,class:W(o(u))},[Re(" prefix slot "),Ye.$slots.prefix||Ye.prefixIcon?(V(),le("span",{key:0,class:W(o(w).e("prefix"))},[ue("span",{class:W(o(w).e("prefix-inner"))},[Oe(Ye.$slots,"prefix"),Ye.prefixIcon?(V(),Ve(o(wt),{key:0,class:W(o(w).e("icon"))},{default:Se(()=>[(V(),Ve(Yt(Ye.prefixIcon)))]),_:1},8,["class"])):Re("v-if",!0)],2)],2)):Re("v-if",!0),ue("input",Xt({id:o(p),ref_key:"input",ref:_,class:o(w).e("inner")},o(i),{minlength:Ye.minlength,maxlength:Ye.maxlength,type:Ye.showPassword?E.value?"text":"password":Ye.type,disabled:o(v),readonly:Ye.readonly,autocomplete:Ye.autocomplete,tabindex:Ye.tabindex,"aria-label":Ye.ariaLabel,placeholder:Ye.placeholder,style:Ye.inputStyle,form:Ye.form,autofocus:Ye.autofocus,role:Ye.containerRole,onCompositionstart:o(be),onCompositionupdate:o($e),onCompositionend:o(Ge),onInput:et,onChange:qe,onKeydown:rt}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),Re(" suffix slot "),o(ye)?(V(),le("span",{key:1,class:W(o(w).e("suffix"))},[ue("span",{class:W(o(w).e("suffix-inner"))},[!o(ee)||!o(J)||!o(fe)?(V(),le(Ct,{key:0},[Oe(Ye.$slots,"suffix"),Ye.suffixIcon?(V(),Ve(o(wt),{key:0,class:W(o(w).e("icon"))},{default:Se(()=>[(V(),Ve(Yt(Ye.suffixIcon)))]),_:1},8,["class"])):Re("v-if",!0)],64)):Re("v-if",!0),o(ee)?(V(),Ve(o(wt),{key:1,class:W([o(w).e("icon"),o(w).e("clear")]),onMousedown:Lt(o(In),["prevent"]),onClick:mt},{default:Se(()=>[pe(o(da))]),_:1},8,["class","onMousedown"])):Re("v-if",!0),o(J)?(V(),Ve(o(wt),{key:2,class:W([o(w).e("icon"),o(w).e("password")]),onClick:Qe},{default:Se(()=>[(V(),Ve(Yt(o(xe))))]),_:1},8,["class"])):Re("v-if",!0),o(fe)?(V(),le("span",{key:3,class:W(o(w).e("count"))},[ue("span",{class:W(o(w).e("count-inner"))},at(o(ge))+" / "+at(Ye.maxlength),3)],2)):Re("v-if",!0),o(Y)&&o(de)&&o(q)?(V(),Ve(o(wt),{key:4,class:W([o(w).e("icon"),o(w).e("validateIcon"),o(w).is("loading",o(Y)==="validating")])},{default:Se(()=>[(V(),Ve(Yt(o(de))))]),_:1},8,["class"])):Re("v-if",!0)],2)],2)):Re("v-if",!0)],2),Re(" append slot "),Ye.$slots.append?(V(),le("div",{key:1,class:W(o(w).be("group","append"))},[Oe(Ye.$slots,"append")],2)):Re("v-if",!0)],64)):(V(),le(Ct,{key:1},[Re(" textarea "),ue("textarea",Xt({id:o(p),ref_key:"textarea",ref:C,class:[o(b).e("inner"),o(w).is("focus",o(U))]},o(i),{minlength:Ye.minlength,maxlength:Ye.maxlength,tabindex:Ye.tabindex,disabled:o(v),readonly:Ye.readonly,autocomplete:Ye.autocomplete,style:o(Z),"aria-label":Ye.ariaLabel,placeholder:Ye.placeholder,form:Ye.form,autofocus:Ye.autofocus,rows:Ye.rows,role:Ye.containerRole,onCompositionstart:o(be),onCompositionupdate:o($e),onCompositionend:o(Ge),onInput:et,onFocus:o(K),onBlur:o(G),onChange:qe,onKeydown:rt}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),o(fe)?(V(),le("span",{key:0,style:Tt(k.value),class:W(o(w).e("count"))},at(o(ge))+" / "+at(Ye.maxlength),7)):Re("v-if",!0)],64))],38))}});var pF=ot(hF,[["__file","input.vue"]]);const Zr=zt(pF),Uo=4,TC={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},mF=({move:e,size:t,bar:n})=>({[n.size]:t,transform:`translate${n.axis}(${e}%)`}),iv=Symbol("scrollbarContextKey"),gF=st({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),vF="Thumb",yF=ve({__name:"thumb",props:gF,setup(e){const t=e,n=vt(iv),r=Xe("scrollbar");n||xr(vF,"can not inject scrollbar context");const s=Q(),i=Q(),a=Q({}),l=Q(!1);let u=!1,d=!1,f=un?document.onselectstart:null;const p=L(()=>TC[t.vertical?"vertical":"horizontal"]),g=L(()=>mF({size:t.size,move:t.move,bar:p.value})),v=L(()=>s.value[p.value.offset]**2/n.wrapElement[p.value.scrollSize]/t.ratio/i.value[p.value.offset]),w=D=>{var H;if(D.stopPropagation(),D.ctrlKey||[1,2].includes(D.button))return;(H=window.getSelection())==null||H.removeAllRanges(),_(D);const U=D.currentTarget;U&&(a.value[p.value.axis]=U[p.value.offset]-(D[p.value.client]-U.getBoundingClientRect()[p.value.direction]))},b=D=>{if(!i.value||!s.value||!n.wrapElement)return;const H=Math.abs(D.target.getBoundingClientRect()[p.value.direction]-D[p.value.client]),U=i.value[p.value.offset]/2,K=(H-U)*100*v.value/s.value[p.value.offset];n.wrapElement[p.value.scroll]=K*n.wrapElement[p.value.scrollSize]/100},_=D=>{D.stopImmediatePropagation(),u=!0,document.addEventListener("mousemove",C),document.addEventListener("mouseup",M),f=document.onselectstart,document.onselectstart=()=>!1},C=D=>{if(!s.value||!i.value||u===!1)return;const H=a.value[p.value.axis];if(!H)return;const U=(s.value.getBoundingClientRect()[p.value.direction]-D[p.value.client])*-1,K=i.value[p.value.offset]-H,G=(U-K)*100*v.value/s.value[p.value.offset];n.wrapElement[p.value.scroll]=G*n.wrapElement[p.value.scrollSize]/100},M=()=>{u=!1,a.value[p.value.axis]=0,document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",M),A(),d&&(l.value=!1)},E=()=>{d=!1,l.value=!!t.size},k=()=>{d=!0,l.value=u};Fn(()=>{A(),document.removeEventListener("mouseup",M)});const A=()=>{document.onselectstart!==f&&(document.onselectstart=f)};return Mn(Tn(n,"scrollbarElement"),"mousemove",E),Mn(Tn(n,"scrollbarElement"),"mouseleave",k),(D,H)=>(V(),Ve(Rr,{name:o(r).b("fade"),persisted:""},{default:Se(()=>[Bt(ue("div",{ref_key:"instance",ref:s,class:W([o(r).e("bar"),o(r).is(o(p).key)]),onMousedown:b},[ue("div",{ref_key:"thumb",ref:i,class:W(o(r).e("thumb")),style:Tt(o(g)),onMousedown:w},null,38)],34),[[mn,D.always||l.value]])]),_:1},8,["name"]))}});var mw=ot(yF,[["__file","thumb.vue"]]);const bF=st({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),wF=ve({__name:"bar",props:bF,setup(e,{expose:t}){const n=e,r=vt(iv),s=Q(0),i=Q(0),a=Q(""),l=Q(""),u=Q(1),d=Q(1);return t({handleScroll:g=>{if(g){const v=g.offsetHeight-Uo,w=g.offsetWidth-Uo;i.value=g.scrollTop*100/v*u.value,s.value=g.scrollLeft*100/w*d.value}},update:()=>{const g=r==null?void 0:r.wrapElement;if(!g)return;const v=g.offsetHeight-Uo,w=g.offsetWidth-Uo,b=v**2/g.scrollHeight,_=w**2/g.scrollWidth,C=Math.max(b,n.minSize),M=Math.max(_,n.minSize);u.value=b/(v-b)/(C/(v-C)),d.value=_/(w-_)/(M/(w-M)),l.value=C+Uo<v?`${C}px`:"",a.value=M+Uo<w?`${M}px`:""}}),(g,v)=>(V(),le(Ct,null,[pe(mw,{move:s.value,ratio:d.value,size:a.value,always:g.always},null,8,["move","ratio","size","always"]),pe(mw,{move:i.value,ratio:u.value,size:l.value,vertical:"",always:g.always},null,8,["move","ratio","size","always"])],64))}});var xF=ot(wF,[["__file","bar.vue"]]);const SF=st({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Ie([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...Fr(["ariaLabel","ariaOrientation"])}),CF={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every($t)},_F="ElScrollbar",TF=ve({name:_F}),kF=ve({...TF,props:SF,emits:CF,setup(e,{expose:t,emit:n}){const r=e,s=Xe("scrollbar");let i,a,l=0,u=0;const d=Q(),f=Q(),p=Q(),g=Q(),v=L(()=>{const A={};return r.height&&(A.height=nr(r.height)),r.maxHeight&&(A.maxHeight=nr(r.maxHeight)),[r.wrapStyle,A]}),w=L(()=>[r.wrapClass,s.e("wrap"),{[s.em("wrap","hidden-default")]:!r.native}]),b=L(()=>[s.e("view"),r.viewClass]),_=()=>{var A;f.value&&((A=g.value)==null||A.handleScroll(f.value),l=f.value.scrollTop,u=f.value.scrollLeft,n("scroll",{scrollTop:f.value.scrollTop,scrollLeft:f.value.scrollLeft}))};function C(A,D){jt(A)?f.value.scrollTo(A):$t(A)&&$t(D)&&f.value.scrollTo(A,D)}const M=A=>{$t(A)&&(f.value.scrollTop=A)},E=A=>{$t(A)&&(f.value.scrollLeft=A)},k=()=>{var A;(A=g.value)==null||A.update()};return je(()=>r.noresize,A=>{A?(i==null||i(),a==null||a()):({stop:i}=Jn(p,k),a=Mn("resize",k))},{immediate:!0}),je(()=>[r.maxHeight,r.height],()=>{r.native||Et(()=>{var A;k(),f.value&&((A=g.value)==null||A.handleScroll(f.value))})}),Qt(iv,wn({scrollbarElement:d,wrapElement:f})),Cg(()=>{f.value&&(f.value.scrollTop=l,f.value.scrollLeft=u)}),Ut(()=>{r.native||Et(()=>{k()})}),ui(()=>k()),t({wrapRef:f,update:k,scrollTo:C,setScrollTop:M,setScrollLeft:E,handleScroll:_}),(A,D)=>(V(),le("div",{ref_key:"scrollbarRef",ref:d,class:W(o(s).b())},[ue("div",{ref_key:"wrapRef",ref:f,class:W(o(w)),style:Tt(o(v)),tabindex:A.tabindex,onScroll:_},[(V(),Ve(Yt(A.tag),{id:A.id,ref_key:"resizeRef",ref:p,class:W(o(b)),style:Tt(A.viewStyle),role:A.role,"aria-label":A.ariaLabel,"aria-orientation":A.ariaOrientation},{default:Se(()=>[Oe(A.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),A.native?Re("v-if",!0):(V(),Ve(xF,{key:0,ref_key:"barRef",ref:g,always:A.always,"min-size":A.minSize},null,8,["always","min-size"]))],2))}});var EF=ot(kF,[["__file","scrollbar.vue"]]);const Mi=zt(EF),av=Symbol("popper"),kC=Symbol("popperContent"),$F=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],EC=st({role:{type:String,values:$F,default:"tooltip"}}),IF=ve({name:"ElPopper",inheritAttrs:!1}),AF=ve({...IF,props:EC,setup(e,{expose:t}){const n=e,r=Q(),s=Q(),i=Q(),a=Q(),l=L(()=>n.role),u={triggerRef:r,popperInstanceRef:s,contentRef:i,referenceRef:a,role:l};return t(u),Qt(av,u),(d,f)=>Oe(d.$slots,"default")}});var LF=ot(AF,[["__file","popper.vue"]]);const $C=st({arrowOffset:{type:Number,default:5}}),OF=ve({name:"ElPopperArrow",inheritAttrs:!1}),MF=ve({...OF,props:$C,setup(e,{expose:t}){const n=e,r=Xe("popper"),{arrowOffset:s,arrowRef:i,arrowStyle:a}=vt(kC,void 0);return je(()=>n.arrowOffset,l=>{s.value=l}),Fn(()=>{i.value=void 0}),t({arrowRef:i}),(l,u)=>(V(),le("span",{ref_key:"arrowRef",ref:i,class:W(o(r).e("arrow")),style:Tt(o(a)),"data-popper-arrow":""},null,6))}});var RF=ot(MF,[["__file","arrow.vue"]]);const IC=st({virtualRef:{type:Ie(Object)},virtualTriggering:Boolean,onMouseenter:{type:Ie(Function)},onMouseleave:{type:Ie(Function)},onClick:{type:Ie(Function)},onKeydown:{type:Ie(Function)},onFocus:{type:Ie(Function)},onBlur:{type:Ie(Function)},onContextmenu:{type:Ie(Function)},id:String,open:Boolean}),AC=Symbol("elForwardRef"),DF=e=>{Qt(AC,{setForwardRef:n=>{e.value=n}})},NF=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),PF='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',FF=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,gw=e=>Array.from(e.querySelectorAll(PF)).filter(t=>mf(t)&&FF(t)),mf=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.tabIndex<0||e.hasAttribute("disabled")||e.getAttribute("aria-disabled")==="true")return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},$d=function(e,t,...n){let r;t.includes("mouse")||t.includes("click")?r="MouseEvents":t.includes("key")?r="KeyboardEvent":r="HTMLEvents";const s=document.createEvent(r);return s.initEvent(t,...n),e.dispatchEvent(s),e},LC=e=>!e.getAttribute("aria-owns"),OC=(e,t,n)=>{const{parentNode:r}=e;if(!r)return null;const s=r.querySelectorAll(n),i=Array.prototype.indexOf.call(s,e);return s[i+t]||null},Id=e=>{e&&(e.focus(),!LC(e)&&e.click())},VF="ElOnlyChild",MC=ve({name:VF,setup(e,{slots:t,attrs:n}){var r;const s=vt(AC),i=NF((r=s==null?void 0:s.setForwardRef)!=null?r:In);return()=>{var a;const l=(a=t.default)==null?void 0:a.call(t,n);if(!l||l.length>1)return null;const u=RC(l);return u?Bt(ta(u,n),[[i]]):null}}});function RC(e){if(!e)return null;const t=e;for(const n of t){if(jt(n))switch(n.type){case Ar:continue;case Vl:case"svg":return vw(n);case Ct:return RC(n.children);default:return n}return vw(n)}return null}function vw(e){const t=Xe("only-child");return pe("span",{class:t.e("content")},[e])}const zF=ve({name:"ElPopperTrigger",inheritAttrs:!1}),BF=ve({...zF,props:IC,setup(e,{expose:t}){const n=e,{role:r,triggerRef:s}=vt(av,void 0);DF(s);const i=L(()=>l.value?n.id:void 0),a=L(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),l=L(()=>{if(r&&r.value!=="tooltip")return r.value}),u=L(()=>l.value?`${n.open}`:void 0);let d;const f=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return Ut(()=>{je(()=>n.virtualRef,p=>{p&&(s.value=ls(p))},{immediate:!0}),je(s,(p,g)=>{d==null||d(),d=void 0,us(p)&&(f.forEach(v=>{var w;const b=n[v];b&&(p.addEventListener(v.slice(2).toLowerCase(),b),(w=g==null?void 0:g.removeEventListener)==null||w.call(g,v.slice(2).toLowerCase(),b))}),mf(p)&&(d=je([i,a,l,u],v=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((w,b)=>{kr(v[b])?p.removeAttribute(w):p.setAttribute(w,v[b])})},{immediate:!0}))),us(g)&&mf(g)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(v=>g.removeAttribute(v))},{immediate:!0})}),Fn(()=>{if(d==null||d(),d=void 0,s.value&&us(s.value)){const p=s.value;f.forEach(g=>{const v=n[g];v&&p.removeEventListener(g.slice(2).toLowerCase(),v)}),s.value=void 0}}),t({triggerRef:s}),(p,g)=>p.virtualTriggering?Re("v-if",!0):(V(),Ve(o(MC),Xt({key:0},p.$attrs,{"aria-controls":o(i),"aria-describedby":o(a),"aria-expanded":o(u),"aria-haspopup":o(l)}),{default:Se(()=>[Oe(p.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var KF=ot(BF,[["__file","trigger.vue"]]);const sp="focus-trap.focus-after-trapped",ip="focus-trap.focus-after-released",HF="focus-trap.focusout-prevented",yw={cancelable:!0,bubbles:!1},WF={cancelable:!0,bubbles:!1},bw="focusAfterTrapped",ww="focusAfterReleased",ov=Symbol("elFocusTrap"),lv=Q(),uh=Q(0),uv=Q(0);let ld=0;const DC=e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},xw=(e,t)=>{for(const n of e)if(!UF(n,t))return n},UF=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},jF=e=>{const t=DC(e),n=xw(t,e),r=xw(t.reverse(),e);return[n,r]},GF=e=>e instanceof HTMLInputElement&&"select"in e,Gi=(e,t)=>{if(e&&e.focus){const n=document.activeElement;let r=!1;us(e)&&!mf(e)&&!e.getAttribute("tabindex")&&(e.setAttribute("tabindex","-1"),r=!0),e.focus({preventScroll:!0}),uv.value=window.performance.now(),e!==n&&GF(e)&&t&&e.select(),us(e)&&r&&e.removeAttribute("tabindex")}};function Sw(e,t){const n=[...e],r=e.indexOf(t);return r!==-1&&n.splice(r,1),n}const YF=()=>{let e=[];return{push:r=>{const s=e[0];s&&r!==s&&s.pause(),e=Sw(e,r),e.unshift(r)},remove:r=>{var s,i;e=Sw(e,r),(i=(s=e[0])==null?void 0:s.resume)==null||i.call(s)}}},XF=(e,t=!1)=>{const n=document.activeElement;for(const r of e)if(Gi(r,t),document.activeElement!==n)return},Cw=YF(),qF=()=>uh.value>uv.value,ud=()=>{lv.value="pointer",uh.value=window.performance.now()},_w=()=>{lv.value="keyboard",uh.value=window.performance.now()},JF=()=>(Ut(()=>{ld===0&&(document.addEventListener("mousedown",ud),document.addEventListener("touchstart",ud),document.addEventListener("keydown",_w)),ld++}),Fn(()=>{ld--,ld<=0&&(document.removeEventListener("mousedown",ud),document.removeEventListener("touchstart",ud),document.removeEventListener("keydown",_w))}),{focusReason:lv,lastUserFocusTimestamp:uh,lastAutomatedFocusTimestamp:uv}),cd=e=>new CustomEvent(HF,{...WF,detail:e}),gt={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"};let Zo=[];const Tw=e=>{e.code===gt.esc&&Zo.forEach(t=>t(e))},ZF=e=>{Ut(()=>{Zo.length===0&&document.addEventListener("keydown",Tw),un&&Zo.push(e)}),Fn(()=>{Zo=Zo.filter(t=>t!==e),Zo.length===0&&un&&document.removeEventListener("keydown",Tw)})},QF=ve({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[bw,ww,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const n=Q();let r,s;const{focusReason:i}=JF();ZF(w=>{e.trapped&&!a.paused&&t("release-requested",w)});const a={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},l=w=>{if(!e.loop&&!e.trapped||a.paused)return;const{code:b,altKey:_,ctrlKey:C,metaKey:M,currentTarget:E,shiftKey:k}=w,{loop:A}=e,D=b===gt.tab&&!_&&!C&&!M,H=document.activeElement;if(D&&H){const U=E,[K,G]=jF(U);if(K&&G){if(!k&&H===G){const Y=cd({focusReason:i.value});t("focusout-prevented",Y),Y.defaultPrevented||(w.preventDefault(),A&&Gi(K,!0))}else if(k&&[K,U].includes(H)){const Y=cd({focusReason:i.value});t("focusout-prevented",Y),Y.defaultPrevented||(w.preventDefault(),A&&Gi(G,!0))}}else if(H===U){const Y=cd({focusReason:i.value});t("focusout-prevented",Y),Y.defaultPrevented||w.preventDefault()}}};Qt(ov,{focusTrapRef:n,onKeydown:l}),je(()=>e.focusTrapEl,w=>{w&&(n.value=w)},{immediate:!0}),je([n],([w],[b])=>{w&&(w.addEventListener("keydown",l),w.addEventListener("focusin",f),w.addEventListener("focusout",p)),b&&(b.removeEventListener("keydown",l),b.removeEventListener("focusin",f),b.removeEventListener("focusout",p))});const u=w=>{t(bw,w)},d=w=>t(ww,w),f=w=>{const b=o(n);if(!b)return;const _=w.target,C=w.relatedTarget,M=_&&b.contains(_);e.trapped||C&&b.contains(C)||(r=C),M&&t("focusin",w),!a.paused&&e.trapped&&(M?s=_:Gi(s,!0))},p=w=>{const b=o(n);if(!(a.paused||!b))if(e.trapped){const _=w.relatedTarget;!kr(_)&&!b.contains(_)&&setTimeout(()=>{if(!a.paused&&e.trapped){const C=cd({focusReason:i.value});t("focusout-prevented",C),C.defaultPrevented||Gi(s,!0)}},0)}else{const _=w.target;_&&b.contains(_)||t("focusout",w)}};async function g(){await Et();const w=o(n);if(w){Cw.push(a);const b=w.contains(document.activeElement)?r:document.activeElement;if(r=b,!w.contains(b)){const C=new Event(sp,yw);w.addEventListener(sp,u),w.dispatchEvent(C),C.defaultPrevented||Et(()=>{let M=e.focusStartEl;xt(M)||(Gi(M),document.activeElement!==M&&(M="first")),M==="first"&&XF(DC(w),!0),(document.activeElement===b||M==="container")&&Gi(w)})}}}function v(){const w=o(n);if(w){w.removeEventListener(sp,u);const b=new CustomEvent(ip,{...yw,detail:{focusReason:i.value}});w.addEventListener(ip,d),w.dispatchEvent(b),!b.defaultPrevented&&(i.value=="keyboard"||!qF()||w.contains(document.activeElement))&&Gi(r??document.body),w.removeEventListener(ip,d),Cw.remove(a)}}return Ut(()=>{e.trapped&&g(),je(()=>e.trapped,w=>{w?g():v()})}),Fn(()=>{e.trapped&&v(),n.value&&(n.value.removeEventListener("keydown",l),n.value.removeEventListener("focusin",f),n.value.removeEventListener("focusout",p),n.value=void 0)}),{onKeydown:l}}});function eV(e,t,n,r,s,i){return Oe(e.$slots,"default",{handleKeydown:e.onKeydown})}var jl=ot(QF,[["render",eV],["__file","focus-trap.vue"]]),bs="top",Ks="bottom",Hs="right",ws="left",cv="auto",$c=[bs,Ks,Hs,ws],Sl="start",Zu="end",tV="clippingParents",NC="viewport",uu="popper",nV="reference",kw=$c.reduce(function(e,t){return e.concat([t+"-"+Sl,t+"-"+Zu])},[]),fa=[].concat($c,[cv]).reduce(function(e,t){return e.concat([t,t+"-"+Sl,t+"-"+Zu])},[]),rV="beforeRead",sV="read",iV="afterRead",aV="beforeMain",oV="main",lV="afterMain",uV="beforeWrite",cV="write",dV="afterWrite",fV=[rV,sV,iV,aV,oV,lV,uV,cV,dV];function Ai(e){return e?(e.nodeName||"").toLowerCase():null}function fi(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Cl(e){var t=fi(e).Element;return e instanceof t||e instanceof Element}function Vs(e){var t=fi(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function dv(e){if(typeof ShadowRoot>"u")return!1;var t=fi(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function hV(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},s=t.attributes[n]||{},i=t.elements[n];!Vs(i)||!Ai(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(a){var l=s[a];l===!1?i.removeAttribute(a):i.setAttribute(a,l===!0?"":l)}))})}function pV(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var s=t.elements[r],i=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),l=a.reduce(function(u,d){return u[d]="",u},{});!Vs(s)||!Ai(s)||(Object.assign(s.style,l),Object.keys(i).forEach(function(u){s.removeAttribute(u)}))})}}var PC={name:"applyStyles",enabled:!0,phase:"write",fn:hV,effect:pV,requires:["computeStyles"]};function Ti(e){return e.split("-")[0]}var To=Math.max,gf=Math.min,_l=Math.round;function Tl(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),r=1,s=1;if(Vs(e)&&t){var i=e.offsetHeight,a=e.offsetWidth;a>0&&(r=_l(n.width)/a||1),i>0&&(s=_l(n.height)/i||1)}return{width:n.width/r,height:n.height/s,top:n.top/s,right:n.right/r,bottom:n.bottom/s,left:n.left/r,x:n.left/r,y:n.top/s}}function fv(e){var t=Tl(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function FC(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&dv(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function na(e){return fi(e).getComputedStyle(e)}function mV(e){return["table","td","th"].indexOf(Ai(e))>=0}function eo(e){return((Cl(e)?e.ownerDocument:e.document)||window.document).documentElement}function ch(e){return Ai(e)==="html"?e:e.assignedSlot||e.parentNode||(dv(e)?e.host:null)||eo(e)}function Ew(e){return!Vs(e)||na(e).position==="fixed"?null:e.offsetParent}function gV(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Vs(e)){var r=na(e);if(r.position==="fixed")return null}var s=ch(e);for(dv(s)&&(s=s.host);Vs(s)&&["html","body"].indexOf(Ai(s))<0;){var i=na(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function Ic(e){for(var t=fi(e),n=Ew(e);n&&mV(n)&&na(n).position==="static";)n=Ew(n);return n&&(Ai(n)==="html"||Ai(n)==="body"&&na(n).position==="static")?t:n||gV(e)||t}function hv(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Au(e,t,n){return To(e,gf(t,n))}function vV(e,t,n){var r=Au(e,t,n);return r>n?n:r}function VC(){return{top:0,right:0,bottom:0,left:0}}function zC(e){return Object.assign({},VC(),e)}function BC(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var yV=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,zC(typeof e!="number"?e:BC(e,$c))};function bV(e){var t,n=e.state,r=e.name,s=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,l=Ti(n.placement),u=hv(l),d=[ws,Hs].indexOf(l)>=0,f=d?"height":"width";if(!(!i||!a)){var p=yV(s.padding,n),g=fv(i),v=u==="y"?bs:ws,w=u==="y"?Ks:Hs,b=n.rects.reference[f]+n.rects.reference[u]-a[u]-n.rects.popper[f],_=a[u]-n.rects.reference[u],C=Ic(i),M=C?u==="y"?C.clientHeight||0:C.clientWidth||0:0,E=b/2-_/2,k=p[v],A=M-g[f]-p[w],D=M/2-g[f]/2+E,H=Au(k,D,A),U=u;n.modifiersData[r]=(t={},t[U]=H,t.centerOffset=H-D,t)}}function wV(e){var t=e.state,n=e.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||!FC(t.elements.popper,s)||(t.elements.arrow=s))}var xV={name:"arrow",enabled:!0,phase:"main",fn:bV,effect:wV,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function kl(e){return e.split("-")[1]}var SV={top:"auto",right:"auto",bottom:"auto",left:"auto"};function CV(e){var t=e.x,n=e.y,r=window,s=r.devicePixelRatio||1;return{x:_l(t*s)/s||0,y:_l(n*s)/s||0}}function $w(e){var t,n=e.popper,r=e.popperRect,s=e.placement,i=e.variation,a=e.offsets,l=e.position,u=e.gpuAcceleration,d=e.adaptive,f=e.roundOffsets,p=e.isFixed,g=a.x,v=g===void 0?0:g,w=a.y,b=w===void 0?0:w,_=typeof f=="function"?f({x:v,y:b}):{x:v,y:b};v=_.x,b=_.y;var C=a.hasOwnProperty("x"),M=a.hasOwnProperty("y"),E=ws,k=bs,A=window;if(d){var D=Ic(n),H="clientHeight",U="clientWidth";if(D===fi(n)&&(D=eo(n),na(D).position!=="static"&&l==="absolute"&&(H="scrollHeight",U="scrollWidth")),D=D,s===bs||(s===ws||s===Hs)&&i===Zu){k=Ks;var K=p&&D===A&&A.visualViewport?A.visualViewport.height:D[H];b-=K-r.height,b*=u?1:-1}if(s===ws||(s===bs||s===Ks)&&i===Zu){E=Hs;var G=p&&D===A&&A.visualViewport?A.visualViewport.width:D[U];v-=G-r.width,v*=u?1:-1}}var q=Object.assign({position:l},d&&SV),Y=f===!0?CV({x:v,y:b}):{x:v,y:b};if(v=Y.x,b=Y.y,u){var de;return Object.assign({},q,(de={},de[k]=M?"0":"",de[E]=C?"0":"",de.transform=(A.devicePixelRatio||1)<=1?"translate("+v+"px, "+b+"px)":"translate3d("+v+"px, "+b+"px, 0)",de))}return Object.assign({},q,(t={},t[k]=M?b+"px":"",t[E]=C?v+"px":"",t.transform="",t))}function _V(e){var t=e.state,n=e.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,a=i===void 0?!0:i,l=n.roundOffsets,u=l===void 0?!0:l,d={placement:Ti(t.placement),variation:kl(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,$w(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:u})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,$w(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var KC={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:_V,data:{}},dd={passive:!0};function TV(e){var t=e.state,n=e.instance,r=e.options,s=r.scroll,i=s===void 0?!0:s,a=r.resize,l=a===void 0?!0:a,u=fi(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&d.forEach(function(f){f.addEventListener("scroll",n.update,dd)}),l&&u.addEventListener("resize",n.update,dd),function(){i&&d.forEach(function(f){f.removeEventListener("scroll",n.update,dd)}),l&&u.removeEventListener("resize",n.update,dd)}}var HC={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:TV,data:{}},kV={left:"right",right:"left",bottom:"top",top:"bottom"};function Ad(e){return e.replace(/left|right|bottom|top/g,function(t){return kV[t]})}var EV={start:"end",end:"start"};function Iw(e){return e.replace(/start|end/g,function(t){return EV[t]})}function pv(e){var t=fi(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function mv(e){return Tl(eo(e)).left+pv(e).scrollLeft}function $V(e){var t=fi(e),n=eo(e),r=t.visualViewport,s=n.clientWidth,i=n.clientHeight,a=0,l=0;return r&&(s=r.width,i=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,l=r.offsetTop)),{width:s,height:i,x:a+mv(e),y:l}}function IV(e){var t,n=eo(e),r=pv(e),s=(t=e.ownerDocument)==null?void 0:t.body,i=To(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),a=To(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-r.scrollLeft+mv(e),u=-r.scrollTop;return na(s||n).direction==="rtl"&&(l+=To(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:a,x:l,y:u}}function gv(e){var t=na(e),n=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function WC(e){return["html","body","#document"].indexOf(Ai(e))>=0?e.ownerDocument.body:Vs(e)&&gv(e)?e:WC(ch(e))}function Lu(e,t){var n;t===void 0&&(t=[]);var r=WC(e),s=r===((n=e.ownerDocument)==null?void 0:n.body),i=fi(r),a=s?[i].concat(i.visualViewport||[],gv(r)?r:[]):r,l=t.concat(a);return s?l:l.concat(Lu(ch(a)))}function nm(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function AV(e){var t=Tl(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function Aw(e,t){return t===NC?nm($V(e)):Cl(t)?AV(t):nm(IV(eo(e)))}function LV(e){var t=Lu(ch(e)),n=["absolute","fixed"].indexOf(na(e).position)>=0,r=n&&Vs(e)?Ic(e):e;return Cl(r)?t.filter(function(s){return Cl(s)&&FC(s,r)&&Ai(s)!=="body"}):[]}function OV(e,t,n){var r=t==="clippingParents"?LV(e):[].concat(t),s=[].concat(r,[n]),i=s[0],a=s.reduce(function(l,u){var d=Aw(e,u);return l.top=To(d.top,l.top),l.right=gf(d.right,l.right),l.bottom=gf(d.bottom,l.bottom),l.left=To(d.left,l.left),l},Aw(e,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function UC(e){var t=e.reference,n=e.element,r=e.placement,s=r?Ti(r):null,i=r?kl(r):null,a=t.x+t.width/2-n.width/2,l=t.y+t.height/2-n.height/2,u;switch(s){case bs:u={x:a,y:t.y-n.height};break;case Ks:u={x:a,y:t.y+t.height};break;case Hs:u={x:t.x+t.width,y:l};break;case ws:u={x:t.x-n.width,y:l};break;default:u={x:t.x,y:t.y}}var d=s?hv(s):null;if(d!=null){var f=d==="y"?"height":"width";switch(i){case Sl:u[d]=u[d]-(t[f]/2-n[f]/2);break;case Zu:u[d]=u[d]+(t[f]/2-n[f]/2);break}}return u}function Qu(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=r===void 0?e.placement:r,i=n.boundary,a=i===void 0?tV:i,l=n.rootBoundary,u=l===void 0?NC:l,d=n.elementContext,f=d===void 0?uu:d,p=n.altBoundary,g=p===void 0?!1:p,v=n.padding,w=v===void 0?0:v,b=zC(typeof w!="number"?w:BC(w,$c)),_=f===uu?nV:uu,C=e.rects.popper,M=e.elements[g?_:f],E=OV(Cl(M)?M:M.contextElement||eo(e.elements.popper),a,u),k=Tl(e.elements.reference),A=UC({reference:k,element:C,placement:s}),D=nm(Object.assign({},C,A)),H=f===uu?D:k,U={top:E.top-H.top+b.top,bottom:H.bottom-E.bottom+b.bottom,left:E.left-H.left+b.left,right:H.right-E.right+b.right},K=e.modifiersData.offset;if(f===uu&&K){var G=K[s];Object.keys(U).forEach(function(q){var Y=[Hs,Ks].indexOf(q)>=0?1:-1,de=[bs,Ks].indexOf(q)>=0?"y":"x";U[q]+=G[de]*Y})}return U}function MV(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=n.boundary,i=n.rootBoundary,a=n.padding,l=n.flipVariations,u=n.allowedAutoPlacements,d=u===void 0?fa:u,f=kl(r),p=f?l?kw:kw.filter(function(w){return kl(w)===f}):$c,g=p.filter(function(w){return d.indexOf(w)>=0});g.length===0&&(g=p);var v=g.reduce(function(w,b){return w[b]=Qu(e,{placement:b,boundary:s,rootBoundary:i,padding:a})[Ti(b)],w},{});return Object.keys(v).sort(function(w,b){return v[w]-v[b]})}function RV(e){if(Ti(e)===cv)return[];var t=Ad(e);return[Iw(e),t,Iw(t)]}function DV(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,a=n.altAxis,l=a===void 0?!0:a,u=n.fallbackPlacements,d=n.padding,f=n.boundary,p=n.rootBoundary,g=n.altBoundary,v=n.flipVariations,w=v===void 0?!0:v,b=n.allowedAutoPlacements,_=t.options.placement,C=Ti(_),M=C===_,E=u||(M||!w?[Ad(_)]:RV(_)),k=[_].concat(E).reduce(function(Fe,Be){return Fe.concat(Ti(Be)===cv?MV(t,{placement:Be,boundary:f,rootBoundary:p,padding:d,flipVariations:w,allowedAutoPlacements:b}):Be)},[]),A=t.rects.reference,D=t.rects.popper,H=new Map,U=!0,K=k[0],G=0;G<k.length;G++){var q=k[G],Y=Ti(q),de=kl(q)===Sl,xe=[bs,Ks].indexOf(Y)>=0,oe=xe?"width":"height",Z=Qu(t,{placement:q,boundary:f,rootBoundary:p,altBoundary:g,padding:d}),ne=xe?de?Hs:ws:de?Ks:bs;A[oe]>D[oe]&&(ne=Ad(ne));var ee=Ad(ne),J=[];if(i&&J.push(Z[Y]<=0),l&&J.push(Z[ne]<=0,Z[ee]<=0),J.every(function(Fe){return Fe})){K=q,U=!1;break}H.set(q,J)}if(U)for(var fe=w?3:1,ge=function(Fe){var Be=k.find(function(He){var he=H.get(He);if(he)return he.slice(0,Fe).every(function(Ne){return Ne})});if(Be)return K=Be,"break"},ke=fe;ke>0;ke--){var ye=ge(ke);if(ye==="break")break}t.placement!==K&&(t.modifiersData[r]._skip=!0,t.placement=K,t.reset=!0)}}var NV={name:"flip",enabled:!0,phase:"main",fn:DV,requiresIfExists:["offset"],data:{_skip:!1}};function Lw(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Ow(e){return[bs,Hs,Ks,ws].some(function(t){return e[t]>=0})}function PV(e){var t=e.state,n=e.name,r=t.rects.reference,s=t.rects.popper,i=t.modifiersData.preventOverflow,a=Qu(t,{elementContext:"reference"}),l=Qu(t,{altBoundary:!0}),u=Lw(a,r),d=Lw(l,s,i),f=Ow(u),p=Ow(d);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:d,isReferenceHidden:f,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":p})}var FV={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:PV};function VV(e,t,n){var r=Ti(e),s=[ws,bs].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,a=i[0],l=i[1];return a=a||0,l=(l||0)*s,[ws,Hs].indexOf(r)>=0?{x:l,y:a}:{x:a,y:l}}function zV(e){var t=e.state,n=e.options,r=e.name,s=n.offset,i=s===void 0?[0,0]:s,a=fa.reduce(function(f,p){return f[p]=VV(p,t.rects,i),f},{}),l=a[t.placement],u=l.x,d=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=d),t.modifiersData[r]=a}var BV={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:zV};function KV(e){var t=e.state,n=e.name;t.modifiersData[n]=UC({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}var jC={name:"popperOffsets",enabled:!0,phase:"read",fn:KV,data:{}};function HV(e){return e==="x"?"y":"x"}function WV(e){var t=e.state,n=e.options,r=e.name,s=n.mainAxis,i=s===void 0?!0:s,a=n.altAxis,l=a===void 0?!1:a,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.padding,g=n.tether,v=g===void 0?!0:g,w=n.tetherOffset,b=w===void 0?0:w,_=Qu(t,{boundary:u,rootBoundary:d,padding:p,altBoundary:f}),C=Ti(t.placement),M=kl(t.placement),E=!M,k=hv(C),A=HV(k),D=t.modifiersData.popperOffsets,H=t.rects.reference,U=t.rects.popper,K=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,G=typeof K=="number"?{mainAxis:K,altAxis:K}:Object.assign({mainAxis:0,altAxis:0},K),q=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Y={x:0,y:0};if(D){if(i){var de,xe=k==="y"?bs:ws,oe=k==="y"?Ks:Hs,Z=k==="y"?"height":"width",ne=D[k],ee=ne+_[xe],J=ne-_[oe],fe=v?-U[Z]/2:0,ge=M===Sl?H[Z]:U[Z],ke=M===Sl?-U[Z]:-H[Z],ye=t.elements.arrow,Fe=v&&ye?fv(ye):{width:0,height:0},Be=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:VC(),He=Be[xe],he=Be[oe],Ne=Au(0,H[Z],Fe[Z]),Pe=E?H[Z]/2-fe-Ne-He-G.mainAxis:ge-Ne-He-G.mainAxis,et=E?-H[Z]/2+fe+Ne+he+G.mainAxis:ke+Ne+he+G.mainAxis,qe=t.elements.arrow&&Ic(t.elements.arrow),ae=qe?k==="y"?qe.clientTop||0:qe.clientLeft||0:0,be=(de=q==null?void 0:q[k])!=null?de:0,$e=ne+Pe-be-ae,Ge=ne+et-be,Qe=Au(v?gf(ee,$e):ee,ne,v?To(J,Ge):J);D[k]=Qe,Y[k]=Qe-ne}if(l){var Le,Ze=k==="x"?bs:ws,We=k==="x"?Ks:Hs,it=D[A],rt=A==="y"?"height":"width",St=it+_[Ze],mt=it-_[We],Ye=[bs,ws].indexOf(C)!==-1,yt=(Le=q==null?void 0:q[A])!=null?Le:0,Mt=Ye?St:it-H[rt]-U[rt]-yt+G.altAxis,qt=Ye?it+H[rt]+U[rt]-yt-G.altAxis:mt,Ht=v&&Ye?vV(Mt,it,qt):Au(v?Mt:St,it,v?qt:mt);D[A]=Ht,Y[A]=Ht-it}t.modifiersData[r]=Y}}var UV={name:"preventOverflow",enabled:!0,phase:"main",fn:WV,requiresIfExists:["offset"]};function jV(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function GV(e){return e===fi(e)||!Vs(e)?pv(e):jV(e)}function YV(e){var t=e.getBoundingClientRect(),n=_l(t.width)/e.offsetWidth||1,r=_l(t.height)/e.offsetHeight||1;return n!==1||r!==1}function XV(e,t,n){n===void 0&&(n=!1);var r=Vs(t),s=Vs(t)&&YV(t),i=eo(t),a=Tl(e,s),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((Ai(t)!=="body"||gv(i))&&(l=GV(t)),Vs(t)?(u=Tl(t,!0),u.x+=t.clientLeft,u.y+=t.clientTop):i&&(u.x=mv(i))),{x:a.left+l.scrollLeft-u.x,y:a.top+l.scrollTop-u.y,width:a.width,height:a.height}}function qV(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function s(i){n.add(i.name);var a=[].concat(i.requires||[],i.requiresIfExists||[]);a.forEach(function(l){if(!n.has(l)){var u=t.get(l);u&&s(u)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||s(i)}),r}function JV(e){var t=qV(e);return fV.reduce(function(n,r){return n.concat(t.filter(function(s){return s.phase===r}))},[])}function ZV(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function QV(e){var t=e.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var Mw={placement:"bottom",modifiers:[],strategy:"absolute"};function Rw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function vv(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,s=t.defaultOptions,i=s===void 0?Mw:s;return function(a,l,u){u===void 0&&(u=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Mw,i),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],p=!1,g={state:d,setOptions:function(b){var _=typeof b=="function"?b(d.options):b;w(),d.options=Object.assign({},i,d.options,_),d.scrollParents={reference:Cl(a)?Lu(a):a.contextElement?Lu(a.contextElement):[],popper:Lu(l)};var C=JV(QV([].concat(r,d.options.modifiers)));return d.orderedModifiers=C.filter(function(M){return M.enabled}),v(),g.update()},forceUpdate:function(){if(!p){var b=d.elements,_=b.reference,C=b.popper;if(Rw(_,C)){d.rects={reference:XV(_,Ic(C),d.options.strategy==="fixed"),popper:fv(C)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(U){return d.modifiersData[U.name]=Object.assign({},U.data)});for(var M=0;M<d.orderedModifiers.length;M++){if(d.reset===!0){d.reset=!1,M=-1;continue}var E=d.orderedModifiers[M],k=E.fn,A=E.options,D=A===void 0?{}:A,H=E.name;typeof k=="function"&&(d=k({state:d,options:D,name:H,instance:g})||d)}}}},update:ZV(function(){return new Promise(function(b){g.forceUpdate(),b(d)})}),destroy:function(){w(),p=!0}};if(!Rw(a,l))return g;g.setOptions(u).then(function(b){!p&&u.onFirstUpdate&&u.onFirstUpdate(b)});function v(){d.orderedModifiers.forEach(function(b){var _=b.name,C=b.options,M=C===void 0?{}:C,E=b.effect;if(typeof E=="function"){var k=E({state:d,name:_,instance:g,options:M}),A=function(){};f.push(k||A)}})}function w(){f.forEach(function(b){return b()}),f=[]}return g}}vv();var ez=[HC,jC,KC,PC];vv({defaultModifiers:ez});var tz=[HC,jC,KC,PC,BV,NV,UV,xV,FV],nz=vv({defaultModifiers:tz});const rz=["fixed","absolute"],sz=st({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Ie(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:fa,default:"bottom"},popperOptions:{type:Ie(Object),default:()=>({})},strategy:{type:String,values:rz,default:"absolute"}}),GC=st({...sz,id:String,style:{type:Ie([String,Array,Object])},className:{type:Ie([String,Array,Object])},effect:{type:Ie(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:Ie([String,Array,Object])},popperStyle:{type:Ie([String,Array,Object])},referenceEl:{type:Ie(Object)},triggerTargetEl:{type:Ie(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...Fr(["ariaLabel"])}),iz={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},az=(e,t)=>{const n=Q(!1),r=Q();return{focusStartRef:r,trapped:n,onFocusAfterReleased:d=>{var f;((f=d.detail)==null?void 0:f.focusReason)!=="pointer"&&(r.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:d=>{e.visible&&!n.value&&(d.target&&(r.value=d.target),n.value=!0)},onFocusoutPrevented:d=>{e.trapping||(d.detail.focusReason==="pointer"&&d.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,t("close")}}},oz=(e,t=[])=>{const{placement:n,strategy:r,popperOptions:s}=e,i={placement:n,strategy:r,...s,modifiers:[...uz(e),...t]};return cz(i,s==null?void 0:s.modifiers),i},lz=e=>{if(un)return ls(e)};function uz(e){const{offset:t,gpuAcceleration:n,fallbackPlacements:r}=e;return[{name:"offset",options:{offset:[0,t??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function cz(e,t){t&&(e.modifiers=[...e.modifiers,...t??[]])}const dz=(e,t,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:u})=>{const d=fz(u);Object.assign(a.value,d)},requires:["computeStyles"]},s=L(()=>{const{onFirstUpdate:u,placement:d,strategy:f,modifiers:p}=o(n);return{onFirstUpdate:u,placement:d||"bottom",strategy:f||"absolute",modifiers:[...p||[],r,{name:"applyStyles",enabled:!1}]}}),i=Un(),a=Q({styles:{popper:{position:o(s).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),l=()=>{i.value&&(i.value.destroy(),i.value=void 0)};return je(s,u=>{const d=o(i);d&&d.setOptions(u)},{deep:!0}),je([e,t],([u,d])=>{l(),!(!u||!d)&&(i.value=nz(u,d,o(s)))}),Fn(()=>{l()}),{state:L(()=>{var u;return{...((u=o(i))==null?void 0:u.state)||{}}}),styles:L(()=>o(a).styles),attributes:L(()=>o(a).attributes),update:()=>{var u;return(u=o(i))==null?void 0:u.update()},forceUpdate:()=>{var u;return(u=o(i))==null?void 0:u.forceUpdate()},instanceRef:L(()=>o(i))}};function fz(e){const t=Object.keys(e.elements),n=Ju(t.map(s=>[s,e.styles[s]||{}])),r=Ju(t.map(s=>[s,e.attributes[s]]));return{styles:n,attributes:r}}const hz=0,pz=e=>{const{popperInstanceRef:t,contentRef:n,triggerRef:r,role:s}=vt(av,void 0),i=Q(),a=Q(),l=L(()=>({name:"eventListeners",enabled:!!e.visible})),u=L(()=>{var C;const M=o(i),E=(C=o(a))!=null?C:hz;return{name:"arrow",enabled:!J2(M),options:{element:M,padding:E}}}),d=L(()=>({onFirstUpdate:()=>{w()},...oz(e,[o(u),o(l)])})),f=L(()=>lz(e.referenceEl)||o(r)),{attributes:p,state:g,styles:v,update:w,forceUpdate:b,instanceRef:_}=dz(f,n,d);return je(_,C=>t.value=C),Ut(()=>{je(()=>{var C;return(C=o(f))==null?void 0:C.getBoundingClientRect()},()=>{w()})}),{attributes:p,arrowRef:i,contentRef:n,instanceRef:_,state:g,styles:v,role:s,forceUpdate:b,update:w}},mz=(e,{attributes:t,styles:n,role:r})=>{const{nextZIndex:s}=Wl(),i=Xe("popper"),a=L(()=>o(t).popper),l=Q($t(e.zIndex)?e.zIndex:s()),u=L(()=>[i.b(),i.is("pure",e.pure),i.is(e.effect),e.popperClass]),d=L(()=>[{zIndex:o(l)},o(n).popper,e.popperStyle||{}]),f=L(()=>r.value==="dialog"?"false":void 0),p=L(()=>o(n).arrow||{});return{ariaModal:f,arrowStyle:p,contentAttrs:a,contentClass:u,contentStyle:d,contentZIndex:l,updateZIndex:()=>{l.value=$t(e.zIndex)?e.zIndex:s()}}},gz=ve({name:"ElPopperContent"}),vz=ve({...gz,props:GC,emits:iz,setup(e,{expose:t,emit:n}){const r=e,{focusStartRef:s,trapped:i,onFocusAfterReleased:a,onFocusAfterTrapped:l,onFocusInTrap:u,onFocusoutPrevented:d,onReleaseRequested:f}=az(r,n),{attributes:p,arrowRef:g,contentRef:v,styles:w,instanceRef:b,role:_,update:C}=pz(r),{ariaModal:M,arrowStyle:E,contentAttrs:k,contentClass:A,contentStyle:D,updateZIndex:H}=mz(r,{styles:w,attributes:p,role:_}),U=vt(Ii,void 0),K=Q();Qt(kC,{arrowStyle:E,arrowRef:g,arrowOffset:K}),U&&Qt(Ii,{...U,addInputId:In,removeInputId:In});let G;const q=(de=!0)=>{C(),de&&H()},Y=()=>{q(!1),r.visible&&r.focusOnShow?i.value=!0:r.visible===!1&&(i.value=!1)};return Ut(()=>{je(()=>r.triggerTargetEl,(de,xe)=>{G==null||G(),G=void 0;const oe=o(de||v.value),Z=o(xe||v.value);us(oe)&&(G=je([_,()=>r.ariaLabel,M,()=>r.id],ne=>{["role","aria-label","aria-modal","id"].forEach((ee,J)=>{kr(ne[J])?oe.removeAttribute(ee):oe.setAttribute(ee,ne[J])})},{immediate:!0})),Z!==oe&&us(Z)&&["role","aria-label","aria-modal","id"].forEach(ne=>{Z.removeAttribute(ne)})},{immediate:!0}),je(()=>r.visible,Y,{immediate:!0})}),Fn(()=>{G==null||G(),G=void 0}),t({popperContentRef:v,popperInstanceRef:b,updatePopper:q,contentStyle:D}),(de,xe)=>(V(),le("div",Xt({ref_key:"contentRef",ref:v},o(k),{style:o(D),class:o(A),tabindex:"-1",onMouseenter:oe=>de.$emit("mouseenter",oe),onMouseleave:oe=>de.$emit("mouseleave",oe)}),[pe(o(jl),{trapped:o(i),"trap-on-focus-in":!0,"focus-trap-el":o(v),"focus-start-el":o(s),onFocusAfterTrapped:o(l),onFocusAfterReleased:o(a),onFocusin:o(u),onFocusoutPrevented:o(d),onReleaseRequested:o(f)},{default:Se(()=>[Oe(de.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var yz=ot(vz,[["__file","content.vue"]]);const YC=zt(LF),dh=Symbol("elTooltip");function Dw(){let e;const t=(r,s)=>{n(),e=window.setTimeout(r,s)},n=()=>window.clearTimeout(e);return _c(()=>n()),{registerTimeout:t,cancelTimeout:n}}const bz=st({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),wz=({showAfter:e,hideAfter:t,autoClose:n,open:r,close:s})=>{const{registerTimeout:i}=Dw(),{registerTimeout:a,cancelTimeout:l}=Dw();return{onOpen:f=>{i(()=>{r(f);const p=o(n);$t(p)&&p>0&&a(()=>{s(f)},p)},o(e))},onClose:f=>{l(),i(()=>{s(f)},o(t))}}},Ir=st({...bz,...GC,appendTo:{type:Ie([String,Object])},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:Ie(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...Fr(["ariaLabel"])}),ec=st({...IC,disabled:Boolean,trigger:{type:Ie([String,Array]),default:"hover"},triggerKeys:{type:Ie(Array),default:()=>[gt.enter,gt.numpadEnter,gt.space]}}),xz=di({type:Ie(Boolean),default:null}),Sz=di({type:Ie(Function)}),Cz=e=>{const t=`update:${e}`,n=`onUpdate:${e}`,r=[t],s={[e]:xz,[n]:Sz};return{useModelToggle:({indicator:a,toggleReason:l,shouldHideWhenRouteChanges:u,shouldProceed:d,onShow:f,onHide:p})=>{const g=Gt(),{emit:v}=g,w=g.props,b=L(()=>_t(w[n])),_=L(()=>w[e]===null),C=H=>{a.value!==!0&&(a.value=!0,l&&(l.value=H),_t(f)&&f(H))},M=H=>{a.value!==!1&&(a.value=!1,l&&(l.value=H),_t(p)&&p(H))},E=H=>{if(w.disabled===!0||_t(d)&&!d())return;const U=b.value&&un;U&&v(t,!0),(_.value||!U)&&C(H)},k=H=>{if(w.disabled===!0||!un)return;const U=b.value&&un;U&&v(t,!1),(_.value||!U)&&M(H)},A=H=>{zn(H)&&(w.disabled&&H?b.value&&v(t,!1):a.value!==H&&(H?C():M()))},D=()=>{a.value?k():E()};return je(()=>w[e],A),u&&g.appContext.config.globalProperties.$route!==void 0&&je(()=>({...g.proxy.$route}),()=>{u.value&&a.value&&k()}),Ut(()=>{A(w[e])}),{hide:k,show:E,toggle:D,hasUpdateHandler:b}},useModelToggleProps:s,useModelToggleEmits:r}},{useModelToggleProps:_z,useModelToggleEmits:Tz,useModelToggle:kz}=Cz("visible"),Ez=st({...EC,..._z,...Ir,...ec,...$C,showArrow:{type:Boolean,default:!0}}),$z=[...Tz,"before-show","before-hide","show","hide","open","close"],Iz=(e,t)=>nt(e)?e.includes(t):e===t,jo=(e,t,n)=>r=>{Iz(o(e),t)&&n(r)},ar=(e,t,{checkForDefaultPrevented:n=!0}={})=>s=>{const i=e==null?void 0:e(s);if(n===!1||!i)return t==null?void 0:t(s)},Nw=e=>t=>t.pointerType==="mouse"?e(t):void 0,Az=ve({name:"ElTooltipTrigger"}),Lz=ve({...Az,props:ec,setup(e,{expose:t}){const n=e,r=Xe("tooltip"),{controlled:s,id:i,open:a,onOpen:l,onClose:u,onToggle:d}=vt(dh,void 0),f=Q(null),p=()=>{if(o(s)||n.disabled)return!0},g=Tn(n,"trigger"),v=ar(p,jo(g,"hover",l)),w=ar(p,jo(g,"hover",u)),b=ar(p,jo(g,"click",k=>{k.button===0&&d(k)})),_=ar(p,jo(g,"focus",l)),C=ar(p,jo(g,"focus",u)),M=ar(p,jo(g,"contextmenu",k=>{k.preventDefault(),d(k)})),E=ar(p,k=>{const{code:A}=k;n.triggerKeys.includes(A)&&(k.preventDefault(),d(k))});return t({triggerRef:f}),(k,A)=>(V(),Ve(o(KF),{id:o(i),"virtual-ref":k.virtualRef,open:o(a),"virtual-triggering":k.virtualTriggering,class:W(o(r).e("trigger")),onBlur:o(C),onClick:o(b),onContextmenu:o(M),onFocus:o(_),onMouseenter:o(v),onMouseleave:o(w),onKeydown:o(E)},{default:Se(()=>[Oe(k.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var Oz=ot(Lz,[["__file","trigger.vue"]]);const Mz=st({to:{type:Ie([String,Object]),required:!0},disabled:Boolean}),Rz=ve({__name:"teleport",props:Mz,setup(e){return(t,n)=>t.disabled?Oe(t.$slots,"default",{key:0}):(V(),Ve(IA,{key:1,to:t.to},[Oe(t.$slots,"default")],8,["to"]))}});var Dz=ot(Rz,[["__file","teleport.vue"]]);const Gl=zt(Dz),XC=()=>{const e=Ag(),t=sv(),n=L(()=>`${e.value}-popper-container-${t.prefix}`),r=L(()=>`#${n.value}`);return{id:n,selector:r}},Nz=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},Pz=()=>{const{id:e,selector:t}=XC();return Hf(()=>{un&&(document.body.querySelector(t.value)||Nz(e.value))}),{id:e,selector:t}},Fz=ve({name:"ElTooltipContent",inheritAttrs:!1}),Vz=ve({...Fz,props:Ir,setup(e,{expose:t}){const n=e,{selector:r}=XC(),s=Xe("tooltip"),i=Q();let a;const{controlled:l,id:u,open:d,trigger:f,onClose:p,onOpen:g,onShow:v,onHide:w,onBeforeShow:b,onBeforeHide:_}=vt(dh,void 0),C=L(()=>n.transition||`${s.namespace.value}-fade-in-linear`),M=L(()=>n.persistent);Fn(()=>{a==null||a()});const E=L(()=>o(M)?!0:o(d)),k=L(()=>n.disabled?!1:o(d)),A=L(()=>n.appendTo||r.value),D=L(()=>{var ne;return(ne=n.style)!=null?ne:{}}),H=Q(!0),U=()=>{w(),Z()&&Gi(document.body),H.value=!0},K=()=>{if(o(l))return!0},G=ar(K,()=>{n.enterable&&o(f)==="hover"&&g()}),q=ar(K,()=>{o(f)==="hover"&&p()}),Y=()=>{var ne,ee;(ee=(ne=i.value)==null?void 0:ne.updatePopper)==null||ee.call(ne),b==null||b()},de=()=>{_==null||_()},xe=()=>{v(),a=Gg(L(()=>{var ne;return(ne=i.value)==null?void 0:ne.popperContentRef}),()=>{if(o(l))return;o(f)!=="hover"&&p()})},oe=()=>{n.virtualTriggering||p()},Z=ne=>{var ee;const J=(ee=i.value)==null?void 0:ee.popperContentRef,fe=(ne==null?void 0:ne.relatedTarget)||document.activeElement;return J==null?void 0:J.contains(fe)};return je(()=>o(d),ne=>{ne?H.value=!1:a==null||a()},{flush:"post"}),je(()=>n.content,()=>{var ne,ee;(ee=(ne=i.value)==null?void 0:ne.updatePopper)==null||ee.call(ne)}),t({contentRef:i,isFocusInsideContent:Z}),(ne,ee)=>(V(),Ve(o(Gl),{disabled:!ne.teleported,to:o(A)},{default:Se(()=>[pe(Rr,{name:o(C),onAfterLeave:U,onBeforeEnter:Y,onAfterEnter:xe,onBeforeLeave:de},{default:Se(()=>[o(E)?Bt((V(),Ve(o(yz),Xt({key:0,id:o(u),ref_key:"contentRef",ref:i},ne.$attrs,{"aria-label":ne.ariaLabel,"aria-hidden":H.value,"boundaries-padding":ne.boundariesPadding,"fallback-placements":ne.fallbackPlacements,"gpu-acceleration":ne.gpuAcceleration,offset:ne.offset,placement:ne.placement,"popper-options":ne.popperOptions,strategy:ne.strategy,effect:ne.effect,enterable:ne.enterable,pure:ne.pure,"popper-class":ne.popperClass,"popper-style":[ne.popperStyle,o(D)],"reference-el":ne.referenceEl,"trigger-target-el":ne.triggerTargetEl,visible:o(k),"z-index":ne.zIndex,onMouseenter:o(G),onMouseleave:o(q),onBlur:oe,onClose:o(p)}),{default:Se(()=>[Oe(ne.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[mn,o(k)]]):Re("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var zz=ot(Vz,[["__file","content.vue"]]);const Bz=ve({name:"ElTooltip"}),Kz=ve({...Bz,props:Ez,emits:$z,setup(e,{expose:t,emit:n}){const r=e;Pz();const s=Pr(),i=Q(),a=Q(),l=()=>{var C;const M=o(i);M&&((C=M.popperInstanceRef)==null||C.update())},u=Q(!1),d=Q(),{show:f,hide:p,hasUpdateHandler:g}=kz({indicator:u,toggleReason:d}),{onOpen:v,onClose:w}=wz({showAfter:Tn(r,"showAfter"),hideAfter:Tn(r,"hideAfter"),autoClose:Tn(r,"autoClose"),open:f,close:p}),b=L(()=>zn(r.visible)&&!g.value);Qt(dh,{controlled:b,id:s,open:Fl(u),trigger:Tn(r,"trigger"),onOpen:C=>{v(C)},onClose:C=>{w(C)},onToggle:C=>{o(u)?w(C):v(C)},onShow:()=>{n("show",d.value)},onHide:()=>{n("hide",d.value)},onBeforeShow:()=>{n("before-show",d.value)},onBeforeHide:()=>{n("before-hide",d.value)},updatePopper:l}),je(()=>r.disabled,C=>{C&&u.value&&(u.value=!1)});const _=C=>{var M;return(M=a.value)==null?void 0:M.isFocusInsideContent(C)};return bS(()=>u.value&&p()),t({popperRef:i,contentRef:a,isFocusInsideContent:_,updatePopper:l,onOpen:v,onClose:w,hide:p}),(C,M)=>(V(),Ve(o(YC),{ref_key:"popperRef",ref:i,role:C.role},{default:Se(()=>[pe(Oz,{disabled:C.disabled,trigger:C.trigger,"trigger-keys":C.triggerKeys,"virtual-ref":C.virtualRef,"virtual-triggering":C.virtualTriggering},{default:Se(()=>[C.$slots.default?Oe(C.$slots,"default",{key:0}):Re("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),pe(zz,{ref_key:"contentRef",ref:a,"aria-label":C.ariaLabel,"boundaries-padding":C.boundariesPadding,content:C.content,disabled:C.disabled,effect:C.effect,enterable:C.enterable,"fallback-placements":C.fallbackPlacements,"hide-after":C.hideAfter,"gpu-acceleration":C.gpuAcceleration,offset:C.offset,persistent:C.persistent,"popper-class":C.popperClass,"popper-style":C.popperStyle,placement:C.placement,"popper-options":C.popperOptions,pure:C.pure,"raw-content":C.rawContent,"reference-el":C.referenceEl,"trigger-target-el":C.triggerTargetEl,"show-after":C.showAfter,strategy:C.strategy,teleported:C.teleported,transition:C.transition,"virtual-triggering":C.virtualTriggering,"z-index":C.zIndex,"append-to":C.appendTo},{default:Se(()=>[Oe(C.$slots,"content",{},()=>[C.rawContent?(V(),le("span",{key:0,innerHTML:C.content},null,8,["innerHTML"])):(V(),le("span",{key:1},at(C.content),1))]),C.showArrow?(V(),Ve(o(RF),{key:0,"arrow-offset":C.arrowOffset},null,8,["arrow-offset"])):Re("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var Hz=ot(Kz,[["__file","tooltip.vue"]]);const Hr=zt(Hz),Wz=st({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:Ie(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:Ie([Function,Array]),default:In},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},teleported:Ir.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String,...Fr(["ariaLabel"])}),Uz={[Kt]:e=>xt(e),[Br]:e=>xt(e),[Nn]:e=>xt(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,select:e=>jt(e)},qC="ElAutocomplete",jz=ve({name:qC,inheritAttrs:!1}),Gz=ve({...jz,props:Wz,emits:Uz,setup(e,{expose:t,emit:n}){const r=e,s=kc(),i=oa(),a=Ur(),l=Xe("autocomplete"),u=Q(),d=Q(),f=Q(),p=Q();let g=!1,v=!1;const w=Q([]),b=Q(-1),_=Q(""),C=Q(!1),M=Q(!1),E=Q(!1),k=Pr(),A=L(()=>i.style),D=L(()=>(w.value.length>0||E.value)&&C.value),H=L(()=>!r.hideLoading&&E.value),U=L(()=>u.value?Array.from(u.value.$el.querySelectorAll("input")):[]),K=()=>{D.value&&(_.value=`${u.value.$el.offsetWidth}px`)},G=()=>{b.value=-1},q=async he=>{if(M.value)return;const Ne=Pe=>{E.value=!1,!M.value&&(nt(Pe)?(w.value=Pe,b.value=r.highlightFirstItem?0:-1):xr(qC,"autocomplete suggestions must be an array"))};if(E.value=!0,nt(r.fetchSuggestions))Ne(r.fetchSuggestions);else{const Pe=await r.fetchSuggestions(he,Ne);nt(Pe)&&Ne(Pe)}},Y=xs(q,r.debounce),de=he=>{const Ne=!!he;if(n(Br,he),n(Kt,he),M.value=!1,C.value||(C.value=Ne),!r.triggerOnFocus&&!he){M.value=!0,w.value=[];return}Y(he)},xe=he=>{var Ne;a.value||(((Ne=he.target)==null?void 0:Ne.tagName)!=="INPUT"||U.value.includes(document.activeElement))&&(C.value=!0)},oe=he=>{n(Nn,he)},Z=he=>{v?v=!1:(C.value=!0,n("focus",he),r.triggerOnFocus&&!g&&Y(String(r.modelValue)))},ne=he=>{setTimeout(()=>{var Ne;if((Ne=f.value)!=null&&Ne.isFocusInsideContent()){v=!0;return}C.value&&ge(),n("blur",he)})},ee=()=>{C.value=!1,n(Kt,""),n("clear")},J=async()=>{D.value&&b.value>=0&&b.value<w.value.length?Fe(w.value[b.value]):r.selectWhenUnmatched&&(n("select",{value:r.modelValue}),w.value=[],b.value=-1)},fe=he=>{D.value&&(he.preventDefault(),he.stopPropagation(),ge())},ge=()=>{C.value=!1},ke=()=>{var he;(he=u.value)==null||he.focus()},ye=()=>{var he;(he=u.value)==null||he.blur()},Fe=async he=>{n(Br,he[r.valueKey]),n(Kt,he[r.valueKey]),n("select",he),w.value=[],b.value=-1},Be=he=>{if(!D.value||E.value)return;if(he<0){b.value=-1;return}he>=w.value.length&&(he=w.value.length-1);const Ne=d.value.querySelector(`.${l.be("suggestion","wrap")}`),et=Ne.querySelectorAll(`.${l.be("suggestion","list")} li`)[he],qe=Ne.scrollTop,{offsetTop:ae,scrollHeight:be}=et;ae+be>qe+Ne.clientHeight&&(Ne.scrollTop+=be),ae<qe&&(Ne.scrollTop-=be),b.value=he,u.value.ref.setAttribute("aria-activedescendant",`${k.value}-item-${b.value}`)},He=Gg(p,()=>{D.value&&ge()});return Fn(()=>{He==null||He()}),Ut(()=>{u.value.ref.setAttribute("role","textbox"),u.value.ref.setAttribute("aria-autocomplete","list"),u.value.ref.setAttribute("aria-controls","id"),u.value.ref.setAttribute("aria-activedescendant",`${k.value}-item-${b.value}`),g=u.value.ref.hasAttribute("readonly")}),t({highlightedIndex:b,activated:C,loading:E,inputRef:u,popperRef:f,suggestions:w,handleSelect:Fe,handleKeyEnter:J,focus:ke,blur:ye,close:ge,highlight:Be,getData:q}),(he,Ne)=>(V(),Ve(o(Hr),{ref_key:"popperRef",ref:f,visible:o(D),placement:he.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[o(l).e("popper"),he.popperClass],teleported:he.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${o(l).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:K,onHide:G},{content:Se(()=>[ue("div",{ref_key:"regionRef",ref:d,class:W([o(l).b("suggestion"),o(l).is("loading",o(H))]),style:Tt({[he.fitInputWidth?"width":"minWidth"]:_.value,outline:"none"}),role:"region"},[pe(o(Mi),{id:o(k),tag:"ul","wrap-class":o(l).be("suggestion","wrap"),"view-class":o(l).be("suggestion","list"),role:"listbox"},{default:Se(()=>[o(H)?(V(),le("li",{key:0},[Oe(he.$slots,"loading",{},()=>[pe(o(wt),{class:W(o(l).is("loading"))},{default:Se(()=>[pe(o($i))]),_:1},8,["class"])])])):(V(!0),le(Ct,{key:1},nn(w.value,(Pe,et)=>(V(),le("li",{id:`${o(k)}-item-${et}`,key:et,class:W({highlighted:b.value===et}),role:"option","aria-selected":b.value===et,onClick:qe=>Fe(Pe)},[Oe(he.$slots,"default",{item:Pe},()=>[At(at(Pe[he.valueKey]),1)])],10,["id","aria-selected","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:Se(()=>[ue("div",{ref_key:"listboxRef",ref:p,class:W([o(l).b(),he.$attrs.class]),style:Tt(o(A)),role:"combobox","aria-haspopup":"listbox","aria-expanded":o(D),"aria-owns":o(k)},[pe(o(Zr),Xt({ref_key:"inputRef",ref:u},o(s),{clearable:he.clearable,disabled:o(a),name:he.name,"model-value":he.modelValue,"aria-label":he.ariaLabel,onInput:de,onChange:oe,onFocus:Z,onBlur:ne,onClear:ee,onKeydown:[Vn(Lt(Pe=>Be(b.value-1),["prevent"]),["up"]),Vn(Lt(Pe=>Be(b.value+1),["prevent"]),["down"]),Vn(J,["enter"]),Vn(ge,["tab"]),Vn(fe,["esc"])],onMousedown:xe}),zs({_:2},[he.$slots.prepend?{name:"prepend",fn:Se(()=>[Oe(he.$slots,"prepend")])}:void 0,he.$slots.append?{name:"append",fn:Se(()=>[Oe(he.$slots,"append")])}:void 0,he.$slots.prefix?{name:"prefix",fn:Se(()=>[Oe(he.$slots,"prefix")])}:void 0,he.$slots.suffix?{name:"suffix",fn:Se(()=>[Oe(he.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","aria-label","onKeydown"])],14,["aria-expanded","aria-owns"])]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var Yz=ot(Gz,[["__file","autocomplete.vue"]]);const Xz=zt(Yz),qz=st({size:{type:[Number,String],values:Oi,default:"",validator:e=>$t(e)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:Pn},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:Ie(String),default:"cover"}}),Jz={error:e=>e instanceof Event},Zz=ve({name:"ElAvatar"}),Qz=ve({...Zz,props:qz,emits:Jz,setup(e,{emit:t}){const n=e,r=Xe("avatar"),s=Q(!1),i=L(()=>{const{size:d,icon:f,shape:p}=n,g=[r.b()];return xt(d)&&g.push(r.m(d)),f&&g.push(r.m("icon")),p&&g.push(r.m(p)),g}),a=L(()=>{const{size:d}=n;return $t(d)?r.cssVarBlock({size:nr(d)||""}):void 0}),l=L(()=>({objectFit:n.fit}));je(()=>n.src,()=>s.value=!1);function u(d){s.value=!0,t("error",d)}return(d,f)=>(V(),le("span",{class:W(o(i)),style:Tt(o(a))},[(d.src||d.srcSet)&&!s.value?(V(),le("img",{key:0,src:d.src,alt:d.alt,srcset:d.srcSet,style:Tt(o(l)),onError:u},null,44,["src","alt","srcset"])):d.icon?(V(),Ve(o(wt),{key:1},{default:Se(()=>[(V(),Ve(Yt(d.icon)))]),_:1})):Oe(d.$slots,"default",{key:2})],6))}});var e8=ot(Qz,[["__file","avatar.vue"]]);const t8=zt(e8),n8={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},r8={click:e=>e instanceof MouseEvent},s8=(e,t,n)=>{const r=Un(),s=Un(),i=Q(!1),a=()=>{r.value&&(i.value=r.value.scrollTop>=e.visibilityHeight)},l=d=>{var f;(f=r.value)==null||f.scrollTo({top:0,behavior:"smooth"}),t("click",d)},u=tC(a,300,!0);return Mn(s,"scroll",u),Ut(()=>{var d;s.value=document,r.value=document.documentElement,e.target&&(r.value=(d=document.querySelector(e.target))!=null?d:void 0,r.value||xr(n,`target does not exist: ${e.target}`),s.value=r.value),a()}),{visible:i,handleClick:l}},JC="ElBacktop",i8=ve({name:JC}),a8=ve({...i8,props:n8,emits:r8,setup(e,{emit:t}){const n=e,r=Xe("backtop"),{handleClick:s,visible:i}=s8(n,t,JC),a=L(()=>({right:`${n.right}px`,bottom:`${n.bottom}px`}));return(l,u)=>(V(),Ve(Rr,{name:`${o(r).namespace.value}-fade-in`},{default:Se(()=>[o(i)?(V(),le("div",{key:0,style:Tt(o(a)),class:W(o(r).b()),onClick:Lt(o(s),["stop"])},[Oe(l.$slots,"default",{},()=>[pe(o(wt),{class:W(o(r).e("icon"))},{default:Se(()=>[pe(o(JP))]),_:1},8,["class"])])],14,["onClick"])):Re("v-if",!0)]),_:3},8,["name"]))}});var o8=ot(a8,[["__file","backtop.vue"]]);const l8=zt(o8),u8=st({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:Ie([String,Object,Array])},offset:{type:Ie(Array),default:[0,0]},badgeClass:{type:String}}),c8=ve({name:"ElBadge"}),d8=ve({...c8,props:u8,setup(e,{expose:t}){const n=e,r=Xe("badge"),s=L(()=>n.isDot?"":$t(n.value)&&$t(n.max)?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`),i=L(()=>{var a,l,u,d,f;return[{backgroundColor:n.color,marginRight:nr(-((l=(a=n.offset)==null?void 0:a[0])!=null?l:0)),marginTop:nr((d=(u=n.offset)==null?void 0:u[1])!=null?d:0)},(f=n.badgeStyle)!=null?f:{}]});return t({content:s}),(a,l)=>(V(),le("div",{class:W(o(r).b())},[Oe(a.$slots,"default"),pe(Rr,{name:`${o(r).namespace.value}-zoom-in-center`,persisted:""},{default:Se(()=>[Bt(ue("sup",{class:W([o(r).e("content"),o(r).em("content",a.type),o(r).is("fixed",!!a.$slots.default),o(r).is("dot",a.isDot),o(r).is("hide-zero",!a.showZero&&n.value===0),a.badgeClass]),style:Tt(o(i))},[Oe(a.$slots,"content",{value:o(s)},()=>[At(at(o(s)),1)])],6),[[mn,!a.hidden&&(o(s)||a.isDot||a.$slots.content)]])]),_:3},8,["name"])],2))}});var f8=ot(d8,[["__file","badge.vue"]]);const ZC=zt(f8),QC=Symbol("breadcrumbKey"),h8=st({separator:{type:String,default:"/"},separatorIcon:{type:Pn}}),p8=ve({name:"ElBreadcrumb"}),m8=ve({...p8,props:h8,setup(e){const t=e,{t:n}=cn(),r=Xe("breadcrumb"),s=Q();return Qt(QC,t),Ut(()=>{const i=s.value.querySelectorAll(`.${r.e("item")}`);i.length&&i[i.length-1].setAttribute("aria-current","page")}),(i,a)=>(V(),le("div",{ref_key:"breadcrumb",ref:s,class:W(o(r).b()),"aria-label":o(n)("el.breadcrumb.label"),role:"navigation"},[Oe(i.$slots,"default")],10,["aria-label"]))}});var g8=ot(m8,[["__file","breadcrumb.vue"]]);const v8=st({to:{type:Ie([String,Object]),default:""},replace:Boolean}),y8=ve({name:"ElBreadcrumbItem"}),b8=ve({...y8,props:v8,setup(e){const t=e,n=Gt(),r=vt(QC,void 0),s=Xe("breadcrumb"),i=n.appContext.config.globalProperties.$router,a=Q(),l=()=>{!t.to||!i||(t.replace?i.replace(t.to):i.push(t.to))};return(u,d)=>{var f,p;return V(),le("span",{class:W(o(s).e("item"))},[ue("span",{ref_key:"link",ref:a,class:W([o(s).e("inner"),o(s).is("link",!!u.to)]),role:"link",onClick:l},[Oe(u.$slots,"default")],2),(f=o(r))!=null&&f.separatorIcon?(V(),Ve(o(wt),{key:0,class:W(o(s).e("separator"))},{default:Se(()=>[(V(),Ve(Yt(o(r).separatorIcon)))]),_:1},8,["class"])):(V(),le("span",{key:1,class:W(o(s).e("separator")),role:"presentation"},at((p=o(r))==null?void 0:p.separator),3))],2)}}});var e_=ot(b8,[["__file","breadcrumb-item.vue"]]);const w8=zt(g8,{BreadcrumbItem:e_}),x8=Qn(e_),t_=Symbol("buttonGroupContextKey"),Da=({from:e,replacement:t,scope:n,version:r,ref:s,type:i="API"},a)=>{je(()=>o(a),l=>{},{immediate:!0})},S8=(e,t)=>{Da({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},L(()=>e.type==="text"));const n=vt(t_,void 0),r=sh("button"),{form:s}=Wr(),i=pr(L(()=>n==null?void 0:n.size)),a=Ur(),l=Q(),u=Sr(),d=L(()=>e.type||(n==null?void 0:n.type)||""),f=L(()=>{var w,b,_;return(_=(b=e.autoInsertSpace)!=null?b:(w=r.value)==null?void 0:w.autoInsertSpace)!=null?_:!1}),p=L(()=>e.tag==="button"?{ariaDisabled:a.value||e.loading,disabled:a.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),g=L(()=>{var w;const b=(w=u.default)==null?void 0:w.call(u);if(f.value&&(b==null?void 0:b.length)===1){const _=b[0];if((_==null?void 0:_.type)===Vl){const C=_.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(C.trim())}}return!1});return{_disabled:a,_size:i,_type:d,_ref:l,_props:p,shouldAddSpace:g,handleClick:w=>{if(a.value||e.loading){w.stopPropagation();return}e.nativeType==="reset"&&(s==null||s.resetFields()),t("click",w)}}},rm=["default","primary","success","warning","info","danger","text",""],C8=["button","submit","reset"],sm=st({size:vr,disabled:Boolean,type:{type:String,values:rm,default:""},icon:{type:Pn},nativeType:{type:String,values:C8,default:"button"},loading:Boolean,loadingIcon:{type:Pn,default:()=>$i},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:Ie([String,Object]),default:"button"}}),_8={click:e=>e instanceof MouseEvent};function Kr(e,t){T8(e)&&(e="100%");var n=k8(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function fd(e){return Math.min(1,Math.max(0,e))}function T8(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function k8(e){return typeof e=="string"&&e.indexOf("%")!==-1}function n_(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function hd(e){return e<=1?"".concat(Number(e)*100,"%"):e}function vo(e){return e.length===1?"0"+e:String(e)}function E8(e,t,n){return{r:Kr(e,255)*255,g:Kr(t,255)*255,b:Kr(n,255)*255}}function Pw(e,t,n){e=Kr(e,255),t=Kr(t,255),n=Kr(n,255);var r=Math.max(e,t,n),s=Math.min(e,t,n),i=0,a=0,l=(r+s)/2;if(r===s)a=0,i=0;else{var u=r-s;switch(a=l>.5?u/(2-r-s):u/(r+s),r){case e:i=(t-n)/u+(t<n?6:0);break;case t:i=(n-e)/u+2;break;case n:i=(e-t)/u+4;break}i/=6}return{h:i,s:a,l}}function ap(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function $8(e,t,n){var r,s,i;if(e=Kr(e,360),t=Kr(t,100),n=Kr(n,100),t===0)s=n,i=n,r=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;r=ap(l,a,e+1/3),s=ap(l,a,e),i=ap(l,a,e-1/3)}return{r:r*255,g:s*255,b:i*255}}function Fw(e,t,n){e=Kr(e,255),t=Kr(t,255),n=Kr(n,255);var r=Math.max(e,t,n),s=Math.min(e,t,n),i=0,a=r,l=r-s,u=r===0?0:l/r;if(r===s)i=0;else{switch(r){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4;break}i/=6}return{h:i,s:u,v:a}}function I8(e,t,n){e=Kr(e,360)*6,t=Kr(t,100),n=Kr(n,100);var r=Math.floor(e),s=e-r,i=n*(1-t),a=n*(1-s*t),l=n*(1-(1-s)*t),u=r%6,d=[n,a,i,i,l,n][u],f=[l,n,n,a,i,i][u],p=[i,i,l,n,n,a][u];return{r:d*255,g:f*255,b:p*255}}function Vw(e,t,n,r){var s=[vo(Math.round(e).toString(16)),vo(Math.round(t).toString(16)),vo(Math.round(n).toString(16))];return r&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function A8(e,t,n,r,s){var i=[vo(Math.round(e).toString(16)),vo(Math.round(t).toString(16)),vo(Math.round(n).toString(16)),vo(L8(r))];return s&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))&&i[3].startsWith(i[3].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function L8(e){return Math.round(parseFloat(e)*255).toString(16)}function zw(e){return _s(e)/255}function _s(e){return parseInt(e,16)}function O8(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var im={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function M8(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,i=null,a=!1,l=!1;return typeof e=="string"&&(e=N8(e)),typeof e=="object"&&(Wi(e.r)&&Wi(e.g)&&Wi(e.b)?(t=E8(e.r,e.g,e.b),a=!0,l=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Wi(e.h)&&Wi(e.s)&&Wi(e.v)?(r=hd(e.s),s=hd(e.v),t=I8(e.h,r,s),a=!0,l="hsv"):Wi(e.h)&&Wi(e.s)&&Wi(e.l)&&(r=hd(e.s),i=hd(e.l),t=$8(e.h,r,i),a=!0,l="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=n_(n),{ok:a,format:e.format||l,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var R8="[-\\+]?\\d+%?",D8="[-\\+]?\\d*\\.\\d+%?",Oa="(?:".concat(D8,")|(?:").concat(R8,")"),op="[\\s|\\(]+(".concat(Oa,")[,|\\s]+(").concat(Oa,")[,|\\s]+(").concat(Oa,")\\s*\\)?"),lp="[\\s|\\(]+(".concat(Oa,")[,|\\s]+(").concat(Oa,")[,|\\s]+(").concat(Oa,")[,|\\s]+(").concat(Oa,")\\s*\\)?"),Ys={CSS_UNIT:new RegExp(Oa),rgb:new RegExp("rgb"+op),rgba:new RegExp("rgba"+lp),hsl:new RegExp("hsl"+op),hsla:new RegExp("hsla"+lp),hsv:new RegExp("hsv"+op),hsva:new RegExp("hsva"+lp),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function N8(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(im[e])e=im[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=Ys.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=Ys.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Ys.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=Ys.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Ys.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=Ys.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Ys.hex8.exec(e),n?{r:_s(n[1]),g:_s(n[2]),b:_s(n[3]),a:zw(n[4]),format:t?"name":"hex8"}:(n=Ys.hex6.exec(e),n?{r:_s(n[1]),g:_s(n[2]),b:_s(n[3]),format:t?"name":"hex"}:(n=Ys.hex4.exec(e),n?{r:_s(n[1]+n[1]),g:_s(n[2]+n[2]),b:_s(n[3]+n[3]),a:zw(n[4]+n[4]),format:t?"name":"hex8"}:(n=Ys.hex3.exec(e),n?{r:_s(n[1]+n[1]),g:_s(n[2]+n[2]),b:_s(n[3]+n[3]),format:t?"name":"hex"}:!1)))))))))}function Wi(e){return!!Ys.CSS_UNIT.exec(String(e))}var r_=function(){function e(t,n){t===void 0&&(t=""),n===void 0&&(n={});var r;if(t instanceof e)return t;typeof t=="number"&&(t=O8(t)),this.originalInput=t;var s=M8(t);this.originalInput=t,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:s.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),n,r,s,i=t.r/255,a=t.g/255,l=t.b/255;return i<=.03928?n=i/12.92:n=Math.pow((i+.055)/1.055,2.4),a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),l<=.03928?s=l/12.92:s=Math.pow((l+.055)/1.055,2.4),.2126*n+.7152*r+.0722*s},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=n_(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=Fw(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=Fw(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),s=Math.round(t.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(s,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(s,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=Pw(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=Pw(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),s=Math.round(t.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(s,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(s,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),Vw(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),A8(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(n,", ").concat(r,")"):"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(n){return"".concat(Math.round(Kr(n,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(n){return Math.round(Kr(n,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+Vw(this.r,this.g,this.b,!1),n=0,r=Object.entries(im);n<r.length;n++){var s=r[n],i=s[0],a=s[1];if(t===a)return i}return!1},e.prototype.toString=function(t){var n=!!t;t=t??this.format;var r=!1,s=this.a<1&&this.a>=0,i=!n&&s&&(t.startsWith("hex")||t==="name");return i?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=fd(n.l),new e(n)},e.prototype.brighten=function(t){t===void 0&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),new e(n)},e.prototype.darken=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=fd(n.l),new e(n)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=fd(n.s),new e(n)},e.prototype.saturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=fd(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){n===void 0&&(n=50);var r=this.toRgb(),s=new e(t).toRgb(),i=n/100,a={r:(s.r-r.r)*i+r.r,g:(s.g-r.g)*i+r.g,b:(s.b-r.b)*i+r.b,a:(s.a-r.a)*i+r.a};return new e(a)},e.prototype.analogous=function(t,n){t===void 0&&(t=6),n===void 0&&(n=30);var r=this.toHsl(),s=360/n,i=[this];for(r.h=(r.h-(s*t>>1)+720)%360;--t;)r.h=(r.h+s)%360,i.push(new e(r));return i},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var n=this.toHsv(),r=n.h,s=n.s,i=n.v,a=[],l=1/t;t--;)a.push(new e({h:r,s,v:i})),i=(i+l)%1;return a},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),s=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/s,g:(n.g*n.a+r.g*r.a*(1-n.a))/s,b:(n.b*n.a+r.b*r.a*(1-n.a))/s,a:s})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,s=[this],i=360/t,a=1;a<t;a++)s.push(new e({h:(r+a*i)%360,s:n.s,l:n.l}));return s},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function xa(e,t=20){return e.mix("#141414",t).toString()}function P8(e){const t=Ur(),n=Xe("button");return L(()=>{let r={},s=e.color;if(s){const i=s.match(/var\((.*?)\)/);i&&(s=window.getComputedStyle(window.document.documentElement).getPropertyValue(i[1]));const a=new r_(s),l=e.dark?a.tint(20).toString():xa(a,20);if(e.plain)r=n.cssVarBlock({"bg-color":e.dark?xa(a,90):a.tint(90).toString(),"text-color":s,"border-color":e.dark?xa(a,50):a.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":s,"hover-border-color":s,"active-bg-color":l,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":l}),t.value&&(r[n.cssVarBlockName("disabled-bg-color")]=e.dark?xa(a,90):a.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=e.dark?xa(a,50):a.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=e.dark?xa(a,80):a.tint(80).toString());else{const u=e.dark?xa(a,30):a.tint(30).toString(),d=a.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":s,"text-color":d,"border-color":s,"hover-bg-color":u,"hover-text-color":d,"hover-border-color":u,"active-bg-color":l,"active-border-color":l}),t.value){const f=e.dark?xa(a,50):a.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=f,r[n.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=f}}}return r})}const F8=ve({name:"ElButton"}),V8=ve({...F8,props:sm,emits:_8,setup(e,{expose:t,emit:n}){const r=e,s=P8(r),i=Xe("button"),{_ref:a,_size:l,_type:u,_disabled:d,_props:f,shouldAddSpace:p,handleClick:g}=S8(r,n),v=L(()=>[i.b(),i.m(u.value),i.m(l.value),i.is("disabled",d.value),i.is("loading",r.loading),i.is("plain",r.plain),i.is("round",r.round),i.is("circle",r.circle),i.is("text",r.text),i.is("link",r.link),i.is("has-bg",r.bg)]);return t({ref:a,size:l,type:u,disabled:d,shouldAddSpace:p}),(w,b)=>(V(),Ve(Yt(w.tag),Xt({ref_key:"_ref",ref:a},o(f),{class:o(v),style:o(s),onClick:o(g)}),{default:Se(()=>[w.loading?(V(),le(Ct,{key:0},[w.$slots.loading?Oe(w.$slots,"loading",{key:0}):(V(),Ve(o(wt),{key:1,class:W(o(i).is("loading"))},{default:Se(()=>[(V(),Ve(Yt(w.loadingIcon)))]),_:1},8,["class"]))],64)):w.icon||w.$slots.icon?(V(),Ve(o(wt),{key:1},{default:Se(()=>[w.icon?(V(),Ve(Yt(w.icon),{key:0})):Oe(w.$slots,"icon",{key:1})]),_:3})):Re("v-if",!0),w.$slots.default?(V(),le("span",{key:2,class:W({[o(i).em("text","expand")]:o(p)})},[Oe(w.$slots,"default")],2)):Re("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var z8=ot(V8,[["__file","button.vue"]]);const B8={size:sm.size,type:sm.type},K8=ve({name:"ElButtonGroup"}),H8=ve({...K8,props:B8,setup(e){const t=e;Qt(t_,wn({size:Tn(t,"size"),type:Tn(t,"type")}));const n=Xe("button");return(r,s)=>(V(),le("div",{class:W(o(n).b("group"))},[Oe(r.$slots,"default")],2))}});var s_=ot(H8,[["__file","button-group.vue"]]);const Or=zt(z8,{ButtonGroup:s_}),i_=Qn(s_);var Bw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ha(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ld={exports:{}},W8=Ld.exports,Kw;function U8(){return Kw||(Kw=1,function(e,t){(function(n,r){e.exports=r()})(W8,function(){var n=1e3,r=6e4,s=36e5,i="millisecond",a="second",l="minute",u="hour",d="day",f="week",p="month",g="quarter",v="year",w="date",b="Invalid Date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,C=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(xe){var oe=["th","st","nd","rd"],Z=xe%100;return"["+xe+(oe[(Z-20)%10]||oe[Z]||oe[0])+"]"}},E=function(xe,oe,Z){var ne=String(xe);return!ne||ne.length>=oe?xe:""+Array(oe+1-ne.length).join(Z)+xe},k={s:E,z:function(xe){var oe=-xe.utcOffset(),Z=Math.abs(oe),ne=Math.floor(Z/60),ee=Z%60;return(oe<=0?"+":"-")+E(ne,2,"0")+":"+E(ee,2,"0")},m:function xe(oe,Z){if(oe.date()<Z.date())return-xe(Z,oe);var ne=12*(Z.year()-oe.year())+(Z.month()-oe.month()),ee=oe.clone().add(ne,p),J=Z-ee<0,fe=oe.clone().add(ne+(J?-1:1),p);return+(-(ne+(Z-ee)/(J?ee-fe:fe-ee))||0)},a:function(xe){return xe<0?Math.ceil(xe)||0:Math.floor(xe)},p:function(xe){return{M:p,y:v,w:f,d,D:w,h:u,m:l,s:a,ms:i,Q:g}[xe]||String(xe||"").toLowerCase().replace(/s$/,"")},u:function(xe){return xe===void 0}},A="en",D={};D[A]=M;var H="$isDayjsObject",U=function(xe){return xe instanceof Y||!(!xe||!xe[H])},K=function xe(oe,Z,ne){var ee;if(!oe)return A;if(typeof oe=="string"){var J=oe.toLowerCase();D[J]&&(ee=J),Z&&(D[J]=Z,ee=J);var fe=oe.split("-");if(!ee&&fe.length>1)return xe(fe[0])}else{var ge=oe.name;D[ge]=oe,ee=ge}return!ne&&ee&&(A=ee),ee||!ne&&A},G=function(xe,oe){if(U(xe))return xe.clone();var Z=typeof oe=="object"?oe:{};return Z.date=xe,Z.args=arguments,new Y(Z)},q=k;q.l=K,q.i=U,q.w=function(xe,oe){return G(xe,{locale:oe.$L,utc:oe.$u,x:oe.$x,$offset:oe.$offset})};var Y=function(){function xe(Z){this.$L=K(Z.locale,null,!0),this.parse(Z),this.$x=this.$x||Z.x||{},this[H]=!0}var oe=xe.prototype;return oe.parse=function(Z){this.$d=function(ne){var ee=ne.date,J=ne.utc;if(ee===null)return new Date(NaN);if(q.u(ee))return new Date;if(ee instanceof Date)return new Date(ee);if(typeof ee=="string"&&!/Z$/i.test(ee)){var fe=ee.match(_);if(fe){var ge=fe[2]-1||0,ke=(fe[7]||"0").substring(0,3);return J?new Date(Date.UTC(fe[1],ge,fe[3]||1,fe[4]||0,fe[5]||0,fe[6]||0,ke)):new Date(fe[1],ge,fe[3]||1,fe[4]||0,fe[5]||0,fe[6]||0,ke)}}return new Date(ee)}(Z),this.init()},oe.init=function(){var Z=this.$d;this.$y=Z.getFullYear(),this.$M=Z.getMonth(),this.$D=Z.getDate(),this.$W=Z.getDay(),this.$H=Z.getHours(),this.$m=Z.getMinutes(),this.$s=Z.getSeconds(),this.$ms=Z.getMilliseconds()},oe.$utils=function(){return q},oe.isValid=function(){return this.$d.toString()!==b},oe.isSame=function(Z,ne){var ee=G(Z);return this.startOf(ne)<=ee&&ee<=this.endOf(ne)},oe.isAfter=function(Z,ne){return G(Z)<this.startOf(ne)},oe.isBefore=function(Z,ne){return this.endOf(ne)<G(Z)},oe.$g=function(Z,ne,ee){return q.u(Z)?this[ne]:this.set(ee,Z)},oe.unix=function(){return Math.floor(this.valueOf()/1e3)},oe.valueOf=function(){return this.$d.getTime()},oe.startOf=function(Z,ne){var ee=this,J=!!q.u(ne)||ne,fe=q.p(Z),ge=function(Pe,et){var qe=q.w(ee.$u?Date.UTC(ee.$y,et,Pe):new Date(ee.$y,et,Pe),ee);return J?qe:qe.endOf(d)},ke=function(Pe,et){return q.w(ee.toDate()[Pe].apply(ee.toDate("s"),(J?[0,0,0,0]:[23,59,59,999]).slice(et)),ee)},ye=this.$W,Fe=this.$M,Be=this.$D,He="set"+(this.$u?"UTC":"");switch(fe){case v:return J?ge(1,0):ge(31,11);case p:return J?ge(1,Fe):ge(0,Fe+1);case f:var he=this.$locale().weekStart||0,Ne=(ye<he?ye+7:ye)-he;return ge(J?Be-Ne:Be+(6-Ne),Fe);case d:case w:return ke(He+"Hours",0);case u:return ke(He+"Minutes",1);case l:return ke(He+"Seconds",2);case a:return ke(He+"Milliseconds",3);default:return this.clone()}},oe.endOf=function(Z){return this.startOf(Z,!1)},oe.$set=function(Z,ne){var ee,J=q.p(Z),fe="set"+(this.$u?"UTC":""),ge=(ee={},ee[d]=fe+"Date",ee[w]=fe+"Date",ee[p]=fe+"Month",ee[v]=fe+"FullYear",ee[u]=fe+"Hours",ee[l]=fe+"Minutes",ee[a]=fe+"Seconds",ee[i]=fe+"Milliseconds",ee)[J],ke=J===d?this.$D+(ne-this.$W):ne;if(J===p||J===v){var ye=this.clone().set(w,1);ye.$d[ge](ke),ye.init(),this.$d=ye.set(w,Math.min(this.$D,ye.daysInMonth())).$d}else ge&&this.$d[ge](ke);return this.init(),this},oe.set=function(Z,ne){return this.clone().$set(Z,ne)},oe.get=function(Z){return this[q.p(Z)]()},oe.add=function(Z,ne){var ee,J=this;Z=Number(Z);var fe=q.p(ne),ge=function(Fe){var Be=G(J);return q.w(Be.date(Be.date()+Math.round(Fe*Z)),J)};if(fe===p)return this.set(p,this.$M+Z);if(fe===v)return this.set(v,this.$y+Z);if(fe===d)return ge(1);if(fe===f)return ge(7);var ke=(ee={},ee[l]=r,ee[u]=s,ee[a]=n,ee)[fe]||1,ye=this.$d.getTime()+Z*ke;return q.w(ye,this)},oe.subtract=function(Z,ne){return this.add(-1*Z,ne)},oe.format=function(Z){var ne=this,ee=this.$locale();if(!this.isValid())return ee.invalidDate||b;var J=Z||"YYYY-MM-DDTHH:mm:ssZ",fe=q.z(this),ge=this.$H,ke=this.$m,ye=this.$M,Fe=ee.weekdays,Be=ee.months,He=ee.meridiem,he=function(et,qe,ae,be){return et&&(et[qe]||et(ne,J))||ae[qe].slice(0,be)},Ne=function(et){return q.s(ge%12||12,et,"0")},Pe=He||function(et,qe,ae){var be=et<12?"AM":"PM";return ae?be.toLowerCase():be};return J.replace(C,function(et,qe){return qe||function(ae){switch(ae){case"YY":return String(ne.$y).slice(-2);case"YYYY":return q.s(ne.$y,4,"0");case"M":return ye+1;case"MM":return q.s(ye+1,2,"0");case"MMM":return he(ee.monthsShort,ye,Be,3);case"MMMM":return he(Be,ye);case"D":return ne.$D;case"DD":return q.s(ne.$D,2,"0");case"d":return String(ne.$W);case"dd":return he(ee.weekdaysMin,ne.$W,Fe,2);case"ddd":return he(ee.weekdaysShort,ne.$W,Fe,3);case"dddd":return Fe[ne.$W];case"H":return String(ge);case"HH":return q.s(ge,2,"0");case"h":return Ne(1);case"hh":return Ne(2);case"a":return Pe(ge,ke,!0);case"A":return Pe(ge,ke,!1);case"m":return String(ke);case"mm":return q.s(ke,2,"0");case"s":return String(ne.$s);case"ss":return q.s(ne.$s,2,"0");case"SSS":return q.s(ne.$ms,3,"0");case"Z":return fe}return null}(et)||fe.replace(":","")})},oe.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},oe.diff=function(Z,ne,ee){var J,fe=this,ge=q.p(ne),ke=G(Z),ye=(ke.utcOffset()-this.utcOffset())*r,Fe=this-ke,Be=function(){return q.m(fe,ke)};switch(ge){case v:J=Be()/12;break;case p:J=Be();break;case g:J=Be()/3;break;case f:J=(Fe-ye)/6048e5;break;case d:J=(Fe-ye)/864e5;break;case u:J=Fe/s;break;case l:J=Fe/r;break;case a:J=Fe/n;break;default:J=Fe}return ee?J:q.a(J)},oe.daysInMonth=function(){return this.endOf(p).$D},oe.$locale=function(){return D[this.$L]},oe.locale=function(Z,ne){if(!Z)return this.$L;var ee=this.clone(),J=K(Z,ne,!0);return J&&(ee.$L=J),ee},oe.clone=function(){return q.w(this.$d,this)},oe.toDate=function(){return new Date(this.valueOf())},oe.toJSON=function(){return this.isValid()?this.toISOString():null},oe.toISOString=function(){return this.$d.toISOString()},oe.toString=function(){return this.$d.toUTCString()},xe}(),de=Y.prototype;return G.prototype=de,[["$ms",i],["$s",a],["$m",l],["$H",u],["$W",d],["$M",p],["$y",v],["$D",w]].forEach(function(xe){de[xe[1]]=function(oe){return this.$g(oe,xe[0],xe[1])}}),G.extend=function(xe,oe){return xe.$i||(xe(oe,Y,G),xe.$i=!0),G},G.locale=K,G.isDayjs=U,G.unix=function(xe){return G(1e3*xe)},G.en=D[A],G.Ls=D,G.p={},G})}(Ld)),Ld.exports}var j8=U8();const Ft=ha(j8),up=(e,t)=>[e>0?e-1:void 0,e,e<t?e+1:void 0],Na=e=>Array.from(Array.from({length:e}).keys()),a_=e=>e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),o_=e=>e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),Hw=function(e,t){const n=Va(e),r=Va(t);return n&&r?e.getTime()===t.getTime():!n&&!r?e===t:!1},Ww=function(e,t){const n=nt(e),r=nt(t);return n&&r?e.length!==t.length?!1:e.every((s,i)=>Hw(s,t[i])):!n&&!r?Hw(e,t):!1},Uw=function(e,t,n){const r=Ts(t)||t==="x"?Ft(e).locale(n):Ft(e,t).locale(n);return r.isValid()?r:void 0},jw=function(e,t,n){return Ts(t)?e:t==="x"?+e:Ft(e).locale(n).format(t)},cp=(e,t)=>{var n;const r=[],s=t==null?void 0:t();for(let i=0;i<e;i++)r.push((n=s==null?void 0:s.includes(i))!=null?n:!1);return r},pd=e=>nt(e)?e.map(t=>t.toDate()):e.toDate(),G8=(e,t)=>{const n=e.subtract(1,"month").endOf("month").date();return Na(t).map((r,s)=>n-(t-s-1))},Y8=e=>{const t=e.daysInMonth();return Na(t).map((n,r)=>r+1)},X8=e=>Na(e.length/7).map(t=>{const n=t*7;return e.slice(n,n+7)}),q8=st({selectedDay:{type:Ie(Object)},range:{type:Ie(Array)},date:{type:Ie(Object),required:!0},hideHeader:{type:Boolean}}),J8={pick:e=>jt(e)};var Od={exports:{}},Z8=Od.exports,Gw;function Q8(){return Gw||(Gw=1,function(e,t){(function(n,r){e.exports=r()})(Z8,function(){return function(n,r,s){var i=r.prototype,a=function(p){return p&&(p.indexOf?p:p.s)},l=function(p,g,v,w,b){var _=p.name?p:p.$locale(),C=a(_[g]),M=a(_[v]),E=C||M.map(function(A){return A.slice(0,w)});if(!b)return E;var k=_.weekStart;return E.map(function(A,D){return E[(D+(k||0))%7]})},u=function(){return s.Ls[s.locale()]},d=function(p,g){return p.formats[g]||function(v){return v.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(w,b,_){return b||_.slice(1)})}(p.formats[g.toUpperCase()])},f=function(){var p=this;return{months:function(g){return g?g.format("MMMM"):l(p,"months")},monthsShort:function(g){return g?g.format("MMM"):l(p,"monthsShort","months",3)},firstDayOfWeek:function(){return p.$locale().weekStart||0},weekdays:function(g){return g?g.format("dddd"):l(p,"weekdays")},weekdaysMin:function(g){return g?g.format("dd"):l(p,"weekdaysMin","weekdays",2)},weekdaysShort:function(g){return g?g.format("ddd"):l(p,"weekdaysShort","weekdays",3)},longDateFormat:function(g){return d(p.$locale(),g)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return f.bind(this)()},s.localeData=function(){var p=u();return{firstDayOfWeek:function(){return p.weekStart||0},weekdays:function(){return s.weekdays()},weekdaysShort:function(){return s.weekdaysShort()},weekdaysMin:function(){return s.weekdaysMin()},months:function(){return s.months()},monthsShort:function(){return s.monthsShort()},longDateFormat:function(g){return d(p,g)},meridiem:p.meridiem,ordinal:p.ordinal}},s.months=function(){return l(u(),"months")},s.monthsShort=function(){return l(u(),"monthsShort","months",3)},s.weekdays=function(p){return l(u(),"weekdays",null,null,p)},s.weekdaysShort=function(p){return l(u(),"weekdaysShort","weekdays",3,p)},s.weekdaysMin=function(p){return l(u(),"weekdaysMin","weekdays",2,p)}}})}(Od)),Od.exports}var e6=Q8();const l_=ha(e6),t6=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"],dp=["sun","mon","tue","wed","thu","fri","sat"],n6=(e,t)=>{Ft.extend(l_);const n=Ft.localeData().firstDayOfWeek(),{t:r,lang:s}=cn(),i=Ft().locale(s.value),a=L(()=>!!e.range&&!!e.range.length),l=L(()=>{let g=[];if(a.value){const[v,w]=e.range,b=Na(w.date()-v.date()+1).map(M=>({text:v.date()+M,type:"current"}));let _=b.length%7;_=_===0?0:7-_;const C=Na(_).map((M,E)=>({text:E+1,type:"next"}));g=b.concat(C)}else{const v=e.date.startOf("month").day(),w=G8(e.date,(v-n+7)%7).map(M=>({text:M,type:"prev"})),b=Y8(e.date).map(M=>({text:M,type:"current"}));g=[...w,...b];const _=7-(g.length%7||7),C=Na(_).map((M,E)=>({text:E+1,type:"next"}));g=g.concat(C)}return X8(g)}),u=L(()=>{const g=n;return g===0?dp.map(v=>r(`el.datepicker.weeks.${v}`)):dp.slice(g).concat(dp.slice(0,g)).map(v=>r(`el.datepicker.weeks.${v}`))}),d=(g,v)=>{switch(v){case"prev":return e.date.startOf("month").subtract(1,"month").date(g);case"next":return e.date.startOf("month").add(1,"month").date(g);case"current":return e.date.date(g)}};return{now:i,isInRange:a,rows:l,weekDays:u,getFormattedDate:d,handlePickDay:({text:g,type:v})=>{const w=d(g,v);t("pick",w)},getSlotData:({text:g,type:v})=>{const w=d(g,v);return{isSelected:w.isSame(e.selectedDay),type:`${v}-month`,day:w.format("YYYY-MM-DD"),date:w.toDate()}}}},r6=ve({name:"DateTable"}),s6=ve({...r6,props:q8,emits:J8,setup(e,{expose:t,emit:n}){const r=e,{isInRange:s,now:i,rows:a,weekDays:l,getFormattedDate:u,handlePickDay:d,getSlotData:f}=n6(r,n),p=Xe("calendar-table"),g=Xe("calendar-day"),v=({text:w,type:b})=>{const _=[b];if(b==="current"){const C=u(w,b);C.isSame(r.selectedDay,"day")&&_.push(g.is("selected")),C.isSame(i,"day")&&_.push(g.is("today"))}return _};return t({getFormattedDate:u}),(w,b)=>(V(),le("table",{class:W([o(p).b(),o(p).is("range",o(s))]),cellspacing:"0",cellpadding:"0"},[w.hideHeader?Re("v-if",!0):(V(),le("thead",{key:0},[ue("tr",null,[(V(!0),le(Ct,null,nn(o(l),_=>(V(),le("th",{key:_,scope:"col"},at(_),1))),128))])])),ue("tbody",null,[(V(!0),le(Ct,null,nn(o(a),(_,C)=>(V(),le("tr",{key:C,class:W({[o(p).e("row")]:!0,[o(p).em("row","hide-border")]:C===0&&w.hideHeader})},[(V(!0),le(Ct,null,nn(_,(M,E)=>(V(),le("td",{key:E,class:W(v(M)),onClick:k=>o(d)(M)},[ue("div",{class:W(o(g).b())},[Oe(w.$slots,"date-cell",{data:o(f)(M)},()=>[ue("span",null,at(M.text),1)])],2)],10,["onClick"]))),128))],2))),128))])],2))}});var Yw=ot(s6,[["__file","date-table.vue"]]);const i6=(e,t)=>{const n=e.endOf("month"),r=t.startOf("month"),i=n.isSame(r,"week")?r.add(1,"week"):r;return[[e,n],[i.startOf("week"),t]]},a6=(e,t)=>{const n=e.endOf("month"),r=e.add(1,"month").startOf("month"),s=n.isSame(r,"week")?r.add(1,"week"):r,i=s.endOf("month"),a=t.startOf("month"),l=i.isSame(a,"week")?a.add(1,"week"):a;return[[e,n],[s.startOf("week"),i],[l.startOf("week"),t]]},o6=(e,t,n)=>{const{lang:r}=cn(),s=Q(),i=Ft().locale(r.value),a=L({get(){return e.modelValue?u.value:s.value},set(_){if(!_)return;s.value=_;const C=_.toDate();t(Br,C),t(Kt,C)}}),l=L(()=>{if(!e.range||!nt(e.range)||e.range.length!==2||e.range.some(E=>!Va(E)))return[];const _=e.range.map(E=>Ft(E).locale(r.value)),[C,M]=_;return C.isAfter(M)?[]:C.isSame(M,"month")?v(C,M):C.add(1,"month").month()!==M.month()?[]:v(C,M)}),u=L(()=>e.modelValue?Ft(e.modelValue).locale(r.value):a.value||(l.value.length?l.value[0][0]:i)),d=L(()=>u.value.subtract(1,"month").date(1)),f=L(()=>u.value.add(1,"month").date(1)),p=L(()=>u.value.subtract(1,"year").date(1)),g=L(()=>u.value.add(1,"year").date(1)),v=(_,C)=>{const M=_.startOf("week"),E=C.endOf("week"),k=M.get("month"),A=E.get("month");return k===A?[[M,E]]:(k+1)%12===A?i6(M,E):k+2===A||(k+1)%11===A?a6(M,E):[]},w=_=>{a.value=_};return{calculateValidatedDateRange:v,date:u,realSelectedDay:a,pickDay:w,selectDate:_=>{const M={"prev-month":d.value,"next-month":f.value,"prev-year":p.value,"next-year":g.value,today:i}[_];M.isSame(u.value,"day")||w(M)},validatedRange:l}},l6=e=>nt(e)&&e.length===2&&e.every(t=>Va(t)),u6=st({modelValue:{type:Date},range:{type:Ie(Array),validator:l6}}),c6={[Kt]:e=>Va(e),[Br]:e=>Va(e)},d6="ElCalendar",f6=ve({name:d6}),h6=ve({...f6,props:u6,emits:c6,setup(e,{expose:t,emit:n}){const r=e,s=Xe("calendar"),{calculateValidatedDateRange:i,date:a,pickDay:l,realSelectedDay:u,selectDate:d,validatedRange:f}=o6(r,n),{t:p}=cn(),g=L(()=>{const v=`el.datepicker.month${a.value.format("M")}`;return`${a.value.year()} ${p("el.datepicker.year")} ${p(v)}`});return t({selectedDay:u,pickDay:l,selectDate:d,calculateValidatedDateRange:i}),(v,w)=>(V(),le("div",{class:W(o(s).b())},[ue("div",{class:W(o(s).e("header"))},[Oe(v.$slots,"header",{date:o(g)},()=>[ue("div",{class:W(o(s).e("title"))},at(o(g)),3),o(f).length===0?(V(),le("div",{key:0,class:W(o(s).e("button-group"))},[pe(o(i_),null,{default:Se(()=>[pe(o(Or),{size:"small",onClick:b=>o(d)("prev-month")},{default:Se(()=>[At(at(o(p)("el.datepicker.prevMonth")),1)]),_:1},8,["onClick"]),pe(o(Or),{size:"small",onClick:b=>o(d)("today")},{default:Se(()=>[At(at(o(p)("el.datepicker.today")),1)]),_:1},8,["onClick"]),pe(o(Or),{size:"small",onClick:b=>o(d)("next-month")},{default:Se(()=>[At(at(o(p)("el.datepicker.nextMonth")),1)]),_:1},8,["onClick"])]),_:1})],2)):Re("v-if",!0)])],2),o(f).length===0?(V(),le("div",{key:0,class:W(o(s).e("body"))},[pe(Yw,{date:o(a),"selected-day":o(u),onPick:o(l)},zs({_:2},[v.$slots["date-cell"]?{name:"date-cell",fn:Se(b=>[Oe(v.$slots,"date-cell",Js(za(b)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(V(),le("div",{key:1,class:W(o(s).e("body"))},[(V(!0),le(Ct,null,nn(o(f),(b,_)=>(V(),Ve(Yw,{key:_,date:b[0],"selected-day":o(u),range:b,"hide-header":_!==0,onPick:o(l)},zs({_:2},[v.$slots["date-cell"]?{name:"date-cell",fn:Se(C=>[Oe(v.$slots,"date-cell",Js(za(C)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var p6=ot(h6,[["__file","calendar.vue"]]);const m6=zt(p6),g6=st({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:Ie([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),v6=ve({name:"ElCard"}),y6=ve({...v6,props:g6,setup(e){const t=Xe("card");return(n,r)=>(V(),le("div",{class:W([o(t).b(),o(t).is(`${n.shadow}-shadow`)])},[n.$slots.header||n.header?(V(),le("div",{key:0,class:W(o(t).e("header"))},[Oe(n.$slots,"header",{},()=>[At(at(n.header),1)])],2)):Re("v-if",!0),ue("div",{class:W([o(t).e("body"),n.bodyClass]),style:Tt(n.bodyStyle)},[Oe(n.$slots,"default")],6),n.$slots.footer||n.footer?(V(),le("div",{key:1,class:W(o(t).e("footer"))},[Oe(n.$slots,"footer",{},()=>[At(at(n.footer),1)])],2)):Re("v-if",!0)],2))}});var b6=ot(y6,[["__file","card.vue"]]);const w6=zt(b6),x6=st({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),S6={change:(e,t)=>[e,t].every($t)},u_=Symbol("carouselContextKey"),am="ElCarouselItem";var Rs=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(Rs||{});function om(e){return qn(e)&&e.type===Ct}function C6(e){return qn(e)&&e.type===Ar}function _6(e){return qn(e)&&!om(e)&&!C6(e)}const T6=e=>{if(!qn(e))return{};const t=e.props||{},n=(qn(e.type)?e.type.props:void 0)||{},r={};return Object.keys(n).forEach(s=>{yn(n[s],"default")&&(r[s]=n[s].default)}),Object.keys(t).forEach(s=>{r[ds(s)]=t[s]}),r},k6=e=>{if(!nt(e)||e.length>1)throw new Error("expect to receive a single Vue element child");return e[0]},Pa=e=>{const t=nt(e)?e:[e],n=[];return t.forEach(r=>{var s;nt(r)?n.push(...Pa(r)):qn(r)&&((s=r.component)!=null&&s.subTree)?n.push(r,...Pa(r.component.subTree)):qn(r)&&nt(r.children)?n.push(...Pa(r.children)):n.push(r)}),n},E6=(e,t,n)=>Pa(e.subTree).filter(i=>{var a;return qn(i)&&((a=i.type)==null?void 0:a.name)===t&&!!i.component}).map(i=>i.component.uid).map(i=>n[i]).filter(i=>!!i),yv=(e,t)=>{const n={},r=Un([]);return{children:r,addChild:a=>{n[a.uid]=a,r.value=E6(e,t,n)},removeChild:a=>{delete n[a],r.value=r.value.filter(l=>l.uid!==a)}}},Xw=300,$6=(e,t,n)=>{const{children:r,addChild:s,removeChild:i}=yv(Gt(),am),a=Sr(),l=Q(-1),u=Q(null),d=Q(!1),f=Q(),p=Q(0),g=Q(!0),v=Q(!0),w=Q(!1),b=L(()=>e.arrow!=="never"&&!o(M)),_=L(()=>r.value.some(He=>He.props.label.toString().length>0)),C=L(()=>e.type==="card"),M=L(()=>e.direction==="vertical"),E=L(()=>e.height!=="auto"?{height:e.height}:{height:`${p.value}px`,overflow:"hidden"}),k=_o(He=>{G(He)},Xw,{trailing:!0}),A=_o(He=>{J(He)},Xw),D=He=>g.value?l.value<=1?He<=1:He>1:!0;function H(){u.value&&(clearInterval(u.value),u.value=null)}function U(){e.interval<=0||!e.autoplay||u.value||(u.value=setInterval(()=>K(),e.interval))}const K=()=>{v.value||(w.value=!0),v.value=!1,l.value<r.value.length-1?l.value=l.value+1:e.loop?l.value=0:w.value=!1};function G(He){if(v.value||(w.value=!0),v.value=!1,xt(He)){const Pe=r.value.filter(et=>et.props.name===He);Pe.length>0&&(He=r.value.indexOf(Pe[0]))}if(He=Number(He),Number.isNaN(He)||He!==Math.floor(He))return;const he=r.value.length,Ne=l.value;He<0?l.value=e.loop?he-1:0:He>=he?l.value=e.loop?0:he-1:l.value=He,Ne===l.value&&q(Ne),ke()}function q(He){r.value.forEach((he,Ne)=>{he.translateItem(Ne,l.value,He)})}function Y(He,he){var Ne,Pe,et,qe;const ae=o(r),be=ae.length;if(be===0||!He.states.inStage)return!1;const $e=he+1,Ge=he-1,Qe=be-1,Le=ae[Qe].states.active,Ze=ae[0].states.active,We=(Pe=(Ne=ae[$e])==null?void 0:Ne.states)==null?void 0:Pe.active,it=(qe=(et=ae[Ge])==null?void 0:et.states)==null?void 0:qe.active;return he===Qe&&Ze||We?"left":he===0&&Le||it?"right":!1}function de(){d.value=!0,e.pauseOnHover&&H()}function xe(){d.value=!1,U()}function oe(){w.value=!1}function Z(He){o(M)||r.value.forEach((he,Ne)=>{He===Y(he,Ne)&&(he.states.hover=!0)})}function ne(){o(M)||r.value.forEach(He=>{He.states.hover=!1})}function ee(He){He!==l.value&&(v.value||(w.value=!0)),l.value=He}function J(He){e.trigger==="hover"&&He!==l.value&&(l.value=He,v.value||(w.value=!0))}function fe(){G(l.value-1)}function ge(){G(l.value+1)}function ke(){H(),e.pauseOnHover||U()}function ye(He){e.height==="auto"&&(p.value=He)}function Fe(){var He;const he=(He=a.default)==null?void 0:He.call(a);if(!he)return null;const Pe=Pa(he).filter(et=>qn(et)&&et.type.name===am);return(Pe==null?void 0:Pe.length)===2&&e.loop&&!C.value?(g.value=!0,Pe):(g.value=!1,null)}je(()=>l.value,(He,he)=>{q(he),g.value&&(He=He%2,he=he%2),he>-1&&t("change",He,he)}),je(()=>e.autoplay,He=>{He?U():H()}),je(()=>e.loop,()=>{G(l.value)}),je(()=>e.interval,()=>{ke()});const Be=Un();return Ut(()=>{je(()=>r.value,()=>{r.value.length>0&&G(e.initialIndex)},{immediate:!0}),Be.value=Jn(f.value,()=>{q()}),U()}),Fn(()=>{H(),f.value&&Be.value&&Be.value.stop()}),Qt(u_,{root:f,isCardType:C,isVertical:M,items:r,loop:e.loop,cardScale:e.cardScale,addItem:s,removeItem:i,setActiveItem:G,setContainerHeight:ye}),{root:f,activeIndex:l,arrowDisplay:b,hasLabel:_,hover:d,isCardType:C,isTransitioning:w,items:r,isVertical:M,containerStyle:E,isItemsTwoLength:g,handleButtonEnter:Z,handleTransitionEnd:oe,handleButtonLeave:ne,handleIndicatorClick:ee,handleMouseEnter:de,handleMouseLeave:xe,setActiveItem:G,prev:fe,next:ge,PlaceholderItem:Fe,isTwoLengthShow:D,throttledArrowClick:k,throttledIndicatorHover:A}},I6="ElCarousel",A6=ve({name:I6}),L6=ve({...A6,props:x6,emits:S6,setup(e,{expose:t,emit:n}){const r=e,{root:s,activeIndex:i,arrowDisplay:a,hasLabel:l,hover:u,isCardType:d,items:f,isVertical:p,containerStyle:g,handleButtonEnter:v,handleButtonLeave:w,isTransitioning:b,handleIndicatorClick:_,handleMouseEnter:C,handleMouseLeave:M,handleTransitionEnd:E,setActiveItem:k,prev:A,next:D,PlaceholderItem:H,isTwoLengthShow:U,throttledArrowClick:K,throttledIndicatorHover:G}=$6(r,n),q=Xe("carousel"),{t:Y}=cn(),de=L(()=>{const Z=[q.b(),q.m(r.direction)];return o(d)&&Z.push(q.m("card")),Z}),xe=L(()=>{const Z=[q.e("container")];return r.motionBlur&&o(b)&&f.value.length>1&&Z.push(o(p)?`${q.namespace.value}-transitioning-vertical`:`${q.namespace.value}-transitioning`),Z}),oe=L(()=>{const Z=[q.e("indicators"),q.em("indicators",r.direction)];return o(l)&&Z.push(q.em("indicators","labels")),r.indicatorPosition==="outside"&&Z.push(q.em("indicators","outside")),o(p)&&Z.push(q.em("indicators","right")),Z});return t({activeIndex:i,setActiveItem:k,prev:A,next:D}),(Z,ne)=>(V(),le("div",{ref_key:"root",ref:s,class:W(o(de)),onMouseenter:Lt(o(C),["stop"]),onMouseleave:Lt(o(M),["stop"])},[o(a)?(V(),Ve(Rr,{key:0,name:"carousel-arrow-left",persisted:""},{default:Se(()=>[Bt(ue("button",{type:"button",class:W([o(q).e("arrow"),o(q).em("arrow","left")]),"aria-label":o(Y)("el.carousel.leftArrow"),onMouseenter:ee=>o(v)("left"),onMouseleave:o(w),onClick:Lt(ee=>o(K)(o(i)-1),["stop"])},[pe(o(wt),null,{default:Se(()=>[pe(o(Wa))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[mn,(Z.arrow==="always"||o(u))&&(r.loop||o(i)>0)]])]),_:1})):Re("v-if",!0),o(a)?(V(),Ve(Rr,{key:1,name:"carousel-arrow-right",persisted:""},{default:Se(()=>[Bt(ue("button",{type:"button",class:W([o(q).e("arrow"),o(q).em("arrow","right")]),"aria-label":o(Y)("el.carousel.rightArrow"),onMouseenter:ee=>o(v)("right"),onMouseleave:o(w),onClick:Lt(ee=>o(K)(o(i)+1),["stop"])},[pe(o(wt),null,{default:Se(()=>[pe(o(cs))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[mn,(Z.arrow==="always"||o(u))&&(r.loop||o(i)<o(f).length-1)]])]),_:1})):Re("v-if",!0),ue("div",{class:W(o(xe)),style:Tt(o(g)),onTransitionend:o(E)},[pe(o(H)),Oe(Z.$slots,"default")],46,["onTransitionend"]),Z.indicatorPosition!=="none"?(V(),le("ul",{key:2,class:W(o(oe))},[(V(!0),le(Ct,null,nn(o(f),(ee,J)=>Bt((V(),le("li",{key:J,class:W([o(q).e("indicator"),o(q).em("indicator",Z.direction),o(q).is("active",J===o(i))]),onMouseenter:fe=>o(G)(J),onClick:Lt(fe=>o(_)(J),["stop"])},[ue("button",{class:W(o(q).e("button")),"aria-label":o(Y)("el.carousel.indicator",{index:J+1})},[o(l)?(V(),le("span",{key:0},at(ee.props.label),1)):Re("v-if",!0)],10,["aria-label"])],42,["onMouseenter","onClick"])),[[mn,o(U)(J)]])),128))],2)):Re("v-if",!0),r.motionBlur?(V(),le("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},[ue("defs",null,[ue("filter",{id:"elCarouselHorizontal"},[ue("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),ue("filter",{id:"elCarouselVertical"},[ue("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])])])):Re("v-if",!0)],42,["onMouseenter","onMouseleave"]))}});var O6=ot(L6,[["__file","carousel.vue"]]);const M6=st({name:{type:String,default:""},label:{type:[String,Number],default:""}}),R6=e=>{const t=vt(u_),n=Gt(),r=Q(),s=Q(!1),i=Q(0),a=Q(1),l=Q(!1),u=Q(!1),d=Q(!1),f=Q(!1),{isCardType:p,isVertical:g,cardScale:v}=t;function w(E,k,A){const D=A-1,H=k-1,U=k+1,K=A/2;return k===0&&E===D?-1:k===D&&E===0?A:E<H&&k-E>=K?A+1:E>U&&E-k>=K?-2:E}function b(E,k){var A,D;const H=o(g)?((A=t.root.value)==null?void 0:A.offsetHeight)||0:((D=t.root.value)==null?void 0:D.offsetWidth)||0;return d.value?H*((2-v)*(E-k)+1)/4:E<k?-(1+v)*H/4:(3+v)*H/4}function _(E,k,A){const D=t.root.value;return D?((A?D.offsetHeight:D.offsetWidth)||0)*(E-k):0}const C=(E,k,A)=>{var D;const H=o(p),U=(D=t.items.value.length)!=null?D:Number.NaN,K=E===k;!H&&!xn(A)&&(f.value=K||E===A),!K&&U>2&&t.loop&&(E=w(E,k,U));const G=o(g);l.value=K,H?(d.value=Math.round(Math.abs(E-k))<=1,i.value=b(E,k),a.value=o(l)?1:v):i.value=_(E,k,G),u.value=!0,K&&r.value&&t.setContainerHeight(r.value.offsetHeight)};function M(){if(t&&o(p)){const E=t.items.value.findIndex(({uid:k})=>k===n.uid);t.setActiveItem(E)}}return Ut(()=>{t.addItem({props:e,states:wn({hover:s,translate:i,scale:a,active:l,ready:u,inStage:d,animating:f}),uid:n.uid,translateItem:C})}),Ja(()=>{t.removeItem(n.uid)}),{carouselItemRef:r,active:l,animating:f,hover:s,inStage:d,isVertical:g,translate:i,isCardType:p,scale:a,ready:u,handleItemClick:M}},D6=ve({name:am}),N6=ve({...D6,props:M6,setup(e){const t=e,n=Xe("carousel"),{carouselItemRef:r,active:s,animating:i,hover:a,inStage:l,isVertical:u,translate:d,isCardType:f,scale:p,ready:g,handleItemClick:v}=R6(t),w=L(()=>[n.e("item"),n.is("active",s.value),n.is("in-stage",l.value),n.is("hover",a.value),n.is("animating",i.value),{[n.em("item","card")]:f.value,[n.em("item","card-vertical")]:f.value&&u.value}]),b=L(()=>{const C=`${`translate${o(u)?"Y":"X"}`}(${o(d)}px)`,M=`scale(${o(p)})`;return{transform:[C,M].join(" ")}});return(_,C)=>Bt((V(),le("div",{ref_key:"carouselItemRef",ref:r,class:W(o(w)),style:Tt(o(b)),onClick:o(v)},[o(f)?Bt((V(),le("div",{key:0,class:W(o(n).e("mask"))},null,2)),[[mn,!o(s)]]):Re("v-if",!0),Oe(_.$slots,"default")],14,["onClick"])),[[mn,o(g)]])}});var c_=ot(N6,[["__file","carousel-item.vue"]]);const P6=zt(O6,{CarouselItem:c_}),F6=Qn(c_),d_={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:vr,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...Fr(["ariaControls"])},f_={[Kt]:e=>xt(e)||$t(e)||zn(e),change:e=>xt(e)||$t(e)||zn(e)},Yl=Symbol("checkboxGroupContextKey"),V6=({model:e,isChecked:t})=>{const n=vt(Yl,void 0),r=L(()=>{var i,a;const l=(i=n==null?void 0:n.max)==null?void 0:i.value,u=(a=n==null?void 0:n.min)==null?void 0:a.value;return!xn(l)&&e.value.length>=l&&!t.value||!xn(u)&&e.value.length<=u&&t.value});return{isDisabled:Ur(L(()=>(n==null?void 0:n.disabled.value)||r.value)),isLimitDisabled:r}},z6=(e,{model:t,isLimitExceeded:n,hasOwnLabel:r,isDisabled:s,isLabeledByFormItem:i})=>{const a=vt(Yl,void 0),{formItem:l}=Wr(),{emit:u}=Gt();function d(w){var b,_,C,M;return[!0,e.trueValue,e.trueLabel].includes(w)?(_=(b=e.trueValue)!=null?b:e.trueLabel)!=null?_:!0:(M=(C=e.falseValue)!=null?C:e.falseLabel)!=null?M:!1}function f(w,b){u("change",d(w),b)}function p(w){if(n.value)return;const b=w.target;u("change",d(b.checked),w)}async function g(w){n.value||!r.value&&!s.value&&i.value&&(w.composedPath().some(C=>C.tagName==="LABEL")||(t.value=d([!1,e.falseValue,e.falseLabel].includes(t.value)),await Et(),f(t.value,w)))}const v=L(()=>(a==null?void 0:a.validateEvent)||e.validateEvent);return je(()=>e.modelValue,()=>{v.value&&(l==null||l.validate("change").catch(w=>void 0))}),{handleChange:p,onClickRoot:g}},B6=e=>{const t=Q(!1),{emit:n}=Gt(),r=vt(Yl,void 0),s=L(()=>xn(r)===!1),i=Q(!1),a=L({get(){var l,u;return s.value?(l=r==null?void 0:r.modelValue)==null?void 0:l.value:(u=e.modelValue)!=null?u:t.value},set(l){var u,d;s.value&&nt(l)?(i.value=((u=r==null?void 0:r.max)==null?void 0:u.value)!==void 0&&l.length>(r==null?void 0:r.max.value)&&l.length>a.value.length,i.value===!1&&((d=r==null?void 0:r.changeEvent)==null||d.call(r,l))):(n(Kt,l),t.value=l)}});return{model:a,isGroup:s,isLimitExceeded:i}},K6=(e,t,{model:n})=>{const r=vt(Yl,void 0),s=Q(!1),i=L(()=>ni(e.value)?e.label:e.value),a=L(()=>{const f=n.value;return zn(f)?f:nt(f)?jt(i.value)?f.map(On).some(p=>zr(p,i.value)):f.map(On).includes(i.value):f!=null?f===e.trueValue||f===e.trueLabel:!!f}),l=pr(L(()=>{var f;return(f=r==null?void 0:r.size)==null?void 0:f.value}),{prop:!0}),u=pr(L(()=>{var f;return(f=r==null?void 0:r.size)==null?void 0:f.value})),d=L(()=>!!t.default||!ni(i.value));return{checkboxButtonSize:l,isChecked:a,isFocused:s,checkboxSize:u,hasOwnLabel:d,actualValue:i}},h_=(e,t)=>{const{formItem:n}=Wr(),{model:r,isGroup:s,isLimitExceeded:i}=B6(e),{isFocused:a,isChecked:l,checkboxButtonSize:u,checkboxSize:d,hasOwnLabel:f,actualValue:p}=K6(e,t,{model:r}),{isDisabled:g}=V6({model:r,isChecked:l}),{inputId:v,isLabeledByFormItem:w}=Us(e,{formItemContext:n,disableIdGeneration:f,disableIdManagement:s}),{handleChange:b,onClickRoot:_}=z6(e,{model:r,isLimitExceeded:i,hasOwnLabel:f,isDisabled:g,isLabeledByFormItem:w});return(()=>{function M(){var E,k;nt(r.value)&&!r.value.includes(p.value)?r.value.push(p.value):r.value=(k=(E=e.trueValue)!=null?E:e.trueLabel)!=null?k:!0}e.checked&&M()})(),Da({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},L(()=>s.value&&ni(e.value))),Da({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},L(()=>!!e.trueLabel)),Da({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},L(()=>!!e.falseLabel)),{inputId:v,isLabeledByFormItem:w,isChecked:l,isDisabled:g,isFocused:a,checkboxButtonSize:u,checkboxSize:d,hasOwnLabel:f,model:r,actualValue:p,handleChange:b,onClickRoot:_}},H6=ve({name:"ElCheckbox"}),W6=ve({...H6,props:d_,emits:f_,setup(e){const t=e,n=Sr(),{inputId:r,isLabeledByFormItem:s,isChecked:i,isDisabled:a,isFocused:l,checkboxSize:u,hasOwnLabel:d,model:f,actualValue:p,handleChange:g,onClickRoot:v}=h_(t,n),w=Xe("checkbox"),b=L(()=>[w.b(),w.m(u.value),w.is("disabled",a.value),w.is("bordered",t.border),w.is("checked",i.value)]),_=L(()=>[w.e("input"),w.is("disabled",a.value),w.is("checked",i.value),w.is("indeterminate",t.indeterminate),w.is("focus",l.value)]);return(C,M)=>(V(),Ve(Yt(!o(d)&&o(s)?"span":"label"),{class:W(o(b)),"aria-controls":C.indeterminate?C.ariaControls:null,onClick:o(v)},{default:Se(()=>{var E,k,A,D;return[ue("span",{class:W(o(_))},[C.trueValue||C.falseValue||C.trueLabel||C.falseLabel?Bt((V(),le("input",{key:0,id:o(r),"onUpdate:modelValue":H=>kn(f)?f.value=H:null,class:W(o(w).e("original")),type:"checkbox",indeterminate:C.indeterminate,name:C.name,tabindex:C.tabindex,disabled:o(a),"true-value":(k=(E=C.trueValue)!=null?E:C.trueLabel)!=null?k:!0,"false-value":(D=(A=C.falseValue)!=null?A:C.falseLabel)!=null?D:!1,onChange:o(g),onFocus:H=>l.value=!0,onBlur:H=>l.value=!1,onClick:Lt(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[cf,o(f)]]):Bt((V(),le("input",{key:1,id:o(r),"onUpdate:modelValue":H=>kn(f)?f.value=H:null,class:W(o(w).e("original")),type:"checkbox",indeterminate:C.indeterminate,disabled:o(a),value:o(p),name:C.name,tabindex:C.tabindex,onChange:o(g),onFocus:H=>l.value=!0,onBlur:H=>l.value=!1,onClick:Lt(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","disabled","value","name","tabindex","onChange","onFocus","onBlur","onClick"])),[[cf,o(f)]]),ue("span",{class:W(o(w).e("inner"))},null,2)],2),o(d)?(V(),le("span",{key:0,class:W(o(w).e("label"))},[Oe(C.$slots,"default"),C.$slots.default?Re("v-if",!0):(V(),le(Ct,{key:0},[At(at(C.label),1)],64))],2)):Re("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var U6=ot(W6,[["__file","checkbox.vue"]]);const j6=ve({name:"ElCheckboxButton"}),G6=ve({...j6,props:d_,emits:f_,setup(e){const t=e,n=Sr(),{isFocused:r,isChecked:s,isDisabled:i,checkboxButtonSize:a,model:l,actualValue:u,handleChange:d}=h_(t,n),f=vt(Yl,void 0),p=Xe("checkbox"),g=L(()=>{var w,b,_,C;const M=(b=(w=f==null?void 0:f.fill)==null?void 0:w.value)!=null?b:"";return{backgroundColor:M,borderColor:M,color:(C=(_=f==null?void 0:f.textColor)==null?void 0:_.value)!=null?C:"",boxShadow:M?`-1px 0 0 0 ${M}`:void 0}}),v=L(()=>[p.b("button"),p.bm("button",a.value),p.is("disabled",i.value),p.is("checked",s.value),p.is("focus",r.value)]);return(w,b)=>{var _,C,M,E;return V(),le("label",{class:W(o(v))},[w.trueValue||w.falseValue||w.trueLabel||w.falseLabel?Bt((V(),le("input",{key:0,"onUpdate:modelValue":k=>kn(l)?l.value=k:null,class:W(o(p).be("button","original")),type:"checkbox",name:w.name,tabindex:w.tabindex,disabled:o(i),"true-value":(C=(_=w.trueValue)!=null?_:w.trueLabel)!=null?C:!0,"false-value":(E=(M=w.falseValue)!=null?M:w.falseLabel)!=null?E:!1,onChange:o(d),onFocus:k=>r.value=!0,onBlur:k=>r.value=!1,onClick:Lt(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[cf,o(l)]]):Bt((V(),le("input",{key:1,"onUpdate:modelValue":k=>kn(l)?l.value=k:null,class:W(o(p).be("button","original")),type:"checkbox",name:w.name,tabindex:w.tabindex,disabled:o(i),value:o(u),onChange:o(d),onFocus:k=>r.value=!0,onBlur:k=>r.value=!1,onClick:Lt(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","value","onChange","onFocus","onBlur","onClick"])),[[cf,o(l)]]),w.$slots.default||w.label?(V(),le("span",{key:2,class:W(o(p).be("button","inner")),style:Tt(o(s)?o(g):void 0)},[Oe(w.$slots,"default",{},()=>[At(at(w.label),1)])],6)):Re("v-if",!0)],2)}}});var p_=ot(G6,[["__file","checkbox-button.vue"]]);const Y6=st({modelValue:{type:Ie(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:vr,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...Fr(["ariaLabel"])}),X6={[Kt]:e=>nt(e),change:e=>nt(e)},q6=ve({name:"ElCheckboxGroup"}),J6=ve({...q6,props:Y6,emits:X6,setup(e,{emit:t}){const n=e,r=Xe("checkbox"),{formItem:s}=Wr(),{inputId:i,isLabeledByFormItem:a}=Us(n,{formItemContext:s}),l=async d=>{t(Kt,d),await Et(),t("change",d)},u=L({get(){return n.modelValue},set(d){l(d)}});return Qt(Yl,{...Zs(Er(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:u,changeEvent:l}),je(()=>n.modelValue,()=>{n.validateEvent&&(s==null||s.validate("change").catch(d=>void 0))}),(d,f)=>{var p;return V(),Ve(Yt(d.tag),{id:o(i),class:W(o(r).b("group")),role:"group","aria-label":o(a)?void 0:d.ariaLabel||"checkbox-group","aria-labelledby":o(a)?(p=o(s))==null?void 0:p.labelId:void 0},{default:Se(()=>[Oe(d.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var m_=ot(J6,[["__file","checkbox-group.vue"]]);const Ws=zt(U6,{CheckboxButton:p_,CheckboxGroup:m_}),Z6=Qn(p_),g_=Qn(m_),v_=st({modelValue:{type:[String,Number,Boolean],default:void 0},size:vr,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),Q6=st({...v_,border:Boolean}),y_={[Kt]:e=>xt(e)||$t(e)||zn(e),[Nn]:e=>xt(e)||$t(e)||zn(e)},b_=Symbol("radioGroupKey"),w_=(e,t)=>{const n=Q(),r=vt(b_,void 0),s=L(()=>!!r),i=L(()=>ni(e.value)?e.label:e.value),a=L({get(){return s.value?r.modelValue:e.modelValue},set(p){s.value?r.changeEvent(p):t&&t(Kt,p),n.value.checked=e.modelValue===i.value}}),l=pr(L(()=>r==null?void 0:r.size)),u=Ur(L(()=>r==null?void 0:r.disabled)),d=Q(!1),f=L(()=>u.value||s.value&&a.value!==i.value?-1:0);return Da({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},L(()=>s.value&&ni(e.value))),{radioRef:n,isGroup:s,radioGroup:r,focus:d,size:l,disabled:u,tabIndex:f,modelValue:a,actualValue:i}},eB=ve({name:"ElRadio"}),tB=ve({...eB,props:Q6,emits:y_,setup(e,{emit:t}){const n=e,r=Xe("radio"),{radioRef:s,radioGroup:i,focus:a,size:l,disabled:u,modelValue:d,actualValue:f}=w_(n,t);function p(){Et(()=>t("change",d.value))}return(g,v)=>{var w;return V(),le("label",{class:W([o(r).b(),o(r).is("disabled",o(u)),o(r).is("focus",o(a)),o(r).is("bordered",g.border),o(r).is("checked",o(d)===o(f)),o(r).m(o(l))])},[ue("span",{class:W([o(r).e("input"),o(r).is("disabled",o(u)),o(r).is("checked",o(d)===o(f))])},[Bt(ue("input",{ref_key:"radioRef",ref:s,"onUpdate:modelValue":b=>kn(d)?d.value=b:null,class:W(o(r).e("original")),value:o(f),name:g.name||((w=o(i))==null?void 0:w.name),disabled:o(u),checked:o(d)===o(f),type:"radio",onFocus:b=>a.value=!0,onBlur:b=>a.value=!1,onChange:p,onClick:Lt(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","checked","onFocus","onBlur","onClick"]),[[t2,o(d)]]),ue("span",{class:W(o(r).e("inner"))},null,2)],2),ue("span",{class:W(o(r).e("label")),onKeydown:Lt(()=>{},["stop"])},[Oe(g.$slots,"default",{},()=>[At(at(g.label),1)])],42,["onKeydown"])],2)}}});var nB=ot(tB,[["__file","radio.vue"]]);const rB=st({...v_}),sB=ve({name:"ElRadioButton"}),iB=ve({...sB,props:rB,setup(e){const t=e,n=Xe("radio"),{radioRef:r,focus:s,size:i,disabled:a,modelValue:l,radioGroup:u,actualValue:d}=w_(t),f=L(()=>({backgroundColor:(u==null?void 0:u.fill)||"",borderColor:(u==null?void 0:u.fill)||"",boxShadow:u!=null&&u.fill?`-1px 0 0 0 ${u.fill}`:"",color:(u==null?void 0:u.textColor)||""}));return(p,g)=>{var v;return V(),le("label",{class:W([o(n).b("button"),o(n).is("active",o(l)===o(d)),o(n).is("disabled",o(a)),o(n).is("focus",o(s)),o(n).bm("button",o(i))])},[Bt(ue("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":w=>kn(l)?l.value=w:null,class:W(o(n).be("button","original-radio")),value:o(d),type:"radio",name:p.name||((v=o(u))==null?void 0:v.name),disabled:o(a),onFocus:w=>s.value=!0,onBlur:w=>s.value=!1,onClick:Lt(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","onFocus","onBlur","onClick"]),[[t2,o(l)]]),ue("span",{class:W(o(n).be("button","inner")),style:Tt(o(l)===o(d)?o(f):{}),onKeydown:Lt(()=>{},["stop"])},[Oe(p.$slots,"default",{},()=>[At(at(p.label),1)])],46,["onKeydown"])],2)}}});var x_=ot(iB,[["__file","radio-button.vue"]]);const aB=st({id:{type:String,default:void 0},size:vr,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...Fr(["ariaLabel"])}),oB=y_,lB=ve({name:"ElRadioGroup"}),uB=ve({...lB,props:aB,emits:oB,setup(e,{emit:t}){const n=e,r=Xe("radio"),s=Pr(),i=Q(),{formItem:a}=Wr(),{inputId:l,isLabeledByFormItem:u}=Us(n,{formItemContext:a}),d=p=>{t(Kt,p),Et(()=>t("change",p))};Ut(()=>{const p=i.value.querySelectorAll("[type=radio]"),g=p[0];!Array.from(p).some(v=>v.checked)&&g&&(g.tabIndex=0)});const f=L(()=>n.name||s.value);return Qt(b_,wn({...Er(n),changeEvent:d,name:f})),je(()=>n.modelValue,()=>{n.validateEvent&&(a==null||a.validate("change").catch(p=>void 0))}),(p,g)=>(V(),le("div",{id:o(l),ref_key:"radioGroupRef",ref:i,class:W(o(r).b("group")),role:"radiogroup","aria-label":o(u)?void 0:p.ariaLabel||"radio-group","aria-labelledby":o(u)?o(a).labelId:void 0},[Oe(p.$slots,"default")],10,["id","aria-label","aria-labelledby"]))}});var S_=ot(uB,[["__file","radio-group.vue"]]);const C_=zt(nB,{RadioButton:x_,RadioGroup:S_}),cB=Qn(S_),dB=Qn(x_);var fB=ve({name:"NodeContent",setup(){return{ns:Xe("cascader-node")}},render(){const{ns:e}=this,{node:t,panel:n}=this.$parent,{data:r,label:s}=t,{renderLabelFn:i}=n;return It("span",{class:e.e("label")},i?i({node:t,data:r}):s)}});const bv=Symbol(),hB=ve({name:"ElCascaderNode",components:{ElCheckbox:Ws,ElRadio:C_,NodeContent:fB,ElIcon:wt,Check:Tc,Loading:$i,ArrowRight:cs},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:t}){const n=vt(bv),r=Xe("cascader-node"),s=L(()=>n.isHoverMenu),i=L(()=>n.config.multiple),a=L(()=>n.config.checkStrictly),l=L(()=>{var D;return(D=n.checkedNodes[0])==null?void 0:D.uid}),u=L(()=>e.node.isDisabled),d=L(()=>e.node.isLeaf),f=L(()=>a.value&&!d.value||!u.value),p=L(()=>v(n.expandingNode)),g=L(()=>a.value&&n.checkedNodes.some(v)),v=D=>{var H;const{level:U,uid:K}=e.node;return((H=D==null?void 0:D.pathNodes[U-1])==null?void 0:H.uid)===K},w=()=>{p.value||n.expandNode(e.node)},b=D=>{const{node:H}=e;D!==H.checked&&n.handleCheckChange(H,D)},_=()=>{n.lazyLoad(e.node,()=>{d.value||w()})},C=D=>{s.value&&(M(),!d.value&&t("expand",D))},M=()=>{const{node:D}=e;!f.value||D.loading||(D.loaded?w():_())},E=()=>{s.value&&!d.value||(d.value&&!u.value&&!a.value&&!i.value?A(!0):M())},k=D=>{a.value?(b(D),e.node.loaded&&w()):A(D)},A=D=>{e.node.loaded?(b(D),!a.value&&w()):_()};return{panel:n,isHoverMenu:s,multiple:i,checkStrictly:a,checkedNodeId:l,isDisabled:u,isLeaf:d,expandable:f,inExpandingPath:p,inCheckedPath:g,ns:r,handleHoverExpand:C,handleExpand:M,handleClick:E,handleCheck:A,handleSelectCheck:k}}});function pB(e,t,n,r,s,i){const a=Dt("el-checkbox"),l=Dt("el-radio"),u=Dt("check"),d=Dt("el-icon"),f=Dt("node-content"),p=Dt("loading"),g=Dt("arrow-right");return V(),le("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:W([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:e.handleHoverExpand,onFocus:e.handleHoverExpand,onClick:e.handleClick},[Re(" prefix "),e.multiple?(V(),Ve(a,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:Lt(()=>{},["stop"]),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onClick","onUpdate:modelValue"])):e.checkStrictly?(V(),Ve(l,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:Lt(()=>{},["stop"])},{default:Se(()=>[Re(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),ue("span")]),_:1},8,["model-value","label","disabled","onUpdate:modelValue","onClick"])):e.isLeaf&&e.node.checked?(V(),Ve(d,{key:2,class:W(e.ns.e("prefix"))},{default:Se(()=>[pe(u)]),_:1},8,["class"])):Re("v-if",!0),Re(" content "),pe(f),Re(" postfix "),e.isLeaf?Re("v-if",!0):(V(),le(Ct,{key:3},[e.node.loading?(V(),Ve(d,{key:0,class:W([e.ns.is("loading"),e.ns.e("postfix")])},{default:Se(()=>[pe(p)]),_:1},8,["class"])):(V(),Ve(d,{key:1,class:W(["arrow-right",e.ns.e("postfix")])},{default:Se(()=>[pe(g)]),_:1},8,["class"]))],64))],42,["id","aria-haspopup","aria-owns","aria-expanded","tabindex","onMouseenter","onFocus","onClick"])}var mB=ot(hB,[["render",pB],["__file","node.vue"]]);const gB=ve({name:"ElCascaderMenu",components:{Loading:$i,ElIcon:wt,ElScrollbar:Mi,ElCascaderNode:mB},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const t=Gt(),n=Xe("cascader-menu"),{t:r}=cn(),s=Pr();let i=null,a=null;const l=vt(bv),u=Q(null),d=L(()=>!e.nodes.length),f=L(()=>!l.initialLoaded),p=L(()=>`${s.value}-${e.index}`),g=_=>{i=_.target},v=_=>{if(!(!l.isHoverMenu||!i||!u.value))if(i.contains(_.target)){w();const C=t.vnode.el,{left:M}=C.getBoundingClientRect(),{offsetWidth:E,offsetHeight:k}=C,A=_.clientX-M,D=i.offsetTop,H=D+i.offsetHeight;u.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${A} ${D} L${E} 0 V${D} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${A} ${H} L${E} ${k} V${H} Z" />
        `}else a||(a=window.setTimeout(b,l.config.hoverThreshold))},w=()=>{a&&(clearTimeout(a),a=null)},b=()=>{u.value&&(u.value.innerHTML="",w())};return{ns:n,panel:l,hoverZone:u,isEmpty:d,isLoading:f,menuId:p,t:r,handleExpand:g,handleMouseMove:v,clearHoverZone:b}}});function vB(e,t,n,r,s,i){const a=Dt("el-cascader-node"),l=Dt("loading"),u=Dt("el-icon"),d=Dt("el-scrollbar");return V(),Ve(d,{key:e.menuId,tag:"ul",role:"menu",class:W(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:Se(()=>{var f;return[(V(!0),le(Ct,null,nn(e.nodes,p=>(V(),Ve(a,{key:p.uid,node:p,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),e.isLoading?(V(),le("div",{key:0,class:W(e.ns.e("empty-text"))},[pe(u,{size:"14",class:W(e.ns.is("loading"))},{default:Se(()=>[pe(l)]),_:1},8,["class"]),At(" "+at(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(V(),le("div",{key:1,class:W(e.ns.e("empty-text"))},[Oe(e.$slots,"empty",{},()=>[At(at(e.t("el.cascader.noData")),1)])],2)):(f=e.panel)!=null&&f.isHoverMenu?(V(),le("svg",{key:2,ref:"hoverZone",class:W(e.ns.e("hover-zone"))},null,2)):Re("v-if",!0)]}),_:3},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var yB=ot(gB,[["render",vB],["__file","menu.vue"]]);const wv=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Si=e=>gc(e);let bB=0;const wB=e=>{const t=[e];let{parent:n}=e;for(;n;)t.unshift(n),n=n.parent;return t};let lm=class um{constructor(t,n,r,s=!1){this.data=t,this.config=n,this.parent=r,this.root=s,this.uid=bB++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:i,label:a,children:l}=n,u=t[l],d=wB(this);this.level=s?0:r?r.level+1:1,this.value=t[i],this.label=t[a],this.pathNodes=d,this.pathValues=d.map(f=>f.value),this.pathLabels=d.map(f=>f.label),this.childrenData=u,this.children=(u||[]).map(f=>new um(f,n,this)),this.loaded=!n.lazy||this.isLeaf||!Ts(u)}get isDisabled(){const{data:t,parent:n,config:r}=this,{disabled:s,checkStrictly:i}=r;return(_t(s)?s(t,this):!!t[s])||!i&&(n==null?void 0:n.isDisabled)}get isLeaf(){const{data:t,config:n,childrenData:r,loaded:s}=this,{lazy:i,leaf:a}=n,l=_t(a)?a(t,this):t[a];return xn(l)?i&&!s?!1:!(nt(r)&&r.length):!!l}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(t){const{childrenData:n,children:r}=this,s=new um(t,this.config,this);return nt(n)?n.push(t):this.childrenData=[t],r.push(s),s}calcText(t,n){const r=t?this.pathLabels.join(n):this.label;return this.text=r,r}broadcast(t,...n){const r=`onParent${Si(t)}`;this.children.forEach(s=>{s&&(s.broadcast(t,...n),s[r]&&s[r](...n))})}emit(t,...n){const{parent:r}=this,s=`onChild${Si(t)}`;r&&(r[s]&&r[s](...n),r.emit(t,...n))}onParentCheck(t){this.isDisabled||this.setCheckState(t)}onChildCheck(){const{children:t}=this,n=t.filter(s=>!s.isDisabled),r=n.length?n.every(s=>s.checked):!1;this.setCheckState(r)}setCheckState(t){const n=this.children.length,r=this.children.reduce((s,i)=>{const a=i.checked?1:i.indeterminate?.5:0;return s+a},0);this.checked=this.loaded&&this.children.filter(s=>!s.isDisabled).every(s=>s.loaded&&s.checked)&&t,this.indeterminate=this.loaded&&r!==n&&r>0}doCheck(t){if(this.checked===t)return;const{checkStrictly:n,multiple:r}=this.config;n||!r?this.checked=t:(this.broadcast("check",t),this.setCheckState(t),this.emit("check"))}};const cm=(e,t)=>e.reduce((n,r)=>(r.isLeaf?n.push(r):(!t&&n.push(r),n=n.concat(cm(r.children,t))),n),[]);class qw{constructor(t,n){this.config=n;const r=(t||[]).map(s=>new lm(s,this.config));this.nodes=r,this.allNodes=cm(r,!1),this.leafNodes=cm(r,!0)}getNodes(){return this.nodes}getFlattedNodes(t){return t?this.leafNodes:this.allNodes}appendNode(t,n){const r=n?n.appendChild(t):new lm(t,this.config);n||this.nodes.push(r),this.allNodes.push(r),r.isLeaf&&this.leafNodes.push(r)}appendNodes(t,n){t.forEach(r=>this.appendNode(r,n))}getNodeByValue(t,n=!1){return!t&&t!==0?null:this.getFlattedNodes(n).find(s=>zr(s.value,t)||zr(s.pathValues,t))||null}getSameNode(t){return t&&this.getFlattedNodes(!1).find(({value:r,level:s})=>zr(t.value,r)&&t.level===s)||null}}const __=st({modelValue:{type:Ie([Number,String,Array])},options:{type:Ie(Array),default:()=>[]},props:{type:Ie(Object),default:()=>({})}}),xB={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:In,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},SB=e=>L(()=>({...xB,...e.props})),Jw=e=>{if(!e)return 0;const t=e.id.split("-");return Number(t[t.length-2])},CB=e=>{if(!e)return;const t=e.querySelector("input");t?t.click():LC(e)&&e.click()},_B=(e,t)=>{const n=t.slice(0),r=n.map(i=>i.uid),s=e.reduce((i,a)=>{const l=r.indexOf(a.uid);return l>-1&&(i.push(a),n.splice(l,1),r.splice(l,1)),i},[]);return s.push(...n),s},Zw=e=>[...new Set(e)],os=e=>!e&&e!==0?[]:nt(e)?e:[e],TB=ve({name:"ElCascaderPanel",components:{ElCascaderMenu:yB},props:{...__,border:{type:Boolean,default:!0},renderLabel:Function},emits:[Kt,Nn,"close","expand-change"],setup(e,{emit:t,slots:n}){let r=!1;const s=Xe("cascader"),i=SB(e);let a=null;const l=Q(!0),u=Q([]),d=Q(null),f=Q([]),p=Q(null),g=Q([]),v=L(()=>i.value.expandTrigger==="hover"),w=L(()=>e.renderLabel||n.default),b=()=>{const{options:Y}=e,de=i.value;r=!1,a=new qw(Y,de),f.value=[a.getNodes()],de.lazy&&Ts(e.options)?(l.value=!1,_(void 0,xe=>{xe&&(a=new qw(xe,de),f.value=[a.getNodes()]),l.value=!0,U(!1,!0)})):U(!1,!0)},_=(Y,de)=>{const xe=i.value;Y=Y||new lm({},xe,void 0,!0),Y.loading=!0;const oe=Z=>{const ne=Y,ee=ne.root?null:ne;Z&&(a==null||a.appendNodes(Z,ee)),ne.loading=!1,ne.loaded=!0,ne.childrenData=ne.childrenData||[],de&&de(Z)};xe.lazyLoad(Y,oe)},C=(Y,de)=>{var xe;const{level:oe}=Y,Z=f.value.slice(0,oe);let ne;Y.isLeaf?ne=Y.pathNodes[oe-2]:(ne=Y,Z.push(Y.children)),((xe=p.value)==null?void 0:xe.uid)!==(ne==null?void 0:ne.uid)&&(p.value=Y,f.value=Z,!de&&t("expand-change",(Y==null?void 0:Y.pathValues)||[]))},M=(Y,de,xe=!0)=>{const{checkStrictly:oe,multiple:Z}=i.value,ne=g.value[0];r=!0,!Z&&(ne==null||ne.doCheck(!1)),Y.doCheck(de),H(),xe&&!Z&&!oe&&t("close"),!xe&&!Z&&!oe&&E(Y)},E=Y=>{Y&&(Y=Y.parent,E(Y),Y&&C(Y))},k=Y=>a==null?void 0:a.getFlattedNodes(Y),A=Y=>{var de;return(de=k(Y))==null?void 0:de.filter(xe=>xe.checked!==!1)},D=()=>{g.value.forEach(Y=>Y.doCheck(!1)),H(),f.value=f.value.slice(0,1),p.value=null,t("expand-change",[])},H=()=>{var Y;const{checkStrictly:de,multiple:xe}=i.value,oe=g.value,Z=A(!de),ne=_B(oe,Z),ee=ne.map(J=>J.valueByOption);g.value=ne,d.value=xe?ee:(Y=ee[0])!=null?Y:null},U=(Y=!1,de=!1)=>{const{modelValue:xe}=e,{lazy:oe,multiple:Z,checkStrictly:ne}=i.value,ee=!ne;if(!(!l.value||r||!de&&zr(xe,d.value)))if(oe&&!Y){const fe=Zw(xN(os(xe))).map(ge=>a==null?void 0:a.getNodeByValue(ge)).filter(ge=>!!ge&&!ge.loaded&&!ge.loading);fe.length?fe.forEach(ge=>{_(ge,()=>U(!1,de))}):U(!0,de)}else{const J=Z?os(xe):[xe],fe=Zw(J.map(ge=>a==null?void 0:a.getNodeByValue(ge,ee)));K(fe,de),d.value=hf(xe)}},K=(Y,de=!0)=>{const{checkStrictly:xe}=i.value,oe=g.value,Z=Y.filter(J=>!!J&&(xe||J.isLeaf)),ne=a==null?void 0:a.getSameNode(p.value),ee=de&&ne||Z[0];ee?ee.pathNodes.forEach(J=>C(J,!0)):p.value=null,oe.forEach(J=>J.doCheck(!1)),wn(Z).forEach(J=>J.doCheck(!0)),g.value=Z,Et(G)},G=()=>{un&&u.value.forEach(Y=>{const de=Y==null?void 0:Y.$el;if(de){const xe=de.querySelector(`.${s.namespace.value}-scrollbar__wrap`),oe=de.querySelector(`.${s.b("node")}.${s.is("active")}`)||de.querySelector(`.${s.b("node")}.in-active-path`);qg(xe,oe)}})},q=Y=>{const de=Y.target,{code:xe}=Y;switch(xe){case gt.up:case gt.down:{Y.preventDefault();const oe=xe===gt.up?-1:1;Id(OC(de,oe,`.${s.b("node")}[tabindex="-1"]`));break}case gt.left:{Y.preventDefault();const oe=u.value[Jw(de)-1],Z=oe==null?void 0:oe.$el.querySelector(`.${s.b("node")}[aria-expanded="true"]`);Id(Z);break}case gt.right:{Y.preventDefault();const oe=u.value[Jw(de)+1],Z=oe==null?void 0:oe.$el.querySelector(`.${s.b("node")}[tabindex="-1"]`);Id(Z);break}case gt.enter:case gt.numpadEnter:CB(de);break}};return Qt(bv,wn({config:i,expandingNode:p,checkedNodes:g,isHoverMenu:v,initialLoaded:l,renderLabelFn:w,lazyLoad:_,expandNode:C,handleCheckChange:M})),je([i,()=>e.options],b,{deep:!0,immediate:!0}),je(()=>e.modelValue,()=>{r=!1,U()},{deep:!0}),je(()=>d.value,Y=>{zr(Y,e.modelValue)||(t(Kt,Y),t(Nn,Y))}),xS(()=>u.value=[]),Ut(()=>!Ts(e.modelValue)&&U()),{ns:s,menuList:u,menus:f,checkedNodes:g,handleKeyDown:q,handleCheckChange:M,getFlattedNodes:k,getCheckedNodes:A,clearCheckedNodes:D,calculateCheckedValue:H,scrollToExpandingNode:G}}});function kB(e,t,n,r,s,i){const a=Dt("el-cascader-menu");return V(),le("div",{class:W([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:e.handleKeyDown},[(V(!0),le(Ct,null,nn(e.menus,(l,u)=>(V(),Ve(a,{key:u,ref_for:!0,ref:d=>e.menuList[u]=d,index:u,nodes:[...l]},{empty:Se(()=>[Oe(e.$slots,"empty")]),_:2},1032,["index","nodes"]))),128))],42,["onKeydown"])}var EB=ot(TB,[["render",kB],["__file","index.vue"]]);const T_=zt(EB),ra=st({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:Oi},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),$B={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},IB=ve({name:"ElTag"}),AB=ve({...IB,props:ra,emits:$B,setup(e,{emit:t}){const n=e,r=pr(),s=Xe("tag"),i=L(()=>{const{type:d,hit:f,effect:p,closable:g,round:v}=n;return[s.b(),s.is("closable",g),s.m(d||"primary"),s.m(r.value),s.m(p),s.is("hit",f),s.is("round",v)]}),a=d=>{t("close",d)},l=d=>{t("click",d)},u=d=>{var f,p,g;(g=(p=(f=d==null?void 0:d.component)==null?void 0:f.subTree)==null?void 0:p.component)!=null&&g.bum&&(d.component.subTree.component.bum=null)};return(d,f)=>d.disableTransitions?(V(),le("span",{key:0,class:W(o(i)),style:Tt({backgroundColor:d.color}),onClick:l},[ue("span",{class:W(o(s).e("content"))},[Oe(d.$slots,"default")],2),d.closable?(V(),Ve(o(wt),{key:0,class:W(o(s).e("close")),onClick:Lt(a,["stop"])},{default:Se(()=>[pe(o(ii))]),_:1},8,["class","onClick"])):Re("v-if",!0)],6)):(V(),Ve(Rr,{key:1,name:`${o(s).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:u},{default:Se(()=>[ue("span",{class:W(o(i)),style:Tt({backgroundColor:d.color}),onClick:l},[ue("span",{class:W(o(s).e("content"))},[Oe(d.$slots,"default")],2),d.closable?(V(),Ve(o(wt),{key:0,class:W(o(s).e("close")),onClick:Lt(a,["stop"])},{default:Se(()=>[pe(o(ii))]),_:1},8,["class","onClick"])):Re("v-if",!0)],6)]),_:3},8,["name"]))}});var LB=ot(AB,[["__file","tag.vue"]]);const El=zt(LB),OB=st({...__,size:vr,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Ie(Function),default:(e,t)=>e.text.includes(t)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Ie(Function),default:()=>!0},placement:{type:Ie(String),values:fa,default:"bottom-start"},fallbackPlacements:{type:Ie(Array),default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:{type:String,default:""},teleported:Ir.teleported,tagType:{...ra.type,default:"info"},tagEffect:{...ra.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...Ul}),MB={[Kt]:e=>!0,[Nn]:e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,visibleChange:e=>zn(e),expandChange:e=>!!e,removeTag:e=>!!e},Ta=new Map;if(un){let e;document.addEventListener("mousedown",t=>e=t),document.addEventListener("mouseup",t=>{if(e){for(const n of Ta.values())for(const{documentHandler:r}of n)r(t,e);e=void 0}})}function Qw(e,t){let n=[];return nt(t.arg)?n=t.arg:us(t.arg)&&n.push(t.arg),function(r,s){const i=t.instance.popperRef,a=r.target,l=s==null?void 0:s.target,u=!t||!t.instance,d=!a||!l,f=e.contains(a)||e.contains(l),p=e===a,g=n.length&&n.some(w=>w==null?void 0:w.contains(a))||n.length&&n.includes(l),v=i&&(i.contains(a)||i.contains(l));u||d||f||p||g||v||t.value(r,s)}}const sa={beforeMount(e,t){Ta.has(e)||Ta.set(e,[]),Ta.get(e).push({documentHandler:Qw(e,t),bindingFn:t.value})},updated(e,t){Ta.has(e)||Ta.set(e,[]);const n=Ta.get(e),r=n.findIndex(i=>i.bindingFn===t.oldValue),s={documentHandler:Qw(e,t),bindingFn:t.value};r>=0?n.splice(r,1,s):n.push(s)},unmounted(e){Ta.delete(e)}},RB="ElCascader",DB=ve({name:RB}),NB=ve({...DB,props:OB,emits:MB,setup(e,{expose:t,emit:n}){const r=e,s={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:Ae})=>{const{modifiersData:Ke,placement:_e}=Ae;["right","left","bottom","top"].includes(_e)||(Ke.arrow.x=35)},requires:["arrow"]}]},i=oa();let a=0,l=0;const u=Xe("cascader"),d=Xe("input"),{t:f}=cn(),{form:p,formItem:g}=Wr(),{valueOnClear:v}=rh(r),{isComposing:w,handleComposition:b}=Ec({afterComposition(Ae){var Ke;const _e=(Ke=Ae.target)==null?void 0:Ke.value;Bn(_e)}}),_=Q(null),C=Q(null),M=Q(null),E=Q(null),k=Q(null),A=Q(!1),D=Q(!1),H=Q(!1),U=Q(!1),K=Q(""),G=Q(""),q=Q([]),Y=Q([]),de=Q([]),xe=L(()=>i.style),oe=L(()=>r.disabled||(p==null?void 0:p.disabled)),Z=L(()=>r.placeholder||f("el.cascader.placeholder")),ne=L(()=>G.value||q.value.length>0||w.value?"":Z.value),ee=pr(),J=L(()=>ee.value==="small"?"small":"default"),fe=L(()=>!!r.props.multiple),ge=L(()=>!r.filterable||fe.value),ke=L(()=>fe.value?G.value:K.value),ye=L(()=>{var Ae;return((Ae=E.value)==null?void 0:Ae.checkedNodes)||[]}),Fe=L(()=>!r.clearable||oe.value||H.value||!D.value?!1:!!ye.value.length),Be=L(()=>{const{showAllLevels:Ae,separator:Ke}=r,_e=ye.value;return _e.length?fe.value?"":_e[0].calcText(Ae,Ke):""}),He=L(()=>(g==null?void 0:g.validateState)||""),he=L({get(){return hf(r.modelValue)},set(Ae){const Ke=Ae??v.value;n(Kt,Ke),n(Nn,Ke),r.validateEvent&&(g==null||g.validate("change").catch(_e=>void 0))}}),Ne=L(()=>[u.b(),u.m(ee.value),u.is("disabled",oe.value),i.class]),Pe=L(()=>[d.e("icon"),"icon-arrow-down",u.is("reverse",A.value)]),et=L(()=>u.is("focus",A.value||U.value)),qe=L(()=>{var Ae,Ke;return(Ke=(Ae=_.value)==null?void 0:Ae.popperRef)==null?void 0:Ke.contentRef}),ae=Ae=>{var Ke,_e,lt;oe.value||(Ae=Ae??!A.value,Ae!==A.value&&(A.value=Ae,(_e=(Ke=C.value)==null?void 0:Ke.input)==null||_e.setAttribute("aria-expanded",`${Ae}`),Ae?(be(),Et((lt=E.value)==null?void 0:lt.scrollToExpandingNode)):r.filterable&&yt(),n("visibleChange",Ae)))},be=()=>{Et(()=>{var Ae;(Ae=_.value)==null||Ae.updatePopper()})},$e=()=>{H.value=!1},Ge=Ae=>{const{showAllLevels:Ke,separator:_e}=r;return{node:Ae,key:Ae.uid,text:Ae.calcText(Ke,_e),hitState:!1,closable:!oe.value&&!Ae.isDisabled,isCollapseTag:!1}},Qe=Ae=>{var Ke;const _e=Ae.node;_e.doCheck(!1),(Ke=E.value)==null||Ke.calculateCheckedValue(),n("removeTag",_e.valueByOption)},Le=()=>{if(!fe.value)return;const Ae=ye.value,Ke=[],_e=[];if(Ae.forEach(lt=>_e.push(Ge(lt))),Y.value=_e,Ae.length){Ae.slice(0,r.maxCollapseTags).forEach(Jt=>Ke.push(Ge(Jt)));const lt=Ae.slice(r.maxCollapseTags),Nt=lt.length;Nt&&(r.collapseTags?Ke.push({key:-1,text:`+ ${Nt}`,closable:!1,isCollapseTag:!0}):lt.forEach(Jt=>Ke.push(Ge(Jt))))}q.value=Ke},Ze=()=>{var Ae,Ke;const{filterMethod:_e,showAllLevels:lt,separator:Nt}=r,Jt=(Ke=(Ae=E.value)==null?void 0:Ae.getFlattedNodes(!r.props.checkStrictly))==null?void 0:Ke.filter(An=>An.isDisabled?!1:(An.calcText(lt,Nt),_e(An,ke.value)));fe.value&&(q.value.forEach(An=>{An.hitState=!1}),Y.value.forEach(An=>{An.hitState=!1})),H.value=!0,de.value=Jt,be()},We=()=>{var Ae;let Ke;H.value&&k.value?Ke=k.value.$el.querySelector(`.${u.e("suggestion-item")}`):Ke=(Ae=E.value)==null?void 0:Ae.$el.querySelector(`.${u.b("node")}[tabindex="-1"]`),Ke&&(Ke.focus(),!H.value&&Ke.click())},it=()=>{var Ae,Ke;const _e=(Ae=C.value)==null?void 0:Ae.input,lt=M.value,Nt=(Ke=k.value)==null?void 0:Ke.$el;if(!(!un||!_e)){if(Nt){const Jt=Nt.querySelector(`.${u.e("suggestion-list")}`);Jt.style.minWidth=`${_e.offsetWidth}px`}if(lt){const{offsetHeight:Jt}=lt,An=q.value.length>0?`${Math.max(Jt,a)-2}px`:`${a}px`;_e.style.height=An,be()}}},rt=Ae=>{var Ke;return(Ke=E.value)==null?void 0:Ke.getCheckedNodes(Ae)},St=Ae=>{be(),n("expandChange",Ae)},mt=Ae=>{if(!w.value)switch(Ae.code){case gt.enter:case gt.numpadEnter:ae();break;case gt.down:ae(!0),Et(We),Ae.preventDefault();break;case gt.esc:A.value===!0&&(Ae.preventDefault(),Ae.stopPropagation(),ae(!1));break;case gt.tab:ae(!1);break}},Ye=()=>{var Ae;(Ae=E.value)==null||Ae.clearCheckedNodes(),!A.value&&r.filterable&&yt(),ae(!1),n("clear")},yt=()=>{const{value:Ae}=Be;K.value=Ae,G.value=Ae},Mt=Ae=>{var Ke,_e;const{checked:lt}=Ae;fe.value?(Ke=E.value)==null||Ke.handleCheckChange(Ae,!lt,!1):(!lt&&((_e=E.value)==null||_e.handleCheckChange(Ae,!0,!1)),ae(!1))},qt=Ae=>{const Ke=Ae.target,{code:_e}=Ae;switch(_e){case gt.up:case gt.down:{const lt=_e===gt.up?-1:1;Id(OC(Ke,lt,`.${u.e("suggestion-item")}[tabindex="-1"]`));break}case gt.enter:case gt.numpadEnter:Ke.click();break}},Ht=()=>{const Ae=q.value,Ke=Ae[Ae.length-1];l=G.value?0:l+1,!(!Ke||!l||r.collapseTags&&Ae.length>1)&&(Ke.hitState?Qe(Ke):Ke.hitState=!0)},gn=Ae=>{const Ke=Ae.target,_e=u.e("search-input");Ke.className===_e&&(U.value=!0),n("focus",Ae)},en=Ae=>{U.value=!1,n("blur",Ae)},jn=xs(()=>{const{value:Ae}=ke;if(!Ae)return;const Ke=r.beforeFilter(Ae);Fu(Ke)?Ke.then(Ze).catch(()=>{}):Ke!==!1?Ze():$e()},r.debounce),Bn=(Ae,Ke)=>{!A.value&&ae(!0),!(Ke!=null&&Ke.isComposing)&&(Ae?jn():$e())},Ue=Ae=>Number.parseFloat(nP(d.cssVarName("input-height"),Ae).value)-2;return je(H,be),je([ye,oe,()=>r.collapseTags],Le),je(q,()=>{Et(()=>it())}),je(ee,async()=>{await Et();const Ae=C.value.input;a=Ue(Ae)||a,it()}),je(Be,yt,{immediate:!0}),Ut(()=>{const Ae=C.value.input,Ke=Ue(Ae);a=Ae.offsetHeight||Ke,Jn(Ae,it)}),t({getCheckedNodes:rt,cascaderPanelRef:E,togglePopperVisible:ae,contentRef:qe,presentText:Be}),(Ae,Ke)=>(V(),Ve(o(Hr),{ref_key:"tooltipRef",ref:_,visible:A.value,teleported:Ae.teleported,"popper-class":[o(u).e("dropdown"),Ae.popperClass],"popper-options":s,"fallback-placements":Ae.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:Ae.placement,transition:`${o(u).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:Ae.persistent,onHide:$e},{default:Se(()=>[Bt((V(),le("div",{class:W(o(Ne)),style:Tt(o(xe)),onClick:()=>ae(o(ge)?void 0:!0),onKeydown:mt,onMouseenter:_e=>D.value=!0,onMouseleave:_e=>D.value=!1},[pe(o(Zr),{ref_key:"input",ref:C,modelValue:K.value,"onUpdate:modelValue":_e=>K.value=_e,placeholder:o(ne),readonly:o(ge),disabled:o(oe),"validate-event":!1,size:o(ee),class:W(o(et)),tabindex:o(fe)&&Ae.filterable&&!o(oe)?-1:void 0,onCompositionstart:o(b),onCompositionupdate:o(b),onCompositionend:o(b),onFocus:gn,onBlur:en,onInput:Bn},{suffix:Se(()=>[o(Fe)?(V(),Ve(o(wt),{key:"clear",class:W([o(d).e("icon"),"icon-circle-close"]),onClick:Lt(Ye,["stop"])},{default:Se(()=>[pe(o(da))]),_:1},8,["class","onClick"])):(V(),Ve(o(wt),{key:"arrow-down",class:W(o(Pe)),onClick:Lt(_e=>ae(),["stop"])},{default:Se(()=>[pe(o(ca))]),_:1},8,["class","onClick"]))]),_:1},8,["modelValue","onUpdate:modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),o(fe)?(V(),le("div",{key:0,ref_key:"tagWrapper",ref:M,class:W([o(u).e("tags"),o(u).is("validate",!!o(He))])},[(V(!0),le(Ct,null,nn(q.value,_e=>(V(),Ve(o(El),{key:_e.key,type:Ae.tagType,size:o(J),effect:Ae.tagEffect,hit:_e.hitState,closable:_e.closable,"disable-transitions":"",onClose:lt=>Qe(_e)},{default:Se(()=>[_e.isCollapseTag===!1?(V(),le("span",{key:0},at(_e.text),1)):(V(),Ve(o(Hr),{key:1,disabled:A.value||!Ae.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:Se(()=>[ue("span",null,at(_e.text),1)]),content:Se(()=>[ue("div",{class:W(o(u).e("collapse-tags"))},[(V(!0),le(Ct,null,nn(Y.value.slice(Ae.maxCollapseTags),(lt,Nt)=>(V(),le("div",{key:Nt,class:W(o(u).e("collapse-tag"))},[(V(),Ve(o(El),{key:lt.key,class:"in-tooltip",type:Ae.tagType,size:o(J),effect:Ae.tagEffect,hit:lt.hitState,closable:lt.closable,"disable-transitions":"",onClose:Jt=>Qe(lt)},{default:Se(()=>[ue("span",null,at(lt.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","effect","hit","closable","onClose"]))),128)),Ae.filterable&&!o(oe)?Bt((V(),le("input",{key:0,"onUpdate:modelValue":_e=>G.value=_e,type:"text",class:W(o(u).e("search-input")),placeholder:o(Be)?"":o(Z),onInput:_e=>Bn(G.value,_e),onClick:Lt(_e=>ae(!0),["stop"]),onKeydown:Vn(Ht,["delete"]),onCompositionstart:o(b),onCompositionupdate:o(b),onCompositionend:o(b),onFocus:gn,onBlur:en},null,42,["onUpdate:modelValue","placeholder","onInput","onClick","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend"])),[[Gf,G.value]]):Re("v-if",!0)],2)):Re("v-if",!0)],46,["onClick","onMouseenter","onMouseleave"])),[[o(sa),()=>ae(!1),o(qe)]])]),content:Se(()=>[Bt(pe(o(T_),{ref_key:"cascaderPanelRef",ref:E,modelValue:o(he),"onUpdate:modelValue":_e=>kn(he)?he.value=_e:null,options:Ae.options,props:r.props,border:!1,"render-label":Ae.$slots.default,onExpandChange:St,onClose:_e=>Ae.$nextTick(()=>ae(!1))},{empty:Se(()=>[Oe(Ae.$slots,"empty")]),_:3},8,["modelValue","onUpdate:modelValue","options","props","render-label","onClose"]),[[mn,!H.value]]),Ae.filterable?Bt((V(),Ve(o(Mi),{key:0,ref_key:"suggestionPanel",ref:k,tag:"ul",class:W(o(u).e("suggestion-panel")),"view-class":o(u).e("suggestion-list"),onKeydown:qt},{default:Se(()=>[de.value.length?(V(!0),le(Ct,{key:0},nn(de.value,_e=>(V(),le("li",{key:_e.uid,class:W([o(u).e("suggestion-item"),o(u).is("checked",_e.checked)]),tabindex:-1,onClick:lt=>Mt(_e)},[ue("span",null,at(_e.text),1),_e.checked?(V(),Ve(o(wt),{key:0},{default:Se(()=>[pe(o(Tc))]),_:1})):Re("v-if",!0)],10,["onClick"]))),128)):Oe(Ae.$slots,"empty",{key:1},()=>[ue("li",{class:W(o(u).e("empty-text"))},at(o(f)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[mn,H.value]]):Re("v-if",!0)]),_:3},8,["visible","teleported","popper-class","fallback-placements","placement","transition","persistent"]))}});var PB=ot(NB,[["__file","cascader.vue"]]);const FB=zt(PB),VB=st({checked:Boolean,disabled:Boolean,type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),zB={"update:checked":e=>zn(e),[Nn]:e=>zn(e)},BB=ve({name:"ElCheckTag"}),KB=ve({...BB,props:VB,emits:zB,setup(e,{emit:t}){const n=e,r=Xe("check-tag"),s=L(()=>n.disabled),i=L(()=>[r.b(),r.is("checked",n.checked),r.is("disabled",s.value),r.m(n.type||"primary")]),a=()=>{if(s.value)return;const l=!n.checked;t(Nn,l),t("update:checked",l)};return(l,u)=>(V(),le("span",{class:W(o(i)),onClick:a},[Oe(l.$slots,"default")],2))}});var HB=ot(KB,[["__file","check-tag.vue"]]);const WB=zt(HB),UB=st({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:Ie([Number,Object]),default:()=>Zn({})},sm:{type:Ie([Number,Object]),default:()=>Zn({})},md:{type:Ie([Number,Object]),default:()=>Zn({})},lg:{type:Ie([Number,Object]),default:()=>Zn({})},xl:{type:Ie([Number,Object]),default:()=>Zn({})}}),k_=Symbol("rowContextKey"),jB=ve({name:"ElCol"}),GB=ve({...jB,props:UB,setup(e){const t=e,{gutter:n}=vt(k_,{gutter:L(()=>0)}),r=Xe("col"),s=L(()=>{const a={};return n.value&&(a.paddingLeft=a.paddingRight=`${n.value/2}px`),a}),i=L(()=>{const a=[];return["span","offset","pull","push"].forEach(d=>{const f=t[d];$t(f)&&(d==="span"?a.push(r.b(`${t[d]}`)):f>0&&a.push(r.b(`${d}-${t[d]}`)))}),["xs","sm","md","lg","xl"].forEach(d=>{$t(t[d])?a.push(r.b(`${d}-${t[d]}`)):jt(t[d])&&Object.entries(t[d]).forEach(([f,p])=>{a.push(f!=="span"?r.b(`${d}-${f}-${p}`):r.b(`${d}-${p}`))})}),n.value&&a.push(r.is("guttered")),[r.b(),a]});return(a,l)=>(V(),Ve(Yt(a.tag),{class:W(o(i)),style:Tt(o(s))},{default:Se(()=>[Oe(a.$slots,"default")]),_:3},8,["class","style"]))}});var YB=ot(GB,[["__file","col.vue"]]);const XB=zt(YB),e1=e=>$t(e)||xt(e)||nt(e),qB=st({accordion:Boolean,modelValue:{type:Ie([Array,String,Number]),default:()=>Zn([])}}),JB={[Kt]:e1,[Nn]:e1},E_=Symbol("collapseContextKey"),ZB=(e,t)=>{const n=Q(qr(e.modelValue)),r=i=>{n.value=i;const a=e.accordion?n.value[0]:n.value;t(Kt,a),t(Nn,a)},s=i=>{if(e.accordion)r([n.value[0]===i?"":i]);else{const a=[...n.value],l=a.indexOf(i);l>-1?a.splice(l,1):a.push(i),r(a)}};return je(()=>e.modelValue,()=>n.value=qr(e.modelValue),{deep:!0}),Qt(E_,{activeNames:n,handleItemClick:s}),{activeNames:n,setActiveNames:r}},QB=()=>{const e=Xe("collapse");return{rootKls:L(()=>e.b())}},eK=ve({name:"ElCollapse"}),tK=ve({...eK,props:qB,emits:JB,setup(e,{expose:t,emit:n}){const r=e,{activeNames:s,setActiveNames:i}=ZB(r,n),{rootKls:a}=QB();return t({activeNames:s,setActiveNames:i}),(l,u)=>(V(),le("div",{class:W(o(a))},[Oe(l.$slots,"default")],2))}});var nK=ot(tK,[["__file","collapse.vue"]]);const rK=ve({name:"ElCollapseTransition"}),sK=ve({...rK,setup(e){const t=Xe("collapse-transition"),n=s=>{s.style.maxHeight="",s.style.overflow=s.dataset.oldOverflow,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom},r={beforeEnter(s){s.dataset||(s.dataset={}),s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.style.height&&(s.dataset.elExistsHeight=s.style.height),s.style.maxHeight=0,s.style.paddingTop=0,s.style.paddingBottom=0},enter(s){requestAnimationFrame(()=>{s.dataset.oldOverflow=s.style.overflow,s.dataset.elExistsHeight?s.style.maxHeight=s.dataset.elExistsHeight:s.scrollHeight!==0?s.style.maxHeight=`${s.scrollHeight}px`:s.style.maxHeight=0,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom,s.style.overflow="hidden"})},afterEnter(s){s.style.maxHeight="",s.style.overflow=s.dataset.oldOverflow},enterCancelled(s){n(s)},beforeLeave(s){s.dataset||(s.dataset={}),s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.dataset.oldOverflow=s.style.overflow,s.style.maxHeight=`${s.scrollHeight}px`,s.style.overflow="hidden"},leave(s){s.scrollHeight!==0&&(s.style.maxHeight=0,s.style.paddingTop=0,s.style.paddingBottom=0)},afterLeave(s){n(s)},leaveCancelled(s){n(s)}};return(s,i)=>(V(),Ve(Rr,Xt({name:o(t).b()},FA(r)),{default:Se(()=>[Oe(s.$slots,"default")]),_:3},16,["name"]))}});var iK=ot(sK,[["__file","collapse-transition.vue"]]);const fh=zt(iK),aK=st({title:{type:String,default:""},name:{type:Ie([String,Number]),default:void 0},icon:{type:Pn,default:cs},disabled:Boolean}),oK=e=>{const t=vt(E_),{namespace:n}=Xe("collapse"),r=Q(!1),s=Q(!1),i=sv(),a=L(()=>i.current++),l=L(()=>{var g;return(g=e.name)!=null?g:`${n.value}-id-${i.prefix}-${o(a)}`}),u=L(()=>t==null?void 0:t.activeNames.value.includes(o(l)));return{focusing:r,id:a,isActive:u,handleFocus:()=>{setTimeout(()=>{s.value?s.value=!1:r.value=!0},50)},handleHeaderClick:()=>{e.disabled||(t==null||t.handleItemClick(o(l)),r.value=!1,s.value=!0)},handleEnterClick:()=>{t==null||t.handleItemClick(o(l))}}},lK=(e,{focusing:t,isActive:n,id:r})=>{const s=Xe("collapse"),i=L(()=>[s.b("item"),s.is("active",o(n)),s.is("disabled",e.disabled)]),a=L(()=>[s.be("item","header"),s.is("active",o(n)),{focusing:o(t)&&!e.disabled}]),l=L(()=>[s.be("item","arrow"),s.is("active",o(n))]),u=L(()=>s.be("item","wrap")),d=L(()=>s.be("item","content")),f=L(()=>s.b(`content-${o(r)}`)),p=L(()=>s.b(`head-${o(r)}`));return{arrowKls:l,headKls:a,rootKls:i,itemWrapperKls:u,itemContentKls:d,scopedContentId:f,scopedHeadId:p}},uK=ve({name:"ElCollapseItem"}),cK=ve({...uK,props:aK,setup(e,{expose:t}){const n=e,{focusing:r,id:s,isActive:i,handleFocus:a,handleHeaderClick:l,handleEnterClick:u}=oK(n),{arrowKls:d,headKls:f,rootKls:p,itemWrapperKls:g,itemContentKls:v,scopedContentId:w,scopedHeadId:b}=lK(n,{focusing:r,isActive:i,id:s});return t({isActive:i}),(_,C)=>(V(),le("div",{class:W(o(p))},[ue("button",{id:o(b),class:W(o(f)),"aria-expanded":o(i),"aria-controls":o(w),"aria-describedby":o(w),tabindex:_.disabled?-1:0,type:"button",onClick:o(l),onKeydown:Vn(Lt(o(u),["stop","prevent"]),["space","enter"]),onFocus:o(a),onBlur:M=>r.value=!1},[Oe(_.$slots,"title",{},()=>[At(at(_.title),1)]),Oe(_.$slots,"icon",{isActive:o(i)},()=>[pe(o(wt),{class:W(o(d))},{default:Se(()=>[(V(),Ve(Yt(_.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),pe(o(fh),null,{default:Se(()=>[Bt(ue("div",{id:o(w),role:"region",class:W(o(g)),"aria-hidden":!o(i),"aria-labelledby":o(b)},[ue("div",{class:W(o(v))},[Oe(_.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[mn,o(i)]])]),_:3})],2))}});var $_=ot(cK,[["__file","collapse-item.vue"]]);const dK=zt(nK,{CollapseItem:$_}),fK=Qn($_),hK=st({color:{type:Ie(Object),required:!0},vertical:{type:Boolean,default:!1}});let fp=!1;function tc(e,t){if(!un)return;const n=function(i){var a;(a=t.drag)==null||a.call(t,i)},r=function(i){var a;document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",r),document.onselectstart=null,document.ondragstart=null,fp=!1,(a=t.end)==null||a.call(t,i)},s=function(i){var a;fp||(i.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n),document.addEventListener("mouseup",r),document.addEventListener("touchmove",n),document.addEventListener("touchend",r),fp=!0,(a=t.start)==null||a.call(t,i))};e.addEventListener("mousedown",s),e.addEventListener("touchstart",s,{passive:!1})}const pK=(e,t)=>{if(!un||!e||!t)return!1;const n=e.getBoundingClientRect();let r;return t instanceof Element?r=t.getBoundingClientRect():r={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right},t1=e=>{let t=0,n=e;for(;n;)t+=n.offsetTop,n=n.offsetParent;return t},dm=(e,t)=>Math.abs(t1(e)-t1(t)),xv=e=>{let t,n;return e.type==="touchend"?(n=e.changedTouches[0].clientY,t=e.changedTouches[0].clientX):e.type.startsWith("touch")?(n=e.touches[0].clientY,t=e.touches[0].clientX):(n=e.clientY,t=e.clientX),{clientX:t,clientY:n}},mK=e=>{const t=Gt(),{t:n}=cn(),r=Un(),s=Un(),i=L(()=>e.color.get("alpha")),a=L(()=>n("el.colorpicker.alphaLabel"));function l(p){var g;p.target!==r.value&&u(p),(g=r.value)==null||g.focus()}function u(p){if(!s.value||!r.value)return;const v=t.vnode.el.getBoundingClientRect(),{clientX:w,clientY:b}=xv(p);if(e.vertical){let _=b-v.top;_=Math.max(r.value.offsetHeight/2,_),_=Math.min(_,v.height-r.value.offsetHeight/2),e.color.set("alpha",Math.round((_-r.value.offsetHeight/2)/(v.height-r.value.offsetHeight)*100))}else{let _=w-v.left;_=Math.max(r.value.offsetWidth/2,_),_=Math.min(_,v.width-r.value.offsetWidth/2),e.color.set("alpha",Math.round((_-r.value.offsetWidth/2)/(v.width-r.value.offsetWidth)*100))}}function d(p){const{code:g,shiftKey:v}=p,w=v?10:1;switch(g){case gt.left:case gt.down:p.preventDefault(),p.stopPropagation(),f(-w);break;case gt.right:case gt.up:p.preventDefault(),p.stopPropagation(),f(w);break}}function f(p){let g=i.value+p;g=g<0?0:g>100?100:g,e.color.set("alpha",g)}return{thumb:r,bar:s,alpha:i,alphaLabel:a,handleDrag:u,handleClick:l,handleKeydown:d}},gK=(e,{bar:t,thumb:n,handleDrag:r})=>{const s=Gt(),i=Xe("color-alpha-slider"),a=Q(0),l=Q(0),u=Q();function d(){if(!n.value||e.vertical)return 0;const M=s.vnode.el,E=e.color.get("alpha");return M?Math.round(E*(M.offsetWidth-n.value.offsetWidth/2)/100):0}function f(){if(!n.value)return 0;const M=s.vnode.el;if(!e.vertical)return 0;const E=e.color.get("alpha");return M?Math.round(E*(M.offsetHeight-n.value.offsetHeight/2)/100):0}function p(){if(e.color&&e.color.value){const{r:M,g:E,b:k}=e.color.toRgb();return`linear-gradient(to right, rgba(${M}, ${E}, ${k}, 0) 0%, rgba(${M}, ${E}, ${k}, 1) 100%)`}return""}function g(){a.value=d(),l.value=f(),u.value=p()}Ut(()=>{if(!t.value||!n.value)return;const M={drag:E=>{r(E)},end:E=>{r(E)}};tc(t.value,M),tc(n.value,M),g()}),je(()=>e.color.get("alpha"),()=>g()),je(()=>e.color.value,()=>g());const v=L(()=>[i.b(),i.is("vertical",e.vertical)]),w=L(()=>i.e("bar")),b=L(()=>i.e("thumb")),_=L(()=>({background:u.value})),C=L(()=>({left:nr(a.value),top:nr(l.value)}));return{rootKls:v,barKls:w,barStyle:_,thumbKls:b,thumbStyle:C,update:g}},vK="ElColorAlphaSlider",yK=ve({name:vK}),bK=ve({...yK,props:hK,setup(e,{expose:t}){const n=e,{alpha:r,alphaLabel:s,bar:i,thumb:a,handleDrag:l,handleClick:u,handleKeydown:d}=mK(n),{rootKls:f,barKls:p,barStyle:g,thumbKls:v,thumbStyle:w,update:b}=gK(n,{bar:i,thumb:a,handleDrag:l});return t({update:b,bar:i,thumb:a}),(_,C)=>(V(),le("div",{class:W(o(f))},[ue("div",{ref_key:"bar",ref:i,class:W(o(p)),style:Tt(o(g)),onClick:o(u)},null,14,["onClick"]),ue("div",{ref_key:"thumb",ref:a,class:W(o(v)),style:Tt(o(w)),"aria-label":o(s),"aria-valuenow":o(r),"aria-orientation":_.vertical?"vertical":"horizontal","aria-valuemin":"0","aria-valuemax":"100",role:"slider",tabindex:"0",onKeydown:o(d)},null,46,["aria-label","aria-valuenow","aria-orientation","onKeydown"])],2))}});var wK=ot(bK,[["__file","alpha-slider.vue"]]);const xK=ve({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(e){const t=Xe("color-hue-slider"),n=Gt(),r=Q(),s=Q(),i=Q(0),a=Q(0),l=L(()=>e.color.get("hue"));je(()=>l.value,()=>{g()});function u(v){v.target!==r.value&&d(v)}function d(v){if(!s.value||!r.value)return;const b=n.vnode.el.getBoundingClientRect(),{clientX:_,clientY:C}=xv(v);let M;if(e.vertical){let E=C-b.top;E=Math.min(E,b.height-r.value.offsetHeight/2),E=Math.max(r.value.offsetHeight/2,E),M=Math.round((E-r.value.offsetHeight/2)/(b.height-r.value.offsetHeight)*360)}else{let E=_-b.left;E=Math.min(E,b.width-r.value.offsetWidth/2),E=Math.max(r.value.offsetWidth/2,E),M=Math.round((E-r.value.offsetWidth/2)/(b.width-r.value.offsetWidth)*360)}e.color.set("hue",M)}function f(){if(!r.value)return 0;const v=n.vnode.el;if(e.vertical)return 0;const w=e.color.get("hue");return v?Math.round(w*(v.offsetWidth-r.value.offsetWidth/2)/360):0}function p(){if(!r.value)return 0;const v=n.vnode.el;if(!e.vertical)return 0;const w=e.color.get("hue");return v?Math.round(w*(v.offsetHeight-r.value.offsetHeight/2)/360):0}function g(){i.value=f(),a.value=p()}return Ut(()=>{if(!s.value||!r.value)return;const v={drag:w=>{d(w)},end:w=>{d(w)}};tc(s.value,v),tc(r.value,v),g()}),{bar:s,thumb:r,thumbLeft:i,thumbTop:a,hueValue:l,handleClick:u,update:g,ns:t}}});function SK(e,t,n,r,s,i){return V(),le("div",{class:W([e.ns.b(),e.ns.is("vertical",e.vertical)])},[ue("div",{ref:"bar",class:W(e.ns.e("bar")),onClick:e.handleClick},null,10,["onClick"]),ue("div",{ref:"thumb",class:W(e.ns.e("thumb")),style:Tt({left:e.thumbLeft+"px",top:e.thumbTop+"px"})},null,6)],2)}var CK=ot(xK,[["render",SK],["__file","hue-slider.vue"]]);const _K=st({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:vr,popperClass:{type:String,default:""},tabindex:{type:[String,Number],default:0},teleported:Ir.teleported,predefine:{type:Ie(Array)},validateEvent:{type:Boolean,default:!0},...Fr(["ariaLabel"])}),TK={[Kt]:e=>xt(e)||kr(e),[Nn]:e=>xt(e)||kr(e),activeChange:e=>xt(e)||kr(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},I_=Symbol("colorPickerContextKey"),n1=function(e,t,n){return[e,t*n/((e=(2-t)*n)<1?e:2-e)||0,e/2]},kK=function(e){return xt(e)&&e.includes(".")&&Number.parseFloat(e)===1},EK=function(e){return xt(e)&&e.includes("%")},fl=function(e,t){kK(e)&&(e="100%");const n=EK(e);return e=Math.min(t,Math.max(0,Number.parseFloat(`${e}`))),n&&(e=Number.parseInt(`${e*t}`,10)/100),Math.abs(e-t)<1e-6?1:e%t/Number.parseFloat(t)},r1={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},Md=e=>{e=Math.min(Math.round(e),255);const t=Math.floor(e/16),n=e%16;return`${r1[t]||t}${r1[n]||n}`},s1=function({r:e,g:t,b:n}){return Number.isNaN(+e)||Number.isNaN(+t)||Number.isNaN(+n)?"":`#${Md(e)}${Md(t)}${Md(n)}`},hp={A:10,B:11,C:12,D:13,E:14,F:15},fo=function(e){return e.length===2?(hp[e[0].toUpperCase()]||+e[0])*16+(hp[e[1].toUpperCase()]||+e[1]):hp[e[1].toUpperCase()]||+e[1]},$K=function(e,t,n){t=t/100,n=n/100;let r=t;const s=Math.max(n,.01);n*=2,t*=n<=1?n:2-n,r*=s<=1?s:2-s;const i=(n+t)/2,a=n===0?2*r/(s+r):2*t/(n+t);return{h:e,s:a*100,v:i*100}},i1=(e,t,n)=>{e=fl(e,255),t=fl(t,255),n=fl(n,255);const r=Math.max(e,t,n),s=Math.min(e,t,n);let i;const a=r,l=r-s,u=r===0?0:l/r;if(r===s)i=0;else{switch(r){case e:{i=(t-n)/l+(t<n?6:0);break}case t:{i=(n-e)/l+2;break}case n:{i=(e-t)/l+4;break}}i/=6}return{h:i*360,s:u*100,v:a*100}},cu=function(e,t,n){e=fl(e,360)*6,t=fl(t,100),n=fl(n,100);const r=Math.floor(e),s=e-r,i=n*(1-t),a=n*(1-s*t),l=n*(1-(1-s)*t),u=r%6,d=[n,a,i,i,l,n][u],f=[l,n,n,a,i,i][u],p=[i,i,l,n,n,a][u];return{r:Math.round(d*255),g:Math.round(f*255),b:Math.round(p*255)}};class Ou{constructor(t={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const n in t)yn(t,n)&&(this[n]=t[n]);t.value?this.fromString(t.value):this.doOnChange()}set(t,n){if(arguments.length===1&&typeof t=="object"){for(const r in t)yn(t,r)&&this.set(r,t[r]);return}this[`_${t}`]=n,this.doOnChange()}get(t){return t==="alpha"?Math.floor(this[`_${t}`]):this[`_${t}`]}toRgb(){return cu(this._hue,this._saturation,this._value)}fromString(t){if(!t){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const n=(r,s,i)=>{this._hue=Math.max(0,Math.min(360,r)),this._saturation=Math.max(0,Math.min(100,s)),this._value=Math.max(0,Math.min(100,i)),this.doOnChange()};if(t.includes("hsl")){const r=t.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(s=>s!=="").map((s,i)=>i>2?Number.parseFloat(s):Number.parseInt(s,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:s,s:i,v:a}=$K(r[0],r[1],r[2]);n(s,i,a)}}else if(t.includes("hsv")){const r=t.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(s=>s!=="").map((s,i)=>i>2?Number.parseFloat(s):Number.parseInt(s,10));r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3&&n(r[0],r[1],r[2])}else if(t.includes("rgb")){const r=t.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(s=>s!=="").map((s,i)=>i>2?Number.parseFloat(s):Number.parseInt(s,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:s,s:i,v:a}=i1(r[0],r[1],r[2]);n(s,i,a)}}else if(t.includes("#")){const r=t.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(r))return;let s,i,a;r.length===3?(s=fo(r[0]+r[0]),i=fo(r[1]+r[1]),a=fo(r[2]+r[2])):(r.length===6||r.length===8)&&(s=fo(r.slice(0,2)),i=fo(r.slice(2,4)),a=fo(r.slice(4,6))),r.length===8?this._alpha=fo(r.slice(6))/255*100:(r.length===3||r.length===6)&&(this._alpha=100);const{h:l,s:u,v:d}=i1(s,i,a);n(l,u,d)}}compare(t){return Math.abs(t._hue-this._hue)<2&&Math.abs(t._saturation-this._saturation)<1&&Math.abs(t._value-this._value)<1&&Math.abs(t._alpha-this._alpha)<1}doOnChange(){const{_hue:t,_saturation:n,_value:r,_alpha:s,format:i}=this;if(this.enableAlpha)switch(i){case"hsl":{const a=n1(t,n/100,r/100);this.value=`hsla(${t}, ${Math.round(a[1]*100)}%, ${Math.round(a[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${t}, ${Math.round(n)}%, ${Math.round(r)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${s1(cu(t,n,r))}${Md(s*255/100)}`;break}default:{const{r:a,g:l,b:u}=cu(t,n,r);this.value=`rgba(${a}, ${l}, ${u}, ${this.get("alpha")/100})`}}else switch(i){case"hsl":{const a=n1(t,n/100,r/100);this.value=`hsl(${t}, ${Math.round(a[1]*100)}%, ${Math.round(a[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${t}, ${Math.round(n)}%, ${Math.round(r)}%)`;break}case"rgb":{const{r:a,g:l,b:u}=cu(t,n,r);this.value=`rgb(${a}, ${l}, ${u})`;break}default:this.value=s1(cu(t,n,r))}}}const IK=ve({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0},enableAlpha:{type:Boolean,required:!0}},setup(e){const t=Xe("color-predefine"),{currentColor:n}=vt(I_),r=Q(i(e.colors,e.color));je(()=>n.value,a=>{const l=new Ou;l.fromString(a),r.value.forEach(u=>{u.selected=l.compare(u)})}),Vr(()=>{r.value=i(e.colors,e.color)});function s(a){e.color.fromString(e.colors[a])}function i(a,l){return a.map(u=>{const d=new Ou;return d.enableAlpha=e.enableAlpha,d.format="rgba",d.fromString(u),d.selected=d.value===l.value,d})}return{rgbaColors:r,handleSelect:s,ns:t}}});function AK(e,t,n,r,s,i){return V(),le("div",{class:W(e.ns.b())},[ue("div",{class:W(e.ns.e("colors"))},[(V(!0),le(Ct,null,nn(e.rgbaColors,(a,l)=>(V(),le("div",{key:e.colors[l],class:W([e.ns.e("color-selector"),e.ns.is("alpha",a._alpha<100),{selected:a.selected}]),onClick:u=>e.handleSelect(l)},[ue("div",{style:Tt({backgroundColor:a.value})},null,4)],10,["onClick"]))),128))],2)],2)}var LK=ot(IK,[["render",AK],["__file","predefine.vue"]]);const OK=ve({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(e){const t=Xe("color-svpanel"),n=Gt(),r=Q(0),s=Q(0),i=Q("hsl(0, 100%, 50%)"),a=L(()=>{const d=e.color.get("hue"),f=e.color.get("value");return{hue:d,value:f}});function l(){const d=e.color.get("saturation"),f=e.color.get("value"),p=n.vnode.el,{clientWidth:g,clientHeight:v}=p;s.value=d*g/100,r.value=(100-f)*v/100,i.value=`hsl(${e.color.get("hue")}, 100%, 50%)`}function u(d){const p=n.vnode.el.getBoundingClientRect(),{clientX:g,clientY:v}=xv(d);let w=g-p.left,b=v-p.top;w=Math.max(0,w),w=Math.min(w,p.width),b=Math.max(0,b),b=Math.min(b,p.height),s.value=w,r.value=b,e.color.set({saturation:w/p.width*100,value:100-b/p.height*100})}return je(()=>a.value,()=>{l()}),Ut(()=>{tc(n.vnode.el,{drag:d=>{u(d)},end:d=>{u(d)}}),l()}),{cursorTop:r,cursorLeft:s,background:i,colorValue:a,handleDrag:u,update:l,ns:t}}});function MK(e,t,n,r,s,i){return V(),le("div",{class:W(e.ns.b()),style:Tt({backgroundColor:e.background})},[ue("div",{class:W(e.ns.e("white"))},null,2),ue("div",{class:W(e.ns.e("black"))},null,2),ue("div",{class:W(e.ns.e("cursor")),style:Tt({top:e.cursorTop+"px",left:e.cursorLeft+"px"})},[ue("div")],6)],6)}var RK=ot(OK,[["render",MK],["__file","sv-panel.vue"]]);const DK=ve({name:"ElColorPicker"}),NK=ve({...DK,props:_K,emits:TK,setup(e,{expose:t,emit:n}){const r=e,{t:s}=cn(),i=Xe("color"),{formItem:a}=Wr(),l=pr(),u=Ur(),{inputId:d,isLabeledByFormItem:f}=Us(r,{formItemContext:a}),p=Q(),g=Q(),v=Q(),w=Q(),b=Q(),_=Q(),{isFocused:C,handleFocus:M,handleBlur:E}=Qa(b,{beforeFocus(){return u.value},beforeBlur(Pe){var et;return(et=w.value)==null?void 0:et.isFocusInsideContent(Pe)},afterBlur(){oe(!1),J()}});let k=!0;const A=wn(new Ou({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue})),D=Q(!1),H=Q(!1),U=Q(""),K=L(()=>!r.modelValue&&!H.value?"transparent":xe(A,r.showAlpha)),G=L(()=>!r.modelValue&&!H.value?"":A.value),q=L(()=>f.value?void 0:r.ariaLabel||s("el.colorpicker.defaultLabel")),Y=L(()=>f.value?a==null?void 0:a.labelId:void 0),de=L(()=>[i.b("picker"),i.is("disabled",u.value),i.bm("picker",l.value),i.is("focused",C.value)]);function xe(Pe,et){if(!(Pe instanceof Ou))throw new TypeError("color should be instance of _color Class");const{r:qe,g:ae,b:be}=Pe.toRgb();return et?`rgba(${qe}, ${ae}, ${be}, ${Pe.get("alpha")/100})`:`rgb(${qe}, ${ae}, ${be})`}function oe(Pe){D.value=Pe}const Z=xs(oe,100,{leading:!0});function ne(){u.value||oe(!0)}function ee(){Z(!1),J()}function J(){Et(()=>{r.modelValue?A.fromString(r.modelValue):(A.value="",Et(()=>{H.value=!1}))})}function fe(){u.value||(D.value&&J(),Z(!D.value))}function ge(){A.fromString(U.value)}function ke(){const Pe=A.value;n(Kt,Pe),n("change",Pe),r.validateEvent&&(a==null||a.validate("change").catch(et=>void 0)),Z(!1),Et(()=>{const et=new Ou({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue});A.compare(et)||J()})}function ye(){Z(!1),n(Kt,null),n("change",null),r.modelValue!==null&&r.validateEvent&&(a==null||a.validate("change").catch(Pe=>void 0)),J()}function Fe(){D.value&&(ee(),C.value&&he())}function Be(Pe){Pe.preventDefault(),Pe.stopPropagation(),oe(!1),J()}function He(Pe){switch(Pe.code){case gt.enter:case gt.numpadEnter:case gt.space:Pe.preventDefault(),Pe.stopPropagation(),ne(),_.value.focus();break;case gt.esc:Be(Pe);break}}function he(){b.value.focus()}function Ne(){b.value.blur()}return Ut(()=>{r.modelValue&&(U.value=G.value)}),je(()=>r.modelValue,Pe=>{Pe?Pe&&Pe!==A.value&&(k=!1,A.fromString(Pe)):H.value=!1}),je(()=>[r.colorFormat,r.showAlpha],()=>{A.enableAlpha=r.showAlpha,A.format=r.colorFormat||A.format,A.doOnChange(),n(Kt,A.value)}),je(()=>G.value,Pe=>{U.value=Pe,k&&n("activeChange",Pe),k=!0}),je(()=>A.value,()=>{!r.modelValue&&!H.value&&(H.value=!0)}),je(()=>D.value,()=>{Et(()=>{var Pe,et,qe;(Pe=p.value)==null||Pe.update(),(et=g.value)==null||et.update(),(qe=v.value)==null||qe.update()})}),Qt(I_,{currentColor:G}),t({color:A,show:ne,hide:ee,focus:he,blur:Ne}),(Pe,et)=>(V(),Ve(o(Hr),{ref_key:"popper",ref:w,visible:D.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[o(i).be("picker","panel"),o(i).b("dropdown"),Pe.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:Pe.teleported,transition:`${o(i).namespace.value}-zoom-in-top`,persistent:"",onHide:qe=>oe(!1)},{content:Se(()=>[Bt((V(),le("div",{onKeydown:Vn(Be,["esc"])},[ue("div",{class:W(o(i).be("dropdown","main-wrapper"))},[pe(CK,{ref_key:"hue",ref:p,class:"hue-slider",color:o(A),vertical:""},null,8,["color"]),pe(RK,{ref_key:"sv",ref:g,color:o(A)},null,8,["color"])],2),Pe.showAlpha?(V(),Ve(wK,{key:0,ref_key:"alpha",ref:v,color:o(A)},null,8,["color"])):Re("v-if",!0),Pe.predefine?(V(),Ve(LK,{key:1,ref:"predefine","enable-alpha":Pe.showAlpha,color:o(A),colors:Pe.predefine},null,8,["enable-alpha","color","colors"])):Re("v-if",!0),ue("div",{class:W(o(i).be("dropdown","btns"))},[ue("span",{class:W(o(i).be("dropdown","value"))},[pe(o(Zr),{ref_key:"inputRef",ref:_,modelValue:U.value,"onUpdate:modelValue":qe=>U.value=qe,"validate-event":!1,size:"small",onKeyup:Vn(ge,["enter"]),onBlur:ge},null,8,["modelValue","onUpdate:modelValue","onKeyup"])],2),pe(o(Or),{class:W(o(i).be("dropdown","link-btn")),text:"",size:"small",onClick:ye},{default:Se(()=>[At(at(o(s)("el.colorpicker.clear")),1)]),_:1},8,["class"]),pe(o(Or),{plain:"",size:"small",class:W(o(i).be("dropdown","btn")),onClick:ke},{default:Se(()=>[At(at(o(s)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,["onKeydown"])),[[o(sa),Fe,b.value]])]),default:Se(()=>[ue("div",Xt({id:o(d),ref_key:"triggerRef",ref:b},Pe.$attrs,{class:o(de),role:"button","aria-label":o(q),"aria-labelledby":o(Y),"aria-description":o(s)("el.colorpicker.description",{color:Pe.modelValue||""}),"aria-disabled":o(u),tabindex:o(u)?-1:Pe.tabindex,onKeydown:He,onFocus:o(M),onBlur:o(E)}),[o(u)?(V(),le("div",{key:0,class:W(o(i).be("picker","mask"))},null,2)):Re("v-if",!0),ue("div",{class:W(o(i).be("picker","trigger")),onClick:fe},[ue("span",{class:W([o(i).be("picker","color"),o(i).is("alpha",Pe.showAlpha)])},[ue("span",{class:W(o(i).be("picker","color-inner")),style:Tt({backgroundColor:o(K)})},[Bt(pe(o(wt),{class:W([o(i).be("picker","icon"),o(i).is("icon-arrow-down")])},{default:Se(()=>[pe(o(ca))]),_:1},8,["class"]),[[mn,Pe.modelValue||H.value]]),Bt(pe(o(wt),{class:W([o(i).be("picker","empty"),o(i).is("icon-close")])},{default:Se(()=>[pe(o(ii))]),_:1},8,["class"]),[[mn,!Pe.modelValue&&!H.value]])],6)],2)],2)],16,["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex","onFocus","onBlur"])]),_:1},8,["visible","popper-class","teleported","transition","onHide"]))}});var PK=ot(NK,[["__file","color-picker.vue"]]);const FK=zt(PK),VK=st({a11y:{type:Boolean,default:!0},locale:{type:Ie(Object)},size:vr,button:{type:Ie(Object)},experimentalFeatures:{type:Ie(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:Ie(Object)},zIndex:Number,namespace:{type:String,default:"el"},...Ul}),Xs={},zK=ve({name:"ElConfigProvider",props:VK,setup(e,{slots:t}){je(()=>e.message,r=>{Object.assign(Xs,r??{})},{immediate:!0,deep:!0});const n=Yg(e);return()=>Oe(t,"default",{config:n==null?void 0:n.value})}}),BK=zt(zK),KK=ve({name:"ElContainer"}),HK=ve({...KK,props:{direction:{type:String}},setup(e){const t=e,n=Sr(),r=Xe("container"),s=L(()=>t.direction==="vertical"?!0:t.direction==="horizontal"?!1:n&&n.default?n.default().some(a=>{const l=a.type.name;return l==="ElHeader"||l==="ElFooter"}):!1);return(i,a)=>(V(),le("section",{class:W([o(r).b(),o(r).is("vertical",o(s))])},[Oe(i.$slots,"default")],2))}});var WK=ot(HK,[["__file","container.vue"]]);const UK=ve({name:"ElAside"}),jK=ve({...UK,props:{width:{type:String,default:null}},setup(e){const t=e,n=Xe("aside"),r=L(()=>t.width?n.cssVarBlock({width:t.width}):{});return(s,i)=>(V(),le("aside",{class:W(o(n).b()),style:Tt(o(r))},[Oe(s.$slots,"default")],6))}});var A_=ot(jK,[["__file","aside.vue"]]);const GK=ve({name:"ElFooter"}),YK=ve({...GK,props:{height:{type:String,default:null}},setup(e){const t=e,n=Xe("footer"),r=L(()=>t.height?n.cssVarBlock({height:t.height}):{});return(s,i)=>(V(),le("footer",{class:W(o(n).b()),style:Tt(o(r))},[Oe(s.$slots,"default")],6))}});var L_=ot(YK,[["__file","footer.vue"]]);const XK=ve({name:"ElHeader"}),qK=ve({...XK,props:{height:{type:String,default:null}},setup(e){const t=e,n=Xe("header"),r=L(()=>t.height?n.cssVarBlock({height:t.height}):{});return(s,i)=>(V(),le("header",{class:W(o(n).b()),style:Tt(o(r))},[Oe(s.$slots,"default")],6))}});var O_=ot(qK,[["__file","header.vue"]]);const JK=ve({name:"ElMain"}),ZK=ve({...JK,setup(e){const t=Xe("main");return(n,r)=>(V(),le("main",{class:W(o(t).b())},[Oe(n.$slots,"default")],2))}});var M_=ot(ZK,[["__file","main.vue"]]);const QK=zt(WK,{Aside:A_,Footer:L_,Header:O_,Main:M_}),e5=Qn(A_),t5=Qn(L_),n5=Qn(O_),r5=Qn(M_);var Rd={exports:{}},s5=Rd.exports,a1;function i5(){return a1||(a1=1,function(e,t){(function(n,r){e.exports=r()})(s5,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d/,i=/\d\d/,a=/\d\d?/,l=/\d*[^-_:/,()\s\d]+/,u={},d=function(_){return(_=+_)+(_>68?1900:2e3)},f=function(_){return function(C){this[_]=+C}},p=[/[+-]\d\d:?(\d\d)?|Z/,function(_){(this.zone||(this.zone={})).offset=function(C){if(!C||C==="Z")return 0;var M=C.match(/([+-]|\d\d)/g),E=60*M[1]+(+M[2]||0);return E===0?0:M[0]==="+"?-E:E}(_)}],g=function(_){var C=u[_];return C&&(C.indexOf?C:C.s.concat(C.f))},v=function(_,C){var M,E=u.meridiem;if(E){for(var k=1;k<=24;k+=1)if(_.indexOf(E(k,0,C))>-1){M=k>12;break}}else M=_===(C?"pm":"PM");return M},w={A:[l,function(_){this.afternoon=v(_,!1)}],a:[l,function(_){this.afternoon=v(_,!0)}],Q:[s,function(_){this.month=3*(_-1)+1}],S:[s,function(_){this.milliseconds=100*+_}],SS:[i,function(_){this.milliseconds=10*+_}],SSS:[/\d{3}/,function(_){this.milliseconds=+_}],s:[a,f("seconds")],ss:[a,f("seconds")],m:[a,f("minutes")],mm:[a,f("minutes")],H:[a,f("hours")],h:[a,f("hours")],HH:[a,f("hours")],hh:[a,f("hours")],D:[a,f("day")],DD:[i,f("day")],Do:[l,function(_){var C=u.ordinal,M=_.match(/\d+/);if(this.day=M[0],C)for(var E=1;E<=31;E+=1)C(E).replace(/\[|\]/g,"")===_&&(this.day=E)}],w:[a,f("week")],ww:[i,f("week")],M:[a,f("month")],MM:[i,f("month")],MMM:[l,function(_){var C=g("months"),M=(g("monthsShort")||C.map(function(E){return E.slice(0,3)})).indexOf(_)+1;if(M<1)throw new Error;this.month=M%12||M}],MMMM:[l,function(_){var C=g("months").indexOf(_)+1;if(C<1)throw new Error;this.month=C%12||C}],Y:[/[+-]?\d+/,f("year")],YY:[i,function(_){this.year=d(_)}],YYYY:[/\d{4}/,f("year")],Z:p,ZZ:p};function b(_){var C,M;C=_,M=u&&u.formats;for(var E=(_=C.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(G,q,Y){var de=Y&&Y.toUpperCase();return q||M[Y]||n[Y]||M[de].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(xe,oe,Z){return oe||Z.slice(1)})})).match(r),k=E.length,A=0;A<k;A+=1){var D=E[A],H=w[D],U=H&&H[0],K=H&&H[1];E[A]=K?{regex:U,parser:K}:D.replace(/^\[|\]$/g,"")}return function(G){for(var q={},Y=0,de=0;Y<k;Y+=1){var xe=E[Y];if(typeof xe=="string")de+=xe.length;else{var oe=xe.regex,Z=xe.parser,ne=G.slice(de),ee=oe.exec(ne)[0];Z.call(q,ee),G=G.replace(ee,"")}}return function(J){var fe=J.afternoon;if(fe!==void 0){var ge=J.hours;fe?ge<12&&(J.hours+=12):ge===12&&(J.hours=0),delete J.afternoon}}(q),q}}return function(_,C,M){M.p.customParseFormat=!0,_&&_.parseTwoDigitYear&&(d=_.parseTwoDigitYear);var E=C.prototype,k=E.parse;E.parse=function(A){var D=A.date,H=A.utc,U=A.args;this.$u=H;var K=U[1];if(typeof K=="string"){var G=U[2]===!0,q=U[3]===!0,Y=G||q,de=U[2];q&&(de=U[2]),u=this.$locale(),!G&&de&&(u=M.Ls[de]),this.$d=function(ne,ee,J,fe){try{if(["x","X"].indexOf(ee)>-1)return new Date((ee==="X"?1e3:1)*ne);var ge=b(ee)(ne),ke=ge.year,ye=ge.month,Fe=ge.day,Be=ge.hours,He=ge.minutes,he=ge.seconds,Ne=ge.milliseconds,Pe=ge.zone,et=ge.week,qe=new Date,ae=Fe||(ke||ye?1:qe.getDate()),be=ke||qe.getFullYear(),$e=0;ke&&!ye||($e=ye>0?ye-1:qe.getMonth());var Ge,Qe=Be||0,Le=He||0,Ze=he||0,We=Ne||0;return Pe?new Date(Date.UTC(be,$e,ae,Qe,Le,Ze,We+60*Pe.offset*1e3)):J?new Date(Date.UTC(be,$e,ae,Qe,Le,Ze,We)):(Ge=new Date(be,$e,ae,Qe,Le,Ze,We),et&&(Ge=fe(Ge).week(et).toDate()),Ge)}catch{return new Date("")}}(D,K,H,M),this.init(),de&&de!==!0&&(this.$L=this.locale(de).$L),Y&&D!=this.format(K)&&(this.$d=new Date("")),u={}}else if(K instanceof Array)for(var xe=K.length,oe=1;oe<=xe;oe+=1){U[1]=K[oe-1];var Z=M.apply(this,U);if(Z.isValid()){this.$d=Z.$d,this.$L=Z.$L,this.init();break}oe===xe&&(this.$d=new Date(""))}else k.call(this,A)}}})}(Rd)),Rd.exports}var a5=i5();const Sv=ha(a5);var Dd={exports:{}},o5=Dd.exports,o1;function l5(){return o1||(o1=1,function(e,t){(function(n,r){e.exports=r()})(o5,function(){return function(n,r){var s=r.prototype,i=s.format;s.format=function(a){var l=this,u=this.$locale();if(!this.isValid())return i.bind(this)(a);var d=this.$utils(),f=(a||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(p){switch(p){case"Q":return Math.ceil((l.$M+1)/3);case"Do":return u.ordinal(l.$D);case"gggg":return l.weekYear();case"GGGG":return l.isoWeekYear();case"wo":return u.ordinal(l.week(),"W");case"w":case"ww":return d.s(l.week(),p==="w"?1:2,"0");case"W":case"WW":return d.s(l.isoWeek(),p==="W"?1:2,"0");case"k":case"kk":return d.s(String(l.$H===0?24:l.$H),p==="k"?1:2,"0");case"X":return Math.floor(l.$d.getTime()/1e3);case"x":return l.$d.getTime();case"z":return"["+l.offsetName()+"]";case"zzz":return"["+l.offsetName("long")+"]";default:return p}});return i.bind(this)(f)}}})}(Dd)),Dd.exports}var u5=l5();const c5=ha(u5);var Nd={exports:{}},d5=Nd.exports,l1;function f5(){return l1||(l1=1,function(e,t){(function(n,r){e.exports=r()})(d5,function(){var n="week",r="year";return function(s,i,a){var l=i.prototype;l.week=function(u){if(u===void 0&&(u=null),u!==null)return this.add(7*(u-this.week()),"day");var d=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var f=a(this).startOf(r).add(1,r).date(d),p=a(this).endOf(n);if(f.isBefore(p))return 1}var g=a(this).startOf(r).date(d).startOf(n).subtract(1,"millisecond"),v=this.diff(g,n,!0);return v<0?a(this).startOf("week").week():Math.ceil(v)},l.weeks=function(u){return u===void 0&&(u=null),this.week(u)}}})}(Nd)),Nd.exports}var h5=f5();const p5=ha(h5);var Pd={exports:{}},m5=Pd.exports,u1;function g5(){return u1||(u1=1,function(e,t){(function(n,r){e.exports=r()})(m5,function(){return function(n,r){r.prototype.weekYear=function(){var s=this.month(),i=this.week(),a=this.year();return i===1&&s===11?a+1:s===0&&i>=52?a-1:a}}})}(Pd)),Pd.exports}var v5=g5();const y5=ha(v5);var Fd={exports:{}},b5=Fd.exports,c1;function w5(){return c1||(c1=1,function(e,t){(function(n,r){e.exports=r()})(b5,function(){return function(n,r,s){r.prototype.dayOfYear=function(i){var a=Math.round((s(this).startOf("day")-s(this).startOf("year"))/864e5)+1;return i==null?a:this.add(i-a,"day")}}})}(Fd)),Fd.exports}var x5=w5();const S5=ha(x5);var Vd={exports:{}},C5=Vd.exports,d1;function _5(){return d1||(d1=1,function(e,t){(function(n,r){e.exports=r()})(C5,function(){return function(n,r){r.prototype.isSameOrAfter=function(s,i){return this.isSame(s,i)||this.isAfter(s,i)}}})}(Vd)),Vd.exports}var T5=_5();const k5=ha(T5);var zd={exports:{}},E5=zd.exports,f1;function $5(){return f1||(f1=1,function(e,t){(function(n,r){e.exports=r()})(E5,function(){return function(n,r){r.prototype.isSameOrBefore=function(s,i){return this.isSame(s,i)||this.isBefore(s,i)}}})}(zd)),zd.exports}var I5=$5();const A5=ha(I5),h1=["hours","minutes","seconds"],fm="HH:mm:ss",Qo="YYYY-MM-DD",L5={date:Qo,dates:Qo,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${Qo} ${fm}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:Qo,datetimerange:`${Qo} ${fm}`},R_=st({disabledHours:{type:Ie(Function)},disabledMinutes:{type:Ie(Function)},disabledSeconds:{type:Ie(Function)}}),D_=st({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),Cv=st({id:{type:Ie([Array,String])},name:{type:Ie([Array,String])},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:Ie([String,Object]),default:da},editable:{type:Boolean,default:!0},prefixIcon:{type:Ie([String,Object]),default:""},size:vr,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:Ie(Object),default:()=>({})},modelValue:{type:Ie([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:Ie([Date,Array])},defaultTime:{type:Ie([Date,Array])},isRange:Boolean,...R_,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:Ie([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:Ie(String),values:fa,default:"bottom"},fallbackPlacements:{type:Ie(Array),default:["bottom","top","right","left"]},...Ul,...Fr(["ariaLabel"]),showNow:{type:Boolean,default:!0}}),O5=st({id:{type:Ie(Array)},name:{type:Ie(Array)},modelValue:{type:Ie([Array,String])},startPlaceholder:String,endPlaceholder:String}),M5=ve({name:"PickerRangeTrigger",inheritAttrs:!1}),R5=ve({...M5,props:O5,emits:["mouseenter","mouseleave","click","touchstart","focus","blur","startInput","endInput","startChange","endChange"],setup(e,{expose:t,emit:n}){const r=kc(),s=Xe("date"),i=Xe("range"),a=Q(),l=Q(),{wrapperRef:u,isFocused:d}=Qa(a),f=k=>{n("click",k)},p=k=>{n("mouseenter",k)},g=k=>{n("mouseleave",k)},v=k=>{n("mouseenter",k)},w=k=>{n("startInput",k)},b=k=>{n("endInput",k)},_=k=>{n("startChange",k)},C=k=>{n("endChange",k)};return t({focus:()=>{var k;(k=a.value)==null||k.focus()},blur:()=>{var k,A;(k=a.value)==null||k.blur(),(A=l.value)==null||A.blur()}}),(k,A)=>(V(),le("div",{ref_key:"wrapperRef",ref:u,class:W([o(s).is("active",o(d)),k.$attrs.class]),style:Tt(k.$attrs.style),onClick:f,onMouseenter:p,onMouseleave:g,onTouchstartPassive:v},[Oe(k.$slots,"prefix"),ue("input",Xt(o(r),{id:k.id&&k.id[0],ref_key:"inputRef",ref:a,name:k.name&&k.name[0],placeholder:k.startPlaceholder,value:k.modelValue&&k.modelValue[0],class:o(i).b("input"),onInput:w,onChange:_}),null,16,["id","name","placeholder","value"]),Oe(k.$slots,"range-separator"),ue("input",Xt(o(r),{id:k.id&&k.id[1],ref_key:"endInputRef",ref:l,name:k.name&&k.name[1],placeholder:k.endPlaceholder,value:k.modelValue&&k.modelValue[1],class:o(i).b("input"),onInput:b,onChange:C}),null,16,["id","name","placeholder","value"]),Oe(k.$slots,"suffix")],38))}});var D5=ot(R5,[["__file","picker-range-trigger.vue"]]);const N5=ve({name:"Picker"}),P5=ve({...N5,props:Cv,emits:["update:modelValue","change","focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(e,{expose:t,emit:n}){const r=e,s=oa(),{lang:i}=cn(),a=Xe("date"),l=Xe("input"),u=Xe("range"),{form:d,formItem:f}=Wr(),p=vt("ElPopperOptions",{}),{valueOnClear:g}=rh(r,null),v=Q(),w=Q(),b=Q(!1),_=Q(!1),C=Q(null);let M=!1;const{isFocused:E,handleFocus:k,handleBlur:A}=Qa(w,{beforeFocus(){return r.readonly||J.value},afterFocus(){b.value=!0},beforeBlur(_e){var lt;return!M&&((lt=v.value)==null?void 0:lt.isFocusInsideContent(_e))},afterBlur(){it(),b.value=!1,M=!1,r.validateEvent&&(f==null||f.validate("blur").catch(_e=>void 0))}}),D=L(()=>[a.b("editor"),a.bm("editor",r.type),l.e("wrapper"),a.is("disabled",J.value),a.is("active",b.value),u.b("editor"),Qe?u.bm("editor",Qe.value):"",s.class]),H=L(()=>[l.e("icon"),u.e("close-icon"),Ne.value?"":u.e("close-icon--hidden")]);je(b,_e=>{_e?Et(()=>{_e&&(C.value=r.modelValue)}):(We.value=null,Et(()=>{U(r.modelValue)}))});const U=(_e,lt)=>{(lt||!Ww(_e,C.value))&&(n("change",_e),r.validateEvent&&(f==null||f.validate("change").catch(Nt=>void 0)))},K=_e=>{if(!Ww(r.modelValue,_e)){let lt;nt(_e)?lt=_e.map(Nt=>jw(Nt,r.valueFormat,i.value)):_e&&(lt=jw(_e,r.valueFormat,i.value)),n("update:modelValue",_e&&lt,i.value)}},G=_e=>{n("keydown",_e)},q=L(()=>w.value?Array.from(w.value.$el.querySelectorAll("input")):[]),Y=(_e,lt,Nt)=>{const Jt=q.value;Jt.length&&(!Nt||Nt==="min"?(Jt[0].setSelectionRange(_e,lt),Jt[0].focus()):Nt==="max"&&(Jt[1].setSelectionRange(_e,lt),Jt[1].focus()))},de=(_e="",lt=!1)=>{b.value=lt;let Nt;nt(_e)?Nt=_e.map(Jt=>Jt.toDate()):Nt=_e&&_e.toDate(),We.value=null,K(Nt)},xe=()=>{_.value=!0},oe=()=>{n("visible-change",!0)},Z=()=>{_.value=!1,b.value=!1,n("visible-change",!1)},ne=()=>{b.value=!0},ee=()=>{b.value=!1},J=L(()=>r.disabled||(d==null?void 0:d.disabled)),fe=L(()=>{let _e;if(et.value?en.value.getDefaultValue&&(_e=en.value.getDefaultValue()):nt(r.modelValue)?_e=r.modelValue.map(lt=>Uw(lt,r.valueFormat,i.value)):_e=Uw(r.modelValue,r.valueFormat,i.value),en.value.getRangeAvailableTime){const lt=en.value.getRangeAvailableTime(_e);zr(lt,_e)||(_e=lt,et.value||K(pd(_e)))}return nt(_e)&&_e.some(lt=>!lt)&&(_e=[]),_e}),ge=L(()=>{if(!en.value.panelReady)return"";const _e=St(fe.value);return nt(We.value)?[We.value[0]||_e&&_e[0]||"",We.value[1]||_e&&_e[1]||""]:We.value!==null?We.value:!ye.value&&et.value||!b.value&&et.value?"":_e?Fe.value||Be.value||He.value?_e.join(", "):_e:""}),ke=L(()=>r.type.includes("time")),ye=L(()=>r.type.startsWith("time")),Fe=L(()=>r.type==="dates"),Be=L(()=>r.type==="months"),He=L(()=>r.type==="years"),he=L(()=>r.prefixIcon||(ke.value?bC:YP)),Ne=Q(!1),Pe=_e=>{r.readonly||J.value||(Ne.value&&(_e.stopPropagation(),en.value.handleClear?en.value.handleClear():K(g.value),U(g.value,!0),Ne.value=!1,Z()),n("clear"))},et=L(()=>{const{modelValue:_e}=r;return!_e||nt(_e)&&!_e.filter(Boolean).length}),qe=async _e=>{var lt;r.readonly||J.value||(((lt=_e.target)==null?void 0:lt.tagName)!=="INPUT"||E.value)&&(b.value=!0)},ae=()=>{r.readonly||J.value||!et.value&&r.clearable&&(Ne.value=!0)},be=()=>{Ne.value=!1},$e=_e=>{var lt;r.readonly||J.value||(((lt=_e.touches[0].target)==null?void 0:lt.tagName)!=="INPUT"||E.value)&&(b.value=!0)},Ge=L(()=>r.type.includes("range")),Qe=pr(),Le=L(()=>{var _e,lt;return(lt=(_e=o(v))==null?void 0:_e.popperRef)==null?void 0:lt.contentRef}),Ze=Gg(w,_e=>{const lt=o(Le),Nt=ls(w);lt&&(_e.target===lt||_e.composedPath().includes(lt))||_e.target===Nt||Nt&&_e.composedPath().includes(Nt)||(b.value=!1)});Fn(()=>{Ze==null||Ze()});const We=Q(null),it=()=>{if(We.value){const _e=rt(ge.value);_e&&mt(_e)&&(K(pd(_e)),We.value=null)}We.value===""&&(K(g.value),U(g.value),We.value=null)},rt=_e=>_e?en.value.parseUserInput(_e):null,St=_e=>_e?en.value.formatToString(_e):null,mt=_e=>en.value.isValidValue(_e),Ye=async _e=>{if(r.readonly||J.value)return;const{code:lt}=_e;if(G(_e),lt===gt.esc){b.value===!0&&(b.value=!1,_e.preventDefault(),_e.stopPropagation());return}if(lt===gt.down&&(en.value.handleFocusPicker&&(_e.preventDefault(),_e.stopPropagation()),b.value===!1&&(b.value=!0,await Et()),en.value.handleFocusPicker)){en.value.handleFocusPicker();return}if(lt===gt.tab){M=!0;return}if(lt===gt.enter||lt===gt.numpadEnter){(We.value===null||We.value===""||mt(rt(ge.value)))&&(it(),b.value=!1),_e.stopPropagation();return}if(We.value){_e.stopPropagation();return}en.value.handleKeydownInput&&en.value.handleKeydownInput(_e)},yt=_e=>{We.value=_e,b.value||(b.value=!0)},Mt=_e=>{const lt=_e.target;We.value?We.value=[lt.value,We.value[1]]:We.value=[lt.value,null]},qt=_e=>{const lt=_e.target;We.value?We.value=[We.value[0],lt.value]:We.value=[null,lt.value]},Ht=()=>{var _e;const lt=We.value,Nt=rt(lt&&lt[0]),Jt=o(fe);if(Nt&&Nt.isValid()){We.value=[St(Nt),((_e=ge.value)==null?void 0:_e[1])||null];const An=[Nt,Jt&&(Jt[1]||null)];mt(An)&&(K(pd(An)),We.value=null)}},gn=()=>{var _e;const lt=o(We),Nt=rt(lt&&lt[1]),Jt=o(fe);if(Nt&&Nt.isValid()){We.value=[((_e=o(ge))==null?void 0:_e[0])||null,St(Nt)];const An=[Jt&&Jt[0],Nt];mt(An)&&(K(pd(An)),We.value=null)}},en=Q({}),jn=_e=>{en.value[_e[0]]=_e[1],en.value.panelReady=!0},Bn=_e=>{n("calendar-change",_e)},Ue=(_e,lt,Nt)=>{n("panel-change",_e,lt,Nt)},Ae=()=>{var _e;(_e=w.value)==null||_e.focus()},Ke=()=>{var _e;(_e=w.value)==null||_e.blur()};return Qt("EP_PICKER_BASE",{props:r}),t({focus:Ae,blur:Ke,handleOpen:ne,handleClose:ee,onPick:de}),(_e,lt)=>(V(),Ve(o(Hr),Xt({ref_key:"refPopper",ref:v,visible:b.value,effect:"light",pure:"",trigger:"click"},_e.$attrs,{role:"dialog",teleported:"",transition:`${o(a).namespace.value}-zoom-in-top`,"popper-class":[`${o(a).namespace.value}-picker__popper`,_e.popperClass],"popper-options":o(p),"fallback-placements":_e.fallbackPlacements,"gpu-acceleration":!1,placement:_e.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:xe,onShow:oe,onHide:Z}),{default:Se(()=>[o(Ge)?(V(),Ve(D5,{key:1,id:_e.id,ref_key:"inputRef",ref:w,"model-value":o(ge),name:_e.name,disabled:o(J),readonly:!_e.editable||_e.readonly,"start-placeholder":_e.startPlaceholder,"end-placeholder":_e.endPlaceholder,class:W(o(D)),style:Tt(_e.$attrs.style),"aria-label":_e.ariaLabel,tabindex:_e.tabindex,autocomplete:"off",role:"combobox",onClick:qe,onFocus:o(k),onBlur:o(A),onStartInput:Mt,onStartChange:Ht,onEndInput:qt,onEndChange:gn,onMousedown:qe,onMouseenter:ae,onMouseleave:be,onTouchstartPassive:$e,onKeydown:Ye},{prefix:Se(()=>[o(he)?(V(),Ve(o(wt),{key:0,class:W([o(l).e("icon"),o(u).e("icon")])},{default:Se(()=>[(V(),Ve(Yt(o(he))))]),_:1},8,["class"])):Re("v-if",!0)]),"range-separator":Se(()=>[Oe(_e.$slots,"range-separator",{},()=>[ue("span",{class:W(o(u).b("separator"))},at(_e.rangeSeparator),3)])]),suffix:Se(()=>[_e.clearIcon?(V(),Ve(o(wt),{key:0,class:W(o(H)),onMousedown:Lt(o(In),["prevent"]),onClick:Pe},{default:Se(()=>[(V(),Ve(Yt(_e.clearIcon)))]),_:1},8,["class","onMousedown"])):Re("v-if",!0)]),_:3},8,["id","model-value","name","disabled","readonly","start-placeholder","end-placeholder","class","style","aria-label","tabindex","onFocus","onBlur"])):(V(),Ve(o(Zr),{key:0,id:_e.id,ref_key:"inputRef",ref:w,"container-role":"combobox","model-value":o(ge),name:_e.name,size:o(Qe),disabled:o(J),placeholder:_e.placeholder,class:W([o(a).b("editor"),o(a).bm("editor",_e.type),_e.$attrs.class]),style:Tt(_e.$attrs.style),readonly:!_e.editable||_e.readonly||o(Fe)||o(Be)||o(He)||_e.type==="week","aria-label":_e.ariaLabel,tabindex:_e.tabindex,"validate-event":!1,onInput:yt,onFocus:o(k),onBlur:o(A),onKeydown:Ye,onChange:it,onMousedown:qe,onMouseenter:ae,onMouseleave:be,onTouchstartPassive:$e,onClick:Lt(()=>{},["stop"])},{prefix:Se(()=>[o(he)?(V(),Ve(o(wt),{key:0,class:W(o(l).e("icon")),onMousedown:Lt(qe,["prevent"]),onTouchstartPassive:$e},{default:Se(()=>[(V(),Ve(Yt(o(he))))]),_:1},8,["class","onMousedown"])):Re("v-if",!0)]),suffix:Se(()=>[Ne.value&&_e.clearIcon?(V(),Ve(o(wt),{key:0,class:W(`${o(l).e("icon")} clear-icon`),onMousedown:Lt(o(In),["prevent"]),onClick:Pe},{default:Se(()=>[(V(),Ve(Yt(_e.clearIcon)))]),_:1},8,["class","onMousedown"])):Re("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onFocus","onBlur","onClick"]))]),content:Se(()=>[Oe(_e.$slots,"default",{visible:b.value,actualVisible:_.value,parsedValue:o(fe),format:_e.format,dateFormat:_e.dateFormat,timeFormat:_e.timeFormat,unlinkPanels:_e.unlinkPanels,type:_e.type,defaultValue:_e.defaultValue,showNow:_e.showNow,onPick:de,onSelectRange:Y,onSetPickerOption:jn,onCalendarChange:Bn,onPanelChange:Ue,onMousedown:Lt(()=>{},["stop"])})]),_:3},16,["visible","transition","popper-class","popper-options","fallback-placements","placement"]))}});var N_=ot(P5,[["__file","picker.vue"]]);const F5=st({...D_,datetimeRole:String,parsedValue:{type:Ie(Object)}}),P_=({getAvailableHours:e,getAvailableMinutes:t,getAvailableSeconds:n})=>{const r=(a,l,u,d)=>{const f={hour:e,minute:t,second:n};let p=a;return["hour","minute","second"].forEach(g=>{if(f[g]){let v;const w=f[g];switch(g){case"minute":{v=w(p.hour(),l,d);break}case"second":{v=w(p.hour(),p.minute(),l,d);break}default:{v=w(l,d);break}}if(v!=null&&v.length&&!v.includes(p[g]())){const b=u?0:v.length-1;p=p[g](v[b])}}}),p},s={};return{timePickerOptions:s,getAvailableTime:r,onSetOption:([a,l])=>{s[a]=l}}},pp=e=>{const t=(r,s)=>r||s,n=r=>r!==!0;return e.map(t).filter(n)},F_=(e,t,n)=>({getHoursList:(a,l)=>cp(24,e&&(()=>e==null?void 0:e(a,l))),getMinutesList:(a,l,u)=>cp(60,t&&(()=>t==null?void 0:t(a,l,u))),getSecondsList:(a,l,u,d)=>cp(60,n&&(()=>n==null?void 0:n(a,l,u,d)))}),V_=(e,t,n)=>{const{getHoursList:r,getMinutesList:s,getSecondsList:i}=F_(e,t,n);return{getAvailableHours:(d,f)=>pp(r(d,f)),getAvailableMinutes:(d,f,p)=>pp(s(d,f,p)),getAvailableSeconds:(d,f,p,g)=>pp(i(d,f,p,g))}},z_=e=>{const t=Q(e.parsedValue);return je(()=>e.visible,n=>{n||(t.value=e.parsedValue)}),t},V5=st({role:{type:String,required:!0},spinnerDate:{type:Ie(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:Ie(String),default:""},...R_}),z5=100,B5=600,vf={beforeMount(e,t){const n=t.value,{interval:r=z5,delay:s=B5}=_t(n)?{}:n;let i,a;const l=()=>_t(n)?n():n.handler(),u=()=>{a&&(clearTimeout(a),a=void 0),i&&(clearInterval(i),i=void 0)};e.addEventListener("mousedown",d=>{d.button===0&&(u(),l(),document.addEventListener("mouseup",()=>u(),{once:!0}),a=setTimeout(()=>{i=setInterval(()=>{l()},r)},s))})}},K5=ve({__name:"basic-time-spinner",props:V5,emits:["change","select-range","set-option"],setup(e,{emit:t}){const n=e,r=vt("EP_PICKER_BASE"),{isRange:s}=r.props,i=Xe("time"),{getHoursList:a,getMinutesList:l,getSecondsList:u}=F_(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let d=!1;const f=Q(),p=Q(),g=Q(),v=Q(),w={hours:p,minutes:g,seconds:v},b=L(()=>n.showSeconds?h1:h1.slice(0,2)),_=L(()=>{const{spinnerDate:ge}=n,ke=ge.hour(),ye=ge.minute(),Fe=ge.second();return{hours:ke,minutes:ye,seconds:Fe}}),C=L(()=>{const{hours:ge,minutes:ke}=o(_),{role:ye,spinnerDate:Fe}=n,Be=s?void 0:Fe;return{hours:a(ye,Be),minutes:l(ge,ye,Be),seconds:u(ge,ke,ye,Be)}}),M=L(()=>{const{hours:ge,minutes:ke,seconds:ye}=o(_);return{hours:up(ge,23),minutes:up(ke,59),seconds:up(ye,59)}}),E=xs(ge=>{d=!1,D(ge)},200),k=ge=>{if(!!!n.amPmMode)return"";const ye=n.amPmMode==="A";let Fe=ge<12?" am":" pm";return ye&&(Fe=Fe.toUpperCase()),Fe},A=ge=>{let ke;switch(ge){case"hours":ke=[0,2];break;case"minutes":ke=[3,5];break;case"seconds":ke=[6,8];break}const[ye,Fe]=ke;t("select-range",ye,Fe),f.value=ge},D=ge=>{K(ge,o(_)[ge])},H=()=>{D("hours"),D("minutes"),D("seconds")},U=ge=>ge.querySelector(`.${i.namespace.value}-scrollbar__wrap`),K=(ge,ke)=>{if(n.arrowControl)return;const ye=o(w[ge]);ye&&ye.$el&&(U(ye.$el).scrollTop=Math.max(0,ke*G(ge)))},G=ge=>{const ke=o(w[ge]),ye=ke==null?void 0:ke.$el.querySelector("li");return ye&&Number.parseFloat(Ji(ye,"height"))||0},q=()=>{de(1)},Y=()=>{de(-1)},de=ge=>{f.value||A("hours");const ke=f.value,ye=o(_)[ke],Fe=f.value==="hours"?24:60,Be=xe(ke,ye,ge,Fe);oe(ke,Be),K(ke,Be),Et(()=>A(ke))},xe=(ge,ke,ye,Fe)=>{let Be=(ke+ye+Fe)%Fe;const He=o(C)[ge];for(;He[Be]&&Be!==ke;)Be=(Be+ye+Fe)%Fe;return Be},oe=(ge,ke)=>{if(o(C)[ge][ke])return;const{hours:Be,minutes:He,seconds:he}=o(_);let Ne;switch(ge){case"hours":Ne=n.spinnerDate.hour(ke).minute(He).second(he);break;case"minutes":Ne=n.spinnerDate.hour(Be).minute(ke).second(he);break;case"seconds":Ne=n.spinnerDate.hour(Be).minute(He).second(ke);break}t("change",Ne)},Z=(ge,{value:ke,disabled:ye})=>{ye||(oe(ge,ke),A(ge),K(ge,ke))},ne=ge=>{const ke=o(w[ge]);if(!ke)return;d=!0,E(ge);const ye=Math.min(Math.round((U(ke.$el).scrollTop-(ee(ge)*.5-10)/G(ge)+3)/G(ge)),ge==="hours"?23:59);oe(ge,ye)},ee=ge=>o(w[ge]).$el.offsetHeight,J=()=>{const ge=ke=>{const ye=o(w[ke]);ye&&ye.$el&&(U(ye.$el).onscroll=()=>{ne(ke)})};ge("hours"),ge("minutes"),ge("seconds")};Ut(()=>{Et(()=>{!n.arrowControl&&J(),H(),n.role==="start"&&A("hours")})});const fe=(ge,ke)=>{w[ke].value=ge??void 0};return t("set-option",[`${n.role}_scrollDown`,de]),t("set-option",[`${n.role}_emitSelectRange`,A]),je(()=>n.spinnerDate,()=>{d||H()}),(ge,ke)=>(V(),le("div",{class:W([o(i).b("spinner"),{"has-seconds":ge.showSeconds}])},[ge.arrowControl?Re("v-if",!0):(V(!0),le(Ct,{key:0},nn(o(b),ye=>(V(),Ve(o(Mi),{key:ye,ref_for:!0,ref:Fe=>fe(Fe,ye),class:W(o(i).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":o(i).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:Fe=>A(ye),onMousemove:Fe=>D(ye)},{default:Se(()=>[(V(!0),le(Ct,null,nn(o(C)[ye],(Fe,Be)=>(V(),le("li",{key:Be,class:W([o(i).be("spinner","item"),o(i).is("active",Be===o(_)[ye]),o(i).is("disabled",Fe)]),onClick:He=>Z(ye,{value:Be,disabled:Fe})},[ye==="hours"?(V(),le(Ct,{key:0},[At(at(("0"+(ge.amPmMode?Be%12||12:Be)).slice(-2))+at(k(Be)),1)],64)):(V(),le(Ct,{key:1},[At(at(("0"+Be).slice(-2)),1)],64))],10,["onClick"]))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),ge.arrowControl?(V(!0),le(Ct,{key:1},nn(o(b),ye=>(V(),le("div",{key:ye,class:W([o(i).be("spinner","wrapper"),o(i).is("arrow")]),onMouseenter:Fe=>A(ye)},[Bt((V(),Ve(o(wt),{class:W(["arrow-up",o(i).be("spinner","arrow")])},{default:Se(()=>[pe(o(Jg))]),_:1},8,["class"])),[[o(vf),Y]]),Bt((V(),Ve(o(wt),{class:W(["arrow-down",o(i).be("spinner","arrow")])},{default:Se(()=>[pe(o(ca))]),_:1},8,["class"])),[[o(vf),q]]),ue("ul",{class:W(o(i).be("spinner","list"))},[(V(!0),le(Ct,null,nn(o(M)[ye],(Fe,Be)=>(V(),le("li",{key:Be,class:W([o(i).be("spinner","item"),o(i).is("active",Fe===o(_)[ye]),o(i).is("disabled",o(C)[ye][Fe])])},[o($t)(Fe)?(V(),le(Ct,{key:0},[ye==="hours"?(V(),le(Ct,{key:0},[At(at(("0"+(ge.amPmMode?Fe%12||12:Fe)).slice(-2))+at(k(Fe)),1)],64)):(V(),le(Ct,{key:1},[At(at(("0"+Fe).slice(-2)),1)],64))],64)):Re("v-if",!0)],2))),128))],2)],42,["onMouseenter"]))),128)):Re("v-if",!0)],2))}});var hm=ot(K5,[["__file","basic-time-spinner.vue"]]);const H5=ve({__name:"panel-time-pick",props:F5,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const n=e,r=vt("EP_PICKER_BASE"),{arrowControl:s,disabledHours:i,disabledMinutes:a,disabledSeconds:l,defaultValue:u}=r.props,{getAvailableHours:d,getAvailableMinutes:f,getAvailableSeconds:p}=V_(i,a,l),g=Xe("time"),{t:v,lang:w}=cn(),b=Q([0,2]),_=z_(n),C=L(()=>xn(n.actualVisible)?`${g.namespace.value}-zoom-in-top`:""),M=L(()=>n.format.includes("ss")),E=L(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),k=ee=>{const J=Ft(ee).locale(w.value),fe=xe(J);return J.isSame(fe)},A=()=>{t("pick",_.value,!1)},D=(ee=!1,J=!1)=>{J||t("pick",n.parsedValue,ee)},H=ee=>{if(!n.visible)return;const J=xe(ee).millisecond(0);t("pick",J,!0)},U=(ee,J)=>{t("select-range",ee,J),b.value=[ee,J]},K=ee=>{const J=[0,3].concat(M.value?[6]:[]),fe=["hours","minutes"].concat(M.value?["seconds"]:[]),ke=(J.indexOf(b.value[0])+ee+J.length)%J.length;q.start_emitSelectRange(fe[ke])},G=ee=>{const J=ee.code,{left:fe,right:ge,up:ke,down:ye}=gt;if([fe,ge].includes(J)){K(J===fe?-1:1),ee.preventDefault();return}if([ke,ye].includes(J)){const Fe=J===ke?-1:1;q.start_scrollDown(Fe),ee.preventDefault();return}},{timePickerOptions:q,onSetOption:Y,getAvailableTime:de}=P_({getAvailableHours:d,getAvailableMinutes:f,getAvailableSeconds:p}),xe=ee=>de(ee,n.datetimeRole||"",!0),oe=ee=>ee?Ft(ee,n.format).locale(w.value):null,Z=ee=>ee?ee.format(n.format):null,ne=()=>Ft(u).locale(w.value);return t("set-picker-option",["isValidValue",k]),t("set-picker-option",["formatToString",Z]),t("set-picker-option",["parseUserInput",oe]),t("set-picker-option",["handleKeydownInput",G]),t("set-picker-option",["getRangeAvailableTime",xe]),t("set-picker-option",["getDefaultValue",ne]),(ee,J)=>(V(),Ve(Rr,{name:o(C)},{default:Se(()=>[ee.actualVisible||ee.visible?(V(),le("div",{key:0,class:W(o(g).b("panel"))},[ue("div",{class:W([o(g).be("panel","content"),{"has-seconds":o(M)}])},[pe(hm,{ref:"spinner",role:ee.datetimeRole||"start","arrow-control":o(s),"show-seconds":o(M),"am-pm-mode":o(E),"spinner-date":ee.parsedValue,"disabled-hours":o(i),"disabled-minutes":o(a),"disabled-seconds":o(l),onChange:H,onSetOption:o(Y),onSelectRange:U},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),ue("div",{class:W(o(g).be("panel","footer"))},[ue("button",{type:"button",class:W([o(g).be("panel","btn"),"cancel"]),onClick:A},at(o(v)("el.datepicker.cancel")),3),ue("button",{type:"button",class:W([o(g).be("panel","btn"),"confirm"]),onClick:fe=>D()},at(o(v)("el.datepicker.confirm")),11,["onClick"])],2)],2)):Re("v-if",!0)]),_:1},8,["name"]))}});var yf=ot(H5,[["__file","panel-time-pick.vue"]]);const W5=st({...D_,parsedValue:{type:Ie(Array)}}),U5=ve({__name:"panel-time-range",props:W5,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const n=e,r=(qe,ae)=>{const be=[];for(let $e=qe;$e<=ae;$e++)be.push($e);return be},{t:s,lang:i}=cn(),a=Xe("time"),l=Xe("picker"),u=vt("EP_PICKER_BASE"),{arrowControl:d,disabledHours:f,disabledMinutes:p,disabledSeconds:g,defaultValue:v}=u.props,w=L(()=>[a.be("range-picker","body"),a.be("panel","content"),a.is("arrow",d),k.value?"has-seconds":""]),b=L(()=>[a.be("range-picker","body"),a.be("panel","content"),a.is("arrow",d),k.value?"has-seconds":""]),_=L(()=>n.parsedValue[0]),C=L(()=>n.parsedValue[1]),M=z_(n),E=()=>{t("pick",M.value,!1)},k=L(()=>n.format.includes("ss")),A=L(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),D=(qe=!1)=>{t("pick",[_.value,C.value],qe)},H=qe=>{G(qe.millisecond(0),C.value)},U=qe=>{G(_.value,qe.millisecond(0))},K=qe=>{const ae=qe.map($e=>Ft($e).locale(i.value)),be=ge(ae);return ae[0].isSame(be[0])&&ae[1].isSame(be[1])},G=(qe,ae)=>{n.visible&&t("pick",[qe,ae],!0)},q=L(()=>_.value>C.value),Y=Q([0,2]),de=(qe,ae)=>{t("select-range",qe,ae,"min"),Y.value=[qe,ae]},xe=L(()=>k.value?11:8),oe=(qe,ae)=>{t("select-range",qe,ae,"max");const be=o(xe);Y.value=[qe+be,ae+be]},Z=qe=>{const ae=k.value?[0,3,6,11,14,17]:[0,3,8,11],be=["hours","minutes"].concat(k.value?["seconds"]:[]),Ge=(ae.indexOf(Y.value[0])+qe+ae.length)%ae.length,Qe=ae.length/2;Ge<Qe?Be.start_emitSelectRange(be[Ge]):Be.end_emitSelectRange(be[Ge-Qe])},ne=qe=>{const ae=qe.code,{left:be,right:$e,up:Ge,down:Qe}=gt;if([be,$e].includes(ae)){Z(ae===be?-1:1),qe.preventDefault();return}if([Ge,Qe].includes(ae)){const Le=ae===Ge?-1:1,Ze=Y.value[0]<xe.value?"start":"end";Be[`${Ze}_scrollDown`](Le),qe.preventDefault();return}},ee=(qe,ae)=>{const be=f?f(qe):[],$e=qe==="start",Qe=(ae||($e?C.value:_.value)).hour(),Le=$e?r(Qe+1,23):r(0,Qe-1);return rp(be,Le)},J=(qe,ae,be)=>{const $e=p?p(qe,ae):[],Ge=ae==="start",Qe=be||(Ge?C.value:_.value),Le=Qe.hour();if(qe!==Le)return $e;const Ze=Qe.minute(),We=Ge?r(Ze+1,59):r(0,Ze-1);return rp($e,We)},fe=(qe,ae,be,$e)=>{const Ge=g?g(qe,ae,be):[],Qe=be==="start",Le=$e||(Qe?C.value:_.value),Ze=Le.hour(),We=Le.minute();if(qe!==Ze||ae!==We)return Ge;const it=Le.second(),rt=Qe?r(it+1,59):r(0,it-1);return rp(Ge,rt)},ge=([qe,ae])=>[He(qe,"start",!0,ae),He(ae,"end",!1,qe)],{getAvailableHours:ke,getAvailableMinutes:ye,getAvailableSeconds:Fe}=V_(ee,J,fe),{timePickerOptions:Be,getAvailableTime:He,onSetOption:he}=P_({getAvailableHours:ke,getAvailableMinutes:ye,getAvailableSeconds:Fe}),Ne=qe=>qe?nt(qe)?qe.map(ae=>Ft(ae,n.format).locale(i.value)):Ft(qe,n.format).locale(i.value):null,Pe=qe=>qe?nt(qe)?qe.map(ae=>ae.format(n.format)):qe.format(n.format):null,et=()=>{if(nt(v))return v.map(ae=>Ft(ae).locale(i.value));const qe=Ft(v).locale(i.value);return[qe,qe.add(60,"m")]};return t("set-picker-option",["formatToString",Pe]),t("set-picker-option",["parseUserInput",Ne]),t("set-picker-option",["isValidValue",K]),t("set-picker-option",["handleKeydownInput",ne]),t("set-picker-option",["getDefaultValue",et]),t("set-picker-option",["getRangeAvailableTime",ge]),(qe,ae)=>qe.actualVisible?(V(),le("div",{key:0,class:W([o(a).b("range-picker"),o(l).b("panel")])},[ue("div",{class:W(o(a).be("range-picker","content"))},[ue("div",{class:W(o(a).be("range-picker","cell"))},[ue("div",{class:W(o(a).be("range-picker","header"))},at(o(s)("el.datepicker.startTime")),3),ue("div",{class:W(o(w))},[pe(hm,{ref:"minSpinner",role:"start","show-seconds":o(k),"am-pm-mode":o(A),"arrow-control":o(d),"spinner-date":o(_),"disabled-hours":ee,"disabled-minutes":J,"disabled-seconds":fe,onChange:H,onSetOption:o(he),onSelectRange:de},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),ue("div",{class:W(o(a).be("range-picker","cell"))},[ue("div",{class:W(o(a).be("range-picker","header"))},at(o(s)("el.datepicker.endTime")),3),ue("div",{class:W(o(b))},[pe(hm,{ref:"maxSpinner",role:"end","show-seconds":o(k),"am-pm-mode":o(A),"arrow-control":o(d),"spinner-date":o(C),"disabled-hours":ee,"disabled-minutes":J,"disabled-seconds":fe,onChange:U,onSetOption:o(he),onSelectRange:oe},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),ue("div",{class:W(o(a).be("panel","footer"))},[ue("button",{type:"button",class:W([o(a).be("panel","btn"),"cancel"]),onClick:be=>E()},at(o(s)("el.datepicker.cancel")),11,["onClick"]),ue("button",{type:"button",class:W([o(a).be("panel","btn"),"confirm"]),disabled:o(q),onClick:be=>D()},at(o(s)("el.datepicker.confirm")),11,["disabled","onClick"])],2)],2)):Re("v-if",!0)}});var j5=ot(U5,[["__file","panel-time-range.vue"]]);Ft.extend(Sv);var G5=ve({name:"ElTimePicker",install:null,props:{...Cv,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,t){const n=Q(),[r,s]=e.isRange?["timerange",j5]:["time",yf],i=a=>t.emit("update:modelValue",a);return Qt("ElPopperOptions",e.popperOptions),t.expose({focus:()=>{var a;(a=n.value)==null||a.focus()},blur:()=>{var a;(a=n.value)==null||a.blur()},handleOpen:()=>{var a;(a=n.value)==null||a.handleOpen()},handleClose:()=>{var a;(a=n.value)==null||a.handleClose()}}),()=>{var a;const l=(a=e.format)!=null?a:fm;return pe(N_,Xt(e,{ref:n,type:r,format:l,"onUpdate:modelValue":i}),{default:u=>pe(s,u,null)})}}});const Y5=zt(G5),hh=Symbol(),X5=st({...Cv,type:{type:Ie(String),default:"date"}}),q5=["date","dates","year","years","month","months","week","range"],_v=st({disabledDate:{type:Ie(Function)},date:{type:Ie(Object),required:!0},minDate:{type:Ie(Object)},maxDate:{type:Ie(Object)},parsedValue:{type:Ie([Object,Array])},rangeState:{type:Ie(Object),default:()=>({endDate:null,selecting:!1})}}),B_=st({type:{type:Ie(String),required:!0,values:t6},dateFormat:String,timeFormat:String,showNow:{type:Boolean,default:!0}}),Tv=st({unlinkPanels:Boolean,parsedValue:{type:Ie(Array)}}),kv=e=>({type:String,values:q5,default:e}),J5=st({...B_,parsedValue:{type:Ie([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),$l=e=>{if(!nt(e))return!1;const[t,n]=e;return Ft.isDayjs(t)&&Ft.isDayjs(n)&&t.isSameOrBefore(n)},Ev=(e,{lang:t,unit:n,unlinkPanels:r})=>{let s;if(nt(e)){let[i,a]=e.map(l=>Ft(l).locale(t));return r||(a=i.add(1,n)),[i,a]}else e?s=Ft(e):s=Ft();return s=s.locale(t),[s,s.add(1,n)]},Z5=(e,t,{columnIndexOffset:n,startDate:r,nextEndDate:s,now:i,unit:a,relativeDateGetter:l,setCellMetadata:u,setRowMetadata:d})=>{for(let f=0;f<e.row;f++){const p=t[f];for(let g=0;g<e.column;g++){let v=p[g+n];v||(v={row:f,column:g,type:"normal",inRange:!1,start:!1,end:!1});const w=f*e.column+g,b=l(w);v.dayjs=b,v.date=b.toDate(),v.timestamp=b.valueOf(),v.type="normal",v.inRange=!!(r&&b.isSameOrAfter(r,a)&&s&&b.isSameOrBefore(s,a))||!!(r&&b.isSameOrBefore(r,a)&&s&&b.isSameOrAfter(s,a)),r!=null&&r.isSameOrAfter(s)?(v.start=!!s&&b.isSame(s,a),v.end=r&&b.isSame(r,a)):(v.start=!!r&&b.isSame(r,a),v.end=!!s&&b.isSame(s,a)),b.isSame(i,a)&&(v.type="today"),u==null||u(v,{rowIndex:f,columnIndex:g}),p[g+n]=v}d==null||d(p)}},bf=(e,t,n)=>{const r=Ft().locale(n).startOf("month").month(t).year(e),s=r.daysInMonth();return Na(s).map(i=>r.add(i,"day").toDate())},nc=(e,t,n,r)=>{const s=Ft().year(e).month(t).startOf("month"),i=bf(e,t,n).find(a=>!(r!=null&&r(a)));return i?Ft(i).locale(n):s.locale(n)},pm=(e,t,n)=>{const r=e.year();if(!(n!=null&&n(e.toDate())))return e.locale(t);const s=e.month();if(!bf(r,s,t).every(n))return nc(r,s,t,n);for(let i=0;i<12;i++)if(!bf(r,i,t).every(n))return nc(r,i,t,n);return e},Q5=st({..._v,cellClassName:{type:Ie(Function)},showWeekNumber:Boolean,selectionMode:kv("date")}),eH=["changerange","pick","select"],mm=(e="")=>["normal","today"].includes(e),tH=(e,t)=>{const{lang:n}=cn(),r=Q(),s=Q(),i=Q(),a=Q(),l=Q([[],[],[],[],[],[]]);let u=!1;const d=e.date.$locale().weekStart||7,f=e.date.locale("en").localeData().weekdaysShort().map(J=>J.toLowerCase()),p=L(()=>d>3?7-d:-d),g=L(()=>{const J=e.date.startOf("month");return J.subtract(J.day()||7,"day")}),v=L(()=>f.concat(f).slice(d,d+7)),w=L(()=>k2(o(k)).some(J=>J.isCurrent)),b=L(()=>{const J=e.date.startOf("month"),fe=J.day()||7,ge=J.daysInMonth(),ke=J.subtract(1,"month").daysInMonth();return{startOfMonthDay:fe,dateCountOfMonth:ge,dateCountOfLastMonth:ke}}),_=L(()=>e.selectionMode==="dates"?os(e.parsedValue):[]),C=(J,{count:fe,rowIndex:ge,columnIndex:ke})=>{const{startOfMonthDay:ye,dateCountOfMonth:Fe,dateCountOfLastMonth:Be}=o(b),He=o(p);if(ge>=0&&ge<=1){const he=ye+He<0?7+ye+He:ye+He;if(ke+ge*7>=he)return J.text=fe,!0;J.text=Be-(he-ke%7)+1+ge*7,J.type="prev-month"}else return fe<=Fe?J.text=fe:(J.text=fe-Fe,J.type="next-month"),!0;return!1},M=(J,{columnIndex:fe,rowIndex:ge},ke)=>{const{disabledDate:ye,cellClassName:Fe}=e,Be=o(_),He=C(J,{count:ke,rowIndex:ge,columnIndex:fe}),he=J.dayjs.toDate();return J.selected=Be.find(Ne=>Ne.isSame(J.dayjs,"day")),J.isSelected=!!J.selected,J.isCurrent=D(J),J.disabled=ye==null?void 0:ye(he),J.customClass=Fe==null?void 0:Fe(he),He},E=J=>{if(e.selectionMode==="week"){const[fe,ge]=e.showWeekNumber?[1,7]:[0,6],ke=ee(J[fe+1]);J[fe].inRange=ke,J[fe].start=ke,J[ge].inRange=ke,J[ge].end=ke}},k=L(()=>{const{minDate:J,maxDate:fe,rangeState:ge,showWeekNumber:ke}=e,ye=o(p),Fe=o(l),Be="day";let He=1;if(ke)for(let he=0;he<6;he++)Fe[he][0]||(Fe[he][0]={type:"week",text:o(g).add(he*7+1,Be).week()});return Z5({row:6,column:7},Fe,{startDate:J,columnIndexOffset:ke?1:0,nextEndDate:ge.endDate||fe||ge.selecting&&J||null,now:Ft().locale(o(n)).startOf(Be),unit:Be,relativeDateGetter:he=>o(g).add(he-ye,Be),setCellMetadata:(...he)=>{M(...he,He)&&(He+=1)},setRowMetadata:E}),Fe});je(()=>e.date,async()=>{var J;(J=o(r))!=null&&J.contains(document.activeElement)&&(await Et(),await A())});const A=async()=>{var J;return(J=o(s))==null?void 0:J.focus()},D=J=>e.selectionMode==="date"&&mm(J.type)&&H(J,e.parsedValue),H=(J,fe)=>fe?Ft(fe).locale(o(n)).isSame(e.date.date(Number(J.text)),"day"):!1,U=(J,fe)=>{const ge=J*7+(fe-(e.showWeekNumber?1:0))-o(p);return o(g).add(ge,"day")},K=J=>{var fe;if(!e.rangeState.selecting)return;let ge=J.target;if(ge.tagName==="SPAN"&&(ge=(fe=ge.parentNode)==null?void 0:fe.parentNode),ge.tagName==="DIV"&&(ge=ge.parentNode),ge.tagName!=="TD")return;const ke=ge.parentNode.rowIndex-1,ye=ge.cellIndex;o(k)[ke][ye].disabled||(ke!==o(i)||ye!==o(a))&&(i.value=ke,a.value=ye,t("changerange",{selecting:!0,endDate:U(ke,ye)}))},G=J=>!o(w)&&(J==null?void 0:J.text)===1&&J.type==="normal"||J.isCurrent,q=J=>{u||o(w)||e.selectionMode!=="date"||ne(J,!0)},Y=J=>{J.target.closest("td")&&(u=!0)},de=J=>{J.target.closest("td")&&(u=!1)},xe=J=>{!e.rangeState.selecting||!e.minDate?(t("pick",{minDate:J,maxDate:null}),t("select",!0)):(J>=e.minDate?t("pick",{minDate:e.minDate,maxDate:J}):t("pick",{minDate:J,maxDate:e.minDate}),t("select",!1))},oe=J=>{const fe=J.week(),ge=`${J.year()}w${fe}`;t("pick",{year:J.year(),week:fe,value:ge,date:J.startOf("week")})},Z=(J,fe)=>{const ge=fe?os(e.parsedValue).filter(ke=>(ke==null?void 0:ke.valueOf())!==J.valueOf()):os(e.parsedValue).concat([J]);t("pick",ge)},ne=(J,fe=!1)=>{const ge=J.target.closest("td");if(!ge)return;const ke=ge.parentNode.rowIndex-1,ye=ge.cellIndex,Fe=o(k)[ke][ye];if(Fe.disabled||Fe.type==="week")return;const Be=U(ke,ye);switch(e.selectionMode){case"range":{xe(Be);break}case"date":{t("pick",Be,fe);break}case"week":{oe(Be);break}case"dates":{Z(Be,!!Fe.selected);break}}},ee=J=>{if(e.selectionMode!=="week")return!1;let fe=e.date.startOf("day");if(J.type==="prev-month"&&(fe=fe.subtract(1,"month")),J.type==="next-month"&&(fe=fe.add(1,"month")),fe=fe.date(Number.parseInt(J.text,10)),e.parsedValue&&!nt(e.parsedValue)){const ge=(e.parsedValue.day()-d+7)%7-1;return e.parsedValue.subtract(ge,"day").isSame(fe,"day")}return!1};return{WEEKS:v,rows:k,tbodyRef:r,currentCellRef:s,focus:A,isCurrent:D,isWeekActive:ee,isSelectedCell:G,handlePickDate:ne,handleMouseUp:de,handleMouseDown:Y,handleMouseMove:K,handleFocus:q}},nH=(e,{isCurrent:t,isWeekActive:n})=>{const r=Xe("date-table"),{t:s}=cn(),i=L(()=>[r.b(),{"is-week-mode":e.selectionMode==="week"}]),a=L(()=>s("el.datepicker.dateTablePrompt")),l=L(()=>s("el.datepicker.week"));return{tableKls:i,tableLabel:a,weekLabel:l,getCellClasses:f=>{const p=[];return mm(f.type)&&!f.disabled?(p.push("available"),f.type==="today"&&p.push("today")):p.push(f.type),t(f)&&p.push("current"),f.inRange&&(mm(f.type)||e.selectionMode==="week")&&(p.push("in-range"),f.start&&p.push("start-date"),f.end&&p.push("end-date")),f.disabled&&p.push("disabled"),f.selected&&p.push("selected"),f.customClass&&p.push(f.customClass),p.join(" ")},getRowKls:f=>[r.e("row"),{current:n(f)}],t:s}},rH=st({cell:{type:Ie(Object)}});var $v=ve({name:"ElDatePickerCell",props:rH,setup(e){const t=Xe("date-table-cell"),{slots:n}=vt(hh);return()=>{const{cell:r}=e;return Oe(n,"default",{...r},()=>{var s;return[pe("div",{class:t.b()},[pe("span",{class:t.e("text")},[(s=r==null?void 0:r.renderText)!=null?s:r==null?void 0:r.text])])]})}}});const sH=ve({__name:"basic-date-table",props:Q5,emits:eH,setup(e,{expose:t,emit:n}){const r=e,{WEEKS:s,rows:i,tbodyRef:a,currentCellRef:l,focus:u,isCurrent:d,isWeekActive:f,isSelectedCell:p,handlePickDate:g,handleMouseUp:v,handleMouseDown:w,handleMouseMove:b,handleFocus:_}=tH(r,n),{tableLabel:C,tableKls:M,weekLabel:E,getCellClasses:k,getRowKls:A,t:D}=nH(r,{isCurrent:d,isWeekActive:f});return t({focus:u}),(H,U)=>(V(),le("table",{"aria-label":o(C),class:W(o(M)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:o(g),onMousemove:o(b),onMousedown:Lt(o(w),["prevent"]),onMouseup:o(v)},[ue("tbody",{ref_key:"tbodyRef",ref:a},[ue("tr",null,[H.showWeekNumber?(V(),le("th",{key:0,scope:"col"},at(o(E)),1)):Re("v-if",!0),(V(!0),le(Ct,null,nn(o(s),(K,G)=>(V(),le("th",{key:G,"aria-label":o(D)("el.datepicker.weeksFull."+K),scope:"col"},at(o(D)("el.datepicker.weeks."+K)),9,["aria-label"]))),128))]),(V(!0),le(Ct,null,nn(o(i),(K,G)=>(V(),le("tr",{key:G,class:W(o(A)(K[1]))},[(V(!0),le(Ct,null,nn(K,(q,Y)=>(V(),le("td",{key:`${G}.${Y}`,ref_for:!0,ref:de=>o(p)(q)&&(l.value=de),class:W(o(k)(q)),"aria-current":q.isCurrent?"date":void 0,"aria-selected":q.isCurrent,tabindex:o(p)(q)?0:-1,onFocus:o(_)},[pe(o($v),{cell:q},null,8,["cell"])],42,["aria-current","aria-selected","tabindex","onFocus"]))),128))],2))),128))],512)],42,["aria-label","onClick","onMousemove","onMousedown","onMouseup"]))}});var gm=ot(sH,[["__file","basic-date-table.vue"]]);const iH=st({..._v,selectionMode:kv("month")}),aH=ve({__name:"basic-month-table",props:iH,emits:["changerange","pick","select"],setup(e,{expose:t,emit:n}){const r=e,s=Xe("month-table"),{t:i,lang:a}=cn(),l=Q(),u=Q(),d=Q(r.date.locale("en").localeData().monthsShort().map(E=>E.toLowerCase())),f=Q([[],[],[]]),p=Q(),g=Q(),v=L(()=>{var E,k;const A=f.value,D=Ft().locale(a.value).startOf("month");for(let H=0;H<3;H++){const U=A[H];for(let K=0;K<4;K++){const G=U[K]||(U[K]={row:H,column:K,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});G.type="normal";const q=H*4+K,Y=r.date.startOf("year").month(q),de=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;G.inRange=!!(r.minDate&&Y.isSameOrAfter(r.minDate,"month")&&de&&Y.isSameOrBefore(de,"month"))||!!(r.minDate&&Y.isSameOrBefore(r.minDate,"month")&&de&&Y.isSameOrAfter(de,"month")),(E=r.minDate)!=null&&E.isSameOrAfter(de)?(G.start=!!(de&&Y.isSame(de,"month")),G.end=r.minDate&&Y.isSame(r.minDate,"month")):(G.start=!!(r.minDate&&Y.isSame(r.minDate,"month")),G.end=!!(de&&Y.isSame(de,"month"))),D.isSame(Y)&&(G.type="today"),G.text=q,G.disabled=((k=r.disabledDate)==null?void 0:k.call(r,Y.toDate()))||!1}}return A}),w=()=>{var E;(E=u.value)==null||E.focus()},b=E=>{const k={},A=r.date.year(),D=new Date,H=E.text;return k.disabled=r.disabledDate?bf(A,H,a.value).every(r.disabledDate):!1,k.current=os(r.parsedValue).findIndex(U=>Ft.isDayjs(U)&&U.year()===A&&U.month()===H)>=0,k.today=D.getFullYear()===A&&D.getMonth()===H,E.inRange&&(k["in-range"]=!0,E.start&&(k["start-date"]=!0),E.end&&(k["end-date"]=!0)),k},_=E=>{const k=r.date.year(),A=E.text;return os(r.date).findIndex(D=>D.year()===k&&D.month()===A)>=0},C=E=>{var k;if(!r.rangeState.selecting)return;let A=E.target;if(A.tagName==="SPAN"&&(A=(k=A.parentNode)==null?void 0:k.parentNode),A.tagName==="DIV"&&(A=A.parentNode),A.tagName!=="TD")return;const D=A.parentNode.rowIndex,H=A.cellIndex;v.value[D][H].disabled||(D!==p.value||H!==g.value)&&(p.value=D,g.value=H,n("changerange",{selecting:!0,endDate:r.date.startOf("year").month(D*4+H)}))},M=E=>{var k;const A=(k=E.target)==null?void 0:k.closest("td");if((A==null?void 0:A.tagName)!=="TD"||ys(A,"disabled"))return;const D=A.cellIndex,U=A.parentNode.rowIndex*4+D,K=r.date.startOf("year").month(U);if(r.selectionMode==="months"){if(E.type==="keydown"){n("pick",os(r.parsedValue),!1);return}const G=nc(r.date.year(),U,a.value,r.disabledDate),q=ys(A,"current")?os(r.parsedValue).filter(Y=>(Y==null?void 0:Y.month())!==G.month()):os(r.parsedValue).concat([Ft(G)]);n("pick",q)}else r.selectionMode==="range"?r.rangeState.selecting?(r.minDate&&K>=r.minDate?n("pick",{minDate:r.minDate,maxDate:K}):n("pick",{minDate:K,maxDate:r.minDate}),n("select",!1)):(n("pick",{minDate:K,maxDate:null}),n("select",!0)):n("pick",U)};return je(()=>r.date,async()=>{var E,k;(E=l.value)!=null&&E.contains(document.activeElement)&&(await Et(),(k=u.value)==null||k.focus())}),t({focus:w}),(E,k)=>(V(),le("table",{role:"grid","aria-label":o(i)("el.datepicker.monthTablePrompt"),class:W(o(s).b()),onClick:M,onMousemove:C},[ue("tbody",{ref_key:"tbodyRef",ref:l},[(V(!0),le(Ct,null,nn(o(v),(A,D)=>(V(),le("tr",{key:D},[(V(!0),le(Ct,null,nn(A,(H,U)=>(V(),le("td",{key:U,ref_for:!0,ref:K=>_(H)&&(u.value=K),class:W(b(H)),"aria-selected":`${_(H)}`,"aria-label":o(i)(`el.datepicker.month${+H.text+1}`),tabindex:_(H)?0:-1,onKeydown:[Vn(Lt(M,["prevent","stop"]),["space"]),Vn(Lt(M,["prevent","stop"]),["enter"])]},[pe(o($v),{cell:{...H,renderText:o(i)("el.datepicker.months."+d.value[H.text])}},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var vm=ot(aH,[["__file","basic-month-table.vue"]]);const oH=st({..._v,selectionMode:kv("year")}),lH=ve({__name:"basic-year-table",props:oH,emits:["changerange","pick","select"],setup(e,{expose:t,emit:n}){const r=e,s=(k,A)=>{const D=Ft(String(k)).locale(A).startOf("year"),U=D.endOf("year").dayOfYear();return Na(U).map(K=>D.add(K,"day").toDate())},i=Xe("year-table"),{t:a,lang:l}=cn(),u=Q(),d=Q(),f=L(()=>Math.floor(r.date.year()/10)*10),p=Q([[],[],[]]),g=Q(),v=Q(),w=L(()=>{var k;const A=p.value,D=Ft().locale(l.value).startOf("year");for(let H=0;H<3;H++){const U=A[H];for(let K=0;K<4&&!(H*4+K>=10);K++){let G=U[K];G||(G={row:H,column:K,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1}),G.type="normal";const q=H*4+K+f.value,Y=Ft().year(q),de=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;G.inRange=!!(r.minDate&&Y.isSameOrAfter(r.minDate,"year")&&de&&Y.isSameOrBefore(de,"year"))||!!(r.minDate&&Y.isSameOrBefore(r.minDate,"year")&&de&&Y.isSameOrAfter(de,"year")),(k=r.minDate)!=null&&k.isSameOrAfter(de)?(G.start=!!(de&&Y.isSame(de,"year")),G.end=!!(r.minDate&&Y.isSame(r.minDate,"year"))):(G.start=!!(r.minDate&&Y.isSame(r.minDate,"year")),G.end=!!(de&&Y.isSame(de,"year"))),D.isSame(Y)&&(G.type="today"),G.text=q;const oe=Y.toDate();G.disabled=r.disabledDate&&r.disabledDate(oe)||!1,U[K]=G}}return A}),b=()=>{var k;(k=d.value)==null||k.focus()},_=k=>{const A={},D=Ft().locale(l.value),H=k.text;return A.disabled=r.disabledDate?s(H,l.value).every(r.disabledDate):!1,A.today=D.year()===H,A.current=os(r.parsedValue).findIndex(U=>U.year()===H)>=0,k.inRange&&(A["in-range"]=!0,k.start&&(A["start-date"]=!0),k.end&&(A["end-date"]=!0)),A},C=k=>{const A=k.text;return os(r.date).findIndex(D=>D.year()===A)>=0},M=k=>{var A;const D=(A=k.target)==null?void 0:A.closest("td");if(!D||!D.textContent||ys(D,"disabled"))return;const H=D.cellIndex,K=D.parentNode.rowIndex*4+H+f.value,G=Ft().year(K);if(r.selectionMode==="range")r.rangeState.selecting?(r.minDate&&G>=r.minDate?n("pick",{minDate:r.minDate,maxDate:G}):n("pick",{minDate:G,maxDate:r.minDate}),n("select",!1)):(n("pick",{minDate:G,maxDate:null}),n("select",!0));else if(r.selectionMode==="years"){if(k.type==="keydown"){n("pick",os(r.parsedValue),!1);return}const q=pm(G.startOf("year"),l.value,r.disabledDate),Y=ys(D,"current")?os(r.parsedValue).filter(de=>(de==null?void 0:de.year())!==K):os(r.parsedValue).concat([q]);n("pick",Y)}else n("pick",K)},E=k=>{var A;if(!r.rangeState.selecting)return;const D=(A=k.target)==null?void 0:A.closest("td");if(!D)return;const H=D.parentNode.rowIndex,U=D.cellIndex;w.value[H][U].disabled||(H!==g.value||U!==v.value)&&(g.value=H,v.value=U,n("changerange",{selecting:!0,endDate:Ft().year(f.value).add(H*4+U,"year")}))};return je(()=>r.date,async()=>{var k,A;(k=u.value)!=null&&k.contains(document.activeElement)&&(await Et(),(A=d.value)==null||A.focus())}),t({focus:b}),(k,A)=>(V(),le("table",{role:"grid","aria-label":o(a)("el.datepicker.yearTablePrompt"),class:W(o(i).b()),onClick:M,onMousemove:E},[ue("tbody",{ref_key:"tbodyRef",ref:u},[(V(!0),le(Ct,null,nn(o(w),(D,H)=>(V(),le("tr",{key:H},[(V(!0),le(Ct,null,nn(D,(U,K)=>(V(),le("td",{key:`${H}_${K}`,ref_for:!0,ref:G=>C(U)&&(d.value=G),class:W(["available",_(U)]),"aria-selected":C(U),"aria-label":String(U.text),tabindex:C(U)?0:-1,onKeydown:[Vn(Lt(M,["prevent","stop"]),["space"]),Vn(Lt(M,["prevent","stop"]),["enter"])]},[pe(o($v),{cell:U},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var ym=ot(lH,[["__file","basic-year-table.vue"]]);const uH=ve({__name:"panel-date-pick",props:J5,emits:["pick","set-picker-option","panel-change"],setup(e,{emit:t}){const n=e,r=(Ue,Ae,Ke)=>!0,s=Xe("picker-panel"),i=Xe("date-picker"),a=oa(),l=Sr(),{t:u,lang:d}=cn(),f=vt("EP_PICKER_BASE"),p=vt(dh),{shortcuts:g,disabledDate:v,cellClassName:w,defaultTime:b}=f.props,_=Tn(f.props,"defaultValue"),C=Q(),M=Q(Ft().locale(d.value)),E=Q(!1);let k=!1;const A=L(()=>Ft(b).locale(d.value)),D=L(()=>M.value.month()),H=L(()=>M.value.year()),U=Q([]),K=Q(null),G=Q(null),q=Ue=>U.value.length>0?r(Ue,U.value,n.format||"HH:mm:ss"):!0,Y=Ue=>b&&!Ge.value&&!E.value&&!k?A.value.year(Ue.year()).month(Ue.month()).date(Ue.date()):he.value?Ue.millisecond(0):Ue.startOf("day"),de=(Ue,...Ae)=>{if(!Ue)t("pick",Ue,...Ae);else if(nt(Ue)){const Ke=Ue.map(Y);t("pick",Ke,...Ae)}else t("pick",Y(Ue),...Ae);K.value=null,G.value=null,E.value=!1,k=!1},xe=async(Ue,Ae)=>{if(fe.value==="date"){Ue=Ue;let Ke=n.parsedValue?n.parsedValue.year(Ue.year()).month(Ue.month()).date(Ue.date()):Ue;q(Ke)||(Ke=U.value[0][0].year(Ue.year()).month(Ue.month()).date(Ue.date())),M.value=Ke,de(Ke,he.value||Ae),n.type==="datetime"&&(await Et(),Ht())}else fe.value==="week"?de(Ue.date):fe.value==="dates"&&de(Ue,!0)},oe=Ue=>{const Ae=Ue?"add":"subtract";M.value=M.value[Ae](1,"month"),Bn("month")},Z=Ue=>{const Ae=M.value,Ke=Ue?"add":"subtract";M.value=ne.value==="year"?Ae[Ke](10,"year"):Ae[Ke](1,"year"),Bn("year")},ne=Q("date"),ee=L(()=>{const Ue=u("el.datepicker.year");if(ne.value==="year"){const Ae=Math.floor(H.value/10)*10;return Ue?`${Ae} ${Ue} - ${Ae+9} ${Ue}`:`${Ae} - ${Ae+9}`}return`${H.value} ${Ue}`}),J=Ue=>{const Ae=_t(Ue.value)?Ue.value():Ue.value;if(Ae){k=!0,de(Ft(Ae).locale(d.value));return}Ue.onClick&&Ue.onClick({attrs:a,slots:l,emit:t})},fe=L(()=>{const{type:Ue}=n;return["week","month","months","year","years","dates"].includes(Ue)?Ue:"date"}),ge=L(()=>fe.value==="dates"||fe.value==="months"||fe.value==="years"),ke=L(()=>fe.value==="date"?ne.value:fe.value),ye=L(()=>!!g.length),Fe=async(Ue,Ae)=>{fe.value==="month"?(M.value=nc(M.value.year(),Ue,d.value,v),de(M.value,!1)):fe.value==="months"?de(Ue,Ae??!0):(M.value=nc(M.value.year(),Ue,d.value,v),ne.value="date",["month","year","date","week"].includes(fe.value)&&(de(M.value,!0),await Et(),Ht())),Bn("month")},Be=async(Ue,Ae)=>{if(fe.value==="year"){const Ke=M.value.startOf("year").year(Ue);M.value=pm(Ke,d.value,v),de(M.value,!1)}else if(fe.value==="years")de(Ue,Ae??!0);else{const Ke=M.value.year(Ue);M.value=pm(Ke,d.value,v),ne.value="month",["month","year","date","week"].includes(fe.value)&&(de(M.value,!0),await Et(),Ht())}Bn("year")},He=async Ue=>{ne.value=Ue,await Et(),Ht()},he=L(()=>n.type==="datetime"||n.type==="datetimerange"),Ne=L(()=>{const Ue=he.value||fe.value==="dates",Ae=fe.value==="years",Ke=fe.value==="months",_e=ne.value==="date",lt=ne.value==="year",Nt=ne.value==="month";return Ue&&_e||Ae&&lt||Ke&&Nt}),Pe=L(()=>v?n.parsedValue?nt(n.parsedValue)?v(n.parsedValue[0].toDate()):v(n.parsedValue.toDate()):!0:!1),et=()=>{if(ge.value)de(n.parsedValue);else{let Ue=n.parsedValue;if(!Ue){const Ae=Ft(b).locale(d.value),Ke=qt();Ue=Ae.year(Ke.year()).month(Ke.month()).date(Ke.date())}M.value=Ue,de(Ue)}},qe=L(()=>v?v(Ft().locale(d.value).toDate()):!1),ae=()=>{const Ae=Ft().locale(d.value).toDate();E.value=!0,(!v||!v(Ae))&&q(Ae)&&(M.value=Ft().locale(d.value),de(M.value))},be=L(()=>n.timeFormat||o_(n.format)),$e=L(()=>n.dateFormat||a_(n.format)),Ge=L(()=>{if(G.value)return G.value;if(!(!n.parsedValue&&!_.value))return(n.parsedValue||M.value).format(be.value)}),Qe=L(()=>{if(K.value)return K.value;if(!(!n.parsedValue&&!_.value))return(n.parsedValue||M.value).format($e.value)}),Le=Q(!1),Ze=()=>{Le.value=!0},We=()=>{Le.value=!1},it=Ue=>({hour:Ue.hour(),minute:Ue.minute(),second:Ue.second(),year:Ue.year(),month:Ue.month(),date:Ue.date()}),rt=(Ue,Ae,Ke)=>{const{hour:_e,minute:lt,second:Nt}=it(Ue),Jt=n.parsedValue?n.parsedValue.hour(_e).minute(lt).second(Nt):Ue;M.value=Jt,de(M.value,!0),Ke||(Le.value=Ae)},St=Ue=>{const Ae=Ft(Ue,be.value).locale(d.value);if(Ae.isValid()&&q(Ae)){const{year:Ke,month:_e,date:lt}=it(M.value);M.value=Ae.year(Ke).month(_e).date(lt),G.value=null,Le.value=!1,de(M.value,!0)}},mt=Ue=>{const Ae=Ft(Ue,$e.value).locale(d.value);if(Ae.isValid()){if(v&&v(Ae.toDate()))return;const{hour:Ke,minute:_e,second:lt}=it(M.value);M.value=Ae.hour(Ke).minute(_e).second(lt),K.value=null,de(M.value,!0)}},Ye=Ue=>Ft.isDayjs(Ue)&&Ue.isValid()&&(v?!v(Ue.toDate()):!0),yt=Ue=>nt(Ue)?Ue.map(Ae=>Ae.format(n.format)):Ue.format(n.format),Mt=Ue=>Ft(Ue,n.format).locale(d.value),qt=()=>{const Ue=Ft(_.value).locale(d.value);if(!_.value){const Ae=A.value;return Ft().hour(Ae.hour()).minute(Ae.minute()).second(Ae.second()).locale(d.value)}return Ue},Ht=()=>{var Ue;["week","month","year","date"].includes(fe.value)&&((Ue=C.value)==null||Ue.focus())},gn=()=>{Ht(),fe.value==="week"&&jn(gt.down)},en=Ue=>{const{code:Ae}=Ue;[gt.up,gt.down,gt.left,gt.right,gt.home,gt.end,gt.pageUp,gt.pageDown].includes(Ae)&&(jn(Ae),Ue.stopPropagation(),Ue.preventDefault()),[gt.enter,gt.space,gt.numpadEnter].includes(Ae)&&K.value===null&&G.value===null&&(Ue.preventDefault(),de(M.value,!1))},jn=Ue=>{var Ae;const{up:Ke,down:_e,left:lt,right:Nt,home:Jt,end:An,pageUp:Kn,pageDown:yr}=gt,rn={year:{[Ke]:-4,[_e]:4,[lt]:-1,[Nt]:1,offset:(Ln,br)=>Ln.setFullYear(Ln.getFullYear()+br)},month:{[Ke]:-4,[_e]:4,[lt]:-1,[Nt]:1,offset:(Ln,br)=>Ln.setMonth(Ln.getMonth()+br)},week:{[Ke]:-1,[_e]:1,[lt]:-1,[Nt]:1,offset:(Ln,br)=>Ln.setDate(Ln.getDate()+br*7)},date:{[Ke]:-7,[_e]:7,[lt]:-1,[Nt]:1,[Jt]:Ln=>-Ln.getDay(),[An]:Ln=>-Ln.getDay()+6,[Kn]:Ln=>-new Date(Ln.getFullYear(),Ln.getMonth(),0).getDate(),[yr]:Ln=>new Date(Ln.getFullYear(),Ln.getMonth()+1,0).getDate(),offset:(Ln,br)=>Ln.setDate(Ln.getDate()+br)}},rr=M.value.toDate();for(;Math.abs(M.value.diff(rr,"year",!0))<1;){const Ln=rn[ke.value];if(!Ln)return;if(Ln.offset(rr,_t(Ln[Ue])?Ln[Ue](rr):(Ae=Ln[Ue])!=null?Ae:0),v&&v(rr))break;const br=Ft(rr).locale(d.value);M.value=br,t("pick",br,!0);break}},Bn=Ue=>{t("panel-change",M.value.toDate(),Ue,ne.value)};return je(()=>fe.value,Ue=>{if(["month","year"].includes(Ue)){ne.value=Ue;return}else if(Ue==="years"){ne.value="year";return}else if(Ue==="months"){ne.value="month";return}ne.value="date"},{immediate:!0}),je(()=>ne.value,()=>{p==null||p.updatePopper()}),je(()=>_.value,Ue=>{Ue&&(M.value=qt())},{immediate:!0}),je(()=>n.parsedValue,Ue=>{if(Ue){if(ge.value||nt(Ue))return;M.value=Ue}else M.value=qt()},{immediate:!0}),t("set-picker-option",["isValidValue",Ye]),t("set-picker-option",["formatToString",yt]),t("set-picker-option",["parseUserInput",Mt]),t("set-picker-option",["handleFocusPicker",gn]),(Ue,Ae)=>(V(),le("div",{class:W([o(s).b(),o(i).b(),{"has-sidebar":Ue.$slots.sidebar||o(ye),"has-time":o(he)}])},[ue("div",{class:W(o(s).e("body-wrapper"))},[Oe(Ue.$slots,"sidebar",{class:W(o(s).e("sidebar"))}),o(ye)?(V(),le("div",{key:0,class:W(o(s).e("sidebar"))},[(V(!0),le(Ct,null,nn(o(g),(Ke,_e)=>(V(),le("button",{key:_e,type:"button",class:W(o(s).e("shortcut")),onClick:lt=>J(Ke)},at(Ke.text),11,["onClick"]))),128))],2)):Re("v-if",!0),ue("div",{class:W(o(s).e("body"))},[o(he)?(V(),le("div",{key:0,class:W(o(i).e("time-header"))},[ue("span",{class:W(o(i).e("editor-wrap"))},[pe(o(Zr),{placeholder:o(u)("el.datepicker.selectDate"),"model-value":o(Qe),size:"small","validate-event":!1,onInput:Ke=>K.value=Ke,onChange:mt},null,8,["placeholder","model-value","onInput"])],2),Bt((V(),le("span",{class:W(o(i).e("editor-wrap"))},[pe(o(Zr),{placeholder:o(u)("el.datepicker.selectTime"),"model-value":o(Ge),size:"small","validate-event":!1,onFocus:Ze,onInput:Ke=>G.value=Ke,onChange:St},null,8,["placeholder","model-value","onInput"]),pe(o(yf),{visible:Le.value,format:o(be),"parsed-value":M.value,onPick:rt},null,8,["visible","format","parsed-value"])],2)),[[o(sa),We]])],2)):Re("v-if",!0),Bt(ue("div",{class:W([o(i).e("header"),(ne.value==="year"||ne.value==="month")&&o(i).e("header--bordered")])},[ue("span",{class:W(o(i).e("prev-btn"))},[ue("button",{type:"button","aria-label":o(u)("el.datepicker.prevYear"),class:W(["d-arrow-left",o(s).e("icon-btn")]),onClick:Ke=>Z(!1)},[Oe(Ue.$slots,"prev-year",{},()=>[pe(o(wt),null,{default:Se(()=>[pe(o(Ua))]),_:1})])],10,["aria-label","onClick"]),Bt(ue("button",{type:"button","aria-label":o(u)("el.datepicker.prevMonth"),class:W([o(s).e("icon-btn"),"arrow-left"]),onClick:Ke=>oe(!1)},[Oe(Ue.$slots,"prev-month",{},()=>[pe(o(wt),null,{default:Se(()=>[pe(o(Wa))]),_:1})])],10,["aria-label","onClick"]),[[mn,ne.value==="date"]])],2),ue("span",{role:"button",class:W(o(i).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:Vn(Ke=>He("year"),["enter"]),onClick:Ke=>He("year")},at(o(ee)),43,["onKeydown","onClick"]),Bt(ue("span",{role:"button","aria-live":"polite",tabindex:"0",class:W([o(i).e("header-label"),{active:ne.value==="month"}]),onKeydown:Vn(Ke=>He("month"),["enter"]),onClick:Ke=>He("month")},at(o(u)(`el.datepicker.month${o(D)+1}`)),43,["onKeydown","onClick"]),[[mn,ne.value==="date"]]),ue("span",{class:W(o(i).e("next-btn"))},[Bt(ue("button",{type:"button","aria-label":o(u)("el.datepicker.nextMonth"),class:W([o(s).e("icon-btn"),"arrow-right"]),onClick:Ke=>oe(!0)},[Oe(Ue.$slots,"next-month",{},()=>[pe(o(wt),null,{default:Se(()=>[pe(o(cs))]),_:1})])],10,["aria-label","onClick"]),[[mn,ne.value==="date"]]),ue("button",{type:"button","aria-label":o(u)("el.datepicker.nextYear"),class:W([o(s).e("icon-btn"),"d-arrow-right"]),onClick:Ke=>Z(!0)},[Oe(Ue.$slots,"next-year",{},()=>[pe(o(wt),null,{default:Se(()=>[pe(o(ja))]),_:1})])],10,["aria-label","onClick"])],2)],2),[[mn,ne.value!=="time"]]),ue("div",{class:W(o(s).e("content")),onKeydown:en},[ne.value==="date"?(V(),Ve(gm,{key:0,ref_key:"currentViewRef",ref:C,"selection-mode":o(fe),date:M.value,"parsed-value":Ue.parsedValue,"disabled-date":o(v),"cell-class-name":o(w),onPick:xe},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):Re("v-if",!0),ne.value==="year"?(V(),Ve(ym,{key:1,ref_key:"currentViewRef",ref:C,"selection-mode":o(fe),date:M.value,"disabled-date":o(v),"parsed-value":Ue.parsedValue,onPick:Be},null,8,["selection-mode","date","disabled-date","parsed-value"])):Re("v-if",!0),ne.value==="month"?(V(),Ve(vm,{key:2,ref_key:"currentViewRef",ref:C,"selection-mode":o(fe),date:M.value,"parsed-value":Ue.parsedValue,"disabled-date":o(v),onPick:Fe},null,8,["selection-mode","date","parsed-value","disabled-date"])):Re("v-if",!0)],34)],2)],2),Bt(ue("div",{class:W(o(s).e("footer"))},[Bt(pe(o(Or),{text:"",size:"small",class:W(o(s).e("link-btn")),disabled:o(qe),onClick:ae},{default:Se(()=>[At(at(o(u)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[mn,!o(ge)&&Ue.showNow]]),pe(o(Or),{plain:"",size:"small",class:W(o(s).e("link-btn")),disabled:o(Pe),onClick:et},{default:Se(()=>[At(at(o(u)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[mn,o(Ne)]])],2))}});var cH=ot(uH,[["__file","panel-date-pick.vue"]]);const dH=st({...B_,...Tv,visible:Boolean}),K_=e=>{const{emit:t}=Gt(),n=oa(),r=Sr();return i=>{const a=_t(i.value)?i.value():i.value;if(a){t("pick",[Ft(a[0]).locale(e.value),Ft(a[1]).locale(e.value)]);return}i.onClick&&i.onClick({attrs:n,slots:r,emit:t})}},H_=(e,{defaultValue:t,leftDate:n,rightDate:r,unit:s,onParsedValueChanged:i})=>{const{emit:a}=Gt(),{pickerNs:l}=vt(hh),u=Xe("date-range-picker"),{t:d,lang:f}=cn(),p=K_(f),g=Q(),v=Q(),w=Q({endDate:null,selecting:!1}),b=k=>{w.value=k},_=(k=!1)=>{const A=o(g),D=o(v);$l([A,D])&&a("pick",[A,D],k)},C=k=>{w.value.selecting=k,k||(w.value.endDate=null)},M=k=>{if(nt(k)&&k.length===2){const[A,D]=k;g.value=A,n.value=A,v.value=D,i(o(g),o(v))}else E()},E=()=>{const[k,A]=Ev(o(t),{lang:o(f),unit:s,unlinkPanels:e.unlinkPanels});g.value=void 0,v.value=void 0,n.value=k,r.value=A};return je(t,k=>{k&&E()},{immediate:!0}),je(()=>e.parsedValue,M,{immediate:!0}),{minDate:g,maxDate:v,rangeState:w,lang:f,ppNs:l,drpNs:u,handleChangeRange:b,handleRangeConfirm:_,handleShortcutClick:p,onSelect:C,onReset:M,t:d}},md="month",fH=ve({__name:"panel-date-range",props:dH,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(e,{emit:t}){const n=e,r=vt("EP_PICKER_BASE"),{disabledDate:s,cellClassName:i,defaultTime:a,clearable:l}=r.props,u=Tn(r.props,"format"),d=Tn(r.props,"shortcuts"),f=Tn(r.props,"defaultValue"),{lang:p}=cn(),g=Q(Ft().locale(p.value)),v=Q(Ft().locale(p.value).add(1,md)),{minDate:w,maxDate:b,rangeState:_,ppNs:C,drpNs:M,handleChangeRange:E,handleRangeConfirm:k,handleShortcutClick:A,onSelect:D,onReset:H,t:U}=H_(n,{defaultValue:f,leftDate:g,rightDate:v,unit:md,onParsedValueChanged:Ue});je(()=>n.visible,Ae=>{!Ae&&_.value.selecting&&(H(n.parsedValue),D(!1))});const K=Q({min:null,max:null}),G=Q({min:null,max:null}),q=L(()=>`${g.value.year()} ${U("el.datepicker.year")} ${U(`el.datepicker.month${g.value.month()+1}`)}`),Y=L(()=>`${v.value.year()} ${U("el.datepicker.year")} ${U(`el.datepicker.month${v.value.month()+1}`)}`),de=L(()=>g.value.year()),xe=L(()=>g.value.month()),oe=L(()=>v.value.year()),Z=L(()=>v.value.month()),ne=L(()=>!!d.value.length),ee=L(()=>K.value.min!==null?K.value.min:w.value?w.value.format(ye.value):""),J=L(()=>K.value.max!==null?K.value.max:b.value||w.value?(b.value||w.value).format(ye.value):""),fe=L(()=>G.value.min!==null?G.value.min:w.value?w.value.format(ke.value):""),ge=L(()=>G.value.max!==null?G.value.max:b.value||w.value?(b.value||w.value).format(ke.value):""),ke=L(()=>n.timeFormat||o_(u.value)),ye=L(()=>n.dateFormat||a_(u.value)),Fe=Ae=>$l(Ae)&&(s?!s(Ae[0].toDate())&&!s(Ae[1].toDate()):!0),Be=()=>{g.value=g.value.subtract(1,"year"),n.unlinkPanels||(v.value=g.value.add(1,"month")),be("year")},He=()=>{g.value=g.value.subtract(1,"month"),n.unlinkPanels||(v.value=g.value.add(1,"month")),be("month")},he=()=>{n.unlinkPanels?v.value=v.value.add(1,"year"):(g.value=g.value.add(1,"year"),v.value=g.value.add(1,"month")),be("year")},Ne=()=>{n.unlinkPanels?v.value=v.value.add(1,"month"):(g.value=g.value.add(1,"month"),v.value=g.value.add(1,"month")),be("month")},Pe=()=>{g.value=g.value.add(1,"year"),be("year")},et=()=>{g.value=g.value.add(1,"month"),be("month")},qe=()=>{v.value=v.value.subtract(1,"year"),be("year")},ae=()=>{v.value=v.value.subtract(1,"month"),be("month")},be=Ae=>{t("panel-change",[g.value.toDate(),v.value.toDate()],Ae)},$e=L(()=>{const Ae=(xe.value+1)%12,Ke=xe.value+1>=12?1:0;return n.unlinkPanels&&new Date(de.value+Ke,Ae)<new Date(oe.value,Z.value)}),Ge=L(()=>n.unlinkPanels&&oe.value*12+Z.value-(de.value*12+xe.value+1)>=12),Qe=L(()=>!(w.value&&b.value&&!_.value.selecting&&$l([w.value,b.value]))),Le=L(()=>n.type==="datetime"||n.type==="datetimerange"),Ze=(Ae,Ke)=>{if(Ae)return a?Ft(a[Ke]||a).locale(p.value).year(Ae.year()).month(Ae.month()).date(Ae.date()):Ae},We=(Ae,Ke=!0)=>{const _e=Ae.minDate,lt=Ae.maxDate,Nt=Ze(_e,0),Jt=Ze(lt,1);b.value===Jt&&w.value===Nt||(t("calendar-change",[_e.toDate(),lt&&lt.toDate()]),b.value=Jt,w.value=Nt,!(!Ke||Le.value)&&k())},it=Q(!1),rt=Q(!1),St=()=>{it.value=!1},mt=()=>{rt.value=!1},Ye=(Ae,Ke)=>{K.value[Ke]=Ae;const _e=Ft(Ae,ye.value).locale(p.value);if(_e.isValid()){if(s&&s(_e.toDate()))return;Ke==="min"?(g.value=_e,w.value=(w.value||g.value).year(_e.year()).month(_e.month()).date(_e.date()),!n.unlinkPanels&&(!b.value||b.value.isBefore(w.value))&&(v.value=_e.add(1,"month"),b.value=w.value.add(1,"month"))):(v.value=_e,b.value=(b.value||v.value).year(_e.year()).month(_e.month()).date(_e.date()),!n.unlinkPanels&&(!w.value||w.value.isAfter(b.value))&&(g.value=_e.subtract(1,"month"),w.value=b.value.subtract(1,"month")))}},yt=(Ae,Ke)=>{K.value[Ke]=null},Mt=(Ae,Ke)=>{G.value[Ke]=Ae;const _e=Ft(Ae,ke.value).locale(p.value);_e.isValid()&&(Ke==="min"?(it.value=!0,w.value=(w.value||g.value).hour(_e.hour()).minute(_e.minute()).second(_e.second())):(rt.value=!0,b.value=(b.value||v.value).hour(_e.hour()).minute(_e.minute()).second(_e.second()),v.value=b.value))},qt=(Ae,Ke)=>{G.value[Ke]=null,Ke==="min"?(g.value=w.value,it.value=!1,(!b.value||b.value.isBefore(w.value))&&(b.value=w.value)):(v.value=b.value,rt.value=!1,b.value&&b.value.isBefore(w.value)&&(w.value=b.value))},Ht=(Ae,Ke,_e)=>{G.value.min||(Ae&&(g.value=Ae,w.value=(w.value||g.value).hour(Ae.hour()).minute(Ae.minute()).second(Ae.second())),_e||(it.value=Ke),(!b.value||b.value.isBefore(w.value))&&(b.value=w.value,v.value=Ae))},gn=(Ae,Ke,_e)=>{G.value.max||(Ae&&(v.value=Ae,b.value=(b.value||v.value).hour(Ae.hour()).minute(Ae.minute()).second(Ae.second())),_e||(rt.value=Ke),b.value&&b.value.isBefore(w.value)&&(w.value=b.value))},en=()=>{g.value=Ev(o(f),{lang:o(p),unit:"month",unlinkPanels:n.unlinkPanels})[0],v.value=g.value.add(1,"month"),b.value=void 0,w.value=void 0,t("pick",null)},jn=Ae=>nt(Ae)?Ae.map(Ke=>Ke.format(u.value)):Ae.format(u.value),Bn=Ae=>nt(Ae)?Ae.map(Ke=>Ft(Ke,u.value).locale(p.value)):Ft(Ae,u.value).locale(p.value);function Ue(Ae,Ke){if(n.unlinkPanels&&Ke){const _e=(Ae==null?void 0:Ae.year())||0,lt=(Ae==null?void 0:Ae.month())||0,Nt=Ke.year(),Jt=Ke.month();v.value=_e===Nt&&lt===Jt?Ke.add(1,md):Ke}else v.value=g.value.add(1,md),Ke&&(v.value=v.value.hour(Ke.hour()).minute(Ke.minute()).second(Ke.second()))}return t("set-picker-option",["isValidValue",Fe]),t("set-picker-option",["parseUserInput",Bn]),t("set-picker-option",["formatToString",jn]),t("set-picker-option",["handleClear",en]),(Ae,Ke)=>(V(),le("div",{class:W([o(C).b(),o(M).b(),{"has-sidebar":Ae.$slots.sidebar||o(ne),"has-time":o(Le)}])},[ue("div",{class:W(o(C).e("body-wrapper"))},[Oe(Ae.$slots,"sidebar",{class:W(o(C).e("sidebar"))}),o(ne)?(V(),le("div",{key:0,class:W(o(C).e("sidebar"))},[(V(!0),le(Ct,null,nn(o(d),(_e,lt)=>(V(),le("button",{key:lt,type:"button",class:W(o(C).e("shortcut")),onClick:Nt=>o(A)(_e)},at(_e.text),11,["onClick"]))),128))],2)):Re("v-if",!0),ue("div",{class:W(o(C).e("body"))},[o(Le)?(V(),le("div",{key:0,class:W(o(M).e("time-header"))},[ue("span",{class:W(o(M).e("editors-wrap"))},[ue("span",{class:W(o(M).e("time-picker-wrap"))},[pe(o(Zr),{size:"small",disabled:o(_).selecting,placeholder:o(U)("el.datepicker.startDate"),class:W(o(M).e("editor")),"model-value":o(ee),"validate-event":!1,onInput:_e=>Ye(_e,"min"),onChange:_e=>yt(_e,"min")},null,8,["disabled","placeholder","class","model-value","onInput","onChange"])],2),Bt((V(),le("span",{class:W(o(M).e("time-picker-wrap"))},[pe(o(Zr),{size:"small",class:W(o(M).e("editor")),disabled:o(_).selecting,placeholder:o(U)("el.datepicker.startTime"),"model-value":o(fe),"validate-event":!1,onFocus:_e=>it.value=!0,onInput:_e=>Mt(_e,"min"),onChange:_e=>qt(_e,"min")},null,8,["class","disabled","placeholder","model-value","onFocus","onInput","onChange"]),pe(o(yf),{visible:it.value,format:o(ke),"datetime-role":"start","parsed-value":g.value,onPick:Ht},null,8,["visible","format","parsed-value"])],2)),[[o(sa),St]])],2),ue("span",null,[pe(o(wt),null,{default:Se(()=>[pe(o(cs))]),_:1})]),ue("span",{class:W([o(M).e("editors-wrap"),"is-right"])},[ue("span",{class:W(o(M).e("time-picker-wrap"))},[pe(o(Zr),{size:"small",class:W(o(M).e("editor")),disabled:o(_).selecting,placeholder:o(U)("el.datepicker.endDate"),"model-value":o(J),readonly:!o(w),"validate-event":!1,onInput:_e=>Ye(_e,"max"),onChange:_e=>yt(_e,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onInput","onChange"])],2),Bt((V(),le("span",{class:W(o(M).e("time-picker-wrap"))},[pe(o(Zr),{size:"small",class:W(o(M).e("editor")),disabled:o(_).selecting,placeholder:o(U)("el.datepicker.endTime"),"model-value":o(ge),readonly:!o(w),"validate-event":!1,onFocus:_e=>o(w)&&(rt.value=!0),onInput:_e=>Mt(_e,"max"),onChange:_e=>qt(_e,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onFocus","onInput","onChange"]),pe(o(yf),{"datetime-role":"end",visible:rt.value,format:o(ke),"parsed-value":v.value,onPick:gn},null,8,["visible","format","parsed-value"])],2)),[[o(sa),mt]])],2)],2)):Re("v-if",!0),ue("div",{class:W([[o(C).e("content"),o(M).e("content")],"is-left"])},[ue("div",{class:W(o(M).e("header"))},[ue("button",{type:"button",class:W([o(C).e("icon-btn"),"d-arrow-left"]),"aria-label":o(U)("el.datepicker.prevYear"),onClick:Be},[Oe(Ae.$slots,"prev-year",{},()=>[pe(o(wt),null,{default:Se(()=>[pe(o(Ua))]),_:1})])],10,["aria-label"]),ue("button",{type:"button",class:W([o(C).e("icon-btn"),"arrow-left"]),"aria-label":o(U)("el.datepicker.prevMonth"),onClick:He},[Oe(Ae.$slots,"prev-month",{},()=>[pe(o(wt),null,{default:Se(()=>[pe(o(Wa))]),_:1})])],10,["aria-label"]),Ae.unlinkPanels?(V(),le("button",{key:0,type:"button",disabled:!o(Ge),class:W([[o(C).e("icon-btn"),{"is-disabled":!o(Ge)}],"d-arrow-right"]),"aria-label":o(U)("el.datepicker.nextYear"),onClick:Pe},[Oe(Ae.$slots,"next-year",{},()=>[pe(o(wt),null,{default:Se(()=>[pe(o(ja))]),_:1})])],10,["disabled","aria-label"])):Re("v-if",!0),Ae.unlinkPanels?(V(),le("button",{key:1,type:"button",disabled:!o($e),class:W([[o(C).e("icon-btn"),{"is-disabled":!o($e)}],"arrow-right"]),"aria-label":o(U)("el.datepicker.nextMonth"),onClick:et},[Oe(Ae.$slots,"next-month",{},()=>[pe(o(wt),null,{default:Se(()=>[pe(o(cs))]),_:1})])],10,["disabled","aria-label"])):Re("v-if",!0),ue("div",null,at(o(q)),1)],2),pe(gm,{"selection-mode":"range",date:g.value,"min-date":o(w),"max-date":o(b),"range-state":o(_),"disabled-date":o(s),"cell-class-name":o(i),onChangerange:o(E),onPick:We,onSelect:o(D)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),ue("div",{class:W([[o(C).e("content"),o(M).e("content")],"is-right"])},[ue("div",{class:W(o(M).e("header"))},[Ae.unlinkPanels?(V(),le("button",{key:0,type:"button",disabled:!o(Ge),class:W([[o(C).e("icon-btn"),{"is-disabled":!o(Ge)}],"d-arrow-left"]),"aria-label":o(U)("el.datepicker.prevYear"),onClick:qe},[Oe(Ae.$slots,"prev-year",{},()=>[pe(o(wt),null,{default:Se(()=>[pe(o(Ua))]),_:1})])],10,["disabled","aria-label"])):Re("v-if",!0),Ae.unlinkPanels?(V(),le("button",{key:1,type:"button",disabled:!o($e),class:W([[o(C).e("icon-btn"),{"is-disabled":!o($e)}],"arrow-left"]),"aria-label":o(U)("el.datepicker.prevMonth"),onClick:ae},[Oe(Ae.$slots,"prev-month",{},()=>[pe(o(wt),null,{default:Se(()=>[pe(o(Wa))]),_:1})])],10,["disabled","aria-label"])):Re("v-if",!0),ue("button",{type:"button","aria-label":o(U)("el.datepicker.nextYear"),class:W([o(C).e("icon-btn"),"d-arrow-right"]),onClick:he},[Oe(Ae.$slots,"next-year",{},()=>[pe(o(wt),null,{default:Se(()=>[pe(o(ja))]),_:1})])],10,["aria-label"]),ue("button",{type:"button",class:W([o(C).e("icon-btn"),"arrow-right"]),"aria-label":o(U)("el.datepicker.nextMonth"),onClick:Ne},[Oe(Ae.$slots,"next-month",{},()=>[pe(o(wt),null,{default:Se(()=>[pe(o(cs))]),_:1})])],10,["aria-label"]),ue("div",null,at(o(Y)),1)],2),pe(gm,{"selection-mode":"range",date:v.value,"min-date":o(w),"max-date":o(b),"range-state":o(_),"disabled-date":o(s),"cell-class-name":o(i),onChangerange:o(E),onPick:We,onSelect:o(D)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),o(Le)?(V(),le("div",{key:0,class:W(o(C).e("footer"))},[o(l)?(V(),Ve(o(Or),{key:0,text:"",size:"small",class:W(o(C).e("link-btn")),onClick:en},{default:Se(()=>[At(at(o(U)("el.datepicker.clear")),1)]),_:1},8,["class"])):Re("v-if",!0),pe(o(Or),{plain:"",size:"small",class:W(o(C).e("link-btn")),disabled:o(Qe),onClick:_e=>o(k)(!1)},{default:Se(()=>[At(at(o(U)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled","onClick"])],2)):Re("v-if",!0)],2))}});var hH=ot(fH,[["__file","panel-date-range.vue"]]);const pH=st({...Tv}),mH=["pick","set-picker-option","calendar-change"],gH=({unlinkPanels:e,leftDate:t,rightDate:n})=>{const{t:r}=cn(),s=()=>{t.value=t.value.subtract(1,"year"),e.value||(n.value=n.value.subtract(1,"year"))},i=()=>{e.value||(t.value=t.value.add(1,"year")),n.value=n.value.add(1,"year")},a=()=>{t.value=t.value.add(1,"year")},l=()=>{n.value=n.value.subtract(1,"year")},u=L(()=>`${t.value.year()} ${r("el.datepicker.year")}`),d=L(()=>`${n.value.year()} ${r("el.datepicker.year")}`),f=L(()=>t.value.year()),p=L(()=>n.value.year()===t.value.year()?t.value.year()+1:n.value.year());return{leftPrevYear:s,rightNextYear:i,leftNextYear:a,rightPrevYear:l,leftLabel:u,rightLabel:d,leftYear:f,rightYear:p}},gd="year",vH=ve({name:"DatePickerMonthRange"}),yH=ve({...vH,props:pH,emits:mH,setup(e,{emit:t}){const n=e,{lang:r}=cn(),s=vt("EP_PICKER_BASE"),{shortcuts:i,disabledDate:a}=s.props,l=Tn(s.props,"format"),u=Tn(s.props,"defaultValue"),d=Q(Ft().locale(r.value)),f=Q(Ft().locale(r.value).add(1,gd)),{minDate:p,maxDate:g,rangeState:v,ppNs:w,drpNs:b,handleChangeRange:_,handleRangeConfirm:C,handleShortcutClick:M,onSelect:E}=H_(n,{defaultValue:u,leftDate:d,rightDate:f,unit:gd,onParsedValueChanged:ee}),k=L(()=>!!i.length),{leftPrevYear:A,rightNextYear:D,leftNextYear:H,rightPrevYear:U,leftLabel:K,rightLabel:G,leftYear:q,rightYear:Y}=gH({unlinkPanels:Tn(n,"unlinkPanels"),leftDate:d,rightDate:f}),de=L(()=>n.unlinkPanels&&Y.value>q.value+1),xe=(J,fe=!0)=>{const ge=J.minDate,ke=J.maxDate;g.value===ke&&p.value===ge||(t("calendar-change",[ge.toDate(),ke&&ke.toDate()]),g.value=ke,p.value=ge,fe&&C())},oe=()=>{d.value=Ev(o(u),{lang:o(r),unit:"year",unlinkPanels:n.unlinkPanels})[0],f.value=d.value.add(1,"year"),t("pick",null)},Z=J=>nt(J)?J.map(fe=>fe.format(l.value)):J.format(l.value),ne=J=>nt(J)?J.map(fe=>Ft(fe,l.value).locale(r.value)):Ft(J,l.value).locale(r.value);function ee(J,fe){if(n.unlinkPanels&&fe){const ge=(J==null?void 0:J.year())||0,ke=fe.year();f.value=ge===ke?fe.add(1,gd):fe}else f.value=d.value.add(1,gd)}return t("set-picker-option",["isValidValue",$l]),t("set-picker-option",["formatToString",Z]),t("set-picker-option",["parseUserInput",ne]),t("set-picker-option",["handleClear",oe]),(J,fe)=>(V(),le("div",{class:W([o(w).b(),o(b).b(),{"has-sidebar":!!J.$slots.sidebar||o(k)}])},[ue("div",{class:W(o(w).e("body-wrapper"))},[Oe(J.$slots,"sidebar",{class:W(o(w).e("sidebar"))}),o(k)?(V(),le("div",{key:0,class:W(o(w).e("sidebar"))},[(V(!0),le(Ct,null,nn(o(i),(ge,ke)=>(V(),le("button",{key:ke,type:"button",class:W(o(w).e("shortcut")),onClick:ye=>o(M)(ge)},at(ge.text),11,["onClick"]))),128))],2)):Re("v-if",!0),ue("div",{class:W(o(w).e("body"))},[ue("div",{class:W([[o(w).e("content"),o(b).e("content")],"is-left"])},[ue("div",{class:W(o(b).e("header"))},[ue("button",{type:"button",class:W([o(w).e("icon-btn"),"d-arrow-left"]),onClick:o(A)},[Oe(J.$slots,"prev-year",{},()=>[pe(o(wt),null,{default:Se(()=>[pe(o(Ua))]),_:1})])],10,["onClick"]),J.unlinkPanels?(V(),le("button",{key:0,type:"button",disabled:!o(de),class:W([[o(w).e("icon-btn"),{[o(w).is("disabled")]:!o(de)}],"d-arrow-right"]),onClick:o(H)},[Oe(J.$slots,"next-year",{},()=>[pe(o(wt),null,{default:Se(()=>[pe(o(ja))]),_:1})])],10,["disabled","onClick"])):Re("v-if",!0),ue("div",null,at(o(K)),1)],2),pe(vm,{"selection-mode":"range",date:d.value,"min-date":o(p),"max-date":o(g),"range-state":o(v),"disabled-date":o(a),onChangerange:o(_),onPick:xe,onSelect:o(E)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),ue("div",{class:W([[o(w).e("content"),o(b).e("content")],"is-right"])},[ue("div",{class:W(o(b).e("header"))},[J.unlinkPanels?(V(),le("button",{key:0,type:"button",disabled:!o(de),class:W([[o(w).e("icon-btn"),{"is-disabled":!o(de)}],"d-arrow-left"]),onClick:o(U)},[Oe(J.$slots,"prev-year",{},()=>[pe(o(wt),null,{default:Se(()=>[pe(o(Ua))]),_:1})])],10,["disabled","onClick"])):Re("v-if",!0),ue("button",{type:"button",class:W([o(w).e("icon-btn"),"d-arrow-right"]),onClick:o(D)},[Oe(J.$slots,"next-year",{},()=>[pe(o(wt),null,{default:Se(()=>[pe(o(ja))]),_:1})])],10,["onClick"]),ue("div",null,at(o(G)),1)],2),pe(vm,{"selection-mode":"range",date:f.value,"min-date":o(p),"max-date":o(g),"range-state":o(v),"disabled-date":o(a),onChangerange:o(_),onPick:xe,onSelect:o(E)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var bH=ot(yH,[["__file","panel-month-range.vue"]]);const wH=st({...Tv}),xH=["pick","set-picker-option","calendar-change"],SH=({unlinkPanels:e,leftDate:t,rightDate:n})=>{const r=()=>{t.value=t.value.subtract(10,"year"),e.value||(n.value=n.value.subtract(10,"year"))},s=()=>{e.value||(t.value=t.value.add(10,"year")),n.value=n.value.add(10,"year")},i=()=>{t.value=t.value.add(10,"year")},a=()=>{n.value=n.value.subtract(10,"year")},l=L(()=>{const p=Math.floor(t.value.year()/10)*10;return`${p}-${p+9}`}),u=L(()=>{const p=Math.floor(n.value.year()/10)*10;return`${p}-${p+9}`}),d=L(()=>Math.floor(t.value.year()/10)*10+9),f=L(()=>Math.floor(n.value.year()/10)*10);return{leftPrevYear:r,rightNextYear:s,leftNextYear:i,rightPrevYear:a,leftLabel:l,rightLabel:u,leftYear:d,rightYear:f}},p1="year",CH=ve({name:"DatePickerYearRange"}),_H=ve({...CH,props:wH,emits:xH,setup(e,{emit:t}){const n=e,{lang:r}=cn(),s=Q(Ft().locale(r.value)),i=Q(s.value.add(10,"year")),{pickerNs:a}=vt(hh),l=Xe("date-range-picker"),u=L(()=>!!xe.length),d=L(()=>[a.b(),l.b(),{"has-sidebar":!!Sr().sidebar||u.value}]),f=L(()=>({content:[a.e("content"),l.e("content"),"is-left"],arrowLeftBtn:[a.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[a.e("icon-btn"),{[a.is("disabled")]:!A.value},"d-arrow-right"]})),p=L(()=>({content:[a.e("content"),l.e("content"),"is-right"],arrowLeftBtn:[a.e("icon-btn"),{"is-disabled":!A.value},"d-arrow-left"],arrowRightBtn:[a.e("icon-btn"),"d-arrow-right"]})),g=K_(r),{leftPrevYear:v,rightNextYear:w,leftNextYear:b,rightPrevYear:_,leftLabel:C,rightLabel:M,leftYear:E,rightYear:k}=SH({unlinkPanels:Tn(n,"unlinkPanels"),leftDate:s,rightDate:i}),A=L(()=>n.unlinkPanels&&k.value>E.value+1),D=Q(),H=Q(),U=Q({endDate:null,selecting:!1}),K=ye=>{U.value=ye},G=(ye,Fe=!0)=>{const Be=ye.minDate,He=ye.maxDate;H.value===He&&D.value===Be||(t("calendar-change",[Be.toDate(),He&&He.toDate()]),H.value=He,D.value=Be,Fe&&q())},q=(ye=!1)=>{$l([D.value,H.value])&&t("pick",[D.value,H.value],ye)},Y=ye=>{U.value.selecting=ye,ye||(U.value.endDate=null)},de=vt("EP_PICKER_BASE"),{shortcuts:xe,disabledDate:oe}=de.props,Z=Tn(de.props,"format"),ne=Tn(de.props,"defaultValue"),ee=()=>{let ye;if(nt(ne.value)){const Fe=Ft(ne.value[0]);let Be=Ft(ne.value[1]);return n.unlinkPanels||(Be=Fe.add(10,p1)),[Fe,Be]}else ne.value?ye=Ft(ne.value):ye=Ft();return ye=ye.locale(r.value),[ye,ye.add(10,p1)]};je(()=>ne.value,ye=>{if(ye){const Fe=ee();s.value=Fe[0],i.value=Fe[1]}},{immediate:!0}),je(()=>n.parsedValue,ye=>{if(ye&&ye.length===2)if(D.value=ye[0],H.value=ye[1],s.value=D.value,n.unlinkPanels&&H.value){const Fe=D.value.year(),Be=H.value.year();i.value=Fe===Be?H.value.add(10,"year"):H.value}else i.value=s.value.add(10,"year");else{const Fe=ee();D.value=void 0,H.value=void 0,s.value=Fe[0],i.value=Fe[1]}},{immediate:!0});const J=ye=>nt(ye)?ye.map(Fe=>Ft(Fe,Z.value).locale(r.value)):Ft(ye,Z.value).locale(r.value),fe=ye=>nt(ye)?ye.map(Fe=>Fe.format(Z.value)):ye.format(Z.value),ge=ye=>$l(ye)&&(oe?!oe(ye[0].toDate())&&!oe(ye[1].toDate()):!0),ke=()=>{const ye=ee();s.value=ye[0],i.value=ye[1],H.value=void 0,D.value=void 0,t("pick",null)};return t("set-picker-option",["isValidValue",ge]),t("set-picker-option",["parseUserInput",J]),t("set-picker-option",["formatToString",fe]),t("set-picker-option",["handleClear",ke]),(ye,Fe)=>(V(),le("div",{class:W(o(d))},[ue("div",{class:W(o(a).e("body-wrapper"))},[Oe(ye.$slots,"sidebar",{class:W(o(a).e("sidebar"))}),o(u)?(V(),le("div",{key:0,class:W(o(a).e("sidebar"))},[(V(!0),le(Ct,null,nn(o(xe),(Be,He)=>(V(),le("button",{key:He,type:"button",class:W(o(a).e("shortcut")),onClick:he=>o(g)(Be)},at(Be.text),11,["onClick"]))),128))],2)):Re("v-if",!0),ue("div",{class:W(o(a).e("body"))},[ue("div",{class:W(o(f).content)},[ue("div",{class:W(o(l).e("header"))},[ue("button",{type:"button",class:W(o(f).arrowLeftBtn),onClick:o(v)},[Oe(ye.$slots,"prev-year",{},()=>[pe(o(wt),null,{default:Se(()=>[pe(o(Ua))]),_:1})])],10,["onClick"]),ye.unlinkPanels?(V(),le("button",{key:0,type:"button",disabled:!o(A),class:W(o(f).arrowRightBtn),onClick:o(b)},[Oe(ye.$slots,"next-year",{},()=>[pe(o(wt),null,{default:Se(()=>[pe(o(ja))]),_:1})])],10,["disabled","onClick"])):Re("v-if",!0),ue("div",null,at(o(C)),1)],2),pe(ym,{"selection-mode":"range",date:s.value,"min-date":D.value,"max-date":H.value,"range-state":U.value,"disabled-date":o(oe),onChangerange:K,onPick:G,onSelect:Y},null,8,["date","min-date","max-date","range-state","disabled-date"])],2),ue("div",{class:W(o(p).content)},[ue("div",{class:W(o(l).e("header"))},[ye.unlinkPanels?(V(),le("button",{key:0,type:"button",disabled:!o(A),class:W(o(p).arrowLeftBtn),onClick:o(_)},[Oe(ye.$slots,"prev-year",{},()=>[pe(o(wt),null,{default:Se(()=>[pe(o(Ua))]),_:1})])],10,["disabled","onClick"])):Re("v-if",!0),ue("button",{type:"button",class:W(o(p).arrowRightBtn),onClick:o(w)},[Oe(ye.$slots,"next-year",{},()=>[pe(o(wt),null,{default:Se(()=>[pe(o(ja))]),_:1})])],10,["onClick"]),ue("div",null,at(o(M)),1)],2),pe(ym,{"selection-mode":"range",date:i.value,"min-date":D.value,"max-date":H.value,"range-state":U.value,"disabled-date":o(oe),onChangerange:K,onPick:G,onSelect:Y},null,8,["date","min-date","max-date","range-state","disabled-date"])],2)],2)],2)],2))}});var TH=ot(_H,[["__file","panel-year-range.vue"]]);const kH=function(e){switch(e){case"daterange":case"datetimerange":return hH;case"monthrange":return bH;case"yearrange":return TH;default:return cH}};Ft.extend(l_);Ft.extend(c5);Ft.extend(Sv);Ft.extend(p5);Ft.extend(y5);Ft.extend(S5);Ft.extend(k5);Ft.extend(A5);var EH=ve({name:"ElDatePicker",install:null,props:X5,emits:["update:modelValue"],setup(e,{expose:t,emit:n,slots:r}){const s=Xe("picker-panel");Qt("ElPopperOptions",wn(Tn(e,"popperOptions"))),Qt(hh,{slots:r,pickerNs:s});const i=Q();t({focus:()=>{var u;(u=i.value)==null||u.focus()},blur:()=>{var u;(u=i.value)==null||u.blur()},handleOpen:()=>{var u;(u=i.value)==null||u.handleOpen()},handleClose:()=>{var u;(u=i.value)==null||u.handleClose()}});const l=u=>{n("update:modelValue",u)};return()=>{var u;const d=(u=e.format)!=null?u:L5[e.type]||Qo,f=kH(e.type);return pe(N_,Xt(e,{format:d,type:e.type,ref:i,"onUpdate:modelValue":l}),{default:p=>pe(f,p,{"prev-month":r["prev-month"],"next-month":r["next-month"],"prev-year":r["prev-year"],"next-year":r["next-year"]}),"range-separator":r["range-separator"]})}}});const $H=zt(EH),Iv=Symbol("elDescriptions");var du=ve({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:vt(Iv,{})}},render(){var e;const t=T6(this.cell),n=(((e=this.cell)==null?void 0:e.dirs)||[]).map(C=>{const{dir:M,arg:E,modifiers:k,value:A}=C;return[M,A,E,k]}),{border:r,direction:s}=this.descriptions,i=s==="vertical",a=()=>{var C,M,E;return((E=(M=(C=this.cell)==null?void 0:C.children)==null?void 0:M.label)==null?void 0:E.call(M))||t.label},l=()=>{var C,M,E;return(E=(M=(C=this.cell)==null?void 0:C.children)==null?void 0:M.default)==null?void 0:E.call(M)},u=t.span,d=t.rowspan,f=t.align?`is-${t.align}`:"",p=t.labelAlign?`is-${t.labelAlign}`:f,g=t.className,v=t.labelClassName,w=this.type==="label"&&(t.labelWidth||this.descriptions.labelWidth)||t.width,b={width:nr(w),minWidth:nr(t.minWidth)},_=Xe("descriptions");switch(this.type){case"label":return Bt(It(this.tag,{style:b,class:[_.e("cell"),_.e("label"),_.is("bordered-label",r),_.is("vertical-label",i),p,v],colSpan:i?u:1,rowspan:i?1:d},a()),n);case"content":return Bt(It(this.tag,{style:b,class:[_.e("cell"),_.e("content"),_.is("bordered-content",r),_.is("vertical-content",i),f,g],colSpan:i?u:u*2-1,rowspan:i?d*2-1:d},l()),n);default:{const C=a(),M={},E=nr(t.labelWidth||this.descriptions.labelWidth);return E&&(M.width=E,M.display="inline-block"),Bt(It("td",{style:b,class:[_.e("cell"),f],colSpan:u,rowspan:d},[kr(C)?void 0:It("span",{style:M,class:[_.e("label"),v]},C),It("span",{class:[_.e("content"),g]},l())]),n)}}}});const IH=st({row:{type:Ie(Array),default:()=>[]}}),AH=ve({name:"ElDescriptionsRow"}),LH=ve({...AH,props:IH,setup(e){const t=vt(Iv,{});return(n,r)=>o(t).direction==="vertical"?(V(),le(Ct,{key:0},[ue("tr",null,[(V(!0),le(Ct,null,nn(n.row,(s,i)=>(V(),Ve(o(du),{key:`tr1-${i}`,cell:s,tag:"th",type:"label"},null,8,["cell"]))),128))]),ue("tr",null,[(V(!0),le(Ct,null,nn(n.row,(s,i)=>(V(),Ve(o(du),{key:`tr2-${i}`,cell:s,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(V(),le("tr",{key:1},[(V(!0),le(Ct,null,nn(n.row,(s,i)=>(V(),le(Ct,{key:`tr3-${i}`},[o(t).border?(V(),le(Ct,{key:0},[pe(o(du),{cell:s,tag:"td",type:"label"},null,8,["cell"]),pe(o(du),{cell:s,tag:"td",type:"content"},null,8,["cell"])],64)):(V(),Ve(o(du),{key:1,cell:s,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var OH=ot(LH,[["__file","descriptions-row.vue"]]);const MH=st({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:vr,title:{type:String,default:""},extra:{type:String,default:""},labelWidth:{type:[String,Number],default:""}}),RH=ve({name:"ElDescriptions"}),DH=ve({...RH,props:MH,setup(e){const t=e,n=Xe("descriptions"),r=pr(),s=Sr();Qt(Iv,t);const i=L(()=>[n.b(),n.m(r.value)]),a=(u,d,f,p=!1)=>(u.props||(u.props={}),d>f&&(u.props.span=f),p&&(u.props.span=d),u),l=()=>{if(!s.default)return[];const u=Pa(s.default()).filter(w=>{var b;return((b=w==null?void 0:w.type)==null?void 0:b.name)==="ElDescriptionsItem"}),d=[];let f=[],p=t.column,g=0;const v=[];return u.forEach((w,b)=>{var _,C,M;const E=((_=w.props)==null?void 0:_.span)||1,k=((C=w.props)==null?void 0:C.rowspan)||1,A=d.length;if(v[A]||(v[A]=0),k>1)for(let D=1;D<k;D++)v[M=A+D]||(v[M]=0),v[A+D]++,g++;if(v[A]>0&&(p-=v[A],v[A]=0),b<u.length-1&&(g+=E>p?p:E),b===u.length-1){const D=t.column-g%t.column;f.push(a(w,D,p,!0)),d.push(f);return}E<p?(p-=E,f.push(w)):(f.push(a(w,E,p)),d.push(f),p=t.column,f=[])}),d};return(u,d)=>(V(),le("div",{class:W(o(i))},[u.title||u.extra||u.$slots.title||u.$slots.extra?(V(),le("div",{key:0,class:W(o(n).e("header"))},[ue("div",{class:W(o(n).e("title"))},[Oe(u.$slots,"title",{},()=>[At(at(u.title),1)])],2),ue("div",{class:W(o(n).e("extra"))},[Oe(u.$slots,"extra",{},()=>[At(at(u.extra),1)])],2)],2)):Re("v-if",!0),ue("div",{class:W(o(n).e("body"))},[ue("table",{class:W([o(n).e("table"),o(n).is("bordered",u.border)])},[ue("tbody",null,[(V(!0),le(Ct,null,nn(l(),(f,p)=>(V(),Ve(OH,{key:p,row:f},null,8,["row"]))),128))])],2)],2)],2))}});var NH=ot(DH,[["__file","description.vue"]]);const PH=st({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},labelWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),W_=ve({name:"ElDescriptionsItem",props:PH}),FH=zt(NH,{DescriptionsItem:W_}),VH=Qn(W_),Av=e=>{if(!e)return{onClick:In,onMousedown:In,onMouseup:In};let t=!1,n=!1;return{onClick:a=>{t&&n&&e(a),t=n=!1},onMousedown:a=>{t=a.target===a.currentTarget},onMouseup:a=>{n=a.target===a.currentTarget}}},zH=st({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:Ie([String,Array,Object])},zIndex:{type:Ie([String,Number])}}),BH={click:e=>e instanceof MouseEvent},KH="overlay";var HH=ve({name:"ElOverlay",props:zH,emits:BH,setup(e,{slots:t,emit:n}){const r=Xe(KH),s=u=>{n("click",u)},{onClick:i,onMousedown:a,onMouseup:l}=Av(e.customMaskEvent?void 0:s);return()=>e.mask?pe("div",{class:[r.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:i,onMousedown:a,onMouseup:l},[Oe(t,"default")],Rs.STYLE|Rs.CLASS|Rs.PROPS,["onClick","onMouseup","onMousedown"]):It("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Oe(t,"default")])}});const Lv=HH,U_=Symbol("dialogInjectionKey"),j_=st({center:Boolean,alignCenter:Boolean,closeIcon:{type:Pn},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),WH={close:()=>!0},G_=(e,t,n,r)=>{let s={offsetX:0,offsetY:0};const i=d=>{const f=d.clientX,p=d.clientY,{offsetX:g,offsetY:v}=s,w=e.value.getBoundingClientRect(),b=w.left,_=w.top,C=w.width,M=w.height,E=document.documentElement.clientWidth,k=document.documentElement.clientHeight,A=-b+g,D=-_+v,H=E-b-C+g,U=k-_-M+v,K=q=>{let Y=g+q.clientX-f,de=v+q.clientY-p;r!=null&&r.value||(Y=Math.min(Math.max(Y,A),H),de=Math.min(Math.max(de,D),U)),s={offsetX:Y,offsetY:de},e.value&&(e.value.style.transform=`translate(${nr(Y)}, ${nr(de)})`)},G=()=>{document.removeEventListener("mousemove",K),document.removeEventListener("mouseup",G)};document.addEventListener("mousemove",K),document.addEventListener("mouseup",G)},a=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",i)},l=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",i)},u=()=>{s={offsetX:0,offsetY:0},e.value&&(e.value.style.transform="none")};return Ut(()=>{Vr(()=>{n.value?a():l()})}),Fn(()=>{l()}),{resetPosition:u}},ph=(...e)=>t=>{e.forEach(n=>{_t(n)?n(t):n.value=t})},UH=ve({name:"ElDialogContent"}),jH=ve({...UH,props:j_,emits:WH,setup(e,{expose:t}){const n=e,{t:r}=cn(),{Close:s}=tv,{dialogRef:i,headerRef:a,bodyId:l,ns:u,style:d}=vt(U_),{focusTrapRef:f}=vt(ov),p=L(()=>[u.b(),u.is("fullscreen",n.fullscreen),u.is("draggable",n.draggable),u.is("align-center",n.alignCenter),{[u.m("center")]:n.center}]),g=ph(f,i),v=L(()=>n.draggable),w=L(()=>n.overflow),{resetPosition:b}=G_(i,a,v,w);return t({resetPosition:b}),(_,C)=>(V(),le("div",{ref:o(g),class:W(o(p)),style:Tt(o(d)),tabindex:"-1"},[ue("header",{ref_key:"headerRef",ref:a,class:W([o(u).e("header"),_.headerClass,{"show-close":_.showClose}])},[Oe(_.$slots,"header",{},()=>[ue("span",{role:"heading","aria-level":_.ariaLevel,class:W(o(u).e("title"))},at(_.title),11,["aria-level"])]),_.showClose?(V(),le("button",{key:0,"aria-label":o(r)("el.dialog.close"),class:W(o(u).e("headerbtn")),type:"button",onClick:M=>_.$emit("close")},[pe(o(wt),{class:W(o(u).e("close"))},{default:Se(()=>[(V(),Ve(Yt(_.closeIcon||o(s))))]),_:1},8,["class"])],10,["aria-label","onClick"])):Re("v-if",!0)],2),ue("div",{id:o(l),class:W([o(u).e("body"),_.bodyClass])},[Oe(_.$slots,"default")],10,["id"]),_.$slots.footer?(V(),le("footer",{key:0,class:W([o(u).e("footer"),_.footerClass])},[Oe(_.$slots,"footer")],2)):Re("v-if",!0)],6))}});var GH=ot(jH,[["__file","dialog-content.vue"]]);const Y_=st({...j_,appendToBody:Boolean,appendTo:{type:Ie([String,Object]),default:"body"},beforeClose:{type:Ie(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),X_={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Kt]:e=>zn(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Ov=(e,t={})=>{kn(e)||xr("[useLockscreen]","You need to pass a ref param to this function");const n=t.ns||Xe("popup"),r=L(()=>n.bm("parent","hidden"));if(!un||ys(document.body,r.value))return;let s=0,i=!1,a="0";const l=()=>{setTimeout(()=>{typeof document>"u"||i&&document&&(document.body.style.width=a,Qr(document.body,r.value))},200)};je(e,u=>{if(!u){l();return}i=!ys(document.body,r.value),i&&(a=document.body.style.width,Ns(document.body,r.value)),s=mC(n.namespace.value);const d=document.documentElement.clientHeight<document.body.scrollHeight,f=Ji(document.body,"overflowY");s>0&&(d||f==="scroll")&&i&&(document.body.style.width=`calc(100% - ${s}px)`)}),hg(()=>l())},q_=(e,t)=>{var n;const s=Gt().emit,{nextZIndex:i}=Wl();let a="";const l=Pr(),u=Pr(),d=Q(!1),f=Q(!1),p=Q(!1),g=Q((n=e.zIndex)!=null?n:i());let v,w;const b=sh("namespace",$u),_=L(()=>{const oe={},Z=`--${b.value}-dialog`;return e.fullscreen||(e.top&&(oe[`${Z}-margin-top`]=e.top),e.width&&(oe[`${Z}-width`]=nr(e.width))),oe}),C=L(()=>e.alignCenter?{display:"flex"}:{});function M(){s("opened")}function E(){s("closed"),s(Kt,!1),e.destroyOnClose&&(p.value=!1)}function k(){s("close")}function A(){w==null||w(),v==null||v(),e.openDelay&&e.openDelay>0?{stop:v}=Lo(()=>K(),e.openDelay):K()}function D(){v==null||v(),w==null||w(),e.closeDelay&&e.closeDelay>0?{stop:w}=Lo(()=>G(),e.closeDelay):G()}function H(){function oe(Z){Z||(f.value=!0,d.value=!1)}e.beforeClose?e.beforeClose(oe):D()}function U(){e.closeOnClickModal&&H()}function K(){un&&(d.value=!0)}function G(){d.value=!1}function q(){s("openAutoFocus")}function Y(){s("closeAutoFocus")}function de(oe){var Z;((Z=oe.detail)==null?void 0:Z.focusReason)==="pointer"&&oe.preventDefault()}e.lockScroll&&Ov(d);function xe(){e.closeOnPressEscape&&H()}return je(()=>e.modelValue,oe=>{oe?(f.value=!1,A(),p.value=!0,g.value=J2(e.zIndex)?i():g.value++,Et(()=>{s("open"),t.value&&(t.value.parentElement.scrollTop=0,t.value.parentElement.scrollLeft=0,t.value.scrollTop=0)})):d.value&&D()}),je(()=>e.fullscreen,oe=>{t.value&&(oe?(a=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=a)}),Ut(()=>{e.modelValue&&(d.value=!0,p.value=!0,A())}),{afterEnter:M,afterLeave:E,beforeLeave:k,handleClose:H,onModalClick:U,close:D,doClose:G,onOpenAutoFocus:q,onCloseAutoFocus:Y,onCloseRequested:xe,onFocusoutPrevented:de,titleId:l,bodyId:u,closed:f,style:_,overlayDialogStyle:C,rendered:p,visible:d,zIndex:g}},YH=ve({name:"ElDialog",inheritAttrs:!1}),XH=ve({...YH,props:Y_,emits:X_,setup(e,{expose:t}){const n=e,r=Sr();Da({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},L(()=>!!r.title));const s=Xe("dialog"),i=Q(),a=Q(),l=Q(),{visible:u,titleId:d,bodyId:f,style:p,overlayDialogStyle:g,rendered:v,zIndex:w,afterEnter:b,afterLeave:_,beforeLeave:C,handleClose:M,onModalClick:E,onOpenAutoFocus:k,onCloseAutoFocus:A,onCloseRequested:D,onFocusoutPrevented:H}=q_(n,i);Qt(U_,{dialogRef:i,headerRef:a,bodyId:f,ns:s,rendered:v,style:p});const U=Av(E),K=L(()=>n.draggable&&!n.fullscreen);return t({visible:u,dialogContentRef:l,resetPosition:()=>{var q;(q=l.value)==null||q.resetPosition()}}),(q,Y)=>(V(),Ve(o(Gl),{to:q.appendTo,disabled:q.appendTo!=="body"?!1:!q.appendToBody},{default:Se(()=>[pe(Rr,{name:"dialog-fade",onAfterEnter:o(b),onAfterLeave:o(_),onBeforeLeave:o(C),persisted:""},{default:Se(()=>[Bt(pe(o(Lv),{"custom-mask-event":"",mask:q.modal,"overlay-class":q.modalClass,"z-index":o(w)},{default:Se(()=>[ue("div",{role:"dialog","aria-modal":"true","aria-label":q.title||void 0,"aria-labelledby":q.title?void 0:o(d),"aria-describedby":o(f),class:W(`${o(s).namespace.value}-overlay-dialog`),style:Tt(o(g)),onClick:o(U).onClick,onMousedown:o(U).onMousedown,onMouseup:o(U).onMouseup},[pe(o(jl),{loop:"",trapped:o(u),"focus-start-el":"container",onFocusAfterTrapped:o(k),onFocusAfterReleased:o(A),onFocusoutPrevented:o(H),onReleaseRequested:o(D)},{default:Se(()=>[o(v)?(V(),Ve(GH,Xt({key:0,ref_key:"dialogContentRef",ref:l},q.$attrs,{center:q.center,"align-center":q.alignCenter,"close-icon":q.closeIcon,draggable:o(K),overflow:q.overflow,fullscreen:q.fullscreen,"header-class":q.headerClass,"body-class":q.bodyClass,"footer-class":q.footerClass,"show-close":q.showClose,title:q.title,"aria-level":q.headerAriaLevel,onClose:o(M)}),zs({header:Se(()=>[q.$slots.title?Oe(q.$slots,"title",{key:1}):Oe(q.$slots,"header",{key:0,close:o(M),titleId:o(d),titleClass:o(s).e("title")})]),default:Se(()=>[Oe(q.$slots,"default")]),_:2},[q.$slots.footer?{name:"footer",fn:Se(()=>[Oe(q.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):Re("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[mn,o(u)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var qH=ot(XH,[["__file","dialog.vue"]]);const JH=zt(qH),ZH=st({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:Ie(String),default:"solid"}}),QH=ve({name:"ElDivider"}),e9=ve({...QH,props:ZH,setup(e){const t=e,n=Xe("divider"),r=L(()=>n.cssVar({"border-style":t.borderStyle}));return(s,i)=>(V(),le("div",{class:W([o(n).b(),o(n).m(s.direction)]),style:Tt(o(r)),role:"separator"},[s.$slots.default&&s.direction!=="vertical"?(V(),le("div",{key:0,class:W([o(n).e("text"),o(n).is(s.contentPosition)])},[Oe(s.$slots,"default")],2)):Re("v-if",!0)],6))}});var t9=ot(e9,[["__file","divider.vue"]]);const J_=zt(t9),n9=st({...Y_,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),r9=X_,s9=ve({name:"ElDrawer",inheritAttrs:!1}),i9=ve({...s9,props:n9,emits:r9,setup(e,{expose:t}){const n=e,r=Sr();Da({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},L(()=>!!r.title));const s=Q(),i=Q(),a=Xe("drawer"),{t:l}=cn(),{afterEnter:u,afterLeave:d,beforeLeave:f,visible:p,rendered:g,titleId:v,bodyId:w,zIndex:b,onModalClick:_,onOpenAutoFocus:C,onCloseAutoFocus:M,onFocusoutPrevented:E,onCloseRequested:k,handleClose:A}=q_(n,s),D=L(()=>n.direction==="rtl"||n.direction==="ltr"),H=L(()=>nr(n.size));return t({handleClose:A,afterEnter:u,afterLeave:d}),(U,K)=>(V(),Ve(o(Gl),{to:U.appendTo,disabled:U.appendTo!=="body"?!1:!U.appendToBody},{default:Se(()=>[pe(Rr,{name:o(a).b("fade"),onAfterEnter:o(u),onAfterLeave:o(d),onBeforeLeave:o(f),persisted:""},{default:Se(()=>[Bt(pe(o(Lv),{mask:U.modal,"overlay-class":U.modalClass,"z-index":o(b),onClick:o(_)},{default:Se(()=>[pe(o(jl),{loop:"",trapped:o(p),"focus-trap-el":s.value,"focus-start-el":i.value,onFocusAfterTrapped:o(C),onFocusAfterReleased:o(M),onFocusoutPrevented:o(E),onReleaseRequested:o(k)},{default:Se(()=>[ue("div",Xt({ref_key:"drawerRef",ref:s,"aria-modal":"true","aria-label":U.title||void 0,"aria-labelledby":U.title?void 0:o(v),"aria-describedby":o(w)},U.$attrs,{class:[o(a).b(),U.direction,o(p)&&"open"],style:o(D)?"width: "+o(H):"height: "+o(H),role:"dialog",onClick:Lt(()=>{},["stop"])}),[ue("span",{ref_key:"focusStartRef",ref:i,class:W(o(a).e("sr-focus")),tabindex:"-1"},null,2),U.withHeader?(V(),le("header",{key:0,class:W([o(a).e("header"),U.headerClass])},[U.$slots.title?Oe(U.$slots,"title",{key:1},()=>[Re(" DEPRECATED SLOT ")]):Oe(U.$slots,"header",{key:0,close:o(A),titleId:o(v),titleClass:o(a).e("title")},()=>[U.$slots.title?Re("v-if",!0):(V(),le("span",{key:0,id:o(v),role:"heading","aria-level":U.headerAriaLevel,class:W(o(a).e("title"))},at(U.title),11,["id","aria-level"]))]),U.showClose?(V(),le("button",{key:2,"aria-label":o(l)("el.drawer.close"),class:W(o(a).e("close-btn")),type:"button",onClick:o(A)},[pe(o(wt),{class:W(o(a).e("close"))},{default:Se(()=>[pe(o(ii))]),_:1},8,["class"])],10,["aria-label","onClick"])):Re("v-if",!0)],2)):Re("v-if",!0),o(g)?(V(),le("div",{key:1,id:o(w),class:W([o(a).e("body"),U.bodyClass])},[Oe(U.$slots,"default")],10,["id"])):Re("v-if",!0),U.$slots.footer?(V(),le("div",{key:2,class:W([o(a).e("footer"),U.footerClass])},[Oe(U.$slots,"footer")],2)):Re("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[mn,o(p)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var a9=ot(i9,[["__file","drawer.vue"]]);const o9=zt(a9),l9=ve({inheritAttrs:!1});function u9(e,t,n,r,s,i){return Oe(e.$slots,"default")}var c9=ot(l9,[["render",u9],["__file","collection.vue"]]);const d9=ve({name:"ElCollectionItem",inheritAttrs:!1});function f9(e,t,n,r,s,i){return Oe(e.$slots,"default")}var h9=ot(d9,[["render",f9],["__file","collection-item.vue"]]);const Z_="data-el-collection-item",Q_=e=>{const t=`El${e}Collection`,n=`${t}Item`,r=Symbol(t),s=Symbol(n),i={...c9,name:t,setup(){const l=Q(null),u=new Map;Qt(r,{itemMap:u,getItems:()=>{const f=o(l);if(!f)return[];const p=Array.from(f.querySelectorAll(`[${Z_}]`));return[...u.values()].sort((v,w)=>p.indexOf(v.ref)-p.indexOf(w.ref))},collectionRef:l})}},a={...h9,name:n,setup(l,{attrs:u}){const d=Q(null),f=vt(r,void 0);Qt(s,{collectionItemRef:d}),Ut(()=>{const p=o(d);p&&f.itemMap.set(p,{ref:p,...u})}),Fn(()=>{const p=o(d);f.itemMap.delete(p)})}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:s,ElCollection:i,ElCollectionItem:a}},p9=st({style:{type:Ie([String,Array,Object])},currentTabId:{type:Ie(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:Ie(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:m9,ElCollectionItem:g9,COLLECTION_INJECTION_KEY:Mv,COLLECTION_ITEM_INJECTION_KEY:v9}=Q_("RovingFocusGroup"),Rv=Symbol("elRovingFocusGroup"),eT=Symbol("elRovingFocusGroupItem"),y9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},b9=(e,t)=>e,w9=(e,t,n)=>{const r=b9(e.code);return y9[r]},x9=(e,t)=>e.map((n,r)=>e[(r+t)%e.length]),Dv=e=>{const{activeElement:t}=document;for(const n of e)if(n===t||(n.focus(),t!==document.activeElement))return},m1="currentTabIdChange",g1="rovingFocusGroup.entryFocus",S9={bubbles:!1,cancelable:!0},C9=ve({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:p9,emits:[m1,"entryFocus"],setup(e,{emit:t}){var n;const r=Q((n=e.currentTabId||e.defaultCurrentTabId)!=null?n:null),s=Q(!1),i=Q(!1),a=Q(null),{getItems:l}=vt(Mv,void 0),u=L(()=>[{outline:"none"},e.style]),d=b=>{t(m1,b)},f=()=>{s.value=!0},p=ar(b=>{var _;(_=e.onMousedown)==null||_.call(e,b)},()=>{i.value=!0}),g=ar(b=>{var _;(_=e.onFocus)==null||_.call(e,b)},b=>{const _=!o(i),{target:C,currentTarget:M}=b;if(C===M&&_&&!o(s)){const E=new Event(g1,S9);if(M==null||M.dispatchEvent(E),!E.defaultPrevented){const k=l().filter(K=>K.focusable),A=k.find(K=>K.active),D=k.find(K=>K.id===o(r)),U=[A,D,...k].filter(Boolean).map(K=>K.ref);Dv(U)}}i.value=!1}),v=ar(b=>{var _;(_=e.onBlur)==null||_.call(e,b)},()=>{s.value=!1}),w=(...b)=>{t("entryFocus",...b)};Qt(Rv,{currentTabbedId:Fl(r),loop:Tn(e,"loop"),tabIndex:L(()=>o(s)?-1:0),rovingFocusGroupRef:a,rovingFocusGroupRootStyle:u,orientation:Tn(e,"orientation"),dir:Tn(e,"dir"),onItemFocus:d,onItemShiftTab:f,onBlur:v,onFocus:g,onMousedown:p}),je(()=>e.currentTabId,b=>{r.value=b??null}),Mn(a,g1,w)}});function _9(e,t,n,r,s,i){return Oe(e.$slots,"default")}var T9=ot(C9,[["render",_9],["__file","roving-focus-group-impl.vue"]]);const k9=ve({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:m9,ElRovingFocusGroupImpl:T9}});function E9(e,t,n,r,s,i){const a=Dt("el-roving-focus-group-impl"),l=Dt("el-focus-group-collection");return V(),Ve(l,null,{default:Se(()=>[pe(a,Js(za(e.$attrs)),{default:Se(()=>[Oe(e.$slots,"default")]),_:3},16)]),_:3})}var $9=ot(k9,[["render",E9],["__file","roving-focus-group.vue"]]);const Bd=st({trigger:ec.trigger,triggerKeys:{type:Ie(Array),default:()=>[gt.enter,gt.numpadEnter,gt.space,gt.down]},effect:{...Ir.effect,default:"light"},type:{type:Ie(String)},placement:{type:Ie(String),default:"bottom"},popperOptions:{type:Ie(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:Ie([Number,String]),default:0},maxHeight:{type:Ie([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,default:"menu"},buttonProps:{type:Ie(Object)},teleported:Ir.teleported}),tT=st({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Pn}}),I9=st({onKeydown:{type:Ie(Function)}}),A9=[gt.down,gt.pageDown,gt.home],nT=[gt.up,gt.pageUp,gt.end],L9=[...A9,...nT],{ElCollection:O9,ElCollectionItem:M9,COLLECTION_INJECTION_KEY:R9,COLLECTION_ITEM_INJECTION_KEY:D9}=Q_("Dropdown"),mh=Symbol("elDropdown"),{ButtonGroup:N9}=Or,P9=ve({name:"ElDropdown",components:{ElButton:Or,ElButtonGroup:N9,ElScrollbar:Mi,ElDropdownCollection:O9,ElTooltip:Hr,ElRovingFocusGroup:$9,ElOnlyChild:MC,ElIcon:wt,ArrowDown:ca},props:Bd,emits:["visible-change","click","command"],setup(e,{emit:t}){const n=Gt(),r=Xe("dropdown"),{t:s}=cn(),i=Q(),a=Q(),l=Q(null),u=Q(null),d=Q(null),f=Q(null),p=Q(!1),g=L(()=>({maxHeight:nr(e.maxHeight)})),v=L(()=>[r.m(k.value)]),w=L(()=>qr(e.trigger)),b=Pr().value,_=L(()=>e.id||b);je([i,w],([Z,ne],[ee])=>{var J,fe,ge;(J=ee==null?void 0:ee.$el)!=null&&J.removeEventListener&&ee.$el.removeEventListener("pointerenter",D),(fe=Z==null?void 0:Z.$el)!=null&&fe.removeEventListener&&Z.$el.removeEventListener("pointerenter",D),(ge=Z==null?void 0:Z.$el)!=null&&ge.addEventListener&&ne.includes("hover")&&Z.$el.addEventListener("pointerenter",D)},{immediate:!0}),Fn(()=>{var Z,ne;(ne=(Z=i.value)==null?void 0:Z.$el)!=null&&ne.removeEventListener&&i.value.$el.removeEventListener("pointerenter",D)});function C(){M()}function M(){var Z;(Z=l.value)==null||Z.onClose()}function E(){var Z;(Z=l.value)==null||Z.onOpen()}const k=pr();function A(...Z){t("command",...Z)}function D(){var Z,ne;(ne=(Z=i.value)==null?void 0:Z.$el)==null||ne.focus()}function H(){}function U(){const Z=o(u);w.value.includes("hover")&&(Z==null||Z.focus()),f.value=null}function K(Z){f.value=Z}function G(Z){p.value||(Z.preventDefault(),Z.stopImmediatePropagation())}function q(){t("visible-change",!0)}function Y(Z){(Z==null?void 0:Z.type)==="keydown"&&u.value.focus()}function de(){t("visible-change",!1)}return Qt(mh,{contentRef:u,role:L(()=>e.role),triggerId:_,isUsingKeyboard:p,onItemEnter:H,onItemLeave:U}),Qt("elDropdown",{instance:n,dropdownSize:k,handleClick:C,commandHandler:A,trigger:Tn(e,"trigger"),hideOnClick:Tn(e,"hideOnClick")}),{t:s,ns:r,scrollbar:d,wrapStyle:g,dropdownTriggerKls:v,dropdownSize:k,triggerId:_,currentTabId:f,handleCurrentTabIdChange:K,handlerMainButtonClick:Z=>{t("click",Z)},handleEntryFocus:G,handleClose:M,handleOpen:E,handleBeforeShowTooltip:q,handleShowTooltip:Y,handleBeforeHideTooltip:de,onFocusAfterTrapped:Z=>{var ne,ee;Z.preventDefault(),(ee=(ne=u.value)==null?void 0:ne.focus)==null||ee.call(ne,{preventScroll:!0})},popperRef:l,contentRef:u,triggeringElementRef:i,referenceElementRef:a}}});function F9(e,t,n,r,s,i){var a;const l=Dt("el-dropdown-collection"),u=Dt("el-roving-focus-group"),d=Dt("el-scrollbar"),f=Dt("el-only-child"),p=Dt("el-tooltip"),g=Dt("el-button"),v=Dt("arrow-down"),w=Dt("el-icon"),b=Dt("el-button-group");return V(),le("div",{class:W([e.ns.b(),e.ns.is("disabled",e.disabled)])},[pe(p,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(a=e.referenceElementRef)==null?void 0:a.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},zs({content:Se(()=>[pe(d,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:Se(()=>[pe(u,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:Se(()=>[pe(l,null,{default:Se(()=>[Oe(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:Se(()=>[pe(f,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:Se(()=>[Oe(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(V(),Ve(b,{key:0},{default:Se(()=>[pe(g,Xt({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:Se(()=>[Oe(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),pe(g,Xt({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:Se(()=>[pe(w,{class:W(e.ns.e("icon"))},{default:Se(()=>[pe(v)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):Re("v-if",!0)],2)}var V9=ot(P9,[["render",F9],["__file","dropdown.vue"]]);const z9=ve({components:{ElRovingFocusCollectionItem:g9},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:n,loop:r,onItemFocus:s,onItemShiftTab:i}=vt(Rv,void 0),{getItems:a}=vt(Mv,void 0),l=Pr(),u=Q(null),d=ar(v=>{t("mousedown",v)},v=>{e.focusable?s(o(l)):v.preventDefault()}),f=ar(v=>{t("focus",v)},()=>{s(o(l))}),p=ar(v=>{t("keydown",v)},v=>{const{code:w,shiftKey:b,target:_,currentTarget:C}=v;if(w===gt.tab&&b){i();return}if(_!==C)return;const M=w9(v);if(M){v.preventDefault();let k=a().filter(A=>A.focusable).map(A=>A.ref);switch(M){case"last":{k.reverse();break}case"prev":case"next":{M==="prev"&&k.reverse();const A=k.indexOf(C);k=r.value?x9(k,A+1):k.slice(A+1);break}}Et(()=>{Dv(k)})}}),g=L(()=>n.value===o(l));return Qt(eT,{rovingFocusGroupItemRef:u,tabIndex:L(()=>o(g)?0:-1),handleMousedown:d,handleFocus:f,handleKeydown:p}),{id:l,handleKeydown:p,handleFocus:f,handleMousedown:d}}});function B9(e,t,n,r,s,i){const a=Dt("el-roving-focus-collection-item");return V(),Ve(a,{id:e.id,focusable:e.focusable,active:e.active},{default:Se(()=>[Oe(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var K9=ot(z9,[["render",B9],["__file","roving-focus-item.vue"]]);const H9=ve({name:"DropdownItemImpl",components:{ElIcon:wt},props:tT,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const n=Xe("dropdown"),{role:r}=vt(mh,void 0),{collectionItemRef:s}=vt(D9,void 0),{collectionItemRef:i}=vt(v9,void 0),{rovingFocusGroupItemRef:a,tabIndex:l,handleFocus:u,handleKeydown:d,handleMousedown:f}=vt(eT,void 0),p=ph(s,i,a),g=L(()=>r.value==="menu"?"menuitem":r.value==="navigation"?"link":"button"),v=ar(w=>{if([gt.enter,gt.numpadEnter,gt.space].includes(w.code))return w.preventDefault(),w.stopImmediatePropagation(),t("clickimpl",w),!0},d);return{ns:n,itemRef:p,dataset:{[Z_]:""},role:g,tabIndex:l,handleFocus:u,handleKeydown:v,handleMousedown:f}}});function W9(e,t,n,r,s,i){const a=Dt("el-icon");return V(),le(Ct,null,[e.divided?(V(),le("li",{key:0,role:"separator",class:W(e.ns.bem("menu","item","divided"))},null,2)):Re("v-if",!0),ue("li",Xt({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:l=>e.$emit("clickimpl",l),onFocus:e.handleFocus,onKeydown:Lt(e.handleKeydown,["self"]),onMousedown:e.handleMousedown,onPointermove:l=>e.$emit("pointermove",l),onPointerleave:l=>e.$emit("pointerleave",l)}),[e.icon?(V(),Ve(a,{key:0},{default:Se(()=>[(V(),Ve(Yt(e.icon)))]),_:1})):Re("v-if",!0),Oe(e.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var U9=ot(H9,[["render",W9],["__file","dropdown-item-impl.vue"]]);const rT=()=>{const e=vt("elDropdown",{}),t=L(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:t}},j9=ve({name:"ElDropdownItem",components:{ElDropdownCollectionItem:M9,ElRovingFocusItem:K9,ElDropdownItemImpl:U9},inheritAttrs:!1,props:tT,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:n}){const{elDropdown:r}=rT(),s=Gt(),i=Q(null),a=L(()=>{var v,w;return(w=(v=o(i))==null?void 0:v.textContent)!=null?w:""}),{onItemEnter:l,onItemLeave:u}=vt(mh,void 0),d=ar(v=>(t("pointermove",v),v.defaultPrevented),Nw(v=>{if(e.disabled){u(v);return}const w=v.currentTarget;w===document.activeElement||w.contains(document.activeElement)||(l(v),v.defaultPrevented||w==null||w.focus())})),f=ar(v=>(t("pointerleave",v),v.defaultPrevented),Nw(u)),p=ar(v=>{if(!e.disabled)return t("click",v),v.type!=="keydown"&&v.defaultPrevented},v=>{var w,b,_;if(e.disabled){v.stopImmediatePropagation();return}(w=r==null?void 0:r.hideOnClick)!=null&&w.value&&((b=r.handleClick)==null||b.call(r)),(_=r.commandHandler)==null||_.call(r,e.command,s,v)}),g=L(()=>({...e,...n}));return{handleClick:p,handlePointerMove:d,handlePointerLeave:f,textContent:a,propsAndAttrs:g}}});function G9(e,t,n,r,s,i){var a;const l=Dt("el-dropdown-item-impl"),u=Dt("el-roving-focus-item"),d=Dt("el-dropdown-collection-item");return V(),Ve(d,{disabled:e.disabled,"text-value":(a=e.textValue)!=null?a:e.textContent},{default:Se(()=>[pe(u,{focusable:!e.disabled},{default:Se(()=>[pe(l,Xt(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:Se(()=>[Oe(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var sT=ot(j9,[["render",G9],["__file","dropdown-item.vue"]]);const Y9=ve({name:"ElDropdownMenu",props:I9,setup(e){const t=Xe("dropdown"),{_elDropdownSize:n}=rT(),r=n.value,{focusTrapRef:s,onKeydown:i}=vt(ov,void 0),{contentRef:a,role:l,triggerId:u}=vt(mh,void 0),{collectionRef:d,getItems:f}=vt(R9,void 0),{rovingFocusGroupRef:p,rovingFocusGroupRootStyle:g,tabIndex:v,onBlur:w,onFocus:b,onMousedown:_}=vt(Rv,void 0),{collectionRef:C}=vt(Mv,void 0),M=L(()=>[t.b("menu"),t.bm("menu",r==null?void 0:r.value)]),E=ph(a,d,s,p,C),k=ar(D=>{var H;(H=e.onKeydown)==null||H.call(e,D)},D=>{const{currentTarget:H,code:U,target:K}=D;if(H.contains(K),gt.tab===U&&D.stopImmediatePropagation(),D.preventDefault(),K!==o(a)||!L9.includes(U))return;const q=f().filter(Y=>!Y.disabled).map(Y=>Y.ref);nT.includes(U)&&q.reverse(),Dv(q)});return{size:r,rovingFocusGroupRootStyle:g,tabIndex:v,dropdownKls:M,role:l,triggerId:u,dropdownListWrapperRef:E,handleKeydown:D=>{k(D),i(D)},onBlur:w,onFocus:b,onMousedown:_}}});function X9(e,t,n,r,s,i){return V(),le("ul",{ref:e.dropdownListWrapperRef,class:W(e.dropdownKls),style:Tt(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:e.onBlur,onFocus:e.onFocus,onKeydown:Lt(e.handleKeydown,["self"]),onMousedown:Lt(e.onMousedown,["self"])},[Oe(e.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}var iT=ot(Y9,[["render",X9],["__file","dropdown-menu.vue"]]);const q9=zt(V9,{DropdownItem:sT,DropdownMenu:iT}),J9=Qn(sT),Z9=Qn(iT),Q9=ve({name:"ImgEmpty"}),eW=ve({...Q9,setup(e){const t=Xe("empty"),n=Pr();return(r,s)=>(V(),le("svg",{viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[ue("defs",null,[ue("linearGradient",{id:`linearGradient-1-${o(n)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[ue("stop",{"stop-color":`var(${o(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),ue("stop",{"stop-color":`var(${o(t).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),ue("linearGradient",{id:`linearGradient-2-${o(n)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[ue("stop",{"stop-color":`var(${o(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),ue("stop",{"stop-color":`var(${o(t).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),ue("rect",{id:`path-3-${o(n)}`,x:"0",y:"0",width:"17",height:"36"},null,8,["id"])]),ue("g",{id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[ue("g",{id:"B-type",transform:"translate(-1268.000000, -535.000000)"},[ue("g",{id:"Group-2",transform:"translate(1268.000000, 535.000000)"},[ue("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${o(t).cssVarBlockName("fill-color-3")})`},null,8,["fill"]),ue("polygon",{id:"Rectangle-Copy-14",fill:`var(${o(t).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,["fill"]),ue("g",{id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},[ue("polygon",{id:"Rectangle-Copy-10",fill:`var(${o(t).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,["fill"]),ue("polygon",{id:"Rectangle-Copy-11",fill:`var(${o(t).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,["fill"]),ue("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${o(n)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,["fill"]),ue("polygon",{id:"Rectangle-Copy-13",fill:`var(${o(t).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,["fill"])]),ue("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${o(n)})`,x:"13",y:"45",width:"40",height:"36"},null,8,["fill"]),ue("g",{id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},[ue("use",{id:"Mask",fill:`var(${o(t).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${o(n)}`},null,8,["fill","xlink:href"]),ue("polygon",{id:"Rectangle-Copy",fill:`var(${o(t).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${o(n)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,["fill","mask"])]),ue("polygon",{id:"Rectangle-Copy-18",fill:`var(${o(t).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,["fill"])])])])]))}});var tW=ot(eW,[["__file","img-empty.vue"]]);const nW=st({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),rW=ve({name:"ElEmpty"}),sW=ve({...rW,props:nW,setup(e){const t=e,{t:n}=cn(),r=Xe("empty"),s=L(()=>t.description||n("el.table.emptyText")),i=L(()=>({width:nr(t.imageSize)}));return(a,l)=>(V(),le("div",{class:W(o(r).b())},[ue("div",{class:W(o(r).e("image")),style:Tt(o(i))},[a.image?(V(),le("img",{key:0,src:a.image,ondragstart:"return false"},null,8,["src"])):Oe(a.$slots,"image",{key:1},()=>[pe(tW)])],6),ue("div",{class:W(o(r).e("description"))},[a.$slots.description?Oe(a.$slots,"description",{key:0}):(V(),le("p",{key:1},at(o(s)),1))],2),a.$slots.default?(V(),le("div",{key:0,class:W(o(r).e("bottom"))},[Oe(a.$slots,"default")],2)):Re("v-if",!0)],2))}});var iW=ot(sW,[["__file","empty.vue"]]);const aT=zt(iW),aW=st({size:{type:String,values:Oi},disabled:Boolean}),oW=st({...aW,model:Object,rules:{type:Ie(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),lW={validate:(e,t,n)=>(nt(e)||xt(e))&&zn(t)&&xt(n)};function uW(){const e=Q([]),t=L(()=>{if(!e.value.length)return"0";const i=Math.max(...e.value);return i?`${i}px`:""});function n(i){const a=e.value.indexOf(i);return a===-1&&t.value,a}function r(i,a){if(i&&a){const l=n(a);e.value.splice(l,1,i)}else i&&e.value.push(i)}function s(i){const a=n(i);a>-1&&e.value.splice(a,1)}return{autoLabelWidth:t,registerLabelWidth:r,deregisterLabelWidth:s}}const vd=(e,t)=>{const n=qr(t);return n.length>0?e.filter(r=>r.prop&&n.includes(r.prop)):e},cW="ElForm",dW=ve({name:cW}),fW=ve({...dW,props:oW,emits:lW,setup(e,{expose:t,emit:n}){const r=e,s=[],i=pr(),a=Xe("form"),l=L(()=>{const{labelPosition:E,inline:k}=r;return[a.b(),a.m(i.value||"default"),{[a.m(`label-${E}`)]:E,[a.m("inline")]:k}]}),u=E=>s.find(k=>k.prop===E),d=E=>{s.push(E)},f=E=>{E.prop&&s.splice(s.indexOf(E),1)},p=(E=[])=>{r.model&&vd(s,E).forEach(k=>k.resetField())},g=(E=[])=>{vd(s,E).forEach(k=>k.clearValidate())},v=L(()=>!!r.model),w=E=>{if(s.length===0)return[];const k=vd(s,E);return k.length?k:[]},b=async E=>C(void 0,E),_=async(E=[])=>{if(!v.value)return!1;const k=w(E);if(k.length===0)return!0;let A={};for(const D of k)try{await D.validate(""),D.validateState==="error"&&D.resetField()}catch(H){A={...A,...H}}return Object.keys(A).length===0?!0:Promise.reject(A)},C=async(E=[],k)=>{const A=!_t(k);try{const D=await _(E);return D===!0&&await(k==null?void 0:k(D)),D}catch(D){if(D instanceof Error)throw D;const H=D;return r.scrollToError&&M(Object.keys(H)[0]),await(k==null?void 0:k(!1,H)),A&&Promise.reject(H)}},M=E=>{var k;const A=vd(s,E)[0];A&&((k=A.$el)==null||k.scrollIntoView(r.scrollIntoViewOptions))};return je(()=>r.rules,()=>{r.validateOnRuleChange&&b().catch(E=>void 0)},{deep:!0,flush:"post"}),Qt(zo,wn({...Er(r),emit:n,resetFields:p,clearValidate:g,validateField:C,getField:u,addField:d,removeField:f,...uW()})),t({validate:b,validateField:C,resetFields:p,clearValidate:g,scrollToField:M,fields:s}),(E,k)=>(V(),le("form",{class:W(o(l))},[Oe(E.$slots,"default")],2))}});var hW=ot(fW,[["__file","form.vue"]]);function yo(){return yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yo.apply(this,arguments)}function pW(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,rc(e,t)}function bm(e){return bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bm(e)}function rc(e,t){return rc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},rc(e,t)}function mW(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Kd(e,t,n){return mW()?Kd=Reflect.construct.bind():Kd=function(s,i,a){var l=[null];l.push.apply(l,i);var u=Function.bind.apply(s,l),d=new u;return a&&rc(d,a.prototype),d},Kd.apply(null,arguments)}function gW(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function wm(e){var t=typeof Map=="function"?new Map:void 0;return wm=function(r){if(r===null||!gW(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,s)}function s(){return Kd(r,arguments,bm(this).constructor)}return s.prototype=Object.create(r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),rc(s,r)},wm(e)}var vW=/%[sdj%]/g,yW=function(){};function xm(e){if(!e||!e.length)return null;var t={};return e.forEach(function(n){var r=n.field;t[r]=t[r]||[],t[r].push(n)}),t}function Es(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var s=0,i=n.length;if(typeof e=="function")return e.apply(null,n);if(typeof e=="string"){var a=e.replace(vW,function(l){if(l==="%%")return"%";if(s>=i)return l;switch(l){case"%s":return String(n[s++]);case"%d":return Number(n[s++]);case"%j":try{return JSON.stringify(n[s++])}catch{return"[Circular]"}break;default:return l}});return a}return e}function bW(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function Dr(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||bW(t)&&typeof e=="string"&&!e)}function wW(e,t,n){var r=[],s=0,i=e.length;function a(l){r.push.apply(r,l||[]),s++,s===i&&n(r)}e.forEach(function(l){t(l,a)})}function v1(e,t,n){var r=0,s=e.length;function i(a){if(a&&a.length){n(a);return}var l=r;r=r+1,l<s?t(e[l],i):n([])}i([])}function xW(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,e[n]||[])}),t}var y1=function(e){pW(t,e);function t(n,r){var s;return s=e.call(this,"Async Validation Error")||this,s.errors=n,s.fields=r,s}return t}(wm(Error));function SW(e,t,n,r,s){if(t.first){var i=new Promise(function(g,v){var w=function(C){return r(C),C.length?v(new y1(C,xm(C))):g(s)},b=xW(e);v1(b,n,w)});return i.catch(function(g){return g}),i}var a=t.firstFields===!0?Object.keys(e):t.firstFields||[],l=Object.keys(e),u=l.length,d=0,f=[],p=new Promise(function(g,v){var w=function(_){if(f.push.apply(f,_),d++,d===u)return r(f),f.length?v(new y1(f,xm(f))):g(s)};l.length||(r(f),g(s)),l.forEach(function(b){var _=e[b];a.indexOf(b)!==-1?v1(_,n,w):wW(_,n,w)})});return p.catch(function(g){return g}),p}function CW(e){return!!(e&&e.message!==void 0)}function _W(e,t){for(var n=e,r=0;r<t.length;r++){if(n==null)return n;n=n[t[r]]}return n}function b1(e,t){return function(n){var r;return e.fullFields?r=_W(t,e.fullFields):r=t[n.field||e.fullField],CW(n)?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||e.fullField}}}function w1(e,t){if(t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];typeof r=="object"&&typeof e[n]=="object"?e[n]=yo({},e[n],r):e[n]=r}}return e}var oT=function(t,n,r,s,i,a){t.required&&(!r.hasOwnProperty(t.field)||Dr(n,a||t.type))&&s.push(Es(i.messages.required,t.fullField))},TW=function(t,n,r,s,i){(/^\s+$/.test(n)||n==="")&&s.push(Es(i.messages.whitespace,t.fullField))},yd,kW=function(){if(yd)return yd;var e="[a-fA-F\\d:]",t=function(k){return k&&k.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",s=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),i=new RegExp("(?:^"+n+"$)|(?:^"+s+"$)"),a=new RegExp("^"+n+"$"),l=new RegExp("^"+s+"$"),u=function(k){return k&&k.exact?i:new RegExp("(?:"+t(k)+n+t(k)+")|(?:"+t(k)+s+t(k)+")","g")};u.v4=function(E){return E&&E.exact?a:new RegExp(""+t(E)+n+t(E),"g")},u.v6=function(E){return E&&E.exact?l:new RegExp(""+t(E)+s+t(E),"g")};var d="(?:(?:[a-z]+:)?//)",f="(?:\\S+(?::\\S*)?@)?",p=u.v4().source,g=u.v6().source,v="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",w="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",b="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",_="(?::\\d{2,5})?",C='(?:[/?#][^\\s"]*)?',M="(?:"+d+"|www\\.)"+f+"(?:localhost|"+p+"|"+g+"|"+v+w+b+")"+_+C;return yd=new RegExp("(?:^"+M+"$)","i"),yd},x1={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},gu={integer:function(t){return gu.number(t)&&parseInt(t,10)===t},float:function(t){return gu.number(t)&&!gu.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!gu.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(x1.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(kW())},hex:function(t){return typeof t=="string"&&!!t.match(x1.hex)}},EW=function(t,n,r,s,i){if(t.required&&n===void 0){oT(t,n,r,s,i);return}var a=["integer","float","array","regexp","object","method","email","number","date","url","hex"],l=t.type;a.indexOf(l)>-1?gu[l](n)||s.push(Es(i.messages.types[l],t.fullField,t.type)):l&&typeof n!==t.type&&s.push(Es(i.messages.types[l],t.fullField,t.type))},$W=function(t,n,r,s,i){var a=typeof t.len=="number",l=typeof t.min=="number",u=typeof t.max=="number",d=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f=n,p=null,g=typeof n=="number",v=typeof n=="string",w=Array.isArray(n);if(g?p="number":v?p="string":w&&(p="array"),!p)return!1;w&&(f=n.length),v&&(f=n.replace(d,"_").length),a?f!==t.len&&s.push(Es(i.messages[p].len,t.fullField,t.len)):l&&!u&&f<t.min?s.push(Es(i.messages[p].min,t.fullField,t.min)):u&&!l&&f>t.max?s.push(Es(i.messages[p].max,t.fullField,t.max)):l&&u&&(f<t.min||f>t.max)&&s.push(Es(i.messages[p].range,t.fullField,t.min,t.max))},Go="enum",IW=function(t,n,r,s,i){t[Go]=Array.isArray(t[Go])?t[Go]:[],t[Go].indexOf(n)===-1&&s.push(Es(i.messages[Go],t.fullField,t[Go].join(", ")))},AW=function(t,n,r,s,i){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(n)||s.push(Es(i.messages.pattern.mismatch,t.fullField,n,t.pattern));else if(typeof t.pattern=="string"){var a=new RegExp(t.pattern);a.test(n)||s.push(Es(i.messages.pattern.mismatch,t.fullField,n,t.pattern))}}},Hn={required:oT,whitespace:TW,type:EW,range:$W,enum:IW,pattern:AW},LW=function(t,n,r,s,i){var a=[],l=t.required||!t.required&&s.hasOwnProperty(t.field);if(l){if(Dr(n,"string")&&!t.required)return r();Hn.required(t,n,s,a,i,"string"),Dr(n,"string")||(Hn.type(t,n,s,a,i),Hn.range(t,n,s,a,i),Hn.pattern(t,n,s,a,i),t.whitespace===!0&&Hn.whitespace(t,n,s,a,i))}r(a)},OW=function(t,n,r,s,i){var a=[],l=t.required||!t.required&&s.hasOwnProperty(t.field);if(l){if(Dr(n)&&!t.required)return r();Hn.required(t,n,s,a,i),n!==void 0&&Hn.type(t,n,s,a,i)}r(a)},MW=function(t,n,r,s,i){var a=[],l=t.required||!t.required&&s.hasOwnProperty(t.field);if(l){if(n===""&&(n=void 0),Dr(n)&&!t.required)return r();Hn.required(t,n,s,a,i),n!==void 0&&(Hn.type(t,n,s,a,i),Hn.range(t,n,s,a,i))}r(a)},RW=function(t,n,r,s,i){var a=[],l=t.required||!t.required&&s.hasOwnProperty(t.field);if(l){if(Dr(n)&&!t.required)return r();Hn.required(t,n,s,a,i),n!==void 0&&Hn.type(t,n,s,a,i)}r(a)},DW=function(t,n,r,s,i){var a=[],l=t.required||!t.required&&s.hasOwnProperty(t.field);if(l){if(Dr(n)&&!t.required)return r();Hn.required(t,n,s,a,i),Dr(n)||Hn.type(t,n,s,a,i)}r(a)},NW=function(t,n,r,s,i){var a=[],l=t.required||!t.required&&s.hasOwnProperty(t.field);if(l){if(Dr(n)&&!t.required)return r();Hn.required(t,n,s,a,i),n!==void 0&&(Hn.type(t,n,s,a,i),Hn.range(t,n,s,a,i))}r(a)},PW=function(t,n,r,s,i){var a=[],l=t.required||!t.required&&s.hasOwnProperty(t.field);if(l){if(Dr(n)&&!t.required)return r();Hn.required(t,n,s,a,i),n!==void 0&&(Hn.type(t,n,s,a,i),Hn.range(t,n,s,a,i))}r(a)},FW=function(t,n,r,s,i){var a=[],l=t.required||!t.required&&s.hasOwnProperty(t.field);if(l){if(n==null&&!t.required)return r();Hn.required(t,n,s,a,i,"array"),n!=null&&(Hn.type(t,n,s,a,i),Hn.range(t,n,s,a,i))}r(a)},VW=function(t,n,r,s,i){var a=[],l=t.required||!t.required&&s.hasOwnProperty(t.field);if(l){if(Dr(n)&&!t.required)return r();Hn.required(t,n,s,a,i),n!==void 0&&Hn.type(t,n,s,a,i)}r(a)},zW="enum",BW=function(t,n,r,s,i){var a=[],l=t.required||!t.required&&s.hasOwnProperty(t.field);if(l){if(Dr(n)&&!t.required)return r();Hn.required(t,n,s,a,i),n!==void 0&&Hn[zW](t,n,s,a,i)}r(a)},KW=function(t,n,r,s,i){var a=[],l=t.required||!t.required&&s.hasOwnProperty(t.field);if(l){if(Dr(n,"string")&&!t.required)return r();Hn.required(t,n,s,a,i),Dr(n,"string")||Hn.pattern(t,n,s,a,i)}r(a)},HW=function(t,n,r,s,i){var a=[],l=t.required||!t.required&&s.hasOwnProperty(t.field);if(l){if(Dr(n,"date")&&!t.required)return r();if(Hn.required(t,n,s,a,i),!Dr(n,"date")){var u;n instanceof Date?u=n:u=new Date(n),Hn.type(t,u,s,a,i),u&&Hn.range(t,u.getTime(),s,a,i)}}r(a)},WW=function(t,n,r,s,i){var a=[],l=Array.isArray(n)?"array":typeof n;Hn.required(t,n,s,a,i,l),r(a)},mp=function(t,n,r,s,i){var a=t.type,l=[],u=t.required||!t.required&&s.hasOwnProperty(t.field);if(u){if(Dr(n,a)&&!t.required)return r();Hn.required(t,n,s,l,i,a),Dr(n,a)||Hn.type(t,n,s,l,i)}r(l)},UW=function(t,n,r,s,i){var a=[],l=t.required||!t.required&&s.hasOwnProperty(t.field);if(l){if(Dr(n)&&!t.required)return r();Hn.required(t,n,s,a,i)}r(a)},Mu={string:LW,method:OW,number:MW,boolean:RW,regexp:DW,integer:NW,float:PW,array:FW,object:VW,enum:BW,pattern:KW,date:HW,url:mp,hex:mp,email:mp,required:WW,any:UW};function Sm(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var Cm=Sm(),Ac=function(){function e(n){this.rules=null,this._messages=Cm,this.define(n)}var t=e.prototype;return t.define=function(r){var s=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(i){var a=r[i];s.rules[i]=Array.isArray(a)?a:[a]})},t.messages=function(r){return r&&(this._messages=w1(Sm(),r)),this._messages},t.validate=function(r,s,i){var a=this;s===void 0&&(s={}),i===void 0&&(i=function(){});var l=r,u=s,d=i;if(typeof u=="function"&&(d=u,u={}),!this.rules||Object.keys(this.rules).length===0)return d&&d(null,l),Promise.resolve(l);function f(b){var _=[],C={};function M(k){if(Array.isArray(k)){var A;_=(A=_).concat.apply(A,k)}else _.push(k)}for(var E=0;E<b.length;E++)M(b[E]);_.length?(C=xm(_),d(_,C)):d(null,l)}if(u.messages){var p=this.messages();p===Cm&&(p=Sm()),w1(p,u.messages),u.messages=p}else u.messages=this.messages();var g={},v=u.keys||Object.keys(this.rules);v.forEach(function(b){var _=a.rules[b],C=l[b];_.forEach(function(M){var E=M;typeof E.transform=="function"&&(l===r&&(l=yo({},l)),C=l[b]=E.transform(C)),typeof E=="function"?E={validator:E}:E=yo({},E),E.validator=a.getValidationMethod(E),E.validator&&(E.field=b,E.fullField=E.fullField||b,E.type=a.getType(E),g[b]=g[b]||[],g[b].push({rule:E,value:C,source:l,field:b}))})});var w={};return SW(g,u,function(b,_){var C=b.rule,M=(C.type==="object"||C.type==="array")&&(typeof C.fields=="object"||typeof C.defaultField=="object");M=M&&(C.required||!C.required&&b.value),C.field=b.field;function E(D,H){return yo({},H,{fullField:C.fullField+"."+D,fullFields:C.fullFields?[].concat(C.fullFields,[D]):[D]})}function k(D){D===void 0&&(D=[]);var H=Array.isArray(D)?D:[D];!u.suppressWarning&&H.length&&e.warning("async-validator:",H),H.length&&C.message!==void 0&&(H=[].concat(C.message));var U=H.map(b1(C,l));if(u.first&&U.length)return w[C.field]=1,_(U);if(!M)_(U);else{if(C.required&&!b.value)return C.message!==void 0?U=[].concat(C.message).map(b1(C,l)):u.error&&(U=[u.error(C,Es(u.messages.required,C.field))]),_(U);var K={};C.defaultField&&Object.keys(b.value).map(function(Y){K[Y]=C.defaultField}),K=yo({},K,b.rule.fields);var G={};Object.keys(K).forEach(function(Y){var de=K[Y],xe=Array.isArray(de)?de:[de];G[Y]=xe.map(E.bind(null,Y))});var q=new e(G);q.messages(u.messages),b.rule.options&&(b.rule.options.messages=u.messages,b.rule.options.error=u.error),q.validate(b.value,b.rule.options||u,function(Y){var de=[];U&&U.length&&de.push.apply(de,U),Y&&Y.length&&de.push.apply(de,Y),_(de.length?de:null)})}}var A;if(C.asyncValidator)A=C.asyncValidator(C,b.value,k,b.source,u);else if(C.validator){try{A=C.validator(C,b.value,k,b.source,u)}catch(D){console.error==null||console.error(D),u.suppressValidatorError||setTimeout(function(){throw D},0),k(D.message)}A===!0?k():A===!1?k(typeof C.message=="function"?C.message(C.fullField||C.field):C.message||(C.fullField||C.field)+" fails"):A instanceof Array?k(A):A instanceof Error&&k(A.message)}A&&A.then&&A.then(function(){return k()},function(D){return k(D)})},function(b){f(b)},l)},t.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!Mu.hasOwnProperty(r.type))throw new Error(Es("Unknown rule type %s",r.type));return r.type||"string"},t.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var s=Object.keys(r),i=s.indexOf("message");return i!==-1&&s.splice(i,1),s.length===1&&s[0]==="required"?Mu.required:Mu[this.getType(r)]||void 0},e}();Ac.register=function(t,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");Mu[t]=n};Ac.warning=yW;Ac.messages=Cm;Ac.validators=Mu;const jW=["","error","validating","success"],GW=st({label:String,labelWidth:{type:[String,Number],default:""},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:Ie([String,Array])},required:{type:Boolean,default:void 0},rules:{type:Ie([Object,Array])},error:String,validateStatus:{type:String,values:jW},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:Oi}}),S1="ElLabelWrap";var YW=ve({name:S1,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){const n=vt(zo,void 0),r=vt(Ii);r||xr(S1,"usage: <el-form-item><label-wrap /></el-form-item>");const s=Xe("form"),i=Q(),a=Q(0),l=()=>{var f;if((f=i.value)!=null&&f.firstElementChild){const p=window.getComputedStyle(i.value.firstElementChild).width;return Math.ceil(Number.parseFloat(p))}else return 0},u=(f="update")=>{Et(()=>{t.default&&e.isAutoWidth&&(f==="update"?a.value=l():f==="remove"&&(n==null||n.deregisterLabelWidth(a.value)))})},d=()=>u("update");return Ut(()=>{d()}),Fn(()=>{u("remove")}),ui(()=>d()),je(a,(f,p)=>{e.updateAll&&(n==null||n.registerLabelWidth(f,p))}),Jn(L(()=>{var f,p;return(p=(f=i.value)==null?void 0:f.firstElementChild)!=null?p:null}),d),()=>{var f,p;if(!t)return null;const{isAutoWidth:g}=e;if(g){const v=n==null?void 0:n.autoLabelWidth,w=r==null?void 0:r.hasLabel,b={};if(w&&v&&v!=="auto"){const _=Math.max(0,Number.parseInt(v,10)-a.value),M=(r.labelPosition||n.labelPosition)==="left"?"marginRight":"marginLeft";_&&(b[M]=`${_}px`)}return pe("div",{ref:i,class:[s.be("item","label-wrap")],style:b},[(f=t.default)==null?void 0:f.call(t)])}else return pe(Ct,{ref:i},[(p=t.default)==null?void 0:p.call(t)])}}});const XW=ve({name:"ElFormItem"}),qW=ve({...XW,props:GW,setup(e,{expose:t}){const n=e,r=Sr(),s=vt(zo,void 0),i=vt(Ii,void 0),a=pr(void 0,{formItem:!1}),l=Xe("form-item"),u=Pr().value,d=Q([]),f=Q(""),p=ZN(f,100),g=Q(""),v=Q();let w,b=!1;const _=L(()=>n.labelPosition||(s==null?void 0:s.labelPosition)),C=L(()=>{if(_.value==="top")return{};const Ne=nr(n.labelWidth||(s==null?void 0:s.labelWidth)||"");return Ne?{width:Ne}:{}}),M=L(()=>{if(_.value==="top"||s!=null&&s.inline)return{};if(!n.label&&!n.labelWidth&&G)return{};const Ne=nr(n.labelWidth||(s==null?void 0:s.labelWidth)||"");return!n.label&&!r.label?{marginLeft:Ne}:{}}),E=L(()=>[l.b(),l.m(a.value),l.is("error",f.value==="error"),l.is("validating",f.value==="validating"),l.is("success",f.value==="success"),l.is("required",oe.value||n.required),l.is("no-asterisk",s==null?void 0:s.hideRequiredAsterisk),(s==null?void 0:s.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[l.m("feedback")]:s==null?void 0:s.statusIcon,[l.m(`label-${_.value}`)]:_.value}]),k=L(()=>zn(n.inlineMessage)?n.inlineMessage:(s==null?void 0:s.inlineMessage)||!1),A=L(()=>[l.e("error"),{[l.em("error","inline")]:k.value}]),D=L(()=>n.prop?xt(n.prop)?n.prop:n.prop.join("."):""),H=L(()=>!!(n.label||r.label)),U=L(()=>n.for||(d.value.length===1?d.value[0]:void 0)),K=L(()=>!U.value&&H.value),G=!!i,q=L(()=>{const Ne=s==null?void 0:s.model;if(!(!Ne||!n.prop))return Ed(Ne,n.prop).value}),Y=L(()=>{const{required:Ne}=n,Pe=[];n.rules&&Pe.push(...qr(n.rules));const et=s==null?void 0:s.rules;if(et&&n.prop){const qe=Ed(et,n.prop).value;qe&&Pe.push(...qr(qe))}if(Ne!==void 0){const qe=Pe.map((ae,be)=>[ae,be]).filter(([ae])=>Object.keys(ae).includes("required"));if(qe.length>0)for(const[ae,be]of qe)ae.required!==Ne&&(Pe[be]={...ae,required:Ne});else Pe.push({required:Ne})}return Pe}),de=L(()=>Y.value.length>0),xe=Ne=>Y.value.filter(et=>!et.trigger||!Ne?!0:nt(et.trigger)?et.trigger.includes(Ne):et.trigger===Ne).map(({trigger:et,...qe})=>qe),oe=L(()=>Y.value.some(Ne=>Ne.required)),Z=L(()=>{var Ne;return p.value==="error"&&n.showMessage&&((Ne=s==null?void 0:s.showMessage)!=null?Ne:!0)}),ne=L(()=>`${n.label||""}${(s==null?void 0:s.labelSuffix)||""}`),ee=Ne=>{f.value=Ne},J=Ne=>{var Pe,et;const{errors:qe,fields:ae}=Ne;(!qe||!ae)&&console.error(Ne),ee("error"),g.value=qe?(et=(Pe=qe==null?void 0:qe[0])==null?void 0:Pe.message)!=null?et:`${n.prop} is required`:"",s==null||s.emit("validate",n.prop,!1,g.value)},fe=()=>{ee("success"),s==null||s.emit("validate",n.prop,!0,"")},ge=async Ne=>{const Pe=D.value;return new Ac({[Pe]:Ne}).validate({[Pe]:q.value},{firstFields:!0}).then(()=>(fe(),!0)).catch(qe=>(J(qe),Promise.reject(qe)))},ke=async(Ne,Pe)=>{if(b||!n.prop)return!1;const et=_t(Pe);if(!de.value)return Pe==null||Pe(!1),!1;const qe=xe(Ne);return qe.length===0?(Pe==null||Pe(!0),!0):(ee("validating"),ge(qe).then(()=>(Pe==null||Pe(!0),!0)).catch(ae=>{const{fields:be}=ae;return Pe==null||Pe(!1,be),et?!1:Promise.reject(be)}))},ye=()=>{ee(""),g.value="",b=!1},Fe=async()=>{const Ne=s==null?void 0:s.model;if(!Ne||!n.prop)return;const Pe=Ed(Ne,n.prop);b=!0,Pe.value=W0(w),await Et(),ye(),b=!1},Be=Ne=>{d.value.includes(Ne)||d.value.push(Ne)},He=Ne=>{d.value=d.value.filter(Pe=>Pe!==Ne)};je(()=>n.error,Ne=>{g.value=Ne||"",ee(Ne?"error":"")},{immediate:!0}),je(()=>n.validateStatus,Ne=>ee(Ne||""));const he=wn({...Er(n),$el:v,size:a,validateState:f,labelId:u,inputIds:d,isGroup:K,hasLabel:H,fieldValue:q,addInputId:Be,removeInputId:He,resetField:Fe,clearValidate:ye,validate:ke});return Qt(Ii,he),Ut(()=>{n.prop&&(s==null||s.addField(he),w=W0(q.value))}),Fn(()=>{s==null||s.removeField(he)}),t({size:a,validateMessage:g,validateState:f,validate:ke,clearValidate:ye,resetField:Fe}),(Ne,Pe)=>{var et;return V(),le("div",{ref_key:"formItemRef",ref:v,class:W(o(E)),role:o(K)?"group":void 0,"aria-labelledby":o(K)?o(u):void 0},[pe(o(YW),{"is-auto-width":o(C).width==="auto","update-all":((et=o(s))==null?void 0:et.labelWidth)==="auto"},{default:Se(()=>[o(H)?(V(),Ve(Yt(o(U)?"label":"div"),{key:0,id:o(u),for:o(U),class:W(o(l).e("label")),style:Tt(o(C))},{default:Se(()=>[Oe(Ne.$slots,"label",{label:o(ne)},()=>[At(at(o(ne)),1)])]),_:3},8,["id","for","class","style"])):Re("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),ue("div",{class:W(o(l).e("content")),style:Tt(o(M))},[Oe(Ne.$slots,"default"),pe(e2,{name:`${o(l).namespace.value}-zoom-in-top`},{default:Se(()=>[o(Z)?Oe(Ne.$slots,"error",{key:0,error:g.value},()=>[ue("div",{class:W(o(A))},at(g.value),3)]):Re("v-if",!0)]),_:3},8,["name"])],6)],10,["role","aria-labelledby"])}}});var lT=ot(qW,[["__file","form-item.vue"]]);const JW=zt(hW,{FormItem:lT}),ZW=Qn(lT),QW=st({urlList:{type:Ie(Array),default:()=>Zn([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:Ie(String)}}),eU={close:()=>!0,switch:e=>$t(e),rotate:e=>$t(e)},tU=ve({name:"ElImageViewer"}),nU=ve({...tU,props:QW,emits:eU,setup(e,{expose:t,emit:n}){var r;const s=e,i={CONTAIN:{name:"contain",icon:_i(f4)},ORIGINAL:{name:"original",icon:_i(O4)}},{t:a}=cn(),l=Xe("image-viewer"),{nextZIndex:u}=Wl(),d=Q(),f=Q([]),p=dg(),g=Q(!0),v=Q(s.initialIndex),w=Un(i.CONTAIN),b=Q({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),_=Q((r=s.zIndex)!=null?r:u()),C=L(()=>{const{urlList:ke}=s;return ke.length<=1}),M=L(()=>v.value===0),E=L(()=>v.value===s.urlList.length-1),k=L(()=>s.urlList[v.value]),A=L(()=>[l.e("btn"),l.e("prev"),l.is("disabled",!s.infinite&&M.value)]),D=L(()=>[l.e("btn"),l.e("next"),l.is("disabled",!s.infinite&&E.value)]),H=L(()=>{const{scale:ke,deg:ye,offsetX:Fe,offsetY:Be,enableTransition:He}=b.value;let he=Fe/ke,Ne=Be/ke;const Pe=ye*Math.PI/180,et=Math.cos(Pe),qe=Math.sin(Pe);he=he*et+Ne*qe,Ne=Ne*et-Fe/ke*qe;const ae={transform:`scale(${ke}) rotate(${ye}deg) translate(${he}px, ${Ne}px)`,transition:He?"transform .3s":""};return w.value.name===i.CONTAIN.name&&(ae.maxWidth=ae.maxHeight="100%"),ae});function U(){G(),n("close")}function K(){const ke=_o(Fe=>{switch(Fe.code){case gt.esc:s.closeOnPressEscape&&U();break;case gt.space:oe();break;case gt.left:ne();break;case gt.up:J("zoomIn");break;case gt.right:ee();break;case gt.down:J("zoomOut");break}}),ye=_o(Fe=>{const Be=Fe.deltaY||Fe.deltaX;J(Be<0?"zoomIn":"zoomOut",{zoomRate:s.zoomRate,enableTransition:!1})});p.run(()=>{Mn(document,"keydown",ke),Mn(document,"wheel",ye)})}function G(){p.stop()}function q(){g.value=!1}function Y(ke){g.value=!1,ke.target.alt=a("el.image.error")}function de(ke){if(g.value||ke.button!==0||!d.value)return;b.value.enableTransition=!1;const{offsetX:ye,offsetY:Fe}=b.value,Be=ke.pageX,He=ke.pageY,he=_o(Pe=>{b.value={...b.value,offsetX:ye+Pe.pageX-Be,offsetY:Fe+Pe.pageY-He}}),Ne=Mn(document,"mousemove",he);Mn(document,"mouseup",()=>{Ne()}),ke.preventDefault()}function xe(){b.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function oe(){if(g.value)return;const ke=xl(i),ye=Object.values(i),Fe=w.value.name,He=(ye.findIndex(he=>he.name===Fe)+1)%ke.length;w.value=i[ke[He]],xe()}function Z(ke){const ye=s.urlList.length;v.value=(ke+ye)%ye}function ne(){M.value&&!s.infinite||Z(v.value-1)}function ee(){E.value&&!s.infinite||Z(v.value+1)}function J(ke,ye={}){if(g.value)return;const{minScale:Fe,maxScale:Be}=s,{zoomRate:He,rotateDeg:he,enableTransition:Ne}={zoomRate:s.zoomRate,rotateDeg:90,enableTransition:!0,...ye};switch(ke){case"zoomOut":b.value.scale>Fe&&(b.value.scale=Number.parseFloat((b.value.scale/He).toFixed(3)));break;case"zoomIn":b.value.scale<Be&&(b.value.scale=Number.parseFloat((b.value.scale*He).toFixed(3)));break;case"clockwise":b.value.deg+=he,n("rotate",b.value.deg);break;case"anticlockwise":b.value.deg-=he,n("rotate",b.value.deg);break}b.value.enableTransition=Ne}function fe(ke){var ye;((ye=ke.detail)==null?void 0:ye.focusReason)==="pointer"&&ke.preventDefault()}function ge(){s.closeOnPressEscape&&U()}return je(k,()=>{Et(()=>{const ke=f.value[0];ke!=null&&ke.complete||(g.value=!0)})}),je(v,ke=>{xe(),n("switch",ke)}),Ut(()=>{K()}),t({setActiveItem:Z}),(ke,ye)=>(V(),Ve(o(Gl),{to:"body",disabled:!ke.teleported},{default:Se(()=>[pe(Rr,{name:"viewer-fade",appear:""},{default:Se(()=>[ue("div",{ref_key:"wrapper",ref:d,tabindex:-1,class:W(o(l).e("wrapper")),style:Tt({zIndex:_.value})},[pe(o(jl),{loop:"",trapped:"","focus-trap-el":d.value,"focus-start-el":"container",onFocusoutPrevented:fe,onReleaseRequested:ge},{default:Se(()=>[ue("div",{class:W(o(l).e("mask")),onClick:Lt(Fe=>ke.hideOnClickModal&&U(),["self"])},null,10,["onClick"]),Re(" CLOSE "),ue("span",{class:W([o(l).e("btn"),o(l).e("close")]),onClick:U},[pe(o(wt),null,{default:Se(()=>[pe(o(ii))]),_:1})],2),Re(" ARROW "),o(C)?Re("v-if",!0):(V(),le(Ct,{key:0},[ue("span",{class:W(o(A)),onClick:ne},[pe(o(wt),null,{default:Se(()=>[pe(o(Wa))]),_:1})],2),ue("span",{class:W(o(D)),onClick:ee},[pe(o(wt),null,{default:Se(()=>[pe(o(cs))]),_:1})],2)],64)),Re(" ACTIONS "),ue("div",{class:W([o(l).e("btn"),o(l).e("actions")])},[ue("div",{class:W(o(l).e("actions__inner"))},[pe(o(wt),{onClick:Fe=>J("zoomOut")},{default:Se(()=>[pe(o(Y4))]),_:1},8,["onClick"]),pe(o(wt),{onClick:Fe=>J("zoomIn")},{default:Se(()=>[pe(o(CC))]),_:1},8,["onClick"]),ue("i",{class:W(o(l).e("actions__divider"))},null,2),pe(o(wt),{onClick:oe},{default:Se(()=>[(V(),Ve(Yt(o(w).icon)))]),_:1}),ue("i",{class:W(o(l).e("actions__divider"))},null,2),pe(o(wt),{onClick:Fe=>J("anticlockwise")},{default:Se(()=>[pe(o($4))]),_:1},8,["onClick"]),pe(o(wt),{onClick:Fe=>J("clockwise")},{default:Se(()=>[pe(o(A4))]),_:1},8,["onClick"])],2)],2),Re(" CANVAS "),ue("div",{class:W(o(l).e("canvas"))},[(V(!0),le(Ct,null,nn(ke.urlList,(Fe,Be)=>Bt((V(),le("img",{ref_for:!0,ref:He=>f.value[Be]=He,key:Fe,src:Fe,style:Tt(o(H)),class:W(o(l).e("img")),crossorigin:ke.crossorigin,onLoad:q,onError:Y,onMousedown:de},null,46,["src","crossorigin"])),[[mn,Be===v.value]])),128))],2),Oe(ke.$slots,"default")]),_:3},8,["focus-trap-el"])],6)]),_:3})]),_:3},8,["disabled"]))}});var rU=ot(nU,[["__file","image-viewer.vue"]]);const uT=zt(rU),sU=st({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:Ie([String,Object])},previewSrcList:{type:Ie(Array),default:()=>Zn([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:Ie(String)}}),iU={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>$t(e),close:()=>!0,show:()=>!0},aU=ve({name:"ElImage",inheritAttrs:!1}),oU=ve({...aU,props:sU,emits:iU,setup(e,{emit:t}){const n=e;let r="";const{t:s}=cn(),i=Xe("image"),a=oa(),l=L(()=>Ju(Object.entries(a).filter(([ee])=>/^(data-|on[A-Z])/i.test(ee)||["id","style"].includes(ee)))),u=kc({excludeListeners:!0,excludeKeys:L(()=>Object.keys(l.value))}),d=Q(),f=Q(!1),p=Q(!0),g=Q(!1),v=Q(),w=Q(),b=un&&"loading"in HTMLImageElement.prototype;let _,C;const M=L(()=>[i.e("inner"),k.value&&i.e("preview"),p.value&&i.is("loading")]),E=L(()=>{const{fit:ee}=n;return un&&ee?{objectFit:ee}:{}}),k=L(()=>{const{previewSrcList:ee}=n;return nt(ee)&&ee.length>0}),A=L(()=>{const{previewSrcList:ee,initialIndex:J}=n;let fe=J;return J>ee.length-1&&(fe=0),fe}),D=L(()=>n.loading==="eager"?!1:!b&&n.loading==="lazy"||n.lazy),H=()=>{un&&(p.value=!0,f.value=!1,d.value=n.src)};function U(ee){p.value=!1,f.value=!1,t("load",ee)}function K(ee){p.value=!1,f.value=!0,t("error",ee)}function G(){pK(v.value,w.value)&&(H(),de())}const q=tC(G,200,!0);async function Y(){var ee;if(!un)return;await Et();const{scrollContainer:J}=n;us(J)?w.value=J:xt(J)&&J!==""?w.value=(ee=document.querySelector(J))!=null?ee:void 0:v.value&&(w.value=Xg(v.value)),w.value&&(_=Mn(w,"scroll",q),setTimeout(()=>G(),100))}function de(){!un||!w.value||!q||(_==null||_(),w.value=void 0)}function xe(ee){if(ee.ctrlKey){if(ee.deltaY<0)return ee.preventDefault(),!1;if(ee.deltaY>0)return ee.preventDefault(),!1}}function oe(){k.value&&(C=Mn("wheel",xe,{passive:!1}),r=document.body.style.overflow,document.body.style.overflow="hidden",g.value=!0,t("show"))}function Z(){C==null||C(),document.body.style.overflow=r,g.value=!1,t("close")}function ne(ee){t("switch",ee)}return je(()=>n.src,()=>{D.value?(p.value=!0,f.value=!1,de(),Y()):H()}),Ut(()=>{D.value?Y():H()}),(ee,J)=>(V(),le("div",Xt({ref_key:"container",ref:v},o(l),{class:[o(i).b(),ee.$attrs.class]}),[f.value?Oe(ee.$slots,"error",{key:0},()=>[ue("div",{class:W(o(i).e("error"))},at(o(s)("el.image.error")),3)]):(V(),le(Ct,{key:1},[d.value!==void 0?(V(),le("img",Xt({key:0},o(u),{src:d.value,loading:ee.loading,style:o(E),class:o(M),crossorigin:ee.crossorigin,onClick:oe,onLoad:U,onError:K}),null,16,["src","loading","crossorigin"])):Re("v-if",!0),p.value?(V(),le("div",{key:1,class:W(o(i).e("wrapper"))},[Oe(ee.$slots,"placeholder",{},()=>[ue("div",{class:W(o(i).e("placeholder"))},null,2)])],2)):Re("v-if",!0)],64)),o(k)?(V(),le(Ct,{key:2},[g.value?(V(),Ve(o(uT),{key:0,"z-index":ee.zIndex,"initial-index":o(A),infinite:ee.infinite,"zoom-rate":ee.zoomRate,"min-scale":ee.minScale,"max-scale":ee.maxScale,"url-list":ee.previewSrcList,crossorigin:ee.crossorigin,"hide-on-click-modal":ee.hideOnClickModal,teleported:ee.previewTeleported,"close-on-press-escape":ee.closeOnPressEscape,onClose:Z,onSwitch:ne},{default:Se(()=>[ee.$slots.viewer?(V(),le("div",{key:0},[Oe(ee.$slots,"viewer")])):Re("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):Re("v-if",!0)],64)):Re("v-if",!0)],16))}});var lU=ot(oU,[["__file","image.vue"]]);const uU=zt(lU),cU=st({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:vr,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||$t(e)||["min","max"].includes(e),default:null},name:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0},...Fr(["ariaLabel"])}),dU={[Nn]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[Br]:e=>$t(e)||kr(e),[Kt]:e=>$t(e)||kr(e)},fU=ve({name:"ElInputNumber"}),hU=ve({...fU,props:cU,emits:dU,setup(e,{expose:t,emit:n}){const r=e,{t:s}=cn(),i=Xe("input-number"),a=Q(),l=wn({currentValue:r.modelValue,userInput:null}),{formItem:u}=Wr(),d=L(()=>$t(r.modelValue)&&r.modelValue<=r.min),f=L(()=>$t(r.modelValue)&&r.modelValue>=r.max),p=L(()=>{const oe=C(r.step);return xn(r.precision)?Math.max(C(r.modelValue),oe):(oe>r.precision,r.precision)}),g=L(()=>r.controls&&r.controlsPosition==="right"),v=pr(),w=Ur(),b=L(()=>{if(l.userInput!==null)return l.userInput;let oe=l.currentValue;if(kr(oe))return"";if($t(oe)){if(Number.isNaN(oe))return"";xn(r.precision)||(oe=oe.toFixed(r.precision))}return oe}),_=(oe,Z)=>{if(xn(Z)&&(Z=p.value),Z===0)return Math.round(oe);let ne=String(oe);const ee=ne.indexOf(".");if(ee===-1||!ne.replace(".","").split("")[ee+Z])return oe;const ge=ne.length;return ne.charAt(ge-1)==="5"&&(ne=`${ne.slice(0,Math.max(0,ge-1))}6`),Number.parseFloat(Number(ne).toFixed(Z))},C=oe=>{if(kr(oe))return 0;const Z=oe.toString(),ne=Z.indexOf(".");let ee=0;return ne!==-1&&(ee=Z.length-ne-1),ee},M=(oe,Z=1)=>$t(oe)?_(oe+r.step*Z):l.currentValue,E=()=>{if(r.readonly||w.value||f.value)return;const oe=Number(b.value)||0,Z=M(oe);D(Z),n(Br,l.currentValue),de()},k=()=>{if(r.readonly||w.value||d.value)return;const oe=Number(b.value)||0,Z=M(oe,-1);D(Z),n(Br,l.currentValue),de()},A=(oe,Z)=>{const{max:ne,min:ee,step:J,precision:fe,stepStrictly:ge,valueOnClear:ke}=r;ne<ee&&xr("InputNumber","min should not be greater than max.");let ye=Number(oe);if(kr(oe)||Number.isNaN(ye))return null;if(oe===""){if(ke===null)return null;ye=xt(ke)?{min:ee,max:ne}[ke]:ke}return ge&&(ye=_(Math.round(ye/J)*J,fe),ye!==oe&&Z&&n(Kt,ye)),xn(fe)||(ye=_(ye,fe)),(ye>ne||ye<ee)&&(ye=ye>ne?ne:ee,Z&&n(Kt,ye)),ye},D=(oe,Z=!0)=>{var ne;const ee=l.currentValue,J=A(oe);if(!Z){n(Kt,J);return}ee===J&&oe||(l.userInput=null,n(Kt,J),ee!==J&&n(Nn,J,ee),r.validateEvent&&((ne=u==null?void 0:u.validate)==null||ne.call(u,"change").catch(fe=>void 0)),l.currentValue=J)},H=oe=>{l.userInput=oe;const Z=oe===""?null:Number(oe);n(Br,Z),D(Z,!1)},U=oe=>{const Z=oe!==""?Number(oe):"";($t(Z)&&!Number.isNaN(Z)||oe==="")&&D(Z),de(),l.userInput=null},K=()=>{var oe,Z;(Z=(oe=a.value)==null?void 0:oe.focus)==null||Z.call(oe)},G=()=>{var oe,Z;(Z=(oe=a.value)==null?void 0:oe.blur)==null||Z.call(oe)},q=oe=>{n("focus",oe)},Y=oe=>{var Z,ne;l.userInput=null,lh()&&l.currentValue===null&&((Z=a.value)!=null&&Z.input)&&(a.value.input.value=""),n("blur",oe),r.validateEvent&&((ne=u==null?void 0:u.validate)==null||ne.call(u,"blur").catch(ee=>void 0))},de=()=>{l.currentValue!==r.modelValue&&(l.currentValue=r.modelValue)},xe=oe=>{document.activeElement===oe.target&&oe.preventDefault()};return je(()=>r.modelValue,(oe,Z)=>{const ne=A(oe,!0);l.userInput===null&&ne!==Z&&(l.currentValue=ne)},{immediate:!0}),Ut(()=>{var oe;const{min:Z,max:ne,modelValue:ee}=r,J=(oe=a.value)==null?void 0:oe.input;if(J.setAttribute("role","spinbutton"),Number.isFinite(ne)?J.setAttribute("aria-valuemax",String(ne)):J.removeAttribute("aria-valuemax"),Number.isFinite(Z)?J.setAttribute("aria-valuemin",String(Z)):J.removeAttribute("aria-valuemin"),J.setAttribute("aria-valuenow",l.currentValue||l.currentValue===0?String(l.currentValue):""),J.setAttribute("aria-disabled",String(w.value)),!$t(ee)&&ee!=null){let fe=Number(ee);Number.isNaN(fe)&&(fe=null),n(Kt,fe)}J.addEventListener("wheel",xe,{passive:!1})}),ui(()=>{var oe,Z;const ne=(oe=a.value)==null?void 0:oe.input;ne==null||ne.setAttribute("aria-valuenow",`${(Z=l.currentValue)!=null?Z:""}`)}),t({focus:K,blur:G}),(oe,Z)=>(V(),le("div",{class:W([o(i).b(),o(i).m(o(v)),o(i).is("disabled",o(w)),o(i).is("without-controls",!oe.controls),o(i).is("controls-right",o(g))]),onDragstart:Lt(()=>{},["prevent"])},[oe.controls?Bt((V(),le("span",{key:0,role:"button","aria-label":o(s)("el.inputNumber.decrease"),class:W([o(i).e("decrease"),o(i).is("disabled",o(d))]),onKeydown:Vn(k,["enter"])},[Oe(oe.$slots,"decrease-icon",{},()=>[pe(o(wt),null,{default:Se(()=>[o(g)?(V(),Ve(o(ca),{key:0})):(V(),Ve(o(y4),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[o(vf),k]]):Re("v-if",!0),oe.controls?Bt((V(),le("span",{key:1,role:"button","aria-label":o(s)("el.inputNumber.increase"),class:W([o(i).e("increase"),o(i).is("disabled",o(f))]),onKeydown:Vn(E,["enter"])},[Oe(oe.$slots,"increase-icon",{},()=>[pe(o(wt),null,{default:Se(()=>[o(g)?(V(),Ve(o(Jg),{key:0})):(V(),Ve(o(xC),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[o(vf),E]]):Re("v-if",!0),pe(o(Zr),{id:oe.id,ref_key:"input",ref:a,type:"number",step:oe.step,"model-value":o(b),placeholder:oe.placeholder,readonly:oe.readonly,disabled:o(w),size:o(v),max:oe.max,min:oe.min,name:oe.name,"aria-label":oe.ariaLabel,"validate-event":!1,onKeydown:[Vn(Lt(E,["prevent"]),["up"]),Vn(Lt(k,["prevent"]),["down"])],onBlur:Y,onFocus:q,onInput:H,onChange:U},zs({_:2},[oe.$slots.prefix?{name:"prefix",fn:Se(()=>[Oe(oe.$slots,"prefix")])}:void 0,oe.$slots.suffix?{name:"suffix",fn:Se(()=>[Oe(oe.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var pU=ot(hU,[["__file","input-number.vue"]]);const cT=zt(pU),mU=st({modelValue:{type:Ie(Array)},max:Number,tagType:{...ra.type,default:"info"},tagEffect:ra.effect,trigger:{type:Ie(String),default:gt.enter},draggable:{type:Boolean,default:!1},size:vr,clearable:Boolean,disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},readonly:Boolean,autofocus:Boolean,id:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},placeholder:String,autocomplete:{type:String,default:"off"},ariaLabel:String}),gU={[Kt]:e=>nt(e)||xn(e),[Nn]:e=>nt(e)||xn(e),[Br]:e=>xt(e),"add-tag":e=>xt(e),"remove-tag":e=>xt(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0};function vU({props:e,emit:t,formItem:n}){const r=Ur(),s=pr(),i=Un(),a=Q(),l=L(()=>["small"].includes(s.value)?"small":"default"),u=L(()=>{var K;return(K=e.modelValue)!=null&&K.length?void 0:e.placeholder}),d=L(()=>!(e.readonly||r.value)),f=L(()=>{var K,G;return xn(e.max)?!1:((G=(K=e.modelValue)==null?void 0:K.length)!=null?G:0)>=e.max}),p=K=>{if(f.value){a.value=void 0;return}A.value||t(Br,K.target.value)},g=K=>{var G;if(!A.value)switch(K.code){case e.trigger:K.preventDefault(),K.stopPropagation(),v();break;case gt.numpadEnter:e.trigger===gt.enter&&(K.preventDefault(),K.stopPropagation(),v());break;case gt.backspace:!a.value&&((G=e.modelValue)!=null&&G.length)&&(K.preventDefault(),K.stopPropagation(),w(e.modelValue.length-1));break}},v=()=>{var K,G;const q=(K=a.value)==null?void 0:K.trim();if(!q||f.value)return;const Y=[...(G=e.modelValue)!=null?G:[],q];t(Kt,Y),t(Nn,Y),t("add-tag",q),a.value=void 0},w=K=>{var G;const q=((G=e.modelValue)!=null?G:[]).slice(),[Y]=q.splice(K,1);t(Kt,q),t(Nn,q),t("remove-tag",Y)},b=()=>{a.value=void 0,t(Kt,void 0),t(Nn,void 0),t("clear")},_=(K,G,q)=>{var Y;const de=((Y=e.modelValue)!=null?Y:[]).slice(),[xe]=de.splice(K,1),oe=G>K&&q==="before"?-1:G<K&&q==="after"?1:0;de.splice(G+oe,0,xe),t(Kt,de),t(Nn,de)},C=()=>{var K;(K=i.value)==null||K.focus()},M=()=>{var K;(K=i.value)==null||K.blur()},{wrapperRef:E,isFocused:k}=Qa(i,{beforeFocus(){return r.value},afterBlur(){var K;v(),e.validateEvent&&((K=n==null?void 0:n.validate)==null||K.call(n,"blur").catch(G=>void 0))}}),{isComposing:A,handleCompositionStart:D,handleCompositionUpdate:H,handleCompositionEnd:U}=Ec({afterComposition:p});return je(()=>e.modelValue,()=>{var K;e.validateEvent&&((K=n==null?void 0:n.validate)==null||K.call(n,Nn).catch(G=>void 0))}),{inputRef:i,wrapperRef:E,isFocused:k,isComposing:A,inputValue:a,size:s,tagSize:l,placeholder:u,closable:d,disabled:r,inputLimit:f,handleDragged:_,handleInput:p,handleKeydown:g,handleAddTag:v,handleRemoveTag:w,handleClear:b,handleCompositionStart:D,handleCompositionUpdate:H,handleCompositionEnd:U,focus:C,blur:M}}function yU(){const e=Q(!1);return{hovering:e,handleMouseEnter:()=>{e.value=!0},handleMouseLeave:()=>{e.value=!1}}}function Nv(){const e=Un(),t=Q(0),n=11,r=L(()=>({minWidth:`${Math.max(t.value,n)}px`}));return Jn(e,()=>{var i,a;t.value=(a=(i=e.value)==null?void 0:i.getBoundingClientRect().width)!=null?a:0}),{calculatorRef:e,calculatorWidth:t,inputStyle:r}}function bU({wrapperRef:e,handleDragged:t,afterDragged:n}){const r=Xe("input-tag"),s=Un(),i=Q(!1);let a,l,u,d;function f(w){return`.${r.e("inner")} .${r.namespace.value}-tag:nth-child(${w+1})`}function p(w,b){a=b,l=e.value.querySelector(f(b)),l&&(l.style.opacity="0.5"),w.dataTransfer.effectAllowed="move"}function g(w,b){if(u=b,w.preventDefault(),w.dataTransfer.dropEffect="move",xn(a)||a===b){i.value=!1;return}const _=e.value.querySelector(f(b)).getBoundingClientRect(),C=a+1!==b,M=a-1!==b,E=w.clientX-_.left,k=C?M?.5:1:-1,A=M?C?.5:0:1;E<=_.width*k?d="before":E>_.width*A?d="after":d=void 0;const D=e.value.querySelector(`.${r.e("inner")}`),H=D.getBoundingClientRect(),U=Number.parseFloat(Ji(D,"gap"))/2,K=_.top-H.top;let G=-9999;if(d==="before")G=Math.max(_.left-H.left-U,Math.floor(-U/2));else if(d==="after"){const q=_.right-H.left;G=q+(H.width===q?Math.floor(U/2):U)}pC(s.value,{top:`${K}px`,left:`${G}px`}),i.value=!!d}function v(w){w.preventDefault(),l&&(l.style.opacity=""),d&&!xn(a)&&!xn(u)&&a!==u&&t(a,u,d),i.value=!1,a=void 0,l=null,u=void 0,d=void 0,n==null||n()}return{dropIndicatorRef:s,showDropIndicator:i,handleDragStart:p,handleDragOver:g,handleDragEnd:v}}function wU({props:e,isFocused:t,hovering:n,disabled:r,inputValue:s,size:i,validateState:a,validateIcon:l,needStatusIcon:u}){const d=oa(),f=Sr(),p=Xe("input-tag"),g=Xe("input"),v=L(()=>[p.b(),p.is("focused",t.value),p.is("hovering",n.value),p.is("disabled",r.value),p.m(i.value),p.e("wrapper"),d.class]),w=L(()=>[d.style]),b=L(()=>{var M,E;return[p.e("inner"),p.is("draggable",e.draggable),p.is("left-space",!((M=e.modelValue)!=null&&M.length)&&!f.prefix),p.is("right-space",!((E=e.modelValue)!=null&&E.length)&&!C.value)]}),_=L(()=>{var M;return e.clearable&&!r.value&&!e.readonly&&(((M=e.modelValue)==null?void 0:M.length)||s.value)&&(t.value||n.value)}),C=L(()=>f.suffix||_.value||a.value&&l.value&&u.value);return{ns:p,nsInput:g,containerKls:v,containerStyle:w,innerKls:b,showClear:_,showSuffix:C}}const xU=ve({name:"ElInputTag",inheritAttrs:!1}),SU=ve({...xU,props:mU,emits:gU,setup(e,{expose:t,emit:n}){const r=e,s=kc(),i=Sr(),{form:a,formItem:l}=Wr(),{inputId:u}=Us(r,{formItemContext:l}),d=L(()=>{var ae;return(ae=a==null?void 0:a.statusIcon)!=null?ae:!1}),f=L(()=>(l==null?void 0:l.validateState)||""),p=L(()=>f.value&&oh[f.value]),{inputRef:g,wrapperRef:v,isFocused:w,inputValue:b,size:_,tagSize:C,placeholder:M,closable:E,disabled:k,handleDragged:A,handleInput:D,handleKeydown:H,handleRemoveTag:U,handleClear:K,handleCompositionStart:G,handleCompositionUpdate:q,handleCompositionEnd:Y,focus:de,blur:xe}=vU({props:r,emit:n,formItem:l}),{hovering:oe,handleMouseEnter:Z,handleMouseLeave:ne}=yU(),{calculatorRef:ee,inputStyle:J}=Nv(),{dropIndicatorRef:fe,showDropIndicator:ge,handleDragStart:ke,handleDragOver:ye,handleDragEnd:Fe}=bU({wrapperRef:v,handleDragged:A,afterDragged:de}),{ns:Be,nsInput:He,containerKls:he,containerStyle:Ne,innerKls:Pe,showClear:et,showSuffix:qe}=wU({props:r,hovering:oe,isFocused:w,inputValue:b,disabled:k,size:_,validateState:f,validateIcon:p,needStatusIcon:d});return t({focus:de,blur:xe}),(ae,be)=>(V(),le("div",{ref_key:"wrapperRef",ref:v,class:W(o(he)),style:Tt(o(Ne)),onMouseenter:o(Z),onMouseleave:o(ne)},[o(i).prefix?(V(),le("div",{key:0,class:W(o(Be).e("prefix"))},[Oe(ae.$slots,"prefix")],2)):Re("v-if",!0),ue("div",{class:W(o(Pe))},[(V(!0),le(Ct,null,nn(ae.modelValue,($e,Ge)=>(V(),Ve(o(El),{key:Ge,size:o(C),closable:o(E),type:ae.tagType,effect:ae.tagEffect,draggable:o(E)&&ae.draggable,"disable-transitions":"",onClose:Qe=>o(U)(Ge),onDragstart:Qe=>o(ke)(Qe,Ge),onDragover:Qe=>o(ye)(Qe,Ge),onDragend:o(Fe),onDrop:Lt(()=>{},["stop"])},{default:Se(()=>[Oe(ae.$slots,"tag",{value:$e,index:Ge},()=>[At(at($e),1)])]),_:2},1032,["size","closable","type","effect","draggable","onClose","onDragstart","onDragover","onDragend","onDrop"]))),128)),ue("div",{class:W(o(Be).e("input-wrapper"))},[Bt(ue("input",Xt({id:o(u),ref_key:"inputRef",ref:g,"onUpdate:modelValue":$e=>kn(b)?b.value=$e:null},o(s),{type:"text",minlength:ae.minlength,maxlength:ae.maxlength,disabled:o(k),readonly:ae.readonly,autocomplete:ae.autocomplete,tabindex:ae.tabindex,placeholder:o(M),autofocus:ae.autofocus,ariaLabel:ae.ariaLabel,class:o(Be).e("input"),style:o(J),onCompositionstart:o(G),onCompositionupdate:o(q),onCompositionend:o(Y),onInput:o(D),onKeydown:o(H)}),null,16,["id","onUpdate:modelValue","minlength","maxlength","disabled","readonly","autocomplete","tabindex","placeholder","autofocus","ariaLabel","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onKeydown"]),[[Gf,o(b)]]),ue("span",{ref_key:"calculatorRef",ref:ee,"aria-hidden":"true",class:W(o(Be).e("input-calculator")),textContent:at(o(b))},null,10,["textContent"])],2),Bt(ue("div",{ref_key:"dropIndicatorRef",ref:fe,class:W(o(Be).e("drop-indicator"))},null,2),[[mn,o(ge)]])],2),o(qe)?(V(),le("div",{key:1,class:W(o(Be).e("suffix"))},[Oe(ae.$slots,"suffix"),o(et)?(V(),Ve(o(wt),{key:0,class:W([o(Be).e("icon"),o(Be).e("clear")]),onMousedown:Lt(o(In),["prevent"]),onClick:o(K)},{default:Se(()=>[pe(o(da))]),_:1},8,["class","onMousedown","onClick"])):Re("v-if",!0),o(f)&&o(p)&&o(d)?(V(),Ve(o(wt),{key:1,class:W([o(He).e("icon"),o(He).e("validateIcon"),o(He).is("loading",o(f)==="validating")])},{default:Se(()=>[(V(),Ve(Yt(o(p))))]),_:1},8,["class"])):Re("v-if",!0)],2)):Re("v-if",!0)],46,["onMouseenter","onMouseleave"]))}});var CU=ot(SU,[["__file","input-tag.vue"]]);const _U=zt(CU),TU=st({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:Boolean,href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:Pn}}),kU={click:e=>e instanceof MouseEvent},EU=ve({name:"ElLink"}),$U=ve({...EU,props:TU,emits:kU,setup(e,{emit:t}){const n=e,r=Xe("link"),s=L(()=>[r.b(),r.m(n.type),r.is("disabled",n.disabled),r.is("underline",n.underline&&!n.disabled)]);function i(a){n.disabled||t("click",a)}return(a,l)=>(V(),le("a",{class:W(o(s)),href:a.disabled||!a.href?void 0:a.href,target:a.disabled||!a.href?void 0:a.target,onClick:i},[a.icon?(V(),Ve(o(wt),{key:0},{default:Se(()=>[(V(),Ve(Yt(a.icon)))]),_:1})):Re("v-if",!0),a.$slots.default?(V(),le("span",{key:1,class:W(o(r).e("inner"))},[Oe(a.$slots,"default")],2)):Re("v-if",!0),a.$slots.icon?Oe(a.$slots,"icon",{key:2}):Re("v-if",!0)],10,["href","target"]))}});var IU=ot($U,[["__file","link.vue"]]);const AU=zt(IU);let LU=class{constructor(t,n){this.parent=t,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(t){t===this.subMenuItems.length?t=0:t<0&&(t=this.subMenuItems.length-1),this.subMenuItems[t].focus(),this.subIndex=t}addListeners(){const t=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",r=>{let s=!1;switch(r.code){case gt.down:{this.gotoSubIndex(this.subIndex+1),s=!0;break}case gt.up:{this.gotoSubIndex(this.subIndex-1),s=!0;break}case gt.tab:{$d(t,"mouseleave");break}case gt.enter:case gt.numpadEnter:case gt.space:{s=!0,r.currentTarget.click();break}}return s&&(r.preventDefault(),r.stopPropagation()),!1})})}},OU=class{constructor(t,n){this.domNode=t,this.submenu=null,this.submenu=null,this.init(n)}init(t){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${t}-menu`);n&&(this.submenu=new LU(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",t=>{let n=!1;switch(t.code){case gt.down:{$d(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case gt.up:{$d(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case gt.tab:{$d(t.currentTarget,"mouseleave");break}case gt.enter:case gt.numpadEnter:case gt.space:{n=!0,t.currentTarget.click();break}}n&&t.preventDefault()})}},MU=class{constructor(t,n){this.domNode=t,this.init(n)}init(t){const n=this.domNode.childNodes;Array.from(n).forEach(r=>{r.nodeType===1&&new OU(r,t)})}};const RU=ve({name:"ElMenuCollapseTransition",setup(){const e=Xe("menu");return{listeners:{onBeforeEnter:n=>n.style.opacity="0.2",onEnter(n,r){Ns(n,`${e.namespace.value}-opacity-transition`),n.style.opacity="1",r()},onAfterEnter(n){Qr(n,`${e.namespace.value}-opacity-transition`),n.style.opacity=""},onBeforeLeave(n){n.dataset||(n.dataset={}),ys(n,e.m("collapse"))?(Qr(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),Ns(n,e.m("collapse"))):(Ns(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),Qr(n,e.m("collapse"))),n.style.width=`${n.scrollWidth}px`,n.style.overflow="hidden"},onLeave(n){Ns(n,"horizontal-collapse-transition"),n.style.width=`${n.dataset.scrollWidth}px`}}}}});function DU(e,t,n,r,s,i){return V(),Ve(Rr,Xt({mode:"out-in"},e.listeners),{default:Se(()=>[Oe(e.$slots,"default")]),_:3},16)}var NU=ot(RU,[["render",DU],["__file","menu-collapse-transition.vue"]]);function dT(e,t){const n=L(()=>{let s=e.parent;const i=[t.value];for(;s.type.name!=="ElMenu";)s.props.index&&i.unshift(s.props.index),s=s.parent;return i});return{parentMenu:L(()=>{let s=e.parent;for(;s&&!["ElMenu","ElSubMenu"].includes(s.type.name);)s=s.parent;return s}),indexPath:n}}function PU(e){return L(()=>{const n=e.backgroundColor;return n?new r_(n).shade(20).toString():""})}const fT=(e,t)=>{const n=Xe("menu");return L(()=>n.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":PU(e).value||"","active-color":e.activeTextColor||"",level:`${t}`}))},FU=st({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:Pn},expandOpenIcon:{type:Pn},collapseCloseIcon:{type:Pn},collapseOpenIcon:{type:Pn}}),gp="ElSubMenu";var Pv=ve({name:gp,props:FU,setup(e,{slots:t,expose:n}){const r=Gt(),{indexPath:s,parentMenu:i}=dT(r,L(()=>e.index)),a=Xe("menu"),l=Xe("sub-menu"),u=vt("rootMenu");u||xr(gp,"can not inject root menu");const d=vt(`subMenu:${i.value.uid}`);d||xr(gp,"can not inject sub menu");const f=Q({}),p=Q({});let g;const v=Q(!1),w=Q(),b=Q(null),_=L(()=>U.value==="horizontal"&&M.value?"bottom-start":"right-start"),C=L(()=>U.value==="horizontal"&&M.value||U.value==="vertical"&&!u.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?D.value?e.expandOpenIcon:e.expandCloseIcon:ca:e.collapseCloseIcon&&e.collapseOpenIcon?D.value?e.collapseOpenIcon:e.collapseCloseIcon:cs),M=L(()=>d.level===0),E=L(()=>{const fe=e.teleported;return fe===void 0?M.value:fe}),k=L(()=>u.props.collapse?`${a.namespace.value}-zoom-in-left`:`${a.namespace.value}-zoom-in-top`),A=L(()=>U.value==="horizontal"&&M.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),D=L(()=>u.openedMenus.includes(e.index)),H=L(()=>{let fe=!1;return Object.values(f.value).forEach(ge=>{ge.active&&(fe=!0)}),Object.values(p.value).forEach(ge=>{ge.active&&(fe=!0)}),fe}),U=L(()=>u.props.mode),K=wn({index:e.index,indexPath:s,active:H}),G=fT(u.props,d.level+1),q=L(()=>{var fe;return(fe=e.popperOffset)!=null?fe:u.props.popperOffset}),Y=L(()=>{var fe;return(fe=e.popperClass)!=null?fe:u.props.popperClass}),de=L(()=>{var fe;return(fe=e.showTimeout)!=null?fe:u.props.showTimeout}),xe=L(()=>{var fe;return(fe=e.hideTimeout)!=null?fe:u.props.hideTimeout}),oe=()=>{var fe,ge,ke;return(ke=(ge=(fe=b.value)==null?void 0:fe.popperRef)==null?void 0:ge.popperInstanceRef)==null?void 0:ke.destroy()},Z=fe=>{fe||oe()},ne=()=>{u.props.menuTrigger==="hover"&&u.props.mode==="horizontal"||u.props.collapse&&u.props.mode==="vertical"||e.disabled||u.handleSubMenuClick({index:e.index,indexPath:s.value,active:H.value})},ee=(fe,ge=de.value)=>{var ke;if(fe.type!=="focus"){if(u.props.menuTrigger==="click"&&u.props.mode==="horizontal"||!u.props.collapse&&u.props.mode==="vertical"||e.disabled){d.mouseInChild.value=!0;return}d.mouseInChild.value=!0,g==null||g(),{stop:g}=Lo(()=>{u.openMenu(e.index,s.value)},ge),E.value&&((ke=i.value.vnode.el)==null||ke.dispatchEvent(new MouseEvent("mouseenter")))}},J=(fe=!1)=>{var ge;if(u.props.menuTrigger==="click"&&u.props.mode==="horizontal"||!u.props.collapse&&u.props.mode==="vertical"){d.mouseInChild.value=!1;return}g==null||g(),d.mouseInChild.value=!1,{stop:g}=Lo(()=>!v.value&&u.closeMenu(e.index,s.value),xe.value),E.value&&fe&&((ge=d.handleMouseleave)==null||ge.call(d,!0))};je(()=>u.props.collapse,fe=>Z(!!fe));{const fe=ke=>{p.value[ke.index]=ke},ge=ke=>{delete p.value[ke.index]};Qt(`subMenu:${r.uid}`,{addSubMenu:fe,removeSubMenu:ge,handleMouseleave:J,mouseInChild:v,level:d.level+1})}return n({opened:D}),Ut(()=>{u.addSubMenu(K),d.addSubMenu(K)}),Fn(()=>{d.removeSubMenu(K),u.removeSubMenu(K)}),()=>{var fe;const ge=[(fe=t.title)==null?void 0:fe.call(t),It(wt,{class:l.e("icon-arrow"),style:{transform:D.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&u.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>xt(C.value)?It(r.appContext.components[C.value]):It(C.value)})],ke=u.isMenuPopup?It(Hr,{ref:b,visible:D.value,effect:"light",pure:!0,offset:q.value,showArrow:!1,persistent:!0,popperClass:Y.value,placement:_.value,teleported:E.value,fallbackPlacements:A.value,transition:k.value,gpuAcceleration:!1},{content:()=>{var ye;return It("div",{class:[a.m(U.value),a.m("popup-container"),Y.value],onMouseenter:Fe=>ee(Fe,100),onMouseleave:()=>J(!0),onFocus:Fe=>ee(Fe,100)},[It("ul",{class:[a.b(),a.m("popup"),a.m(`popup-${_.value}`)],style:G.value},[(ye=t.default)==null?void 0:ye.call(t)])])},default:()=>It("div",{class:l.e("title"),onClick:ne},ge)}):It(Ct,{},[It("div",{class:l.e("title"),ref:w,onClick:ne},ge),It(fh,{},{default:()=>{var ye;return Bt(It("ul",{role:"menu",class:[a.b(),a.m("inline")],style:G.value},[(ye=t.default)==null?void 0:ye.call(t)]),[[mn,D.value]])}})]);return It("li",{class:[l.b(),l.is("active",H.value),l.is("opened",D.value),l.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:D.value,onMouseenter:ee,onMouseleave:()=>J(),onFocus:ee},[ke])}}});const VU=st({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:Ie(Array),default:()=>Zn([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:Pn,default:()=>x4},popperEffect:{type:Ie(String),default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),vp=e=>nt(e)&&e.every(t=>xt(t)),zU={close:(e,t)=>xt(e)&&vp(t),open:(e,t)=>xt(e)&&vp(t),select:(e,t,n,r)=>xt(e)&&vp(t)&&jt(n)&&(r===void 0||r instanceof Promise)};var BU=ve({name:"ElMenu",props:VU,emits:zU,setup(e,{emit:t,slots:n,expose:r}){const s=Gt(),i=s.appContext.config.globalProperties.$router,a=Q(),l=Xe("menu"),u=Xe("sub-menu"),d=Q(-1),f=Q(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),p=Q(e.defaultActive),g=Q({}),v=Q({}),w=L(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),b=()=>{const oe=p.value&&g.value[p.value];if(!oe||e.mode==="horizontal"||e.collapse)return;oe.indexPath.forEach(ne=>{const ee=v.value[ne];ee&&_(ne,ee.indexPath)})},_=(oe,Z)=>{f.value.includes(oe)||(e.uniqueOpened&&(f.value=f.value.filter(ne=>Z.includes(ne))),f.value.push(oe),t("open",oe,Z))},C=oe=>{const Z=f.value.indexOf(oe);Z!==-1&&f.value.splice(Z,1)},M=(oe,Z)=>{C(oe),t("close",oe,Z)},E=({index:oe,indexPath:Z})=>{f.value.includes(oe)?M(oe,Z):_(oe,Z)},k=oe=>{(e.mode==="horizontal"||e.collapse)&&(f.value=[]);const{index:Z,indexPath:ne}=oe;if(!(kr(Z)||kr(ne)))if(e.router&&i){const ee=oe.route||Z,J=i.push(ee).then(fe=>(fe||(p.value=Z),fe));t("select",Z,ne,{index:Z,indexPath:ne,route:ee},J)}else p.value=Z,t("select",Z,ne,{index:Z,indexPath:ne})},A=oe=>{const Z=g.value,ne=Z[oe]||p.value&&Z[p.value]||Z[e.defaultActive];ne?p.value=ne.index:p.value=oe},D=oe=>{const Z=getComputedStyle(oe),ne=Number.parseInt(Z.marginLeft,10),ee=Number.parseInt(Z.marginRight,10);return oe.offsetWidth+ne+ee||0},H=()=>{var oe,Z;if(!a.value)return-1;const ne=Array.from((Z=(oe=a.value)==null?void 0:oe.childNodes)!=null?Z:[]).filter(Be=>Be.nodeName!=="#text"||Be.nodeValue),ee=64,J=getComputedStyle(a.value),fe=Number.parseInt(J.paddingLeft,10),ge=Number.parseInt(J.paddingRight,10),ke=a.value.clientWidth-fe-ge;let ye=0,Fe=0;return ne.forEach((Be,He)=>{Be.nodeName!=="#comment"&&(ye+=D(Be),ye<=ke-ee&&(Fe=He+1))}),Fe===ne.length?-1:Fe},U=oe=>v.value[oe].indexPath,K=(oe,Z=33.34)=>{let ne;return()=>{ne&&clearTimeout(ne),ne=setTimeout(()=>{oe()},Z)}};let G=!0;const q=()=>{if(d.value===H())return;const oe=()=>{d.value=-1,Et(()=>{d.value=H()})};G?oe():K(oe)(),G=!1};je(()=>e.defaultActive,oe=>{g.value[oe]||(p.value=""),A(oe)}),je(()=>e.collapse,oe=>{oe&&(f.value=[])}),je(g.value,b);let Y;Vr(()=>{e.mode==="horizontal"&&e.ellipsis?Y=Jn(a,q).stop:Y==null||Y()});const de=Q(!1);{const oe=J=>{v.value[J.index]=J},Z=J=>{delete v.value[J.index]};Qt("rootMenu",wn({props:e,openedMenus:f,items:g,subMenus:v,activeIndex:p,isMenuPopup:w,addMenuItem:J=>{g.value[J.index]=J},removeMenuItem:J=>{delete g.value[J.index]},addSubMenu:oe,removeSubMenu:Z,openMenu:_,closeMenu:M,handleMenuItemClick:k,handleSubMenuClick:E})),Qt(`subMenu:${s.uid}`,{addSubMenu:oe,removeSubMenu:Z,mouseInChild:de,level:0})}Ut(()=>{e.mode==="horizontal"&&new MU(s.vnode.el,l.namespace.value)}),r({open:Z=>{const{indexPath:ne}=v.value[Z];ne.forEach(ee=>_(ee,ne))},close:C,handleResize:q});const xe=fT(e,0);return()=>{var oe,Z;let ne=(Z=(oe=n.default)==null?void 0:oe.call(n))!=null?Z:[];const ee=[];if(e.mode==="horizontal"&&a.value){const ge=Pa(ne),ke=d.value===-1?ge:ge.slice(0,d.value),ye=d.value===-1?[]:ge.slice(d.value);ye!=null&&ye.length&&e.ellipsis&&(ne=ke,ee.push(It(Pv,{index:"sub-menu-more",class:u.e("hide-arrow"),popperOffset:e.popperOffset},{title:()=>It(wt,{class:u.e("icon-more")},{default:()=>It(e.ellipsisIcon)}),default:()=>ye})))}const J=e.closeOnClickOutside?[[sa,()=>{f.value.length&&(de.value||(f.value.forEach(ge=>t("close",ge,U(ge))),f.value=[]))}]]:[],fe=Bt(It("ul",{key:String(e.collapse),role:"menubar",ref:a,style:xe.value,class:{[l.b()]:!0,[l.m(e.mode)]:!0,[l.m("collapse")]:e.collapse}},[...ne,...ee]),J);return e.collapseTransition&&e.mode==="vertical"?It(NU,()=>fe):fe}}});const KU=st({index:{type:Ie([String,null]),default:null},route:{type:Ie([String,Object])},disabled:Boolean}),HU={click:e=>xt(e.index)&&nt(e.indexPath)},yp="ElMenuItem",WU=ve({name:yp,components:{ElTooltip:Hr},props:KU,emits:HU,setup(e,{emit:t}){const n=Gt(),r=vt("rootMenu"),s=Xe("menu"),i=Xe("menu-item");r||xr(yp,"can not inject root menu");const{parentMenu:a,indexPath:l}=dT(n,Tn(e,"index")),u=vt(`subMenu:${a.value.uid}`);u||xr(yp,"can not inject sub menu");const d=L(()=>e.index===r.activeIndex),f=wn({index:e.index,indexPath:l,active:d}),p=()=>{e.disabled||(r.handleMenuItemClick({index:e.index,indexPath:l.value,route:e.route}),t("click",f))};return Ut(()=>{u.addSubMenu(f),r.addMenuItem(f)}),Fn(()=>{u.removeSubMenu(f),r.removeMenuItem(f)}),{parentMenu:a,rootMenu:r,active:d,nsMenu:s,nsMenuItem:i,handleClick:p}}});function UU(e,t,n,r,s,i){const a=Dt("el-tooltip");return V(),le("li",{class:W([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:e.handleClick},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(V(),Ve(a,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:Se(()=>[Oe(e.$slots,"title")]),default:Se(()=>[ue("div",{class:W(e.nsMenu.be("tooltip","trigger"))},[Oe(e.$slots,"default")],2)]),_:3},8,["effect"])):(V(),le(Ct,{key:1},[Oe(e.$slots,"default"),Oe(e.$slots,"title")],64))],10,["onClick"])}var hT=ot(WU,[["render",UU],["__file","menu-item.vue"]]);const jU={title:String},GU="ElMenuItemGroup",YU=ve({name:GU,props:jU,setup(){return{ns:Xe("menu-item-group")}}});function XU(e,t,n,r,s,i){return V(),le("li",{class:W(e.ns.b())},[ue("div",{class:W(e.ns.e("title"))},[e.$slots.title?Oe(e.$slots,"title",{key:1}):(V(),le(Ct,{key:0},[At(at(e.title),1)],64))],2),ue("ul",null,[Oe(e.$slots,"default")])],2)}var pT=ot(YU,[["render",XU],["__file","menu-item-group.vue"]]);const qU=zt(BU,{MenuItem:hT,MenuItemGroup:pT,SubMenu:Pv}),JU=Qn(hT),ZU=Qn(pT),QU=Qn(Pv),ej=st({icon:{type:Pn,default:()=>jP},title:String,content:{type:String,default:""}}),tj={back:()=>!0},nj=ve({name:"ElPageHeader"}),rj=ve({...nj,props:ej,emits:tj,setup(e,{emit:t}){const{t:n}=cn(),r=Xe("page-header");function s(){t("back")}return(i,a)=>(V(),le("div",{class:W([o(r).b(),{[o(r).m("has-breadcrumb")]:!!i.$slots.breadcrumb,[o(r).m("has-extra")]:!!i.$slots.extra,[o(r).is("contentful")]:!!i.$slots.default}])},[i.$slots.breadcrumb?(V(),le("div",{key:0,class:W(o(r).e("breadcrumb"))},[Oe(i.$slots,"breadcrumb")],2)):Re("v-if",!0),ue("div",{class:W(o(r).e("header"))},[ue("div",{class:W(o(r).e("left"))},[ue("div",{class:W(o(r).e("back")),role:"button",tabindex:"0",onClick:s},[i.icon||i.$slots.icon?(V(),le("div",{key:0,"aria-label":i.title||o(n)("el.pageHeader.title"),class:W(o(r).e("icon"))},[Oe(i.$slots,"icon",{},()=>[i.icon?(V(),Ve(o(wt),{key:0},{default:Se(()=>[(V(),Ve(Yt(i.icon)))]),_:1})):Re("v-if",!0)])],10,["aria-label"])):Re("v-if",!0),ue("div",{class:W(o(r).e("title"))},[Oe(i.$slots,"title",{},()=>[At(at(i.title||o(n)("el.pageHeader.title")),1)])],2)],2),pe(o(J_),{direction:"vertical"}),ue("div",{class:W(o(r).e("content"))},[Oe(i.$slots,"content",{},()=>[At(at(i.content),1)])],2)],2),i.$slots.extra?(V(),le("div",{key:0,class:W(o(r).e("extra"))},[Oe(i.$slots,"extra")],2)):Re("v-if",!0)],2),i.$slots.default?(V(),le("div",{key:1,class:W(o(r).e("main"))},[Oe(i.$slots,"default")],2)):Re("v-if",!0)],2))}});var sj=ot(rj,[["__file","page-header.vue"]]);const ij=zt(sj),mT=Symbol("elPaginationKey"),aj=st({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:Pn}}),oj={click:e=>e instanceof MouseEvent},lj=ve({name:"ElPaginationPrev"}),uj=ve({...lj,props:aj,emits:oj,setup(e){const t=e,{t:n}=cn(),r=L(()=>t.disabled||t.currentPage<=1);return(s,i)=>(V(),le("button",{type:"button",class:"btn-prev",disabled:o(r),"aria-label":s.prevText||o(n)("el.pagination.prev"),"aria-disabled":o(r),onClick:a=>s.$emit("click",a)},[s.prevText?(V(),le("span",{key:0},at(s.prevText),1)):(V(),Ve(o(wt),{key:1},{default:Se(()=>[(V(),Ve(Yt(s.prevIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var cj=ot(uj,[["__file","prev.vue"]]);const dj=st({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:Pn}}),fj=ve({name:"ElPaginationNext"}),hj=ve({...fj,props:dj,emits:["click"],setup(e){const t=e,{t:n}=cn(),r=L(()=>t.disabled||t.currentPage===t.pageCount||t.pageCount===0);return(s,i)=>(V(),le("button",{type:"button",class:"btn-next",disabled:o(r),"aria-label":s.nextText||o(n)("el.pagination.next"),"aria-disabled":o(r),onClick:a=>s.$emit("click",a)},[s.nextText?(V(),le("span",{key:0},at(s.nextText),1)):(V(),Ve(o(wt),{key:1},{default:Se(()=>[(V(),Ve(Yt(s.nextIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var pj=ot(hj,[["__file","next.vue"]]);const gT=Symbol("ElSelectGroup"),Xl=Symbol("ElSelect");function mj(e,t){const n=vt(Xl),r=vt(gT,{disabled:!1}),s=L(()=>f(qr(n.props.modelValue),e.value)),i=L(()=>{var v;if(n.props.multiple){const w=qr((v=n.props.modelValue)!=null?v:[]);return!s.value&&w.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),a=L(()=>e.label||(jt(e.value)?"":e.value)),l=L(()=>e.value||e.label||""),u=L(()=>e.disabled||t.groupDisabled||i.value),d=Gt(),f=(v=[],w)=>{if(jt(e.value)){const b=n.props.valueKey;return v&&v.some(_=>On(cr(_,b))===cr(w,b))}else return v&&v.includes(w)},p=()=>{!e.disabled&&!r.disabled&&(n.states.hoveringIndex=n.optionsArray.indexOf(d.proxy))},g=v=>{const w=new RegExp(wv(v),"i");t.visible=w.test(a.value)||e.created};return je(()=>a.value,()=>{!e.created&&!n.props.remote&&n.setSelected()}),je(()=>e.value,(v,w)=>{const{remote:b,valueKey:_}=n.props;if(v!==w&&(n.onOptionDestroy(w,d.proxy),n.onOptionCreate(d.proxy)),!e.created&&!b){if(_&&jt(v)&&jt(w)&&v[_]===w[_])return;n.setSelected()}}),je(()=>r.disabled,()=>{t.groupDisabled=r.disabled},{immediate:!0}),{select:n,currentLabel:a,currentValue:l,itemSelected:s,isDisabled:u,hoverItem:p,updateOption:g}}const gj=ve({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(e){const t=Xe("select"),n=Pr(),r=L(()=>[t.be("dropdown","item"),t.is("disabled",o(l)),t.is("selected",o(a)),t.is("hovering",o(g))]),s=wn({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:i,itemSelected:a,isDisabled:l,select:u,hoverItem:d,updateOption:f}=mj(e,s),{visible:p,hover:g}=Er(s),v=Gt().proxy;u.onOptionCreate(v),Fn(()=>{const b=v.value,{selected:_}=u.states,C=_.some(M=>M.value===v.value);Et(()=>{u.states.cachedOptions.get(b)===v&&!C&&u.states.cachedOptions.delete(b)}),u.onOptionDestroy(b,v)});function w(){l.value||u.handleOptionSelect(v)}return{ns:t,id:n,containerKls:r,currentLabel:i,itemSelected:a,isDisabled:l,select:u,hoverItem:d,updateOption:f,visible:p,hover:g,selectOptionClick:w,states:s}}});function vj(e,t,n,r,s,i){return Bt((V(),le("li",{id:e.id,class:W(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMousemove:e.hoverItem,onClick:Lt(e.selectOptionClick,["stop"])},[Oe(e.$slots,"default",{},()=>[ue("span",null,at(e.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMousemove","onClick"])),[[mn,e.visible]])}var Fv=ot(gj,[["render",vj],["__file","option.vue"]]);const yj=ve({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=vt(Xl),t=Xe("select"),n=L(()=>e.props.popperClass),r=L(()=>e.props.multiple),s=L(()=>e.props.fitInputWidth),i=Q("");function a(){var l;i.value=`${(l=e.selectRef)==null?void 0:l.offsetWidth}px`}return Ut(()=>{a(),Jn(e.selectRef,a)}),{ns:t,minWidth:i,popperClass:n,isMultiple:r,isFitInputWidth:s}}});function bj(e,t,n,r,s,i){return V(),le("div",{class:W([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:Tt({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(V(),le("div",{key:0,class:W(e.ns.be("dropdown","header"))},[Oe(e.$slots,"header")],2)):Re("v-if",!0),Oe(e.$slots,"default"),e.$slots.footer?(V(),le("div",{key:1,class:W(e.ns.be("dropdown","footer"))},[Oe(e.$slots,"footer")],2)):Re("v-if",!0)],6)}var wj=ot(yj,[["render",bj],["__file","select-dropdown.vue"]]);const xj=(e,t)=>{const{t:n}=cn(),r=Pr(),s=Xe("select"),i=Xe("input"),a=wn({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),l=Q(null),u=Q(null),d=Q(null),f=Q(null),p=Q(null),g=Q(null),v=Q(null),w=Q(null),b=Q(null),_=Q(null),C=Q(null),{isComposing:M,handleCompositionStart:E,handleCompositionUpdate:k,handleCompositionEnd:A}=Ec({afterComposition:ht=>Ht(ht)}),{wrapperRef:D,isFocused:H,handleBlur:U}=Qa(p,{beforeFocus(){return Z.value},afterFocus(){e.automaticDropdown&&!K.value&&(K.value=!0,a.menuVisibleOnFocus=!0)},beforeBlur(ht){var Pt,Sn;return((Pt=d.value)==null?void 0:Pt.isFocusInsideContent(ht))||((Sn=f.value)==null?void 0:Sn.isFocusInsideContent(ht))},afterBlur(){K.value=!1,a.menuVisibleOnFocus=!1}}),K=Q(!1),G=Q(),{form:q,formItem:Y}=Wr(),{inputId:de}=Us(e,{formItemContext:Y}),{valueOnClear:xe,isEmptyValue:oe}=rh(e),Z=L(()=>e.disabled||(q==null?void 0:q.disabled)),ne=L(()=>nt(e.modelValue)?e.modelValue.length>0:!oe(e.modelValue)),ee=L(()=>{var ht;return(ht=q==null?void 0:q.statusIcon)!=null?ht:!1}),J=L(()=>e.clearable&&!Z.value&&a.inputHovering&&ne.value),fe=L(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),ge=L(()=>s.is("reverse",fe.value&&K.value)),ke=L(()=>(Y==null?void 0:Y.validateState)||""),ye=L(()=>oh[ke.value]),Fe=L(()=>e.remote?300:0),Be=L(()=>e.remote&&!a.inputValue&&a.options.size===0),He=L(()=>e.loading?e.loadingText||n("el.select.loading"):e.filterable&&a.inputValue&&a.options.size>0&&he.value===0?e.noMatchText||n("el.select.noMatch"):a.options.size===0?e.noDataText||n("el.select.noData"):null),he=L(()=>Ne.value.filter(ht=>ht.visible).length),Ne=L(()=>{const ht=Array.from(a.options.values()),Pt=[];return a.optionValues.forEach(Sn=>{const lr=ht.findIndex($r=>$r.value===Sn);lr>-1&&Pt.push(ht[lr])}),Pt.length>=ht.length?Pt:ht}),Pe=L(()=>Array.from(a.cachedOptions.values())),et=L(()=>{const ht=Ne.value.filter(Pt=>!Pt.created).some(Pt=>Pt.currentLabel===a.inputValue);return e.filterable&&e.allowCreate&&a.inputValue!==""&&!ht}),qe=()=>{e.filterable&&_t(e.filterMethod)||e.filterable&&e.remote&&_t(e.remoteMethod)||Ne.value.forEach(ht=>{var Pt;(Pt=ht.updateOption)==null||Pt.call(ht,a.inputValue)})},ae=pr(),be=L(()=>["small"].includes(ae.value)?"small":"default"),$e=L({get(){return K.value&&!Be.value},set(ht){K.value=ht}}),Ge=L(()=>{if(e.multiple&&!xn(e.modelValue))return qr(e.modelValue).length===0&&!a.inputValue;const ht=nt(e.modelValue)?e.modelValue[0]:e.modelValue;return e.filterable||xn(ht)?!a.inputValue:!0}),Qe=L(()=>{var ht;const Pt=(ht=e.placeholder)!=null?ht:n("el.select.placeholder");return e.multiple||!ne.value?Pt:a.selectedLabel}),Le=L(()=>tm?null:"mouseenter");je(()=>e.modelValue,(ht,Pt)=>{e.multiple&&e.filterable&&!e.reserveKeyword&&(a.inputValue="",Ze("")),it(),!zr(ht,Pt)&&e.validateEvent&&(Y==null||Y.validate("change").catch(Sn=>void 0))},{flush:"post",deep:!0}),je(()=>K.value,ht=>{ht?Ze(a.inputValue):(a.inputValue="",a.previousQuery=null,a.isBeforeHide=!0),t("visible-change",ht)}),je(()=>a.options.entries(),()=>{un&&(it(),e.defaultFirstOption&&(e.filterable||e.remote)&&he.value&&We())},{flush:"post"}),je(()=>a.hoveringIndex,ht=>{$t(ht)&&ht>-1?G.value=Ne.value[ht]||{}:G.value={},Ne.value.forEach(Pt=>{Pt.hover=G.value===Pt})}),Vr(()=>{a.isBeforeHide||qe()});const Ze=ht=>{a.previousQuery===ht||M.value||(a.previousQuery=ht,e.filterable&&_t(e.filterMethod)?e.filterMethod(ht):e.filterable&&e.remote&&_t(e.remoteMethod)&&e.remoteMethod(ht),e.defaultFirstOption&&(e.filterable||e.remote)&&he.value?Et(We):Et(St))},We=()=>{const ht=Ne.value.filter($r=>$r.visible&&!$r.disabled&&!$r.states.groupDisabled),Pt=ht.find($r=>$r.created),Sn=ht[0],lr=Ne.value.map($r=>$r.value);a.hoveringIndex=_e(lr,Pt||Sn)},it=()=>{if(e.multiple)a.selectedLabel="";else{const Pt=nt(e.modelValue)?e.modelValue[0]:e.modelValue,Sn=rt(Pt);a.selectedLabel=Sn.currentLabel,a.selected=[Sn];return}const ht=[];xn(e.modelValue)||qr(e.modelValue).forEach(Pt=>{ht.push(rt(Pt))}),a.selected=ht},rt=ht=>{let Pt;const Sn=Vu(ht);for(let pi=a.cachedOptions.size-1;pi>=0;pi--){const Ls=Pe.value[pi];if(Sn?cr(Ls.value,e.valueKey)===cr(ht,e.valueKey):Ls.value===ht){Pt={value:ht,currentLabel:Ls.currentLabel,get isDisabled(){return Ls.isDisabled}};break}}if(Pt)return Pt;const lr=Sn?ht.label:ht??"";return{value:ht,currentLabel:lr}},St=()=>{a.hoveringIndex=Ne.value.findIndex(ht=>a.selected.some(Pt=>Ss(Pt)===Ss(ht)))},mt=()=>{a.selectionWidth=u.value.getBoundingClientRect().width},Ye=()=>{a.collapseItemWidth=_.value.getBoundingClientRect().width},yt=()=>{var ht,Pt;(Pt=(ht=d.value)==null?void 0:ht.updatePopper)==null||Pt.call(ht)},Mt=()=>{var ht,Pt;(Pt=(ht=f.value)==null?void 0:ht.updatePopper)==null||Pt.call(ht)},qt=()=>{a.inputValue.length>0&&!K.value&&(K.value=!0),Ze(a.inputValue)},Ht=ht=>{if(a.inputValue=ht.target.value,e.remote)gn();else return qt()},gn=xs(()=>{qt()},Fe.value),en=ht=>{zr(e.modelValue,ht)||t(Nn,ht)},jn=ht=>q2(ht,Pt=>{const Sn=a.cachedOptions.get(Pt);return Sn&&!Sn.disabled&&!Sn.states.groupDisabled}),Bn=ht=>{if(e.multiple&&ht.code!==gt.delete&&ht.target.value.length<=0){const Pt=qr(e.modelValue).slice(),Sn=jn(Pt);if(Sn<0)return;const lr=Pt[Sn];Pt.splice(Sn,1),t(Kt,Pt),en(Pt),t("remove-tag",lr)}},Ue=(ht,Pt)=>{const Sn=a.selected.indexOf(Pt);if(Sn>-1&&!Z.value){const lr=qr(e.modelValue).slice();lr.splice(Sn,1),t(Kt,lr),en(lr),t("remove-tag",Pt.value)}ht.stopPropagation(),yr()},Ae=ht=>{ht.stopPropagation();const Pt=e.multiple?[]:xe.value;if(e.multiple)for(const Sn of a.selected)Sn.isDisabled&&Pt.push(Sn.value);t(Kt,Pt),en(Pt),a.hoveringIndex=-1,K.value=!1,t("clear"),yr()},Ke=ht=>{var Pt;if(e.multiple){const Sn=qr((Pt=e.modelValue)!=null?Pt:[]).slice(),lr=_e(Sn,ht);lr>-1?Sn.splice(lr,1):(e.multipleLimit<=0||Sn.length<e.multipleLimit)&&Sn.push(ht.value),t(Kt,Sn),en(Sn),ht.created&&Ze(""),e.filterable&&!e.reserveKeyword&&(a.inputValue="")}else t(Kt,ht.value),en(ht.value),K.value=!1;yr(),!K.value&&Et(()=>{lt(ht)})},_e=(ht=[],Pt)=>xn(Pt)?-1:jt(Pt.value)?ht.findIndex(Sn=>zr(cr(Sn,e.valueKey),Ss(Pt))):ht.indexOf(Pt.value),lt=ht=>{var Pt,Sn,lr,$r,pi;const Ls=nt(ht)?ht[0]:ht;let mi=null;if(Ls!=null&&Ls.value){const gi=Ne.value.filter(ga=>ga.value===Ls.value);gi.length>0&&(mi=gi[0].$el)}if(d.value&&mi){const gi=($r=(lr=(Sn=(Pt=d.value)==null?void 0:Pt.popperRef)==null?void 0:Sn.contentRef)==null?void 0:lr.querySelector)==null?void 0:$r.call(lr,`.${s.be("dropdown","wrap")}`);gi&&qg(gi,mi)}(pi=C.value)==null||pi.handleScroll()},Nt=ht=>{a.options.set(ht.value,ht),a.cachedOptions.set(ht.value,ht)},Jt=(ht,Pt)=>{a.options.get(ht)===Pt&&a.options.delete(ht)},An=L(()=>{var ht,Pt;return(Pt=(ht=d.value)==null?void 0:ht.popperRef)==null?void 0:Pt.contentRef}),Kn=()=>{a.isBeforeHide=!1,Et(()=>lt(a.selected))},yr=()=>{var ht;(ht=p.value)==null||ht.focus()},rn=()=>{var ht;if(K.value){K.value=!1,Et(()=>{var Pt;return(Pt=p.value)==null?void 0:Pt.blur()});return}(ht=p.value)==null||ht.blur()},rr=ht=>{Ae(ht)},Ln=ht=>{if(K.value=!1,H.value){const Pt=new FocusEvent("focus",ht);Et(()=>U(Pt))}},br=()=>{a.inputValue.length>0?a.inputValue="":K.value=!1},Is=()=>{Z.value||(tm&&(a.inputHovering=!0),a.menuVisibleOnFocus?a.menuVisibleOnFocus=!1:K.value=!K.value)},hi=()=>{if(!K.value)Is();else{const ht=Ne.value[a.hoveringIndex];ht&&!ht.isDisabled&&Ke(ht)}},Ss=ht=>jt(ht.value)?cr(ht.value,e.valueKey):ht.value,Zl=L(()=>Ne.value.filter(ht=>ht.visible).every(ht=>ht.isDisabled)),ma=L(()=>e.multiple?e.collapseTags?a.selected.slice(0,e.maxCollapseTags):a.selected:[]),Ni=L(()=>e.multiple?e.collapseTags?a.selected.slice(e.maxCollapseTags):[]:[]),to=ht=>{if(!K.value){K.value=!0;return}if(!(a.options.size===0||he.value===0||M.value)&&!Zl.value){ht==="next"?(a.hoveringIndex++,a.hoveringIndex===a.options.size&&(a.hoveringIndex=0)):ht==="prev"&&(a.hoveringIndex--,a.hoveringIndex<0&&(a.hoveringIndex=a.options.size-1));const Pt=Ne.value[a.hoveringIndex];(Pt.isDisabled||!Pt.visible)&&to(ht),Et(()=>lt(G.value))}},no=()=>{if(!u.value)return 0;const ht=window.getComputedStyle(u.value);return Number.parseFloat(ht.gap||"6px")},ro=L(()=>{const ht=no();return{maxWidth:`${_.value&&e.maxCollapseTags===1?a.selectionWidth-a.collapseItemWidth-ht:a.selectionWidth}px`}}),As=L(()=>({maxWidth:`${a.selectionWidth}px`}));return Jn(u,mt),Jn(w,yt),Jn(D,yt),Jn(b,Mt),Jn(_,Ye),Ut(()=>{it()}),{inputId:de,contentId:r,nsSelect:s,nsInput:i,states:a,isFocused:H,expanded:K,optionsArray:Ne,hoverOption:G,selectSize:ae,filteredOptionsCount:he,updateTooltip:yt,updateTagTooltip:Mt,debouncedOnInputChange:gn,onInput:Ht,deletePrevTag:Bn,deleteTag:Ue,deleteSelected:Ae,handleOptionSelect:Ke,scrollToOption:lt,hasModelValue:ne,shouldShowPlaceholder:Ge,currentPlaceholder:Qe,mouseEnterEventName:Le,needStatusIcon:ee,showClose:J,iconComponent:fe,iconReverse:ge,validateState:ke,validateIcon:ye,showNewOption:et,updateOptions:qe,collapseTagSize:be,setSelected:it,selectDisabled:Z,emptyText:He,handleCompositionStart:E,handleCompositionUpdate:k,handleCompositionEnd:A,onOptionCreate:Nt,onOptionDestroy:Jt,handleMenuEnter:Kn,focus:yr,blur:rn,handleClearClick:rr,handleClickOutside:Ln,handleEsc:br,toggleMenu:Is,selectOption:hi,getValueKey:Ss,navigateOptions:to,dropdownMenuVisible:$e,showTagList:ma,collapseTagList:Ni,tagStyle:ro,collapseTagStyle:As,popperRef:An,inputRef:p,tooltipRef:d,tagTooltipRef:f,prefixRef:g,suffixRef:v,selectRef:l,wrapperRef:D,selectionRef:u,scrollbarRef:C,menuRef:w,tagMenuRef:b,collapseItemRef:_}};var Sj=ve({name:"ElOptions",setup(e,{slots:t}){const n=vt(Xl);let r=[];return()=>{var s,i;const a=(s=t.default)==null?void 0:s.call(t),l=[];function u(d){nt(d)&&d.forEach(f=>{var p,g,v,w;const b=(p=(f==null?void 0:f.type)||{})==null?void 0:p.name;b==="ElOptionGroup"?u(!xt(f.children)&&!nt(f.children)&&_t((g=f.children)==null?void 0:g.default)?(v=f.children)==null?void 0:v.default():f.children):b==="ElOption"?l.push((w=f.props)==null?void 0:w.value):nt(f.children)&&u(f.children)})}return a.length&&u((i=a[0])==null?void 0:i.children),zr(l,r)||(r=l,n&&(n.states.optionValues=l)),a}}});const Cj=st({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:vr,effect:{type:Ie(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Ie(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:Ir.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Pn,default:da},fitInputWidth:Boolean,suffixIcon:{type:Pn,default:ca},tagType:{...ra.type,default:"info"},tagEffect:{...ra.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:Ie(String),values:fa,default:"bottom-start"},fallbackPlacements:{type:Ie(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:String,...Ul,...Fr(["ariaLabel"])}),C1="ElSelect",_j=ve({name:C1,componentName:C1,components:{ElSelectMenu:wj,ElOption:Fv,ElOptions:Sj,ElTag:El,ElScrollbar:Mi,ElTooltip:Hr,ElIcon:wt},directives:{ClickOutside:sa},props:Cj,emits:[Kt,Nn,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const n=L(()=>{const{modelValue:u,multiple:d}=e,f=d?[]:void 0;return nt(u)?d?u:f:d?f:u}),r=wn({...Er(e),modelValue:n}),s=xj(r,t),{calculatorRef:i,inputStyle:a}=Nv();Qt(Xl,wn({props:r,states:s.states,optionsArray:s.optionsArray,handleOptionSelect:s.handleOptionSelect,onOptionCreate:s.onOptionCreate,onOptionDestroy:s.onOptionDestroy,selectRef:s.selectRef,setSelected:s.setSelected}));const l=L(()=>e.multiple?s.states.selected.map(u=>u.currentLabel):s.states.selectedLabel);return{...s,modelValue:n,selectedLabel:l,calculatorRef:i,inputStyle:a}}});function Tj(e,t,n,r,s,i){const a=Dt("el-tag"),l=Dt("el-tooltip"),u=Dt("el-icon"),d=Dt("el-option"),f=Dt("el-options"),p=Dt("el-scrollbar"),g=Dt("el-select-menu"),v=Wf("click-outside");return Bt((V(),le("div",{ref:"selectRef",class:W([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),[xu(e.mouseEnterEventName)]:w=>e.states.inputHovering=!0,onMouseleave:w=>e.states.inputHovering=!1},[pe(l,{ref:"tooltipRef",visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:w=>e.states.isBeforeHide=!1},{default:Se(()=>{var w;return[ue("div",{ref:"wrapperRef",class:W([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:Lt(e.toggleMenu,["prevent"])},[e.$slots.prefix?(V(),le("div",{key:0,ref:"prefixRef",class:W(e.nsSelect.e("prefix"))},[Oe(e.$slots,"prefix")],2)):Re("v-if",!0),ue("div",{ref:"selectionRef",class:W([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?Oe(e.$slots,"tag",{key:0},()=>[(V(!0),le(Ct,null,nn(e.showTagList,b=>(V(),le("div",{key:e.getValueKey(b),class:W(e.nsSelect.e("selected-item"))},[pe(a,{closable:!e.selectDisabled&&!b.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:Tt(e.tagStyle),onClose:_=>e.deleteTag(_,b)},{default:Se(()=>[ue("span",{class:W(e.nsSelect.e("tags-text"))},[Oe(e.$slots,"label",{label:b.currentLabel,value:b.value},()=>[At(at(b.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(V(),Ve(l,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:Se(()=>[ue("div",{ref:"collapseItemRef",class:W(e.nsSelect.e("selected-item"))},[pe(a,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:Tt(e.collapseTagStyle)},{default:Se(()=>[ue("span",{class:W(e.nsSelect.e("tags-text"))}," + "+at(e.states.selected.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:Se(()=>[ue("div",{ref:"tagMenuRef",class:W(e.nsSelect.e("selection"))},[(V(!0),le(Ct,null,nn(e.collapseTagList,b=>(V(),le("div",{key:e.getValueKey(b),class:W(e.nsSelect.e("selected-item"))},[pe(a,{class:"in-tooltip",closable:!e.selectDisabled&&!b.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:_=>e.deleteTag(_,b)},{default:Se(()=>[ue("span",{class:W(e.nsSelect.e("tags-text"))},[Oe(e.$slots,"label",{label:b.currentLabel,value:b.value},()=>[At(at(b.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):Re("v-if",!0)]):Re("v-if",!0),ue("div",{class:W([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[Bt(ue("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":b=>e.states.inputValue=b,type:"text",name:e.name,class:W([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:Tt(e.inputStyle),tabindex:e.tabindex,role:"combobox",readonly:!e.filterable,spellcheck:"false","aria-activedescendant":((w=e.hoverOption)==null?void 0:w.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[Vn(Lt(b=>e.navigateOptions("next"),["stop","prevent"]),["down"]),Vn(Lt(b=>e.navigateOptions("prev"),["stop","prevent"]),["up"]),Vn(Lt(e.handleEsc,["stop","prevent"]),["esc"]),Vn(Lt(e.selectOption,["stop","prevent"]),["enter"]),Vn(Lt(e.deletePrevTag,["stop"]),["delete"])],onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onInput:e.onInput,onClick:Lt(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[Gf,e.states.inputValue]]),e.filterable?(V(),le("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:W(e.nsSelect.e("input-calculator")),textContent:at(e.states.inputValue)},null,10,["textContent"])):Re("v-if",!0)],2),e.shouldShowPlaceholder?(V(),le("div",{key:1,class:W([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?Oe(e.$slots,"label",{key:0,label:e.currentPlaceholder,value:e.modelValue},()=>[ue("span",null,at(e.currentPlaceholder),1)]):(V(),le("span",{key:1},at(e.currentPlaceholder),1))],2)):Re("v-if",!0)],2),ue("div",{ref:"suffixRef",class:W(e.nsSelect.e("suffix"))},[e.iconComponent&&!e.showClose?(V(),Ve(u,{key:0,class:W([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:Se(()=>[(V(),Ve(Yt(e.iconComponent)))]),_:1},8,["class"])):Re("v-if",!0),e.showClose&&e.clearIcon?(V(),Ve(u,{key:1,class:W([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.nsSelect.e("clear")]),onClick:e.handleClearClick},{default:Se(()=>[(V(),Ve(Yt(e.clearIcon)))]),_:1},8,["class","onClick"])):Re("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(V(),Ve(u,{key:2,class:W([e.nsInput.e("icon"),e.nsInput.e("validateIcon"),e.nsInput.is("loading",e.validateState==="validating")])},{default:Se(()=>[(V(),Ve(Yt(e.validateIcon)))]),_:1},8,["class"])):Re("v-if",!0)],2)],10,["onClick"])]}),content:Se(()=>[pe(g,{ref:"menuRef"},{default:Se(()=>[e.$slots.header?(V(),le("div",{key:0,class:W(e.nsSelect.be("dropdown","header")),onClick:Lt(()=>{},["stop"])},[Oe(e.$slots,"header")],10,["onClick"])):Re("v-if",!0),Bt(pe(p,{id:e.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:W([e.nsSelect.is("empty",e.filteredOptionsCount===0)]),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical"},{default:Se(()=>[e.showNewOption?(V(),Ve(d,{key:0,value:e.states.inputValue,created:!0},null,8,["value"])):Re("v-if",!0),pe(f,null,{default:Se(()=>[Oe(e.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[mn,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(V(),le("div",{key:1,class:W(e.nsSelect.be("dropdown","loading"))},[Oe(e.$slots,"loading")],2)):e.loading||e.filteredOptionsCount===0?(V(),le("div",{key:2,class:W(e.nsSelect.be("dropdown","empty"))},[Oe(e.$slots,"empty",{},()=>[ue("span",null,at(e.emptyText),1)])],2)):Re("v-if",!0),e.$slots.footer?(V(),le("div",{key:3,class:W(e.nsSelect.be("dropdown","footer")),onClick:Lt(()=>{},["stop"])},[Oe(e.$slots,"footer")],10,["onClick"])):Re("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],16,["onMouseleave"])),[[v,e.handleClickOutside,e.popperRef]])}var kj=ot(_j,[["render",Tj],["__file","select.vue"]]);const Ej=ve({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const t=Xe("select"),n=Q(null),r=Gt(),s=Q([]);Qt(gT,wn({...Er(e)}));const i=L(()=>s.value.some(d=>d.visible===!0)),a=d=>{var f,p;return((f=d.type)==null?void 0:f.name)==="ElOption"&&!!((p=d.component)!=null&&p.proxy)},l=d=>{const f=qr(d),p=[];return f.forEach(g=>{var v,w;a(g)?p.push(g.component.proxy):(v=g.children)!=null&&v.length?p.push(...l(g.children)):(w=g.component)!=null&&w.subTree&&p.push(...l(g.component.subTree))}),p},u=()=>{s.value=l(r.subTree)};return Ut(()=>{u()}),rC(n,u,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:i,ns:t}}});function $j(e,t,n,r,s,i){return Bt((V(),le("ul",{ref:"groupRef",class:W(e.ns.be("group","wrap"))},[ue("li",{class:W(e.ns.be("group","title"))},at(e.label),3),ue("li",null,[ue("ul",{class:W(e.ns.b("group"))},[Oe(e.$slots,"default")],2)])],2)),[[mn,e.visible]])}var vT=ot(Ej,[["render",$j],["__file","option-group.vue"]]);const Mo=zt(kj,{Option:Fv,OptionGroup:vT}),wf=Qn(Fv),Ij=Qn(vT),Vv=()=>vt(mT,{}),Aj=st({pageSize:{type:Number,required:!0},pageSizes:{type:Ie(Array),default:()=>Zn([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:Oi},appendSizeTo:String}),Lj=ve({name:"ElPaginationSizes"}),Oj=ve({...Lj,props:Aj,emits:["page-size-change"],setup(e,{emit:t}){const n=e,{t:r}=cn(),s=Xe("pagination"),i=Vv(),a=Q(n.pageSize);je(()=>n.pageSizes,(d,f)=>{if(!zr(d,f)&&nt(d)){const p=d.includes(n.pageSize)?n.pageSize:n.pageSizes[0];t("page-size-change",p)}}),je(()=>n.pageSize,d=>{a.value=d});const l=L(()=>n.pageSizes);function u(d){var f;d!==a.value&&(a.value=d,(f=i.handleSizeChange)==null||f.call(i,Number(d)))}return(d,f)=>(V(),le("span",{class:W(o(s).e("sizes"))},[pe(o(Mo),{"model-value":a.value,disabled:d.disabled,"popper-class":d.popperClass,size:d.size,teleported:d.teleported,"validate-event":!1,"append-to":d.appendSizeTo,onChange:u},{default:Se(()=>[(V(!0),le(Ct,null,nn(o(l),p=>(V(),Ve(o(wf),{key:p,value:p,label:p+o(r)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported","append-to"])],2))}});var Mj=ot(Oj,[["__file","sizes.vue"]]);const Rj=st({size:{type:String,values:Oi}}),Dj=ve({name:"ElPaginationJumper"}),Nj=ve({...Dj,props:Rj,setup(e){const{t}=cn(),n=Xe("pagination"),{pageCount:r,disabled:s,currentPage:i,changeEvent:a}=Vv(),l=Q(),u=L(()=>{var p;return(p=l.value)!=null?p:i==null?void 0:i.value});function d(p){l.value=p?+p:""}function f(p){p=Math.trunc(+p),a==null||a(p),l.value=void 0}return(p,g)=>(V(),le("span",{class:W(o(n).e("jump")),disabled:o(s)},[ue("span",{class:W([o(n).e("goto")])},at(o(t)("el.pagination.goto")),3),pe(o(Zr),{size:p.size,class:W([o(n).e("editor"),o(n).is("in-pagination")]),min:1,max:o(r),disabled:o(s),"model-value":o(u),"validate-event":!1,"aria-label":o(t)("el.pagination.page"),type:"number","onUpdate:modelValue":d,onChange:f},null,8,["size","class","max","disabled","model-value","aria-label"]),ue("span",{class:W([o(n).e("classifier")])},at(o(t)("el.pagination.pageClassifier")),3)],10,["disabled"]))}});var Pj=ot(Nj,[["__file","jumper.vue"]]);const Fj=st({total:{type:Number,default:1e3}}),Vj=ve({name:"ElPaginationTotal"}),zj=ve({...Vj,props:Fj,setup(e){const{t}=cn(),n=Xe("pagination"),{disabled:r}=Vv();return(s,i)=>(V(),le("span",{class:W(o(n).e("total")),disabled:o(r)},at(o(t)("el.pagination.total",{total:s.total})),11,["disabled"]))}});var Bj=ot(zj,[["__file","total.vue"]]);const Kj=st({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),Hj=ve({name:"ElPaginationPager"}),Wj=ve({...Hj,props:Kj,emits:["change"],setup(e,{emit:t}){const n=e,r=Xe("pager"),s=Xe("icon"),{t:i}=cn(),a=Q(!1),l=Q(!1),u=Q(!1),d=Q(!1),f=Q(!1),p=Q(!1),g=L(()=>{const k=n.pagerCount,A=(k-1)/2,D=Number(n.currentPage),H=Number(n.pageCount);let U=!1,K=!1;H>k&&(D>k-A&&(U=!0),D<H-A&&(K=!0));const G=[];if(U&&!K){const q=H-(k-2);for(let Y=q;Y<H;Y++)G.push(Y)}else if(!U&&K)for(let q=2;q<k;q++)G.push(q);else if(U&&K){const q=Math.floor(k/2)-1;for(let Y=D-q;Y<=D+q;Y++)G.push(Y)}else for(let q=2;q<H;q++)G.push(q);return G}),v=L(()=>["more","btn-quickprev",s.b(),r.is("disabled",n.disabled)]),w=L(()=>["more","btn-quicknext",s.b(),r.is("disabled",n.disabled)]),b=L(()=>n.disabled?-1:0);Vr(()=>{const k=(n.pagerCount-1)/2;a.value=!1,l.value=!1,n.pageCount>n.pagerCount&&(n.currentPage>n.pagerCount-k&&(a.value=!0),n.currentPage<n.pageCount-k&&(l.value=!0))});function _(k=!1){n.disabled||(k?u.value=!0:d.value=!0)}function C(k=!1){k?f.value=!0:p.value=!0}function M(k){const A=k.target;if(A.tagName.toLowerCase()==="li"&&Array.from(A.classList).includes("number")){const D=Number(A.textContent);D!==n.currentPage&&t("change",D)}else A.tagName.toLowerCase()==="li"&&Array.from(A.classList).includes("more")&&E(k)}function E(k){const A=k.target;if(A.tagName.toLowerCase()==="ul"||n.disabled)return;let D=Number(A.textContent);const H=n.pageCount,U=n.currentPage,K=n.pagerCount-2;A.className.includes("more")&&(A.className.includes("quickprev")?D=U-K:A.className.includes("quicknext")&&(D=U+K)),Number.isNaN(+D)||(D<1&&(D=1),D>H&&(D=H)),D!==U&&t("change",D)}return(k,A)=>(V(),le("ul",{class:W(o(r).b()),onClick:E,onKeyup:Vn(M,["enter"])},[k.pageCount>0?(V(),le("li",{key:0,class:W([[o(r).is("active",k.currentPage===1),o(r).is("disabled",k.disabled)],"number"]),"aria-current":k.currentPage===1,"aria-label":o(i)("el.pagination.currentPage",{pager:1}),tabindex:o(b)}," 1 ",10,["aria-current","aria-label","tabindex"])):Re("v-if",!0),a.value?(V(),le("li",{key:1,class:W(o(v)),tabindex:o(b),"aria-label":o(i)("el.pagination.prevPages",{pager:k.pagerCount-2}),onMouseenter:D=>_(!0),onMouseleave:D=>u.value=!1,onFocus:D=>C(!0),onBlur:D=>f.value=!1},[(u.value||f.value)&&!k.disabled?(V(),Ve(o(Ua),{key:0})):(V(),Ve(o(fw),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):Re("v-if",!0),(V(!0),le(Ct,null,nn(o(g),D=>(V(),le("li",{key:D,class:W([[o(r).is("active",k.currentPage===D),o(r).is("disabled",k.disabled)],"number"]),"aria-current":k.currentPage===D,"aria-label":o(i)("el.pagination.currentPage",{pager:D}),tabindex:o(b)},at(D),11,["aria-current","aria-label","tabindex"]))),128)),l.value?(V(),le("li",{key:2,class:W(o(w)),tabindex:o(b),"aria-label":o(i)("el.pagination.nextPages",{pager:k.pagerCount-2}),onMouseenter:D=>_(),onMouseleave:D=>d.value=!1,onFocus:D=>C(),onBlur:D=>p.value=!1},[(d.value||p.value)&&!k.disabled?(V(),Ve(o(ja),{key:0})):(V(),Ve(o(fw),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):Re("v-if",!0),k.pageCount>1?(V(),le("li",{key:3,class:W([[o(r).is("active",k.currentPage===k.pageCount),o(r).is("disabled",k.disabled)],"number"]),"aria-current":k.currentPage===k.pageCount,"aria-label":o(i)("el.pagination.currentPage",{pager:k.pageCount}),tabindex:o(b)},at(k.pageCount),11,["aria-current","aria-label","tabindex"])):Re("v-if",!0)],42,["onKeyup"]))}});var Uj=ot(Wj,[["__file","pager.vue"]]);const ns=e=>typeof e!="number",jj=st({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>$t(e)&&Math.trunc(e)===e&&e>4&&e<22&&e%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:Ie(Array),default:()=>Zn([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:Pn,default:()=>Wa},nextText:{type:String,default:""},nextIcon:{type:Pn,default:()=>cs},teleported:{type:Boolean,default:!0},small:Boolean,size:vr,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean,appendSizeTo:String}),Gj={"update:current-page":e=>$t(e),"update:page-size":e=>$t(e),"size-change":e=>$t(e),change:(e,t)=>$t(e)&&$t(t),"current-change":e=>$t(e),"prev-click":e=>$t(e),"next-click":e=>$t(e)},_1="ElPagination";var Yj=ve({name:_1,props:jj,emits:Gj,setup(e,{emit:t,slots:n}){const{t:r}=cn(),s=Xe("pagination"),i=Gt().vnode.props||{},a=cC(),l=L(()=>{var A;return e.small?"small":(A=e.size)!=null?A:a.value});Da({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},L(()=>!!e.small));const u="onUpdate:currentPage"in i||"onUpdate:current-page"in i||"onCurrentChange"in i,d="onUpdate:pageSize"in i||"onUpdate:page-size"in i||"onSizeChange"in i,f=L(()=>{if(ns(e.total)&&ns(e.pageCount)||!ns(e.currentPage)&&!u)return!1;if(e.layout.includes("sizes")){if(ns(e.pageCount)){if(!ns(e.total)&&!ns(e.pageSize)&&!d)return!1}else if(!d)return!1}return!0}),p=Q(ns(e.defaultPageSize)?10:e.defaultPageSize),g=Q(ns(e.defaultCurrentPage)?1:e.defaultCurrentPage),v=L({get(){return ns(e.pageSize)?p.value:e.pageSize},set(A){ns(e.pageSize)&&(p.value=A),d&&(t("update:page-size",A),t("size-change",A))}}),w=L(()=>{let A=0;return ns(e.pageCount)?ns(e.total)||(A=Math.max(1,Math.ceil(e.total/v.value))):A=e.pageCount,A}),b=L({get(){return ns(e.currentPage)?g.value:e.currentPage},set(A){let D=A;A<1?D=1:A>w.value&&(D=w.value),ns(e.currentPage)&&(g.value=D),u&&(t("update:current-page",D),t("current-change",D))}});je(w,A=>{b.value>A&&(b.value=A)}),je([b,v],A=>{t("change",...A)},{flush:"post"});function _(A){b.value=A}function C(A){v.value=A;const D=w.value;b.value>D&&(b.value=D)}function M(){e.disabled||(b.value-=1,t("prev-click",b.value))}function E(){e.disabled||(b.value+=1,t("next-click",b.value))}function k(A,D){A&&(A.props||(A.props={}),A.props.class=[A.props.class,D].join(" "))}return Qt(mT,{pageCount:w,disabled:L(()=>e.disabled),currentPage:b,changeEvent:_,handleSizeChange:C}),()=>{var A,D;if(!f.value)return r("el.pagination.deprecationWarning"),null;if(!e.layout||e.hideOnSinglePage&&w.value<=1)return null;const H=[],U=[],K=It("div",{class:s.e("rightwrapper")},U),G={prev:It(cj,{disabled:e.disabled,currentPage:b.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:M}),jumper:It(Pj,{size:l.value}),pager:It(Uj,{currentPage:b.value,pageCount:w.value,pagerCount:e.pagerCount,onChange:_,disabled:e.disabled}),next:It(pj,{disabled:e.disabled,currentPage:b.value,pageCount:w.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:E}),sizes:It(Mj,{pageSize:v.value,pageSizes:e.pageSizes,popperClass:e.popperClass,disabled:e.disabled,teleported:e.teleported,size:l.value,appendSizeTo:e.appendSizeTo}),slot:(D=(A=n==null?void 0:n.default)==null?void 0:A.call(n))!=null?D:null,total:It(Bj,{total:ns(e.total)?0:e.total})},q=e.layout.split(",").map(de=>de.trim());let Y=!1;return q.forEach(de=>{if(de==="->"){Y=!0;return}Y?U.push(G[de]):H.push(G[de])}),k(H[0],s.is("first")),k(H[H.length-1],s.is("last")),Y&&U.length>0&&(k(U[0],s.is("first")),k(U[U.length-1],s.is("last")),H.push(K)),It("div",{class:[s.b(),s.is("background",e.background),s.m(l.value)]},H)}}});const Xj=zt(Yj),qj=st({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:rm,default:"primary"},cancelButtonType:{type:String,values:rm,default:"text"},icon:{type:Pn,default:()=>k4},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:Ir.teleported,persistent:Ir.persistent,width:{type:[String,Number],default:150}}),Jj={confirm:e=>e instanceof MouseEvent,cancel:e=>e instanceof MouseEvent},Zj=ve({name:"ElPopconfirm"}),Qj=ve({...Zj,props:qj,emits:Jj,setup(e,{emit:t}){const n=e,{t:r}=cn(),s=Xe("popconfirm"),i=Q(),a=()=>{var g,v;(v=(g=i.value)==null?void 0:g.onClose)==null||v.call(g)},l=L(()=>({width:nr(n.width)})),u=g=>{t("confirm",g),a()},d=g=>{t("cancel",g),a()},f=L(()=>n.confirmButtonText||r("el.popconfirm.confirmButtonText")),p=L(()=>n.cancelButtonText||r("el.popconfirm.cancelButtonText"));return(g,v)=>(V(),Ve(o(Hr),Xt({ref_key:"tooltipRef",ref:i,trigger:"click",effect:"light"},g.$attrs,{"popper-class":`${o(s).namespace.value}-popover`,"popper-style":o(l),teleported:g.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":g.hideAfter,persistent:g.persistent}),{content:Se(()=>[ue("div",{class:W(o(s).b())},[ue("div",{class:W(o(s).e("main"))},[!g.hideIcon&&g.icon?(V(),Ve(o(wt),{key:0,class:W(o(s).e("icon")),style:Tt({color:g.iconColor})},{default:Se(()=>[(V(),Ve(Yt(g.icon)))]),_:1},8,["class","style"])):Re("v-if",!0),At(" "+at(g.title),1)],2),ue("div",{class:W(o(s).e("action"))},[Oe(g.$slots,"actions",{confirm:u,cancel:d},()=>[pe(o(Or),{size:"small",type:g.cancelButtonType==="text"?"":g.cancelButtonType,text:g.cancelButtonType==="text",onClick:d},{default:Se(()=>[At(at(o(p)),1)]),_:1},8,["type","text"]),pe(o(Or),{size:"small",type:g.confirmButtonType==="text"?"":g.confirmButtonType,text:g.confirmButtonType==="text",onClick:u},{default:Se(()=>[At(at(o(f)),1)]),_:1},8,["type","text"])])],2)],2)]),default:Se(()=>[g.$slots.reference?Oe(g.$slots,"reference",{key:0}):Re("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var e7=ot(Qj,[["__file","popconfirm.vue"]]);const t7=zt(e7),n7=st({trigger:ec.trigger,placement:Bd.placement,disabled:ec.disabled,visible:Ir.visible,transition:Ir.transition,popperOptions:Bd.popperOptions,tabindex:Bd.tabindex,content:Ir.content,popperStyle:Ir.popperStyle,popperClass:Ir.popperClass,enterable:{...Ir.enterable,default:!0},effect:{...Ir.effect,default:"light"},teleported:Ir.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),r7={"update:visible":e=>zn(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},s7="onUpdate:visible",i7=ve({name:"ElPopover"}),a7=ve({...i7,props:n7,emits:r7,setup(e,{expose:t,emit:n}){const r=e,s=L(()=>r[s7]),i=Xe("popover"),a=Q(),l=L(()=>{var _;return(_=o(a))==null?void 0:_.popperRef}),u=L(()=>[{width:nr(r.width)},r.popperStyle]),d=L(()=>[i.b(),r.popperClass,{[i.m("plain")]:!!r.content}]),f=L(()=>r.transition===`${i.namespace.value}-fade-in-linear`),p=()=>{var _;(_=a.value)==null||_.hide()},g=()=>{n("before-enter")},v=()=>{n("before-leave")},w=()=>{n("after-enter")},b=()=>{n("update:visible",!1),n("after-leave")};return t({popperRef:l,hide:p}),(_,C)=>(V(),Ve(o(Hr),Xt({ref_key:"tooltipRef",ref:a},_.$attrs,{trigger:_.trigger,placement:_.placement,disabled:_.disabled,visible:_.visible,transition:_.transition,"popper-options":_.popperOptions,tabindex:_.tabindex,content:_.content,offset:_.offset,"show-after":_.showAfter,"hide-after":_.hideAfter,"auto-close":_.autoClose,"show-arrow":_.showArrow,"aria-label":_.title,effect:_.effect,enterable:_.enterable,"popper-class":o(d),"popper-style":o(u),teleported:_.teleported,persistent:_.persistent,"gpu-acceleration":o(f),"onUpdate:visible":o(s),onBeforeShow:g,onBeforeHide:v,onShow:w,onHide:b}),{content:Se(()=>[_.title?(V(),le("div",{key:0,class:W(o(i).e("title")),role:"title"},at(_.title),3)):Re("v-if",!0),Oe(_.$slots,"default",{},()=>[At(at(_.content),1)])]),default:Se(()=>[_.$slots.reference?Oe(_.$slots,"reference",{key:0}):Re("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var o7=ot(a7,[["__file","popover.vue"]]);const T1=(e,t)=>{const n=t.arg||t.value,r=n==null?void 0:n.popperRef;r&&(r.triggerRef=e)};var l7={mounted(e,t){T1(e,t)},updated(e,t){T1(e,t)}};const u7="popover",yT=DP(l7,u7),c7=zt(o7,{directive:yT}),d7=st({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:Ie(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:Ie([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:Ie(Function),default:e=>`${e}%`}}),f7=ve({name:"ElProgress"}),h7=ve({...f7,props:d7,setup(e){const t=e,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},r=Xe("progress"),s=L(()=>{const E={width:`${t.percentage}%`,animationDuration:`${t.duration}s`},k=M(t.percentage);return k.includes("gradient")?E.background=k:E.backgroundColor=k,E}),i=L(()=>(t.strokeWidth/t.width*100).toFixed(1)),a=L(()=>["circle","dashboard"].includes(t.type)?Number.parseInt(`${50-Number.parseFloat(i.value)/2}`,10):0),l=L(()=>{const E=a.value,k=t.type==="dashboard";return`
          M 50 50
          m 0 ${k?"":"-"}${E}
          a ${E} ${E} 0 1 1 0 ${k?"-":""}${E*2}
          a ${E} ${E} 0 1 1 0 ${k?"":"-"}${E*2}
          `}),u=L(()=>2*Math.PI*a.value),d=L(()=>t.type==="dashboard"?.75:1),f=L(()=>`${-1*u.value*(1-d.value)/2}px`),p=L(()=>({strokeDasharray:`${u.value*d.value}px, ${u.value}px`,strokeDashoffset:f.value})),g=L(()=>({strokeDasharray:`${u.value*d.value*(t.percentage/100)}px, ${u.value}px`,strokeDashoffset:f.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),v=L(()=>{let E;return t.color?E=M(t.percentage):E=n[t.status]||n.default,E}),w=L(()=>t.status==="warning"?ah:t.type==="line"?t.status==="success"?Zg:da:t.status==="success"?Tc:ii),b=L(()=>t.type==="line"?12+t.strokeWidth*.4:t.width*.111111+2),_=L(()=>t.format(t.percentage));function C(E){const k=100/E.length;return E.map((D,H)=>xt(D)?{color:D,percentage:(H+1)*k}:D).sort((D,H)=>D.percentage-H.percentage)}const M=E=>{var k;const{color:A}=t;if(_t(A))return A(E);if(xt(A))return A;{const D=C(A);for(const H of D)if(H.percentage>E)return H.color;return(k=D[D.length-1])==null?void 0:k.color}};return(E,k)=>(V(),le("div",{class:W([o(r).b(),o(r).m(E.type),o(r).is(E.status),{[o(r).m("without-text")]:!E.showText,[o(r).m("text-inside")]:E.textInside}]),role:"progressbar","aria-valuenow":E.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[E.type==="line"?(V(),le("div",{key:0,class:W(o(r).b("bar"))},[ue("div",{class:W(o(r).be("bar","outer")),style:Tt({height:`${E.strokeWidth}px`})},[ue("div",{class:W([o(r).be("bar","inner"),{[o(r).bem("bar","inner","indeterminate")]:E.indeterminate},{[o(r).bem("bar","inner","striped")]:E.striped},{[o(r).bem("bar","inner","striped-flow")]:E.stripedFlow}]),style:Tt(o(s))},[(E.showText||E.$slots.default)&&E.textInside?(V(),le("div",{key:0,class:W(o(r).be("bar","innerText"))},[Oe(E.$slots,"default",{percentage:E.percentage},()=>[ue("span",null,at(o(_)),1)])],2)):Re("v-if",!0)],6)],6)],2)):(V(),le("div",{key:1,class:W(o(r).b("circle")),style:Tt({height:`${E.width}px`,width:`${E.width}px`})},[(V(),le("svg",{viewBox:"0 0 100 100"},[ue("path",{class:W(o(r).be("circle","track")),d:o(l),stroke:`var(${o(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":E.strokeLinecap,"stroke-width":o(i),fill:"none",style:Tt(o(p))},null,14,["d","stroke","stroke-linecap","stroke-width"]),ue("path",{class:W(o(r).be("circle","path")),d:o(l),stroke:o(v),fill:"none",opacity:E.percentage?1:0,"stroke-linecap":E.strokeLinecap,"stroke-width":o(i),style:Tt(o(g))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(E.showText||E.$slots.default)&&!E.textInside?(V(),le("div",{key:2,class:W(o(r).e("text")),style:Tt({fontSize:`${o(b)}px`})},[Oe(E.$slots,"default",{percentage:E.percentage},()=>[E.status?(V(),Ve(o(wt),{key:1},{default:Se(()=>[(V(),Ve(Yt(o(w))))]),_:1})):(V(),le("span",{key:0},at(o(_)),1))])],6)):Re("v-if",!0)],10,["aria-valuenow"]))}});var p7=ot(h7,[["__file","progress.vue"]]);const bT=zt(p7),m7=st({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:Ie([Array,Object]),default:()=>Zn(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:Ie([Array,Object]),default:()=>[od,od,od]},voidIcon:{type:Pn,default:()=>B4},disabledVoidIcon:{type:Pn,default:()=>od},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:Ie(Array),default:()=>Zn(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:vr,clearable:Boolean,...Fr(["ariaLabel"])}),g7={[Nn]:e=>$t(e),[Kt]:e=>$t(e)},v7=ve({name:"ElRate"}),y7=ve({...v7,props:m7,emits:g7,setup(e,{expose:t,emit:n}){const r=e;function s(Z,ne){const ee=ge=>jt(ge),J=Object.keys(ne).map(ge=>+ge).filter(ge=>{const ke=ne[ge];return(ee(ke)?ke.excluded:!1)?Z<ge:Z<=ge}).sort((ge,ke)=>ge-ke),fe=ne[J[0]];return ee(fe)&&fe.value||fe}const i=vt(zo,void 0),a=vt(Ii,void 0),l=pr(),u=Xe("rate"),{inputId:d,isLabeledByFormItem:f}=Us(r,{formItemContext:a}),p=Q(r.modelValue),g=Q(-1),v=Q(!0),w=L(()=>[u.b(),u.m(l.value)]),b=L(()=>r.disabled||(i==null?void 0:i.disabled)),_=L(()=>u.cssVarBlock({"void-color":r.voidColor,"disabled-void-color":r.disabledVoidColor,"fill-color":k.value})),C=L(()=>{let Z="";return r.showScore?Z=r.scoreTemplate.replace(/\{\s*value\s*\}/,b.value?`${r.modelValue}`:`${p.value}`):r.showText&&(Z=r.texts[Math.ceil(p.value)-1]),Z}),M=L(()=>r.modelValue*100-Math.floor(r.modelValue)*100),E=L(()=>nt(r.colors)?{[r.lowThreshold]:r.colors[0],[r.highThreshold]:{value:r.colors[1],excluded:!0},[r.max]:r.colors[2]}:r.colors),k=L(()=>{const Z=s(p.value,E.value);return jt(Z)?"":Z}),A=L(()=>{let Z="";return b.value?Z=`${M.value}%`:r.allowHalf&&(Z="50%"),{color:k.value,width:Z}}),D=L(()=>{let Z=nt(r.icons)?[...r.icons]:{...r.icons};return Z=_i(Z),nt(Z)?{[r.lowThreshold]:Z[0],[r.highThreshold]:{value:Z[1],excluded:!0},[r.max]:Z[2]}:Z}),H=L(()=>s(r.modelValue,D.value)),U=L(()=>b.value?xt(r.disabledVoidIcon)?r.disabledVoidIcon:_i(r.disabledVoidIcon):xt(r.voidIcon)?r.voidIcon:_i(r.voidIcon)),K=L(()=>s(p.value,D.value));function G(Z){const ne=b.value&&M.value>0&&Z-1<r.modelValue&&Z>r.modelValue,ee=r.allowHalf&&v.value&&Z-.5<=p.value&&Z>p.value;return ne||ee}function q(Z){r.clearable&&Z===r.modelValue&&(Z=0),n(Kt,Z),r.modelValue!==Z&&n("change",Z)}function Y(Z){b.value||(r.allowHalf&&v.value?q(p.value):q(Z))}function de(Z){if(b.value)return;let ne=p.value;const ee=Z.code;return ee===gt.up||ee===gt.right?(r.allowHalf?ne+=.5:ne+=1,Z.stopPropagation(),Z.preventDefault()):(ee===gt.left||ee===gt.down)&&(r.allowHalf?ne-=.5:ne-=1,Z.stopPropagation(),Z.preventDefault()),ne=ne<0?0:ne,ne=ne>r.max?r.max:ne,n(Kt,ne),n("change",ne),ne}function xe(Z,ne){if(!b.value){if(r.allowHalf&&ne){let ee=ne.target;ys(ee,u.e("item"))&&(ee=ee.querySelector(`.${u.e("icon")}`)),(ee.clientWidth===0||ys(ee,u.e("decimal")))&&(ee=ee.parentNode),v.value=ne.offsetX*2<=ee.clientWidth,p.value=v.value?Z-.5:Z}else p.value=Z;g.value=Z}}function oe(){b.value||(r.allowHalf&&(v.value=r.modelValue!==Math.floor(r.modelValue)),p.value=r.modelValue,g.value=-1)}return je(()=>r.modelValue,Z=>{p.value=Z,v.value=r.modelValue!==Math.floor(r.modelValue)}),r.modelValue||n(Kt,0),t({setCurrentValue:xe,resetCurrentValue:oe}),(Z,ne)=>{var ee;return V(),le("div",{id:o(d),class:W([o(w),o(u).is("disabled",o(b))]),role:"slider","aria-label":o(f)?void 0:Z.ariaLabel||"rating","aria-labelledby":o(f)?(ee=o(a))==null?void 0:ee.labelId:void 0,"aria-valuenow":p.value,"aria-valuetext":o(C)||void 0,"aria-valuemin":"0","aria-valuemax":Z.max,tabindex:"0",style:Tt(o(_)),onKeydown:de},[(V(!0),le(Ct,null,nn(Z.max,(J,fe)=>(V(),le("span",{key:fe,class:W(o(u).e("item")),onMousemove:ge=>xe(J,ge),onMouseleave:oe,onClick:ge=>Y(J)},[pe(o(wt),{class:W([o(u).e("icon"),{hover:g.value===J},o(u).is("active",J<=p.value)])},{default:Se(()=>[G(J)?Re("v-if",!0):(V(),le(Ct,{key:0},[Bt((V(),Ve(Yt(o(K)),null,null,512)),[[mn,J<=p.value]]),Bt((V(),Ve(Yt(o(U)),null,null,512)),[[mn,!(J<=p.value)]])],64)),G(J)?(V(),le(Ct,{key:1},[(V(),Ve(Yt(o(U)),{class:W([o(u).em("decimal","box")])},null,8,["class"])),pe(o(wt),{style:Tt(o(A)),class:W([o(u).e("icon"),o(u).e("decimal")])},{default:Se(()=>[(V(),Ve(Yt(o(H))))]),_:1},8,["style","class"])],64)):Re("v-if",!0)]),_:2},1032,["class"])],42,["onMousemove","onClick"]))),128)),Z.showText||Z.showScore?(V(),le("span",{key:0,class:W(o(u).e("text")),style:Tt({color:Z.textColor})},at(o(C)),7)):Re("v-if",!0)],46,["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"])}}});var b7=ot(y7,[["__file","rate.vue"]]);const w7=zt(b7),rl={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},k1={[rl.success]:e4,[rl.warning]:ah,[rl.error]:Qg,[rl.info]:ev},x7=st({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),S7=ve({name:"ElResult"}),C7=ve({...S7,props:x7,setup(e){const t=e,n=Xe("result"),r=L(()=>{const s=t.icon,i=s&&rl[s]?rl[s]:"icon-info",a=k1[i]||k1["icon-info"];return{class:i,component:a}});return(s,i)=>(V(),le("div",{class:W(o(n).b())},[ue("div",{class:W(o(n).e("icon"))},[Oe(s.$slots,"icon",{},()=>[o(r).component?(V(),Ve(Yt(o(r).component),{key:0,class:W(o(r).class)},null,8,["class"])):Re("v-if",!0)])],2),s.title||s.$slots.title?(V(),le("div",{key:0,class:W(o(n).e("title"))},[Oe(s.$slots,"title",{},()=>[ue("p",null,at(s.title),1)])],2)):Re("v-if",!0),s.subTitle||s.$slots["sub-title"]?(V(),le("div",{key:1,class:W(o(n).e("subtitle"))},[Oe(s.$slots,"sub-title",{},()=>[ue("p",null,at(s.subTitle),1)])],2)):Re("v-if",!0),s.$slots.extra?(V(),le("div",{key:2,class:W(o(n).e("extra"))},[Oe(s.$slots,"extra")],2)):Re("v-if",!0)],2))}});var _7=ot(C7,[["__file","result.vue"]]);const T7=zt(_7),k7=["start","center","end","space-around","space-between","space-evenly"],E7=["top","middle","bottom"],$7=st({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:k7,default:"start"},align:{type:String,values:E7}}),I7=ve({name:"ElRow"}),A7=ve({...I7,props:$7,setup(e){const t=e,n=Xe("row"),r=L(()=>t.gutter);Qt(k_,{gutter:r});const s=L(()=>{const a={};return t.gutter&&(a.marginRight=a.marginLeft=`-${t.gutter/2}px`),a}),i=L(()=>[n.b(),n.is(`justify-${t.justify}`,t.justify!=="start"),n.is(`align-${t.align}`,!!t.align)]);return(a,l)=>(V(),Ve(Yt(a.tag),{class:W(o(i)),style:Tt(o(s))},{default:Se(()=>[Oe(a.$slots,"default")]),_:3},8,["class","style"]))}});var L7=ot(A7,[["__file","row.vue"]]);const O7=zt(L7),M7=ve({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup(){return{ns:Xe("select")}}});function R7(e,t,n,r,s,i){return V(),le("div",{class:W(e.ns.be("group","title")),style:Tt({...e.style,lineHeight:`${e.height}px`})},at(e.item.label),7)}var D7=ot(M7,[["render",R7],["__file","group-item.vue"]]);function N7(e,{emit:t}){return{hoverItem:()=>{e.disabled||t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}}}const wT={label:"label",value:"value",disabled:"disabled",options:"options"};function gh(e){const t=L(()=>({...wT,...e.props}));return{aliasProps:t,getLabel:a=>cr(a,t.value.label),getValue:a=>cr(a,t.value.value),getDisabled:a=>cr(a,t.value.disabled),getOptions:a=>cr(a,t.value.options)}}const P7=st({allowCreate:Boolean,autocomplete:{type:Ie(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:Pn,default:da},effect:{type:Ie(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:Ie([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Ie(Array),required:!0},placeholder:{type:String},teleported:Ir.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Ie(Object),default:()=>({})},remote:Boolean,size:vr,props:{type:Ie(Object),default:()=>wT},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},offset:{type:Number,default:12},showArrow:{type:Boolean,default:!0},placement:{type:Ie(String),values:fa,default:"bottom-start"},fallbackPlacements:{type:Ie(Array),default:["bottom-start","top-start","right","left"]},tagType:{...ra.type,default:"info"},tagEffect:{...ra.effect,default:"light"},tabindex:{type:[String,Number],default:0},appendTo:String,fitInputWidth:{type:[Boolean,Number],default:!0,validator(e){return zn(e)||$t(e)}},...Ul,...Fr(["ariaLabel"])}),F7=st({data:Array,disabled:Boolean,hovering:Boolean,item:{type:Ie(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),V7={[Kt]:e=>!0,[Nn]:e=>!0,"remove-tag":e=>!0,"visible-change":e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0},z7={hover:e=>$t(e),select:(e,t)=>!0},zv=Symbol("ElSelectV2Injection"),B7=ve({props:F7,emits:z7,setup(e,{emit:t}){const n=vt(zv),r=Xe("select"),{hoverItem:s,selectOptionClick:i}=N7(e,{emit:t}),{getLabel:a}=gh(n.props);return{ns:r,hoverItem:s,selectOptionClick:i,getLabel:a}}});function K7(e,t,n,r,s,i){return V(),le("li",{"aria-selected":e.selected,style:Tt(e.style),class:W([e.ns.be("dropdown","item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),e.ns.is("hovering",e.hovering)]),onMousemove:e.hoverItem,onClick:Lt(e.selectOptionClick,["stop"])},[Oe(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[ue("span",null,at(e.getLabel(e.item)),1)])],46,["aria-selected","onMousemove","onClick"])}var H7=ot(B7,[["render",K7],["__file","option-item.vue"]]),E1=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function W7(e,t){return!!(e===t||E1(e)&&E1(t))}function U7(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!W7(e[n],t[n]))return!1;return!0}function j7(e,t){t===void 0&&(t=U7);var n=null;function r(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(n&&n.lastThis===this&&t(s,n.lastArgs))return n.lastResult;var a=e.apply(this,s);return n={lastResult:a,lastArgs:s,lastThis:this},a}return r.clear=function(){n=null},r}const xT=()=>{const t=Gt().proxy.$props;return L(()=>{const n=(r,s,i)=>({});return t.perfMode?Qf(n):j7(n)})},_m=50,xf="itemRendered",Sf="scroll",sl="forward",Cf="backward",Ps="auto",vh="smart",sc="start",Ci="center",ic="end",Il="horizontal",Bv="vertical",G7="ltr",hl="rtl",ac="negative",Kv="positive-ascending",Hv="positive-descending",Y7={[Il]:"left",[Bv]:"top"},X7=20,q7={[Il]:"deltaX",[Bv]:"deltaY"},J7=({atEndEdge:e,atStartEdge:t,layout:n},r)=>{let s,i=0;const a=u=>u<0&&t.value||u>0&&e.value;return{hasReachedEdge:a,onWheel:u=>{Oo(s);const d=u[q7[n.value]];a(i)&&a(i+d)||(i+=d,lh()||u.preventDefault(),s=Ha(()=>{r(i),i=0}))}}},Tm=di({type:Ie([Number,Function]),required:!0}),km=di({type:Number}),Em=di({type:Number,default:2}),Z7=di({type:String,values:["ltr","rtl"],default:"ltr"}),$m=di({type:Number,default:0}),_f=di({type:Number,required:!0}),ST=di({type:String,values:["horizontal","vertical"],default:Bv}),CT=st({className:{type:String,default:""},containerElement:{type:Ie([String,Object]),default:"div"},data:{type:Ie(Array),default:()=>Zn([])},direction:Z7,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:Ie([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),_T=st({cache:Em,estimatedItemSize:km,layout:ST,initScrollOffset:$m,total:_f,itemSize:Tm,...CT}),Im={type:Number,default:6},TT={type:Number,default:0},kT={type:Number,default:2},ko=st({columnCache:Em,columnWidth:Tm,estimatedColumnWidth:km,estimatedRowHeight:km,initScrollLeft:$m,initScrollTop:$m,itemKey:{type:Ie(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:Em,rowHeight:Tm,totalColumn:_f,totalRow:_f,hScrollbarSize:Im,vScrollbarSize:Im,scrollbarStartGap:TT,scrollbarEndGap:kT,role:String,...CT}),ET=st({alwaysOn:Boolean,class:String,layout:ST,total:_f,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:Im,startGap:TT,endGap:kT,visible:Boolean}),bo=(e,t)=>e<t?sl:Cf,oc=e=>e===G7||e===hl||e===Il,$1=e=>e===hl;let Yo=null;function Tf(e=!1){if(Yo===null||e){const t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const r=document.createElement("div"),s=r.style;return s.width="100px",s.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?Yo=Hv:(t.scrollLeft=1,t.scrollLeft===0?Yo=ac:Yo=Kv),document.body.removeChild(t),Yo}return Yo}function Q7({move:e,size:t,bar:n},r){const s={},i=`translate${n.axis}(${e}px)`;return s[n.size]=t,s.transform=i,s.msTransform=i,s.webkitTransform=i,r==="horizontal"?s.height="100%":s.width="100%",s}const Am=ve({name:"ElVirtualScrollBar",props:ET,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const n=L(()=>e.startGap+e.endGap),r=Xe("virtual-scrollbar"),s=Xe("scrollbar"),i=Q(),a=Q();let l=null,u=null;const d=wn({isDragging:!1,traveled:0}),f=L(()=>TC[e.layout]),p=L(()=>e.clientSize-o(n)),g=L(()=>({position:"absolute",width:`${Il===e.layout?p.value:e.scrollbarSize}px`,height:`${Il===e.layout?e.scrollbarSize:p.value}px`,[Y7[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),v=L(()=>{const D=e.ratio,H=e.clientSize;if(D>=100)return Number.POSITIVE_INFINITY;if(D>=50)return D*H/100;const U=H/3;return Math.floor(Math.min(Math.max(D*H,X7),U))}),w=L(()=>{if(!Number.isFinite(v.value))return{display:"none"};const D=`${v.value}px`;return Q7({bar:f.value,size:D,move:d.traveled},e.layout)}),b=L(()=>Math.floor(e.clientSize-v.value-o(n))),_=()=>{window.addEventListener("mousemove",k),window.addEventListener("mouseup",E);const D=o(a);D&&(u=document.onselectstart,document.onselectstart=()=>!1,D.addEventListener("touchmove",k,{passive:!0}),D.addEventListener("touchend",E))},C=()=>{window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",E),document.onselectstart=u,u=null;const D=o(a);D&&(D.removeEventListener("touchmove",k),D.removeEventListener("touchend",E))},M=D=>{D.stopImmediatePropagation(),!(D.ctrlKey||[1,2].includes(D.button))&&(d.isDragging=!0,d[f.value.axis]=D.currentTarget[f.value.offset]-(D[f.value.client]-D.currentTarget.getBoundingClientRect()[f.value.direction]),t("start-move"),_())},E=()=>{d.isDragging=!1,d[f.value.axis]=0,t("stop-move"),C()},k=D=>{const{isDragging:H}=d;if(!H||!a.value||!i.value)return;const U=d[f.value.axis];if(!U)return;Oo(l);const K=(i.value.getBoundingClientRect()[f.value.direction]-D[f.value.client])*-1,G=a.value[f.value.offset]-U,q=K-G;l=Ha(()=>{d.traveled=Math.max(e.startGap,Math.min(q,b.value)),t("scroll",q,b.value)})},A=D=>{const H=Math.abs(D.target.getBoundingClientRect()[f.value.direction]-D[f.value.client]),U=a.value[f.value.offset]/2,K=H-U;d.traveled=Math.max(0,Math.min(K,b.value)),t("scroll",K,b.value)};return je(()=>e.scrollFrom,D=>{d.isDragging||(d.traveled=Math.ceil(D*b.value))}),Fn(()=>{C()}),()=>It("div",{role:"presentation",ref:i,class:[r.b(),e.class,(e.alwaysOn||d.isDragging)&&"always-on"],style:g.value,onMousedown:Lt(A,["stop","prevent"]),onTouchstartPrevent:M},It("div",{ref:a,class:s.e("thumb"),style:w.value,onMousedown:M},[]))}}),$T=({name:e,getOffset:t,getItemSize:n,getItemOffset:r,getEstimatedTotalSize:s,getStartIndexForOffset:i,getStopIndexForStartIndex:a,initCache:l,clearCache:u,validateProps:d})=>ve({name:e??"ElVirtualList",props:_T,emits:[xf,Sf],setup(f,{emit:p,expose:g}){d(f);const v=Gt(),w=Xe("vl"),b=Q(l(f,v)),_=xT(),C=Q(),M=Q(),E=Q(),k=Q({isScrolling:!1,scrollDir:"forward",scrollOffset:$t(f.initScrollOffset)?f.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:f.scrollbarAlwaysOn}),A=L(()=>{const{total:ye,cache:Fe}=f,{isScrolling:Be,scrollDir:He,scrollOffset:he}=o(k);if(ye===0)return[0,0,0,0];const Ne=i(f,he,o(b)),Pe=a(f,Ne,he,o(b)),et=!Be||He===Cf?Math.max(1,Fe):1,qe=!Be||He===sl?Math.max(1,Fe):1;return[Math.max(0,Ne-et),Math.max(0,Math.min(ye-1,Pe+qe)),Ne,Pe]}),D=L(()=>s(f,o(b))),H=L(()=>oc(f.layout)),U=L(()=>[{position:"relative",[`overflow-${H.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:f.direction,height:$t(f.height)?`${f.height}px`:f.height,width:$t(f.width)?`${f.width}px`:f.width},f.style]),K=L(()=>{const ye=o(D),Fe=o(H);return{height:Fe?"100%":`${ye}px`,pointerEvents:o(k).isScrolling?"none":void 0,width:Fe?`${ye}px`:"100%"}}),G=L(()=>H.value?f.width:f.height),{onWheel:q}=J7({atStartEdge:L(()=>k.value.scrollOffset<=0),atEndEdge:L(()=>k.value.scrollOffset>=D.value),layout:L(()=>f.layout)},ye=>{var Fe,Be;(Be=(Fe=E.value).onMouseUp)==null||Be.call(Fe),ne(Math.min(k.value.scrollOffset+ye,D.value-G.value))});Mn(C,"wheel",q,{passive:!1});const Y=()=>{const{total:ye}=f;if(ye>0){const[he,Ne,Pe,et]=o(A);p(xf,he,Ne,Pe,et)}const{scrollDir:Fe,scrollOffset:Be,updateRequested:He}=o(k);p(Sf,Fe,Be,He)},de=ye=>{const{clientHeight:Fe,scrollHeight:Be,scrollTop:He}=ye.currentTarget,he=o(k);if(he.scrollOffset===He)return;const Ne=Math.max(0,Math.min(He,Be-Fe));k.value={...he,isScrolling:!0,scrollDir:bo(he.scrollOffset,Ne),scrollOffset:Ne,updateRequested:!1},Et(fe)},xe=ye=>{const{clientWidth:Fe,scrollLeft:Be,scrollWidth:He}=ye.currentTarget,he=o(k);if(he.scrollOffset===Be)return;const{direction:Ne}=f;let Pe=Be;if(Ne===hl)switch(Tf()){case ac:{Pe=-Be;break}case Hv:{Pe=He-Fe-Be;break}}Pe=Math.max(0,Math.min(Pe,He-Fe)),k.value={...he,isScrolling:!0,scrollDir:bo(he.scrollOffset,Pe),scrollOffset:Pe,updateRequested:!1},Et(fe)},oe=ye=>{o(H)?xe(ye):de(ye),Y()},Z=(ye,Fe)=>{const Be=(D.value-G.value)/Fe*ye;ne(Math.min(D.value-G.value,Be))},ne=ye=>{ye=Math.max(ye,0),ye!==o(k).scrollOffset&&(k.value={...o(k),scrollOffset:ye,scrollDir:bo(o(k).scrollOffset,ye),updateRequested:!0},Et(fe))},ee=(ye,Fe=Ps)=>{const{scrollOffset:Be}=o(k);ye=Math.max(0,Math.min(ye,f.total-1)),ne(t(f,ye,Fe,Be,o(b)))},J=ye=>{const{direction:Fe,itemSize:Be,layout:He}=f,he=_.value(u&&Be,u&&He,u&&Fe);let Ne;if(yn(he,String(ye)))Ne=he[ye];else{const Pe=r(f,ye,o(b)),et=n(f,ye,o(b)),qe=o(H),ae=Fe===hl,be=qe?Pe:0;he[ye]=Ne={position:"absolute",left:ae?void 0:`${be}px`,right:ae?`${be}px`:void 0,top:qe?0:`${Pe}px`,height:qe?"100%":`${et}px`,width:qe?`${et}px`:"100%"}}return Ne},fe=()=>{k.value.isScrolling=!1,Et(()=>{_.value(-1,null,null)})},ge=()=>{const ye=C.value;ye&&(ye.scrollTop=0)};Ut(()=>{if(!un)return;const{initScrollOffset:ye}=f,Fe=o(C);$t(ye)&&Fe&&(o(H)?Fe.scrollLeft=ye:Fe.scrollTop=ye),Y()}),ui(()=>{const{direction:ye,layout:Fe}=f,{scrollOffset:Be,updateRequested:He}=o(k),he=o(C);if(He&&he)if(Fe===Il)if(ye===hl)switch(Tf()){case ac:{he.scrollLeft=-Be;break}case Kv:{he.scrollLeft=Be;break}default:{const{clientWidth:Ne,scrollWidth:Pe}=he;he.scrollLeft=Pe-Ne-Be;break}}else he.scrollLeft=Be;else he.scrollTop=Be}),Cg(()=>{o(C).scrollTop=o(k).scrollOffset});const ke={ns:w,clientSize:G,estimatedTotalSize:D,windowStyle:U,windowRef:C,innerRef:M,innerStyle:K,itemsToRender:A,scrollbarRef:E,states:k,getItemStyle:J,onScroll:oe,onScrollbarScroll:Z,onWheel:q,scrollTo:ne,scrollToItem:ee,resetScrollTop:ge};return g({windowRef:C,innerRef:M,getItemStyleCache:_,scrollTo:ne,scrollToItem:ee,resetScrollTop:ge,states:k}),ke},render(f){var p;const{$slots:g,className:v,clientSize:w,containerElement:b,data:_,getItemStyle:C,innerElement:M,itemsToRender:E,innerStyle:k,layout:A,total:D,onScroll:H,onScrollbarScroll:U,states:K,useIsScrolling:G,windowStyle:q,ns:Y}=f,[de,xe]=E,oe=Yt(b),Z=Yt(M),ne=[];if(D>0)for(let ge=de;ge<=xe;ge++)ne.push(It(Ct,{key:ge},(p=g.default)==null?void 0:p.call(g,{data:_,index:ge,isScrolling:G?K.isScrolling:void 0,style:C(ge)})));const ee=[It(Z,{style:k,ref:"innerRef"},xt(Z)?ne:{default:()=>ne})],J=It(Am,{ref:"scrollbarRef",clientSize:w,layout:A,onScroll:U,ratio:w*100/this.estimatedTotalSize,scrollFrom:K.scrollOffset/(this.estimatedTotalSize-w),total:D}),fe=It(oe,{class:[Y.e("window"),v],style:q,onScroll:H,ref:"windowRef",key:0},xt(oe)?[ee]:{default:()=>[ee]});return It("div",{key:0,class:[Y.e("wrapper"),K.scrollbarAlwaysOn?"always-on":""]},[fe,J])}}),IT=$T({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:n,layout:r,width:s},i,a,l)=>{const u=oc(r)?s:e,d=Math.max(0,t*n-u),f=Math.min(d,i*n),p=Math.max(0,(i+1)*n-u);switch(a===vh&&(l>=p-u&&l<=f+u?a=Ps:a=Ci),a){case sc:return f;case ic:return p;case Ci:{const g=Math.round(p+(f-p)/2);return g<Math.ceil(u/2)?0:g>d+Math.floor(u/2)?d:g}case Ps:default:return l>=p&&l<=f?l:l<p?p:f}},getStartIndexForOffset:({total:e,itemSize:t},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:n,layout:r,width:s},i,a)=>{const l=i*n,u=oc(r)?s:e,d=Math.ceil((u+a-l)/n);return Math.max(0,Math.min(t-1,i+d-1))},initCache(){},clearCache:!0,validateProps(){}}),il=(e,t,n)=>{const{itemSize:r}=e,{items:s,lastVisitedIndex:i}=n;if(t>i){let a=0;if(i>=0){const l=s[i];a=l.offset+l.size}for(let l=i+1;l<=t;l++){const u=r(l);s[l]={offset:a,size:u},a+=u}n.lastVisitedIndex=t}return s[t]},eG=(e,t,n)=>{const{items:r,lastVisitedIndex:s}=t;return(s>0?r[s].offset:0)>=n?AT(e,t,0,s,n):tG(e,t,Math.max(0,s),n)},AT=(e,t,n,r,s)=>{for(;n<=r;){const i=n+Math.floor((r-n)/2),a=il(e,i,t).offset;if(a===s)return i;a<s?n=i+1:a>s&&(r=i-1)}return Math.max(0,n-1)},tG=(e,t,n,r)=>{const{total:s}=e;let i=1;for(;n<s&&il(e,n,t).offset<r;)n+=i,i*=2;return AT(e,t,Math.floor(n/2),Math.min(n,s-1),r)},I1=({total:e},{items:t,estimatedItemSize:n,lastVisitedIndex:r})=>{let s=0;if(r>=e&&(r=e-1),r>=0){const l=t[r];s=l.offset+l.size}const a=(e-r-1)*n;return s+a},nG=$T({name:"ElDynamicSizeList",getItemOffset:(e,t,n)=>il(e,t,n).offset,getItemSize:(e,t,{items:n})=>n[t].size,getEstimatedTotalSize:I1,getOffset:(e,t,n,r,s)=>{const{height:i,layout:a,width:l}=e,u=oc(a)?l:i,d=il(e,t,s),f=I1(e,s),p=Math.max(0,Math.min(f-u,d.offset)),g=Math.max(0,d.offset-u+d.size);switch(n===vh&&(r>=g-u&&r<=p+u?n=Ps:n=Ci),n){case sc:return p;case ic:return g;case Ci:return Math.round(g+(p-g)/2);case Ps:default:return r>=g&&r<=p?r:r<g?g:p}},getStartIndexForOffset:(e,t,n)=>eG(e,n,t),getStopIndexForStartIndex:(e,t,n,r)=>{const{height:s,total:i,layout:a,width:l}=e,u=oc(a)?l:s,d=il(e,t,r),f=n+u;let p=d.offset+d.size,g=t;for(;g<i-1&&p<f;)g++,p+=il(e,g,r).size;return g},initCache({estimatedItemSize:e=_m},t){const n={items:{},estimatedItemSize:e,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(r,s=!0)=>{var i,a;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,r-1),(i=t.exposed)==null||i.getItemStyleCache(-1),s&&((a=t.proxy)==null||a.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:e})=>{}}),rG={loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number};var sG=ve({name:"ElSelectDropdown",props:rG,setup(e,{slots:t,expose:n}){const r=vt(zv),s=Xe("select"),{getLabel:i,getValue:a,getDisabled:l}=gh(r.props),u=Q([]),d=Q(),f=L(()=>e.data.length);je(()=>f.value,()=>{var q,Y;(Y=(q=r.tooltipRef.value).updatePopper)==null||Y.call(q)});const p=L(()=>xn(r.props.estimatedOptionHeight)),g=L(()=>p.value?{itemSize:r.props.itemHeight}:{estimatedSize:r.props.estimatedOptionHeight,itemSize:q=>u.value[q]}),v=(q=[],Y)=>{const{props:{valueKey:de}}=r;return jt(Y)?q&&q.some(xe=>On(cr(xe,de))===cr(Y,de)):q.includes(Y)},w=(q,Y)=>{if(jt(Y)){const{valueKey:de}=r.props;return cr(q,de)===cr(Y,de)}else return q===Y},b=(q,Y)=>r.props.multiple?v(q,a(Y)):w(q,a(Y)),_=(q,Y)=>{const{disabled:de,multiple:xe,multipleLimit:oe}=r.props;return de||!Y&&(xe?oe>0&&q.length>=oe:!1)},C=q=>e.hoveringIndex===q;n({listRef:d,isSized:p,isItemDisabled:_,isItemHovering:C,isItemSelected:b,scrollToItem:q=>{const Y=d.value;Y&&Y.scrollToItem(q)},resetScrollTop:()=>{const q=d.value;q&&q.resetScrollTop()}});const A=q=>{const{index:Y,data:de,style:xe}=q,oe=o(p),{itemSize:Z,estimatedSize:ne}=o(g),{modelValue:ee}=r.props,{onSelect:J,onHover:fe}=r,ge=de[Y];if(ge.type==="Group")return pe(D7,{item:ge,style:xe,height:oe?Z:ne},null);const ke=b(ee,ge),ye=_(ee,ke),Fe=C(Y);return pe(H7,Xt(q,{selected:ke,disabled:l(ge)||ye,created:!!ge.created,hovering:Fe,item:ge,onSelect:J,onHover:fe}),{default:Be=>{var He;return((He=t.default)==null?void 0:He.call(t,Be))||pe("span",null,[i(ge)])}})},{onKeyboardNavigate:D,onKeyboardSelect:H}=r,U=()=>{D("forward")},K=()=>{D("backward")},G=q=>{const{code:Y}=q,{tab:de,esc:xe,down:oe,up:Z,enter:ne,numpadEnter:ee}=gt;switch(Y!==de&&(q.preventDefault(),q.stopPropagation()),Y){case de:case xe:break;case oe:U();break;case Z:K();break;case ne:case ee:H();break}};return()=>{var q,Y,de,xe;const{data:oe,width:Z}=e,{height:ne,multiple:ee,scrollbarAlwaysOn:J}=r.props,fe=o(p)?IT:nG;return pe("div",{class:[s.b("dropdown"),s.is("multiple",ee)],style:{width:`${Z}px`}},[(q=t.header)==null?void 0:q.call(t),((Y=t.loading)==null?void 0:Y.call(t))||((de=t.empty)==null?void 0:de.call(t))||pe(fe,Xt({ref:d},o(g),{className:s.be("dropdown","list"),scrollbarAlwaysOn:J,data:oe,height:ne,width:Z,total:oe.length,onKeydown:G}),{default:ge=>pe(A,ge,null)}),(xe=t.footer)==null?void 0:xe.call(t)])}}});function iG(e,t){const{aliasProps:n,getLabel:r,getValue:s}=gh(e),i=Q(0),a=Q(),l=L(()=>e.allowCreate&&e.filterable);function u(v){const w=b=>r(b)===v;return e.options&&e.options.some(w)||t.createdOptions.some(w)}function d(v){l.value&&(e.multiple&&v.created?i.value++:a.value=v)}function f(v){if(l.value)if(v&&v.length>0){if(u(v))return;const w={[n.value.value]:v,[n.value.label]:v,created:!0,[n.value.disabled]:!1};t.createdOptions.length>=i.value?t.createdOptions[i.value]=w:t.createdOptions.push(w)}else if(e.multiple)t.createdOptions.length=i.value;else{const w=a.value;t.createdOptions.length=0,w&&w.created&&t.createdOptions.push(w)}}function p(v){if(!l.value||!v||!v.created||v.created&&e.reserveKeyword&&t.inputValue===r(v))return;const w=t.createdOptions.findIndex(b=>s(b)===s(v));~w&&(t.createdOptions.splice(w,1),i.value--)}function g(){l.value&&(t.createdOptions.length=0,i.value=0)}return{createNewOption:f,removeNewOption:p,selectNewOption:d,clearAllNewOption:g}}const aG=(e,t)=>{const{t:n}=cn(),r=Xe("select"),s=Xe("input"),{form:i,formItem:a}=Wr(),{inputId:l}=Us(e,{formItemContext:a}),{aliasProps:u,getLabel:d,getValue:f,getDisabled:p,getOptions:g}=gh(e),{valueOnClear:v,isEmptyValue:w}=rh(e),b=wn({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),_=Q(-1),C=Q(),M=Q(),E=Q(),k=Q(),A=Q(),D=Q(),H=Q(),U=Q(),K=Q(),G=Q(),{isComposing:q,handleCompositionStart:Y,handleCompositionEnd:de,handleCompositionUpdate:xe}=Ec({afterComposition:dt=>$r(dt)}),{wrapperRef:oe,isFocused:Z,handleBlur:ne}=Qa(A,{beforeFocus(){return ge.value},afterFocus(){e.automaticDropdown&&!fe.value&&(fe.value=!0,b.menuVisibleOnFocus=!0)},beforeBlur(dt){var Rt,tn;return((Rt=E.value)==null?void 0:Rt.isFocusInsideContent(dt))||((tn=k.value)==null?void 0:tn.isFocusInsideContent(dt))},afterBlur(){fe.value=!1,b.menuVisibleOnFocus=!1}}),ee=Q([]),J=Q([]),fe=Q(!1),ge=L(()=>e.disabled||(i==null?void 0:i.disabled)),ke=L(()=>{var dt;return(dt=i==null?void 0:i.statusIcon)!=null?dt:!1}),ye=L(()=>{const dt=J.value.length*e.itemHeight;return dt>e.height?e.height:dt}),Fe=L(()=>e.multiple?nt(e.modelValue)&&e.modelValue.length>0:!w(e.modelValue)),Be=L(()=>e.clearable&&!ge.value&&b.inputHovering&&Fe.value),He=L(()=>e.remote&&e.filterable?"":ca),he=L(()=>He.value&&r.is("reverse",fe.value)),Ne=L(()=>(a==null?void 0:a.validateState)||""),Pe=L(()=>{if(Ne.value)return oh[Ne.value]}),et=L(()=>e.remote?300:0),qe=L(()=>e.loading?e.loadingText||n("el.select.loading"):e.remote&&!b.inputValue&&ee.value.length===0?!1:e.filterable&&b.inputValue&&ee.value.length>0&&J.value.length===0?e.noMatchText||n("el.select.noMatch"):ee.value.length===0?e.noDataText||n("el.select.noData"):null),ae=dt=>{const Rt=tn=>{if(e.filterable&&_t(e.filterMethod)||e.filterable&&e.remote&&_t(e.remoteMethod))return!0;const dn=new RegExp(wv(dt),"i");return dt?dn.test(d(tn)||""):!0};return e.loading?[]:[...b.createdOptions,...e.options].reduce((tn,dn)=>{const wr=g(dn);if(nt(wr)){const ps=wr.filter(Rt);ps.length>0&&tn.push({label:d(dn),type:"Group"},...ps)}else(e.remote||Rt(dn))&&tn.push(dn);return tn},[])},be=()=>{ee.value=ae(""),J.value=ae(b.inputValue)},$e=L(()=>{const dt=new Map;return ee.value.forEach((Rt,tn)=>{dt.set(rn(f(Rt)),{option:Rt,index:tn})}),dt}),Ge=L(()=>{const dt=new Map;return J.value.forEach((Rt,tn)=>{dt.set(rn(f(Rt)),{option:Rt,index:tn})}),dt}),Qe=L(()=>J.value.every(dt=>p(dt))),Le=pr(),Ze=L(()=>Le.value==="small"?"small":"default"),We=()=>{var dt;if($t(e.fitInputWidth)){_.value=e.fitInputWidth;return}const Rt=((dt=C.value)==null?void 0:dt.offsetWidth)||200;!e.fitInputWidth&&ee.value.length>0?Et(()=>{_.value=Math.max(Rt,it())}):_.value=Rt},it=()=>{var dt,Rt;const dn=document.createElement("canvas").getContext("2d"),wr=r.be("dropdown","item"),kh=(((Rt=(dt=U.value)==null?void 0:dt.listRef)==null?void 0:Rt.innerRef)||document).querySelector(`.${wr}`);if(kh===null||dn===null)return 0;const Nc=getComputedStyle(kh),Eh=Number.parseFloat(Nc.paddingLeft)+Number.parseFloat(Nc.paddingRight);return dn.font=Nc.font,J.value.reduce((Pc,Fc)=>{const $h=dn.measureText(d(Fc));return Math.max($h.width,Pc)},0)+Eh},rt=()=>{if(!M.value)return 0;const dt=window.getComputedStyle(M.value);return Number.parseFloat(dt.gap||"6px")},St=L(()=>{const dt=rt();return{maxWidth:`${G.value&&e.maxCollapseTags===1?b.selectionWidth-b.collapseItemWidth-dt:b.selectionWidth}px`}}),mt=L(()=>({maxWidth:`${b.selectionWidth}px`})),Ye=L(()=>nt(e.modelValue)?e.modelValue.length===0&&!b.inputValue:e.filterable?!b.inputValue:!0),yt=L(()=>{var dt;const Rt=(dt=e.placeholder)!=null?dt:n("el.select.placeholder");return e.multiple||!Fe.value?Rt:b.selectedLabel}),Mt=L(()=>{var dt,Rt;return(Rt=(dt=E.value)==null?void 0:dt.popperRef)==null?void 0:Rt.contentRef}),qt=L(()=>{if(e.multiple){const dt=e.modelValue.length;if(e.modelValue.length>0&&Ge.value.has(e.modelValue[dt-1])){const{index:Rt}=Ge.value.get(e.modelValue[dt-1]);return Rt}}else if(!w(e.modelValue)&&Ge.value.has(e.modelValue)){const{index:dt}=Ge.value.get(e.modelValue);return dt}return-1}),Ht=L({get(){return fe.value&&qe.value!==!1},set(dt){fe.value=dt}}),gn=L(()=>e.multiple?e.collapseTags?b.cachedOptions.slice(0,e.maxCollapseTags):b.cachedOptions:[]),en=L(()=>e.multiple?e.collapseTags?b.cachedOptions.slice(e.maxCollapseTags):[]:[]),{createNewOption:jn,removeNewOption:Bn,selectNewOption:Ue,clearAllNewOption:Ae}=iG(e,b),Ke=()=>{ge.value||(b.menuVisibleOnFocus?b.menuVisibleOnFocus=!1:fe.value=!fe.value)},_e=()=>{b.inputValue.length>0&&!fe.value&&(fe.value=!0),jn(b.inputValue),Nt(b.inputValue)},lt=xs(_e,et.value),Nt=dt=>{b.previousQuery===dt||q.value||(b.previousQuery=dt,e.filterable&&_t(e.filterMethod)?e.filterMethod(dt):e.filterable&&e.remote&&_t(e.remoteMethod)&&e.remoteMethod(dt),e.defaultFirstOption&&(e.filterable||e.remote)&&J.value.length?Et(Jt):Et(lr))},Jt=()=>{const dt=J.value.filter(dn=>!dn.disabled&&dn.type!=="Group"),Rt=dt.find(dn=>dn.created),tn=dt[0];b.hoveringIndex=yr(J.value,Rt||tn)},An=dt=>{zr(e.modelValue,dt)||t(Nn,dt)},Kn=dt=>{t(Kt,dt),An(dt),b.previousValue=e.multiple?String(dt):dt},yr=(dt=[],Rt)=>{if(!jt(Rt))return dt.indexOf(Rt);const tn=e.valueKey;let dn=-1;return dt.some((wr,ps)=>cr(wr,tn)===cr(Rt,tn)?(dn=ps,!0):!1),dn},rn=dt=>jt(dt)?cr(dt,e.valueKey):dt,rr=()=>{We()},Ln=()=>{b.selectionWidth=M.value.getBoundingClientRect().width},br=()=>{b.collapseItemWidth=G.value.getBoundingClientRect().width},Is=()=>{var dt,Rt;(Rt=(dt=E.value)==null?void 0:dt.updatePopper)==null||Rt.call(dt)},hi=()=>{var dt,Rt;(Rt=(dt=k.value)==null?void 0:dt.updatePopper)==null||Rt.call(dt)},Ss=dt=>{if(e.multiple){let Rt=e.modelValue.slice();const tn=yr(Rt,f(dt));tn>-1?(Rt=[...Rt.slice(0,tn),...Rt.slice(tn+1)],b.cachedOptions.splice(tn,1),Bn(dt)):(e.multipleLimit<=0||Rt.length<e.multipleLimit)&&(Rt=[...Rt,f(dt)],b.cachedOptions.push(dt),Ue(dt)),Kn(Rt),dt.created&&Nt(""),e.filterable&&!e.reserveKeyword&&(b.inputValue="")}else b.selectedLabel=d(dt),Kn(f(dt)),fe.value=!1,Ue(dt),dt.created||Ae();ma()},Zl=(dt,Rt)=>{let tn=e.modelValue.slice();const dn=yr(tn,f(Rt));dn>-1&&!ge.value&&(tn=[...e.modelValue.slice(0,dn),...e.modelValue.slice(dn+1)],b.cachedOptions.splice(dn,1),Kn(tn),t("remove-tag",f(Rt)),Bn(Rt)),dt.stopPropagation(),ma()},ma=()=>{var dt;(dt=A.value)==null||dt.focus()},Ni=()=>{var dt;if(fe.value){fe.value=!1,Et(()=>{var Rt;return(Rt=A.value)==null?void 0:Rt.blur()});return}(dt=A.value)==null||dt.blur()},to=()=>{b.inputValue.length>0?b.inputValue="":fe.value=!1},no=dt=>q2(dt,Rt=>!b.cachedOptions.some(tn=>f(tn)===Rt&&p(tn))),ro=dt=>{if(e.multiple&&dt.code!==gt.delete&&b.inputValue.length===0){dt.preventDefault();const Rt=e.modelValue.slice(),tn=no(Rt);if(tn<0)return;const dn=Rt[tn];Rt.splice(tn,1);const wr=b.cachedOptions[tn];b.cachedOptions.splice(tn,1),Bn(wr),Kn(Rt),t("remove-tag",dn)}},As=()=>{let dt;nt(e.modelValue)?dt=[]:dt=v.value,e.multiple?b.cachedOptions=[]:b.selectedLabel="",fe.value=!1,Kn(dt),t("clear"),Ae(),ma()},ht=(dt,Rt=void 0)=>{const tn=J.value;if(!["forward","backward"].includes(dt)||ge.value||tn.length<=0||Qe.value||q.value)return;if(!fe.value)return Ke();Rt===void 0&&(Rt=b.hoveringIndex);let dn=-1;dt==="forward"?(dn=Rt+1,dn>=tn.length&&(dn=0)):dt==="backward"&&(dn=Rt-1,(dn<0||dn>=tn.length)&&(dn=tn.length-1));const wr=tn[dn];if(p(wr)||wr.type==="Group")return ht(dt,dn);b.hoveringIndex=dn,mi(dn)},Pt=()=>{if(fe.value)~b.hoveringIndex&&J.value[b.hoveringIndex]&&Ss(J.value[b.hoveringIndex]);else return Ke()},Sn=dt=>{b.hoveringIndex=dt??-1},lr=()=>{e.multiple?b.hoveringIndex=J.value.findIndex(dt=>e.modelValue.some(Rt=>rn(Rt)===rn(dt))):b.hoveringIndex=J.value.findIndex(dt=>rn(dt)===rn(e.modelValue))},$r=dt=>{if(b.inputValue=dt.target.value,e.remote)lt();else return _e()},pi=dt=>{if(fe.value=!1,Z.value){const Rt=new FocusEvent("focus",dt);ne(Rt)}},Ls=()=>(b.isBeforeHide=!1,Et(()=>{~qt.value&&mi(b.hoveringIndex)})),mi=dt=>{U.value.scrollToItem(dt)},gi=(dt,Rt)=>{const tn=rn(dt);if($e.value.has(tn)){const{option:dn}=$e.value.get(tn);return dn}if(Rt&&Rt.length){const dn=Rt.find(wr=>rn(f(wr))===tn);if(dn)return dn}return{[u.value.value]:dt,[u.value.label]:dt}},ga=(dt=!1)=>{if(e.multiple)if(e.modelValue.length>0){const Rt=b.cachedOptions.slice();b.cachedOptions.length=0,b.previousValue=e.modelValue.toString();for(const tn of e.modelValue){const dn=gi(tn,Rt);b.cachedOptions.push(dn)}}else b.cachedOptions=[],b.previousValue=void 0;else if(Fe.value){b.previousValue=e.modelValue;const Rt=J.value,tn=Rt.findIndex(dn=>rn(f(dn))===rn(e.modelValue));~tn?b.selectedLabel=d(Rt[tn]):(!b.selectedLabel||dt)&&(b.selectedLabel=rn(e.modelValue))}else b.selectedLabel="",b.previousValue=void 0;Ae(),We()};return je(()=>e.fitInputWidth,()=>{We()}),je(fe,dt=>{dt?(e.persistent||We(),Nt("")):(b.inputValue="",b.previousQuery=null,b.isBeforeHide=!0,jn("")),t("visible-change",dt)}),je(()=>e.modelValue,(dt,Rt)=>{var tn;(!dt||nt(dt)&&dt.length===0||e.multiple&&!zr(dt.toString(),b.previousValue)||!e.multiple&&rn(dt)!==rn(b.previousValue))&&ga(!0),!zr(dt,Rt)&&e.validateEvent&&((tn=a==null?void 0:a.validate)==null||tn.call(a,"change").catch(wr=>void 0))},{deep:!0}),je(()=>e.options,()=>{const dt=A.value;(!dt||dt&&document.activeElement!==dt)&&ga()},{deep:!0,flush:"post"}),je(()=>J.value,()=>(We(),U.value&&Et(U.value.resetScrollTop))),Vr(()=>{b.isBeforeHide||be()}),Vr(()=>{const{valueKey:dt,options:Rt}=e,tn=new Map;for(const dn of Rt){const wr=f(dn);let ps=wr;if(jt(ps)&&(ps=cr(wr,dt)),tn.get(ps))break;tn.set(ps,!0)}}),Ut(()=>{ga()}),Jn(C,rr),Jn(M,Ln),Jn(U,Is),Jn(oe,Is),Jn(K,hi),Jn(G,br),{inputId:l,collapseTagSize:Ze,currentPlaceholder:yt,expanded:fe,emptyText:qe,popupHeight:ye,debounce:et,allOptions:ee,filteredOptions:J,iconComponent:He,iconReverse:he,tagStyle:St,collapseTagStyle:mt,popperSize:_,dropdownMenuVisible:Ht,hasModelValue:Fe,shouldShowPlaceholder:Ye,selectDisabled:ge,selectSize:Le,needStatusIcon:ke,showClearBtn:Be,states:b,isFocused:Z,nsSelect:r,nsInput:s,inputRef:A,menuRef:U,tagMenuRef:K,tooltipRef:E,tagTooltipRef:k,selectRef:C,wrapperRef:oe,selectionRef:M,prefixRef:D,suffixRef:H,collapseItemRef:G,popperRef:Mt,validateState:Ne,validateIcon:Pe,showTagList:gn,collapseTagList:en,debouncedOnInputChange:lt,deleteTag:Zl,getLabel:d,getValue:f,getDisabled:p,getValueKey:rn,handleClear:As,handleClickOutside:pi,handleDel:ro,handleEsc:to,focus:ma,blur:Ni,handleMenuEnter:Ls,handleResize:rr,resetSelectionWidth:Ln,updateTooltip:Is,updateTagTooltip:hi,updateOptions:be,toggleMenu:Ke,scrollTo:mi,onInput:$r,onKeyboardNavigate:ht,onKeyboardSelect:Pt,onSelect:Ss,onHover:Sn,handleCompositionStart:Y,handleCompositionEnd:de,handleCompositionUpdate:xe}},oG=ve({name:"ElSelectV2",components:{ElSelectMenu:sG,ElTag:El,ElTooltip:Hr,ElIcon:wt},directives:{ClickOutside:sa},props:P7,emits:V7,setup(e,{emit:t}){const n=L(()=>{const{modelValue:l,multiple:u}=e,d=u?[]:void 0;return nt(l)?u?l:d:u?d:l}),r=aG(wn({...Er(e),modelValue:n}),t),{calculatorRef:s,inputStyle:i}=Nv();Qt(zv,{props:wn({...Er(e),height:r.popupHeight,modelValue:n}),expanded:r.expanded,tooltipRef:r.tooltipRef,onSelect:r.onSelect,onHover:r.onHover,onKeyboardNavigate:r.onKeyboardNavigate,onKeyboardSelect:r.onKeyboardSelect});const a=L(()=>e.multiple?r.states.cachedOptions.map(l=>l.label):r.states.selectedLabel);return{...r,modelValue:n,selectedLabel:a,calculatorRef:s,inputStyle:i}}});function lG(e,t,n,r,s,i){const a=Dt("el-tag"),l=Dt("el-tooltip"),u=Dt("el-icon"),d=Dt("el-select-menu"),f=Wf("click-outside");return Bt((V(),le("div",{ref:"selectRef",class:W([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),onMouseenter:p=>e.states.inputHovering=!0,onMouseleave:p=>e.states.inputHovering=!1},[pe(l,{ref:"tooltipRef",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:p=>e.states.isBeforeHide=!1},{default:Se(()=>[ue("div",{ref:"wrapperRef",class:W([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:Lt(e.toggleMenu,["prevent"])},[e.$slots.prefix?(V(),le("div",{key:0,ref:"prefixRef",class:W(e.nsSelect.e("prefix"))},[Oe(e.$slots,"prefix")],2)):Re("v-if",!0),ue("div",{ref:"selectionRef",class:W([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.modelValue.length)])},[e.multiple?Oe(e.$slots,"tag",{key:0},()=>[(V(!0),le(Ct,null,nn(e.showTagList,p=>(V(),le("div",{key:e.getValueKey(e.getValue(p)),class:W(e.nsSelect.e("selected-item"))},[pe(a,{closable:!e.selectDisabled&&!e.getDisabled(p),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:Tt(e.tagStyle),onClose:g=>e.deleteTag(g,p)},{default:Se(()=>[ue("span",{class:W(e.nsSelect.e("tags-text"))},[Oe(e.$slots,"label",{label:e.getLabel(p),value:e.getValue(p)},()=>[At(at(e.getLabel(p)),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.modelValue.length>e.maxCollapseTags?(V(),Ve(l,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:Se(()=>[ue("div",{ref:"collapseItemRef",class:W(e.nsSelect.e("selected-item"))},[pe(a,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,style:Tt(e.collapseTagStyle),"disable-transitions":""},{default:Se(()=>[ue("span",{class:W(e.nsSelect.e("tags-text"))}," + "+at(e.modelValue.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:Se(()=>[ue("div",{ref:"tagMenuRef",class:W(e.nsSelect.e("selection"))},[(V(!0),le(Ct,null,nn(e.collapseTagList,p=>(V(),le("div",{key:e.getValueKey(e.getValue(p)),class:W(e.nsSelect.e("selected-item"))},[pe(a,{class:"in-tooltip",closable:!e.selectDisabled&&!e.getDisabled(p),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:g=>e.deleteTag(g,p)},{default:Se(()=>[ue("span",{class:W(e.nsSelect.e("tags-text"))},[Oe(e.$slots,"label",{label:e.getLabel(p),value:e.getValue(p)},()=>[At(at(e.getLabel(p)),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):Re("v-if",!0)]):Re("v-if",!0),ue("div",{class:W([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[Bt(ue("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":p=>e.states.inputValue=p,style:Tt(e.inputStyle),autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-label":e.ariaLabel,class:W([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,onInput:e.onInput,onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onKeydown:[Vn(Lt(p=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"]),Vn(Lt(p=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"]),Vn(Lt(e.onKeyboardSelect,["stop","prevent"]),["enter"]),Vn(Lt(e.handleEsc,["stop","prevent"]),["esc"]),Vn(Lt(e.handleDel,["stop"]),["delete"])],onClick:Lt(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","autocomplete","tabindex","aria-expanded","aria-label","disabled","readonly","name","onInput","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown","onClick"]),[[Gf,e.states.inputValue]]),e.filterable?(V(),le("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:W(e.nsSelect.e("input-calculator")),textContent:at(e.states.inputValue)},null,10,["textContent"])):Re("v-if",!0)],2),e.shouldShowPlaceholder?(V(),le("div",{key:1,class:W([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?Oe(e.$slots,"label",{key:0,label:e.currentPlaceholder,value:e.modelValue},()=>[ue("span",null,at(e.currentPlaceholder),1)]):(V(),le("span",{key:1},at(e.currentPlaceholder),1))],2)):Re("v-if",!0)],2),ue("div",{ref:"suffixRef",class:W(e.nsSelect.e("suffix"))},[e.iconComponent?Bt((V(),Ve(u,{key:0,class:W([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:Se(()=>[(V(),Ve(Yt(e.iconComponent)))]),_:1},8,["class"])),[[mn,!e.showClearBtn]]):Re("v-if",!0),e.showClearBtn&&e.clearIcon?(V(),Ve(u,{key:1,class:W([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.nsSelect.e("clear")]),onClick:Lt(e.handleClear,["prevent","stop"])},{default:Se(()=>[(V(),Ve(Yt(e.clearIcon)))]),_:1},8,["class","onClick"])):Re("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(V(),Ve(u,{key:2,class:W([e.nsInput.e("icon"),e.nsInput.e("validateIcon"),e.nsInput.is("loading",e.validateState==="validating")])},{default:Se(()=>[(V(),Ve(Yt(e.validateIcon)))]),_:1},8,["class"])):Re("v-if",!0)],2)],10,["onClick"])]),content:Se(()=>[pe(d,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},zs({default:Se(p=>[Oe(e.$slots,"default",Js(za(p)))]),_:2},[e.$slots.header?{name:"header",fn:Se(()=>[ue("div",{class:W(e.nsSelect.be("dropdown","header"))},[Oe(e.$slots,"header")],2)])}:void 0,e.$slots.loading&&e.loading?{name:"loading",fn:Se(()=>[ue("div",{class:W(e.nsSelect.be("dropdown","loading"))},[Oe(e.$slots,"loading")],2)])}:e.loading||e.filteredOptions.length===0?{name:"empty",fn:Se(()=>[ue("div",{class:W(e.nsSelect.be("dropdown","empty"))},[Oe(e.$slots,"empty",{},()=>[ue("span",null,at(e.emptyText),1)])],2)])}:void 0,e.$slots.footer?{name:"footer",fn:Se(()=>[ue("div",{class:W(e.nsSelect.be("dropdown","footer"))},[Oe(e.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],42,["onMouseenter","onMouseleave"])),[[f,e.handleClickOutside,e.popperRef]])}var uG=ot(oG,[["render",lG],["__file","select.vue"]]);const cG=zt(uG),dG=st({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Ie([Number,Object])}}),fG=st({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),hG=ve({name:"ElSkeletonItem"}),pG=ve({...hG,props:fG,setup(e){const t=Xe("skeleton");return(n,r)=>(V(),le("div",{class:W([o(t).e("item"),o(t).e(n.variant)])},[n.variant==="image"?(V(),Ve(o(C4),{key:0})):Re("v-if",!0)],2))}});var kf=ot(pG,[["__file","skeleton-item.vue"]]);const mG=(e,t=0)=>{if(t===0)return e;const n=jt(t)&&!!t.initVal,r=Q(n);let s=null;const i=l=>{if(xn(l)){r.value=e.value;return}s&&clearTimeout(s),s=setTimeout(()=>{r.value=e.value},l)},a=l=>{l==="leading"?$t(t)?i(t):i(t.leading):jt(t)?i(t.trailing):r.value=!1};return Ut(()=>a("leading")),je(()=>e.value,l=>{a(l?"leading":"trailing")}),r},gG=ve({name:"ElSkeleton"}),vG=ve({...gG,props:dG,setup(e,{expose:t}){const n=e,r=Xe("skeleton"),s=mG(Tn(n,"loading"),n.throttle);return t({uiLoading:s}),(i,a)=>o(s)?(V(),le("div",Xt({key:0,class:[o(r).b(),o(r).is("animated",i.animated)]},i.$attrs),[(V(!0),le(Ct,null,nn(i.count,l=>(V(),le(Ct,{key:l},[o(s)?Oe(i.$slots,"template",{key:l},()=>[pe(kf,{class:W(o(r).is("first")),variant:"p"},null,8,["class"]),(V(!0),le(Ct,null,nn(i.rows,u=>(V(),Ve(kf,{key:u,class:W([o(r).e("paragraph"),o(r).is("last",u===i.rows&&i.rows>1)]),variant:"p"},null,8,["class"]))),128))]):Re("v-if",!0)],64))),128))],16)):Oe(i.$slots,"default",Js(Xt({key:1},i.$attrs)))}});var yG=ot(vG,[["__file","skeleton.vue"]]);const bG=zt(yG,{SkeletonItem:kf}),wG=Qn(kf),LT=Symbol("sliderContextKey"),xG=st({modelValue:{type:Ie([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:vr,inputSize:vr,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:Ie(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:Ie(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:fa,default:"top"},marks:{type:Ie(Object)},validateEvent:{type:Boolean,default:!0},...Fr(["ariaLabel"])}),bp=e=>$t(e)||nt(e)&&e.every($t),SG={[Kt]:bp,[Br]:bp,[Nn]:bp},CG=st({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:fa,default:"top"}}),_G={[Kt]:e=>$t(e)},TG=(e,t,n)=>{const r=Q(),s=Q(!1),i=L(()=>t.value instanceof Function),a=L(()=>i.value&&t.value(e.modelValue)||e.modelValue),l=xs(()=>{n.value&&(s.value=!0)},50),u=xs(()=>{n.value&&(s.value=!1)},50);return{tooltip:r,tooltipVisible:s,formatValue:a,displayTooltip:l,hideTooltip:u}},kG=(e,t,n)=>{const{disabled:r,min:s,max:i,step:a,showTooltip:l,precision:u,sliderSize:d,formatTooltip:f,emitChange:p,resetSize:g,updateDragging:v}=vt(LT),{tooltip:w,tooltipVisible:b,formatValue:_,displayTooltip:C,hideTooltip:M}=TG(e,f,l),E=Q(),k=L(()=>`${(e.modelValue-s.value)/(i.value-s.value)*100}%`),A=L(()=>e.vertical?{bottom:k.value}:{left:k.value}),D=()=>{t.hovering=!0,C()},H=()=>{t.hovering=!1,t.dragging||M()},U=ke=>{r.value||(ke.preventDefault(),ee(ke),window.addEventListener("mousemove",J),window.addEventListener("touchmove",J),window.addEventListener("mouseup",fe),window.addEventListener("touchend",fe),window.addEventListener("contextmenu",fe),E.value.focus())},K=ke=>{r.value||(t.newPosition=Number.parseFloat(k.value)+ke/(i.value-s.value)*100,ge(t.newPosition),p())},G=()=>{K(-a.value)},q=()=>{K(a.value)},Y=()=>{K(-a.value*4)},de=()=>{K(a.value*4)},xe=()=>{r.value||(ge(0),p())},oe=()=>{r.value||(ge(100),p())},Z=ke=>{let ye=!0;switch(ke.code){case gt.left:case gt.down:G();break;case gt.right:case gt.up:q();break;case gt.home:xe();break;case gt.end:oe();break;case gt.pageDown:Y();break;case gt.pageUp:de();break;default:ye=!1;break}ye&&ke.preventDefault()},ne=ke=>{let ye,Fe;return ke.type.startsWith("touch")?(Fe=ke.touches[0].clientY,ye=ke.touches[0].clientX):(Fe=ke.clientY,ye=ke.clientX),{clientX:ye,clientY:Fe}},ee=ke=>{t.dragging=!0,t.isClick=!0;const{clientX:ye,clientY:Fe}=ne(ke);e.vertical?t.startY=Fe:t.startX=ye,t.startPosition=Number.parseFloat(k.value),t.newPosition=t.startPosition},J=ke=>{if(t.dragging){t.isClick=!1,C(),g();let ye;const{clientX:Fe,clientY:Be}=ne(ke);e.vertical?(t.currentY=Be,ye=(t.startY-t.currentY)/d.value*100):(t.currentX=Fe,ye=(t.currentX-t.startX)/d.value*100),t.newPosition=t.startPosition+ye,ge(t.newPosition)}},fe=()=>{t.dragging&&(setTimeout(()=>{t.dragging=!1,t.hovering||M(),t.isClick||ge(t.newPosition),p()},0),window.removeEventListener("mousemove",J),window.removeEventListener("touchmove",J),window.removeEventListener("mouseup",fe),window.removeEventListener("touchend",fe),window.removeEventListener("contextmenu",fe))},ge=async ke=>{if(ke===null||Number.isNaN(+ke))return;ke<0?ke=0:ke>100&&(ke=100);const ye=100/((i.value-s.value)/a.value);let Be=Math.round(ke/ye)*ye*(i.value-s.value)*.01+s.value;Be=Number.parseFloat(Be.toFixed(u.value)),Be!==e.modelValue&&n(Kt,Be),!t.dragging&&e.modelValue!==t.oldValue&&(t.oldValue=e.modelValue),await Et(),t.dragging&&C(),w.value.updatePopper()};return je(()=>t.dragging,ke=>{v(ke)}),Mn(E,"touchstart",U,{passive:!1}),{disabled:r,button:E,tooltip:w,tooltipVisible:b,showTooltip:l,wrapperStyle:A,formatValue:_,handleMouseEnter:D,handleMouseLeave:H,onButtonDown:U,onKeyDown:Z,setPosition:ge}},EG=ve({name:"ElSliderButton"}),$G=ve({...EG,props:CG,emits:_G,setup(e,{expose:t,emit:n}){const r=e,s=Xe("slider"),i=wn({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),{disabled:a,button:l,tooltip:u,showTooltip:d,tooltipVisible:f,wrapperStyle:p,formatValue:g,handleMouseEnter:v,handleMouseLeave:w,onButtonDown:b,onKeyDown:_,setPosition:C}=kG(r,i,n),{hovering:M,dragging:E}=Er(i);return t({onButtonDown:b,onKeyDown:_,setPosition:C,hovering:M,dragging:E}),(k,A)=>(V(),le("div",{ref_key:"button",ref:l,class:W([o(s).e("button-wrapper"),{hover:o(M),dragging:o(E)}]),style:Tt(o(p)),tabindex:o(a)?-1:0,onMouseenter:o(v),onMouseleave:o(w),onMousedown:o(b),onFocus:o(v),onBlur:o(w),onKeydown:o(_)},[pe(o(Hr),{ref_key:"tooltip",ref:u,visible:o(f),placement:k.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":k.tooltipClass,disabled:!o(d),persistent:o(d)},{content:Se(()=>[ue("span",null,at(o(g)),1)]),default:Se(()=>[ue("div",{class:W([o(s).e("button"),{hover:o(M),dragging:o(E)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled","persistent"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}});var A1=ot($G,[["__file","button.vue"]]);const IG=st({mark:{type:Ie([String,Object]),default:void 0}});var AG=ve({name:"ElSliderMarker",props:IG,setup(e){const t=Xe("slider"),n=L(()=>xt(e.mark)?e.mark:e.mark.label),r=L(()=>xt(e.mark)?void 0:e.mark.style);return()=>It("div",{class:t.e("marks-text"),style:r.value},n.value)}});const LG=(e,t,n)=>{const{form:r,formItem:s}=Wr(),i=Un(),a=Q(),l=Q(),u={firstButton:a,secondButton:l},d=L(()=>e.disabled||(r==null?void 0:r.disabled)||!1),f=L(()=>Math.min(t.firstValue,t.secondValue)),p=L(()=>Math.max(t.firstValue,t.secondValue)),g=L(()=>e.range?`${100*(p.value-f.value)/(e.max-e.min)}%`:`${100*(t.firstValue-e.min)/(e.max-e.min)}%`),v=L(()=>e.range?`${100*(f.value-e.min)/(e.max-e.min)}%`:"0%"),w=L(()=>e.vertical?{height:e.height}:{}),b=L(()=>e.vertical?{height:g.value,bottom:v.value}:{width:g.value,left:v.value}),_=()=>{i.value&&(t.sliderSize=i.value[`client${e.vertical?"Height":"Width"}`])},C=Y=>{const de=e.min+Y*(e.max-e.min)/100;if(!e.range)return a;let xe;return Math.abs(f.value-de)<Math.abs(p.value-de)?xe=t.firstValue<t.secondValue?"firstButton":"secondButton":xe=t.firstValue>t.secondValue?"firstButton":"secondButton",u[xe]},M=Y=>{const de=C(Y);return de.value.setPosition(Y),de},E=Y=>{t.firstValue=Y??e.min,A(e.range?[f.value,p.value]:Y??e.min)},k=Y=>{t.secondValue=Y,e.range&&A([f.value,p.value])},A=Y=>{n(Kt,Y),n(Br,Y)},D=async()=>{await Et(),n(Nn,e.range?[f.value,p.value]:e.modelValue)},H=Y=>{var de,xe,oe,Z,ne,ee;if(d.value||t.dragging)return;_();let J=0;if(e.vertical){const fe=(oe=(xe=(de=Y.touches)==null?void 0:de.item(0))==null?void 0:xe.clientY)!=null?oe:Y.clientY;J=(i.value.getBoundingClientRect().bottom-fe)/t.sliderSize*100}else{const fe=(ee=(ne=(Z=Y.touches)==null?void 0:Z.item(0))==null?void 0:ne.clientX)!=null?ee:Y.clientX,ge=i.value.getBoundingClientRect().left;J=(fe-ge)/t.sliderSize*100}if(!(J<0||J>100))return M(J)};return{elFormItem:s,slider:i,firstButton:a,secondButton:l,sliderDisabled:d,minValue:f,maxValue:p,runwayStyle:w,barStyle:b,resetSize:_,setPosition:M,emitChange:D,onSliderWrapperPrevent:Y=>{var de,xe;((de=u.firstButton.value)!=null&&de.dragging||(xe=u.secondButton.value)!=null&&xe.dragging)&&Y.preventDefault()},onSliderClick:Y=>{H(Y)&&D()},onSliderDown:async Y=>{const de=H(Y);de&&(await Et(),de.value.onButtonDown(Y))},onSliderMarkerDown:Y=>{d.value||t.dragging||M(Y)},setFirstValue:E,setSecondValue:k}},OG=(e,t,n,r)=>({stops:L(()=>{if(!e.showStops||e.min>e.max)return[];if(e.step===0)return[];const a=(e.max-e.min)/e.step,l=100*e.step/(e.max-e.min),u=Array.from({length:a-1}).map((d,f)=>(f+1)*l);return e.range?u.filter(d=>d<100*(n.value-e.min)/(e.max-e.min)||d>100*(r.value-e.min)/(e.max-e.min)):u.filter(d=>d>100*(t.firstValue-e.min)/(e.max-e.min))}),getStopStyle:a=>e.vertical?{bottom:`${a}%`}:{left:`${a}%`}}),MG=e=>L(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((n,r)=>n-r).filter(n=>n<=e.max&&n>=e.min).map(n=>({point:n,position:(n-e.min)*100/(e.max-e.min),mark:e.marks[n]})):[]),RG=(e,t,n,r,s,i)=>{const a=d=>{s(Kt,d),s(Br,d)},l=()=>e.range?![n.value,r.value].every((d,f)=>d===t.oldValue[f]):e.modelValue!==t.oldValue,u=()=>{var d,f;e.min>e.max&&xr("Slider","min should not be greater than max.");const p=e.modelValue;e.range&&nt(p)?p[1]<e.min?a([e.min,e.min]):p[0]>e.max?a([e.max,e.max]):p[0]<e.min?a([e.min,p[1]]):p[1]>e.max?a([p[0],e.max]):(t.firstValue=p[0],t.secondValue=p[1],l()&&(e.validateEvent&&((d=i==null?void 0:i.validate)==null||d.call(i,"change").catch(g=>void 0)),t.oldValue=p.slice())):!e.range&&$t(p)&&!Number.isNaN(p)&&(p<e.min?a(e.min):p>e.max?a(e.max):(t.firstValue=p,l()&&(e.validateEvent&&((f=i==null?void 0:i.validate)==null||f.call(i,"change").catch(g=>void 0)),t.oldValue=p)))};u(),je(()=>t.dragging,d=>{d||u()}),je(()=>e.modelValue,(d,f)=>{t.dragging||nt(d)&&nt(f)&&d.every((p,g)=>p===f[g])&&t.firstValue===d[0]&&t.secondValue===d[1]||u()},{deep:!0}),je(()=>[e.min,e.max],()=>{u()})},DG=(e,t,n)=>{const r=Q();return Ut(async()=>{e.range?(nt(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):(!$t(e.modelValue)||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),Mn(window,"resize",n),await Et(),n()}),{sliderWrapper:r}},NG=ve({name:"ElSlider"}),PG=ve({...NG,props:xG,emits:SG,setup(e,{expose:t,emit:n}){const r=e,s=Xe("slider"),{t:i}=cn(),a=wn({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:l,slider:u,firstButton:d,secondButton:f,sliderDisabled:p,minValue:g,maxValue:v,runwayStyle:w,barStyle:b,resetSize:_,emitChange:C,onSliderWrapperPrevent:M,onSliderClick:E,onSliderDown:k,onSliderMarkerDown:A,setFirstValue:D,setSecondValue:H}=LG(r,a,n),{stops:U,getStopStyle:K}=OG(r,a,g,v),{inputId:G,isLabeledByFormItem:q}=Us(r,{formItemContext:l}),Y=pr(),de=L(()=>r.inputSize||Y.value),xe=L(()=>r.ariaLabel||i("el.slider.defaultLabel",{min:r.min,max:r.max})),oe=L(()=>r.range?r.rangeStartLabel||i("el.slider.defaultRangeStartLabel"):xe.value),Z=L(()=>r.formatValueText?r.formatValueText(ye.value):`${ye.value}`),ne=L(()=>r.rangeEndLabel||i("el.slider.defaultRangeEndLabel")),ee=L(()=>r.formatValueText?r.formatValueText(Fe.value):`${Fe.value}`),J=L(()=>[s.b(),s.m(Y.value),s.is("vertical",r.vertical),{[s.m("with-input")]:r.showInput}]),fe=MG(r);RG(r,a,g,v,n,l);const ge=L(()=>{const he=[r.min,r.max,r.step].map(Ne=>{const Pe=`${Ne}`.split(".")[1];return Pe?Pe.length:0});return Math.max.apply(null,he)}),{sliderWrapper:ke}=DG(r,a,_),{firstValue:ye,secondValue:Fe,sliderSize:Be}=Er(a),He=he=>{a.dragging=he};return Mn(ke,"touchstart",M,{passive:!1}),Mn(ke,"touchmove",M,{passive:!1}),Qt(LT,{...Er(r),sliderSize:Be,disabled:p,precision:ge,emitChange:C,resetSize:_,updateDragging:He}),t({onSliderClick:E}),(he,Ne)=>{var Pe,et;return V(),le("div",{id:he.range?o(G):void 0,ref_key:"sliderWrapper",ref:ke,class:W(o(J)),role:he.range?"group":void 0,"aria-label":he.range&&!o(q)?o(xe):void 0,"aria-labelledby":he.range&&o(q)?(Pe=o(l))==null?void 0:Pe.labelId:void 0},[ue("div",{ref_key:"slider",ref:u,class:W([o(s).e("runway"),{"show-input":he.showInput&&!he.range},o(s).is("disabled",o(p))]),style:Tt(o(w)),onMousedown:o(k),onTouchstartPassive:o(k)},[ue("div",{class:W(o(s).e("bar")),style:Tt(o(b))},null,6),pe(A1,{id:he.range?void 0:o(G),ref_key:"firstButton",ref:d,"model-value":o(ye),vertical:he.vertical,"tooltip-class":he.tooltipClass,placement:he.placement,role:"slider","aria-label":he.range||!o(q)?o(oe):void 0,"aria-labelledby":!he.range&&o(q)?(et=o(l))==null?void 0:et.labelId:void 0,"aria-valuemin":he.min,"aria-valuemax":he.range?o(Fe):he.max,"aria-valuenow":o(ye),"aria-valuetext":o(Z),"aria-orientation":he.vertical?"vertical":"horizontal","aria-disabled":o(p),"onUpdate:modelValue":o(D)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),he.range?(V(),Ve(A1,{key:0,ref_key:"secondButton",ref:f,"model-value":o(Fe),vertical:he.vertical,"tooltip-class":he.tooltipClass,placement:he.placement,role:"slider","aria-label":o(ne),"aria-valuemin":o(ye),"aria-valuemax":he.max,"aria-valuenow":o(Fe),"aria-valuetext":o(ee),"aria-orientation":he.vertical?"vertical":"horizontal","aria-disabled":o(p),"onUpdate:modelValue":o(H)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):Re("v-if",!0),he.showStops?(V(),le("div",{key:1},[(V(!0),le(Ct,null,nn(o(U),(qe,ae)=>(V(),le("div",{key:ae,class:W(o(s).e("stop")),style:Tt(o(K)(qe))},null,6))),128))])):Re("v-if",!0),o(fe).length>0?(V(),le(Ct,{key:2},[ue("div",null,[(V(!0),le(Ct,null,nn(o(fe),(qe,ae)=>(V(),le("div",{key:ae,style:Tt(o(K)(qe.position)),class:W([o(s).e("stop"),o(s).e("marks-stop")])},null,6))),128))]),ue("div",{class:W(o(s).e("marks"))},[(V(!0),le(Ct,null,nn(o(fe),(qe,ae)=>(V(),Ve(o(AG),{key:ae,mark:qe.mark,style:Tt(o(K)(qe.position)),onMousedown:Lt(be=>o(A)(qe.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):Re("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),he.showInput&&!he.range?(V(),Ve(o(cT),{key:0,ref:"input","model-value":o(ye),class:W(o(s).e("input")),step:he.step,disabled:o(p),controls:he.showInputControls,min:he.min,max:he.max,precision:o(ge),debounce:he.debounce,size:o(de),"onUpdate:modelValue":o(D),onChange:o(C)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):Re("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});var FG=ot(PG,[["__file","slider.vue"]]);const VG=zt(FG),zG=st({prefixCls:{type:String}}),L1=ve({name:"ElSpaceItem",props:zG,setup(e,{slots:t}){const n=Xe("space"),r=L(()=>`${e.prefixCls||n.b()}__item`);return()=>It("div",{class:r.value},Oe(t,"default"))}}),O1={small:8,default:12,large:16};function BG(e){const t=Xe("space"),n=L(()=>[t.b(),t.m(e.direction),e.class]),r=Q(0),s=Q(0),i=L(()=>{const l=e.wrap||e.fill?{flexWrap:"wrap"}:{},u={alignItems:e.alignment},d={rowGap:`${s.value}px`,columnGap:`${r.value}px`};return[l,u,d,e.style]}),a=L(()=>e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{});return Vr(()=>{const{size:l="small",wrap:u,direction:d,fill:f}=e;if(nt(l)){const[p=0,g=0]=l;r.value=p,s.value=g}else{let p;$t(l)?p=l:p=O1[l||"small"]||O1.small,(u||f)&&d==="horizontal"?r.value=s.value=p:d==="horizontal"?(r.value=p,s.value=0):(s.value=p,r.value=0)}}),{classes:n,containerStyle:i,itemStyle:a}}const KG=st({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:Ie([String,Object,Array]),default:""},style:{type:Ie([String,Array,Object]),default:""},alignment:{type:Ie(String),default:"center"},prefixCls:{type:String},spacer:{type:Ie([Object,String,Number,Array]),default:null,validator:e=>qn(e)||$t(e)||xt(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:Oi,validator:e=>$t(e)||nt(e)&&e.length===2&&e.every($t)}}),HG=ve({name:"ElSpace",props:KG,setup(e,{slots:t}){const{classes:n,containerStyle:r,itemStyle:s}=BG(e);function i(a,l="",u=[]){const{prefixCls:d}=e;return a.forEach((f,p)=>{om(f)?nt(f.children)&&f.children.forEach((g,v)=>{om(g)&&nt(g.children)?i(g.children,`${l+v}-`,u):u.push(pe(L1,{style:s.value,prefixCls:d,key:`nested-${l+v}`},{default:()=>[g]},Rs.PROPS|Rs.STYLE,["style","prefixCls"]))}):_6(f)&&u.push(pe(L1,{style:s.value,prefixCls:d,key:`LoopKey${l+p}`},{default:()=>[f]},Rs.PROPS|Rs.STYLE,["style","prefixCls"]))}),u}return()=>{var a;const{spacer:l,direction:u}=e,d=Oe(t,"default",{key:0},()=>[]);if(((a=d.children)!=null?a:[]).length===0)return null;if(nt(d.children)){let f=i(d.children);if(l){const p=f.length-1;f=f.reduce((g,v,w)=>{const b=[...g,v];return w!==p&&b.push(pe("span",{style:[s.value,u==="vertical"?"width: 100%":null],key:w},[qn(l)?l:At(l,Rs.TEXT)],Rs.STYLE)),b},[])}return pe("div",{class:n.value,style:r.value},f,Rs.STYLE|Rs.CLASS)}return d.children}}}),WG=zt(HG),UG=st({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:Ie([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:Ie([String,Object,Array])}}),jG=ve({name:"ElStatistic"}),GG=ve({...jG,props:UG,setup(e,{expose:t}){const n=e,r=Xe("statistic"),s=L(()=>{const{value:i,formatter:a,precision:l,decimalSeparator:u,groupSeparator:d}=n;if(_t(a))return a(i);if(!$t(i)||Number.isNaN(i))return i;let[f,p=""]=String(i).split(".");return p=p.padEnd(l,"0").slice(0,l>0?l:0),f=f.replace(/\B(?=(\d{3})+(?!\d))/g,d),[f,p].join(p?u:"")});return t({displayValue:s}),(i,a)=>(V(),le("div",{class:W(o(r).b())},[i.$slots.title||i.title?(V(),le("div",{key:0,class:W(o(r).e("head"))},[Oe(i.$slots,"title",{},()=>[At(at(i.title),1)])],2)):Re("v-if",!0),ue("div",{class:W(o(r).e("content"))},[i.$slots.prefix||i.prefix?(V(),le("div",{key:0,class:W(o(r).e("prefix"))},[Oe(i.$slots,"prefix",{},()=>[ue("span",null,at(i.prefix),1)])],2)):Re("v-if",!0),ue("span",{class:W(o(r).e("number")),style:Tt(i.valueStyle)},at(o(s)),7),i.$slots.suffix||i.suffix?(V(),le("div",{key:1,class:W(o(r).e("suffix"))},[Oe(i.$slots,"suffix",{},()=>[ue("span",null,at(i.suffix),1)])],2)):Re("v-if",!0)],2)],2))}});var YG=ot(GG,[["__file","statistic.vue"]]);const OT=zt(YG),XG=st({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:Ie([Number,Object]),default:0},valueStyle:{type:Ie([String,Object,Array])}}),qG={finish:()=>!0,[Nn]:e=>$t(e)},JG=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],M1=e=>$t(e)?new Date(e).getTime():e.valueOf(),R1=(e,t)=>{let n=e;const r=/\[([^\]]*)]/g;return JG.reduce((i,[a,l])=>{const u=new RegExp(`${a}+(?![^\\[\\]]*\\])`,"g");if(u.test(i)){const d=Math.floor(n/l);return n-=d*l,i.replace(u,f=>String(d).padStart(f.length,"0"))}return i},t).replace(r,"$1")},ZG=ve({name:"ElCountdown"}),QG=ve({...ZG,props:XG,emits:qG,setup(e,{expose:t,emit:n}){const r=e;let s;const i=Q(0),a=L(()=>R1(i.value,r.format)),l=f=>R1(f,r.format),u=()=>{s&&(Oo(s),s=void 0)},d=()=>{const f=M1(r.value),p=()=>{let g=f-Date.now();n("change",g),g<=0?(g=0,u(),n("finish")):s=Ha(p),i.value=g};s=Ha(p)};return Ut(()=>{i.value=M1(r.value)-Date.now(),je(()=>[r.value,r.format],()=>{u(),d()},{immediate:!0})}),Fn(()=>{u()}),t({displayValue:a}),(f,p)=>(V(),Ve(o(OT),{value:i.value,title:f.title,prefix:f.prefix,suffix:f.suffix,"value-style":f.valueStyle,formatter:l},zs({_:2},[nn(f.$slots,(g,v)=>({name:v,fn:Se(()=>[Oe(f.$slots,v)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var eY=ot(QG,[["__file","countdown.vue"]]);const tY=zt(eY),nY=st({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),rY={[Nn]:(e,t)=>[e,t].every($t)},sY=ve({name:"ElSteps"}),iY=ve({...sY,props:nY,emits:rY,setup(e,{emit:t}){const n=e,r=Xe("steps"),{children:s,addChild:i,removeChild:a}=yv(Gt(),"ElStep");return je(s,()=>{s.value.forEach((l,u)=>{l.setIndex(u)})}),Qt("ElSteps",{props:n,steps:s,addStep:i,removeStep:a}),je(()=>n.active,(l,u)=>{t(Nn,l,u)}),(l,u)=>(V(),le("div",{class:W([o(r).b(),o(r).m(l.simple?"simple":l.direction)])},[Oe(l.$slots,"default")],2))}});var aY=ot(iY,[["__file","steps.vue"]]);const oY=st({title:{type:String,default:""},icon:{type:Pn},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),lY=ve({name:"ElStep"}),uY=ve({...lY,props:oY,setup(e){const t=e,n=Xe("step"),r=Q(-1),s=Q({}),i=Q(""),a=vt("ElSteps"),l=Gt();Ut(()=>{je([()=>a.props.active,()=>a.props.processStatus,()=>a.props.finishStatus],([D])=>{k(D)},{immediate:!0})}),Fn(()=>{a.removeStep(A.uid)});const u=L(()=>t.status||i.value),d=L(()=>{const D=a.steps.value[r.value-1];return D?D.currentStatus:"wait"}),f=L(()=>a.props.alignCenter),p=L(()=>a.props.direction==="vertical"),g=L(()=>a.props.simple),v=L(()=>a.steps.value.length),w=L(()=>{var D;return((D=a.steps.value[v.value-1])==null?void 0:D.uid)===(l==null?void 0:l.uid)}),b=L(()=>g.value?"":a.props.space),_=L(()=>[n.b(),n.is(g.value?"simple":a.props.direction),n.is("flex",w.value&&!b.value&&!f.value),n.is("center",f.value&&!p.value&&!g.value)]),C=L(()=>{const D={flexBasis:$t(b.value)?`${b.value}px`:b.value?b.value:`${100/(v.value-(f.value?0:1))}%`};return p.value||w.value&&(D.maxWidth=`${100/v.value}%`),D}),M=D=>{r.value=D},E=D=>{const H=D==="wait",U={transitionDelay:`${H?"-":""}${150*r.value}ms`},K=D===a.props.processStatus||H?0:100;U.borderWidth=K&&!g.value?"1px":0,U[a.props.direction==="vertical"?"height":"width"]=`${K}%`,s.value=U},k=D=>{D>r.value?i.value=a.props.finishStatus:D===r.value&&d.value!=="error"?i.value=a.props.processStatus:i.value="wait";const H=a.steps.value[r.value-1];H&&H.calcProgress(i.value)},A=wn({uid:l.uid,currentStatus:u,setIndex:M,calcProgress:E});return a.addStep(A),(D,H)=>(V(),le("div",{style:Tt(o(C)),class:W(o(_))},[Re(" icon & line "),ue("div",{class:W([o(n).e("head"),o(n).is(o(u))])},[o(g)?Re("v-if",!0):(V(),le("div",{key:0,class:W(o(n).e("line"))},[ue("i",{class:W(o(n).e("line-inner")),style:Tt(s.value)},null,6)],2)),ue("div",{class:W([o(n).e("icon"),o(n).is(D.icon||D.$slots.icon?"icon":"text")])},[Oe(D.$slots,"icon",{},()=>[D.icon?(V(),Ve(o(wt),{key:0,class:W(o(n).e("icon-inner"))},{default:Se(()=>[(V(),Ve(Yt(D.icon)))]),_:1},8,["class"])):o(u)==="success"?(V(),Ve(o(wt),{key:1,class:W([o(n).e("icon-inner"),o(n).is("status")])},{default:Se(()=>[pe(o(Tc))]),_:1},8,["class"])):o(u)==="error"?(V(),Ve(o(wt),{key:2,class:W([o(n).e("icon-inner"),o(n).is("status")])},{default:Se(()=>[pe(o(ii))]),_:1},8,["class"])):o(g)?Re("v-if",!0):(V(),le("div",{key:3,class:W(o(n).e("icon-inner"))},at(r.value+1),3))])],2)],2),Re(" title & description "),ue("div",{class:W(o(n).e("main"))},[ue("div",{class:W([o(n).e("title"),o(n).is(o(u))])},[Oe(D.$slots,"title",{},()=>[At(at(D.title),1)])],2),o(g)?(V(),le("div",{key:0,class:W(o(n).e("arrow"))},null,2)):(V(),le("div",{key:1,class:W([o(n).e("description"),o(n).is(o(u))])},[Oe(D.$slots,"description",{},()=>[At(at(D.description),1)])],2))],2)],6))}});var MT=ot(uY,[["__file","item.vue"]]);const cY=zt(aY,{Step:MT}),dY=Qn(MT),RT=e=>["",...Oi].includes(e),fY=st({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:RT},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:Pn},activeActionIcon:{type:Pn},activeIcon:{type:Pn},inactiveIcon:{type:Pn},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Ie(Function)},id:String,tabindex:{type:[String,Number]},...Fr(["ariaLabel"])}),hY={[Kt]:e=>zn(e)||xt(e)||$t(e),[Nn]:e=>zn(e)||xt(e)||$t(e),[Br]:e=>zn(e)||xt(e)||$t(e)},DT="ElSwitch",pY=ve({name:DT}),mY=ve({...pY,props:fY,emits:hY,setup(e,{expose:t,emit:n}){const r=e,{formItem:s}=Wr(),i=pr(),a=Xe("switch"),{inputId:l}=Us(r,{formItemContext:s}),u=Ur(L(()=>r.loading)),d=Q(r.modelValue!==!1),f=Q(),p=Q(),g=L(()=>[a.b(),a.m(i.value),a.is("disabled",u.value),a.is("checked",C.value)]),v=L(()=>[a.e("label"),a.em("label","left"),a.is("active",!C.value)]),w=L(()=>[a.e("label"),a.em("label","right"),a.is("active",C.value)]),b=L(()=>({width:nr(r.width)}));je(()=>r.modelValue,()=>{d.value=!0});const _=L(()=>d.value?r.modelValue:!1),C=L(()=>_.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(_.value)||(n(Kt,r.inactiveValue),n(Nn,r.inactiveValue),n(Br,r.inactiveValue)),je(C,A=>{var D;f.value.checked=A,r.validateEvent&&((D=s==null?void 0:s.validate)==null||D.call(s,"change").catch(H=>void 0))});const M=()=>{const A=C.value?r.inactiveValue:r.activeValue;n(Kt,A),n(Nn,A),n(Br,A),Et(()=>{f.value.checked=C.value})},E=()=>{if(u.value)return;const{beforeChange:A}=r;if(!A){M();return}const D=A();[Fu(D),zn(D)].includes(!0)||xr(DT,"beforeChange must return type `Promise<boolean>` or `boolean`"),Fu(D)?D.then(U=>{U&&M()}).catch(U=>{}):D&&M()},k=()=>{var A,D;(D=(A=f.value)==null?void 0:A.focus)==null||D.call(A)};return Ut(()=>{f.value.checked=C.value}),t({focus:k,checked:C}),(A,D)=>(V(),le("div",{class:W(o(g)),onClick:Lt(E,["prevent"])},[ue("input",{id:o(l),ref_key:"input",ref:f,class:W(o(a).e("input")),type:"checkbox",role:"switch","aria-checked":o(C),"aria-disabled":o(u),"aria-label":A.ariaLabel,name:A.name,"true-value":A.activeValue,"false-value":A.inactiveValue,disabled:o(u),tabindex:A.tabindex,onChange:M,onKeydown:Vn(E,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!A.inlinePrompt&&(A.inactiveIcon||A.inactiveText)?(V(),le("span",{key:0,class:W(o(v))},[A.inactiveIcon?(V(),Ve(o(wt),{key:0},{default:Se(()=>[(V(),Ve(Yt(A.inactiveIcon)))]),_:1})):Re("v-if",!0),!A.inactiveIcon&&A.inactiveText?(V(),le("span",{key:1,"aria-hidden":o(C)},at(A.inactiveText),9,["aria-hidden"])):Re("v-if",!0)],2)):Re("v-if",!0),ue("span",{ref_key:"core",ref:p,class:W(o(a).e("core")),style:Tt(o(b))},[A.inlinePrompt?(V(),le("div",{key:0,class:W(o(a).e("inner"))},[A.activeIcon||A.inactiveIcon?(V(),Ve(o(wt),{key:0,class:W(o(a).is("icon"))},{default:Se(()=>[(V(),Ve(Yt(o(C)?A.activeIcon:A.inactiveIcon)))]),_:1},8,["class"])):A.activeText||A.inactiveText?(V(),le("span",{key:1,class:W(o(a).is("text")),"aria-hidden":!o(C)},at(o(C)?A.activeText:A.inactiveText),11,["aria-hidden"])):Re("v-if",!0)],2)):Re("v-if",!0),ue("div",{class:W(o(a).e("action"))},[A.loading?(V(),Ve(o(wt),{key:0,class:W(o(a).is("loading"))},{default:Se(()=>[pe(o($i))]),_:1},8,["class"])):o(C)?Oe(A.$slots,"active-action",{key:1},()=>[A.activeActionIcon?(V(),Ve(o(wt),{key:0},{default:Se(()=>[(V(),Ve(Yt(A.activeActionIcon)))]),_:1})):Re("v-if",!0)]):o(C)?Re("v-if",!0):Oe(A.$slots,"inactive-action",{key:2},()=>[A.inactiveActionIcon?(V(),Ve(o(wt),{key:0},{default:Se(()=>[(V(),Ve(Yt(A.inactiveActionIcon)))]),_:1})):Re("v-if",!0)])],2)],6),!A.inlinePrompt&&(A.activeIcon||A.activeText)?(V(),le("span",{key:1,class:W(o(w))},[A.activeIcon?(V(),Ve(o(wt),{key:0},{default:Se(()=>[(V(),Ve(Yt(A.activeIcon)))]),_:1})):Re("v-if",!0),!A.activeIcon&&A.activeText?(V(),le("span",{key:1,"aria-hidden":!o(C)},at(A.activeText),9,["aria-hidden"])):Re("v-if",!0)],2)):Re("v-if",!0)],10,["onClick"]))}});var gY=ot(mY,[["__file","switch.vue"]]);const vY=zt(gY),wp=function(e){var t;return(t=e.target)==null?void 0:t.closest("td")},yY=function(e,t,n,r,s){if(!t&&!r&&(!s||nt(s)&&!s.length))return e;xt(n)?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const i=r?null:function(l,u){return s?(nt(s)||(s=[s]),s.map(d=>xt(d)?cr(l,d):d(l,u,e))):(t!=="$key"&&jt(l)&&"$value"in l&&(l=l.$value),[jt(l)?cr(l,t):l])},a=function(l,u){if(r)return r(l.value,u.value);for(let d=0,f=l.key.length;d<f;d++){if(l.key[d]<u.key[d])return-1;if(l.key[d]>u.key[d])return 1}return 0};return e.map((l,u)=>({value:l,index:u,key:i?i(l,u):null})).sort((l,u)=>{let d=a(l,u);return d||(d=l.index-u.index),d*+n}).map(l=>l.value)},NT=function(e,t){let n=null;return e.columns.forEach(r=>{r.id===t&&(n=r)}),n},bY=function(e,t){let n=null;for(let r=0;r<e.columns.length;r++){const s=e.columns[r];if(s.columnKey===t){n=s;break}}return n||xr("ElTable",`No column matching with column-key: ${t}`),n},D1=function(e,t,n){const r=(t.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return r?NT(e,r[0]):null},Jr=(e,t)=>{if(!e)throw new Error("Row is required when get row identity");if(xt(t)){if(!t.includes("."))return`${e[t]}`;const n=t.split(".");let r=e;for(const s of n)r=r[s];return`${r}`}else if(_t(t))return t.call(null,e)},Ru=function(e,t){const n={};return(e||[]).forEach((r,s)=>{n[Jr(r,t)]={row:r,index:s}}),n};function wY(e,t){const n={};let r;for(r in e)n[r]=e[r];for(r in t)if(yn(t,r)){const s=t[r];xn(s)||(n[r]=s)}return n}function Wv(e){return e===""||xn(e)||(e=Number.parseInt(e,10),Number.isNaN(e)&&(e="")),e}function PT(e){return e===""||xn(e)||(e=Wv(e),Number.isNaN(e)&&(e=80)),e}function xY(e){return $t(e)?e:xt(e)?/^\d+(?:px)?$/.test(e)?Number.parseInt(e,10):e:null}function SY(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Ef(e,t,n,r,s,i){let a=i??0,l=!1;const u=e.indexOf(t),d=u!==-1,f=s==null?void 0:s.call(null,t,i),p=v=>{v==="add"?e.push(t):e.splice(u,1),l=!0},g=v=>{let w=0;const b=(r==null?void 0:r.children)&&v[r.children];return b&&nt(b)&&(w+=b.length,b.forEach(_=>{w+=g(_)})),w};return(!s||f)&&(zn(n)?n&&!d?p("add"):!n&&d&&p("remove"):p(d?"remove":"add")),!(r!=null&&r.checkStrictly)&&(r!=null&&r.children)&&nt(t[r.children])&&t[r.children].forEach(v=>{Ef(e,v,n??!d,r,s,a+1),a+=g(v)+1}),l}function CY(e,t,n="children",r="hasChildren"){const s=a=>!(nt(a)&&a.length);function i(a,l,u){t(a,l,u),l.forEach(d=>{if(d[r]){t(d,null,u+1);return}const f=d[n];s(f)||i(d,f,u+1)})}e.forEach(a=>{if(a[r]){t(a,null,0);return}const l=a[n];s(l)||i(a,l,0)})}const N1=(e,t)=>({content:t,...e,popperOptions:{strategy:"fixed",...e.popperOptions}});let vs=null;function _Y(e,t,n,r){if((vs==null?void 0:vs.trigger)===n){Z2(vs.vm.component.props,N1(e,t));return}vs==null||vs();const s=r==null?void 0:r.refs.tableWrapper,i=s==null?void 0:s.dataset.prefix,a=pe(Hr,{virtualTriggering:!0,virtualRef:n,appendTo:s,placement:"top",transition:"none",offset:0,hideAfter:0,...N1(e,t)});a.appContext={...r.appContext,...r};const l=document.createElement("div");Ba(a,l),a.component.exposed.onOpen();const u=s==null?void 0:s.querySelector(`.${i}-scrollbar__wrap`);vs=()=>{Ba(null,l),u==null||u.removeEventListener("scroll",vs),vs=null},vs.trigger=n,vs.vm=a,u==null||u.addEventListener("scroll",vs)}function FT(e){return e.children?bN(e.children,FT):[e]}function P1(e,t){return e+t.colSpan}const VT=(e,t,n,r)=>{let s=0,i=e;const a=n.states.columns.value;if(r){const u=FT(r[e]);s=a.slice(0,a.indexOf(u[0])).reduce(P1,0),i=s+u.reduce(P1,0)-1}else s=e;let l;switch(t){case"left":i<n.states.fixedLeafColumnsLength.value&&(l="left");break;case"right":s>=a.length-n.states.rightFixedLeafColumnsLength.value&&(l="right");break;default:i<n.states.fixedLeafColumnsLength.value?l="left":s>=a.length-n.states.rightFixedLeafColumnsLength.value&&(l="right")}return l?{direction:l,start:s,after:i}:{}},Uv=(e,t,n,r,s,i=0)=>{const a=[],{direction:l,start:u,after:d}=VT(t,n,r,s);if(l){const f=l==="left";a.push(`${e}-fixed-column--${l}`),f&&d+i===r.states.fixedLeafColumnsLength.value-1?a.push("is-last-column"):!f&&u-i===r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value&&a.push("is-first-column")}return a};function F1(e,t){return e+(Cc(t.realWidth)||Number.isNaN(t.realWidth)?Number(t.width):t.realWidth)}const jv=(e,t,n,r)=>{const{direction:s,start:i=0,after:a=0}=VT(e,t,n,r);if(!s)return;const l={},u=s==="left",d=n.states.columns.value;return u?l.left=d.slice(0,i).reduce(F1,0):l.right=d.slice(a+1).reverse().reduce(F1,0),l},Al=(e,t)=>{e&&(Number.isNaN(e[t])||(e[t]=`${e[t]}px`))};function TY(e){const t=Gt(),n=Q(!1),r=Q([]);return{updateExpandRows:()=>{const u=e.data.value||[],d=e.rowKey.value;if(n.value)r.value=u.slice();else if(d){const f=Ru(r.value,d);r.value=u.reduce((p,g)=>{const v=Jr(g,d);return f[v]&&p.push(g),p},[])}else r.value=[]},toggleRowExpansion:(u,d)=>{Ef(r.value,u,d)&&t.emit("expand-change",u,r.value.slice())},setExpandRowKeys:u=>{t.store.assertRowKey();const d=e.data.value||[],f=e.rowKey.value,p=Ru(d,f);r.value=u.reduce((g,v)=>{const w=p[v];return w&&g.push(w.row),g},[])},isRowExpanded:u=>{const d=e.rowKey.value;return d?!!Ru(r.value,d)[Jr(u,d)]:r.value.includes(u)},states:{expandRows:r,defaultExpandAll:n}}}function kY(e){const t=Gt(),n=Q(null),r=Q(null),s=d=>{t.store.assertRowKey(),n.value=d,a(d)},i=()=>{n.value=null},a=d=>{const{data:f,rowKey:p}=e;let g=null;p.value&&(g=(o(f)||[]).find(v=>Jr(v,p.value)===d)),r.value=g,t.emit("current-change",r.value,null)};return{setCurrentRowKey:s,restoreCurrentRowKey:i,setCurrentRowByKey:a,updateCurrentRow:d=>{const f=r.value;if(d&&d!==f){r.value=d,t.emit("current-change",r.value,f);return}!d&&f&&(r.value=null,t.emit("current-change",null,f))},updateCurrentRowData:()=>{const d=e.rowKey.value,f=e.data.value||[],p=r.value;if(!f.includes(p)&&p){if(d){const g=Jr(p,d);a(g)}else r.value=null;Cc(r.value)&&t.emit("current-change",null,p)}else n.value&&(a(n.value),i())},states:{_currentRowKey:n,currentRow:r}}}function EY(e){const t=Q([]),n=Q({}),r=Q(16),s=Q(!1),i=Q({}),a=Q("hasChildren"),l=Q("children"),u=Q(!1),d=Gt(),f=L(()=>{if(!e.rowKey.value)return{};const E=e.data.value||[];return g(E)}),p=L(()=>{const E=e.rowKey.value,k=Object.keys(i.value),A={};return k.length&&k.forEach(D=>{if(i.value[D].length){const H={children:[]};i.value[D].forEach(U=>{const K=Jr(U,E);H.children.push(K),U[a.value]&&!A[K]&&(A[K]={children:[]})}),A[D]=H}}),A}),g=E=>{const k=e.rowKey.value,A={};return CY(E,(D,H,U)=>{const K=Jr(D,k);nt(H)?A[K]={children:H.map(G=>Jr(G,k)),level:U}:s.value&&(A[K]={children:[],lazy:!0,level:U})},l.value,a.value),A},v=(E=!1,k=(A=>(A=d.store)==null?void 0:A.states.defaultExpandAll.value)())=>{var A;const D=f.value,H=p.value,U=Object.keys(D),K={};if(U.length){const G=o(n),q=[],Y=(xe,oe)=>{if(E)return t.value?k||t.value.includes(oe):!!(k||xe!=null&&xe.expanded);{const Z=k||t.value&&t.value.includes(oe);return!!(xe!=null&&xe.expanded||Z)}};U.forEach(xe=>{const oe=G[xe],Z={...D[xe]};if(Z.expanded=Y(oe,xe),Z.lazy){const{loaded:ne=!1,loading:ee=!1}=oe||{};Z.loaded=!!ne,Z.loading=!!ee,q.push(xe)}K[xe]=Z});const de=Object.keys(H);s.value&&de.length&&q.length&&de.forEach(xe=>{const oe=G[xe],Z=H[xe].children;if(q.includes(xe)){if(K[xe].children.length!==0)throw new Error("[ElTable]children must be an empty array.");K[xe].children=Z}else{const{loaded:ne=!1,loading:ee=!1}=oe||{};K[xe]={lazy:!0,loaded:!!ne,loading:!!ee,expanded:Y(oe,xe),children:Z,level:""}}})}n.value=K,(A=d.store)==null||A.updateTableScrollY()};je(()=>t.value,()=>{v(!0)}),je(()=>f.value,()=>{v()}),je(()=>p.value,()=>{v()});const w=E=>{t.value=E,v()},b=(E,k)=>{d.store.assertRowKey();const A=e.rowKey.value,D=Jr(E,A),H=D&&n.value[D];if(D&&H&&"expanded"in H){const U=H.expanded;k=xn(k)?!H.expanded:k,n.value[D].expanded=k,U!==k&&d.emit("expand-change",E,k),d.store.updateTableScrollY()}},_=E=>{d.store.assertRowKey();const k=e.rowKey.value,A=Jr(E,k),D=n.value[A];s.value&&D&&"loaded"in D&&!D.loaded?C(E,A,D):b(E,void 0)},C=(E,k,A)=>{const{load:D}=d.props;D&&!n.value[k].loaded&&(n.value[k].loading=!0,D(E,A,H=>{if(!nt(H))throw new TypeError("[ElTable] data must be an array");n.value[k].loading=!1,n.value[k].loaded=!0,n.value[k].expanded=!0,H.length&&(i.value[k]=H),d.emit("expand-change",E,!0)}))};return{loadData:C,loadOrToggle:_,toggleTreeExpansion:b,updateTreeExpandKeys:w,updateTreeData:v,updateKeyChildren:(E,k)=>{const{lazy:A,rowKey:D}=d.props;if(A){if(!D)throw new Error("[Table] rowKey is required in updateKeyChild");i.value[E]&&(i.value[E]=k)}},normalize:g,states:{expandRowKeys:t,treeData:n,indent:r,lazy:s,lazyTreeNodeMap:i,lazyColumnIdentifier:a,childrenColumnName:l,checkStrictly:u}}}const $Y=(e,t)=>{const n=t.sortingColumn;return!n||xt(n.sortable)?e:yY(e,t.sortProp,t.sortOrder,n.sortMethod,n.sortBy)},Hd=e=>{const t=[];return e.forEach(n=>{n.children&&n.children.length>0?t.push.apply(t,Hd(n.children)):t.push(n)}),t};function IY(){var e;const t=Gt(),{size:n}=Er((e=t.proxy)==null?void 0:e.$props),r=Q(null),s=Q([]),i=Q([]),a=Q(!1),l=Q([]),u=Q([]),d=Q([]),f=Q([]),p=Q([]),g=Q([]),v=Q([]),w=Q([]),b=[],_=Q(0),C=Q(0),M=Q(0),E=Q(!1),k=Q([]),A=Q(!1),D=Q(!1),H=Q(null),U=Q({}),K=Q(null),G=Q(null),q=Q(null),Y=Q(null),de=Q(null),xe=L(()=>r.value?Ru(k.value,r.value):void 0);je(s,()=>{var Ue;t.state&&(J(!1),t.props.tableLayout==="auto"&&((Ue=t.refs.tableHeaderRef)==null||Ue.updateFixedColumnStyle()))},{deep:!0});const oe=()=>{if(!r.value)throw new Error("[ElTable] prop row-key is required")},Z=Ue=>{var Ae;(Ae=Ue.children)==null||Ae.forEach(Ke=>{Ke.fixed=Ue.fixed,Z(Ke)})};let ne;const ee=()=>{l.value.forEach(lt=>{Z(lt)}),f.value=l.value.filter(lt=>lt.fixed===!0||lt.fixed==="left"),p.value=l.value.filter(lt=>lt.fixed==="right"),xn(ne)&&l.value[0]&&l.value[0].type==="selection"&&(ne=!!l.value[0].fixed),f.value.length>0&&l.value[0]&&l.value[0].type==="selection"&&(l.value[0].fixed?f.value.some(Nt=>Nt.type!=="selection")?ne=void 0:(l.value[0].fixed=ne,ne||f.value.shift()):(l.value[0].fixed=!0,f.value.unshift(l.value[0])));const Ue=l.value.filter(lt=>!lt.fixed);u.value=[].concat(f.value).concat(Ue).concat(p.value);const Ae=Hd(Ue),Ke=Hd(f.value),_e=Hd(p.value);_.value=Ae.length,C.value=Ke.length,M.value=_e.length,d.value=[].concat(Ke).concat(Ae).concat(_e),a.value=f.value.length>0||p.value.length>0},J=(Ue,Ae=!1)=>{Ue&&ee(),Ae?t.state.doLayout():t.state.debouncedUpdateLayout()},fe=Ue=>xe.value?!!xe.value[Jr(Ue,r.value)]:k.value.includes(Ue),ge=()=>{E.value=!1;const Ue=k.value;k.value=[],Ue.length&&t.emit("selection-change",[])},ke=()=>{let Ue;if(r.value){Ue=[];const Ae=Ru(s.value,r.value);for(const Ke in xe.value)yn(xe.value,Ke)&&!Ae[Ke]&&Ue.push(xe.value[Ke].row)}else Ue=k.value.filter(Ae=>!s.value.includes(Ae));if(Ue.length){const Ae=k.value.filter(Ke=>!Ue.includes(Ke));k.value=Ae,t.emit("selection-change",Ae.slice())}},ye=()=>(k.value||[]).slice(),Fe=(Ue,Ae,Ke=!0,_e=!1)=>{var lt,Nt,Jt,An;const Kn={children:(Nt=(lt=t==null?void 0:t.store)==null?void 0:lt.states)==null?void 0:Nt.childrenColumnName.value,checkStrictly:(An=(Jt=t==null?void 0:t.store)==null?void 0:Jt.states)==null?void 0:An.checkStrictly.value};if(Ef(k.value,Ue,Ae,Kn,_e?void 0:H.value)){const rn=(k.value||[]).slice();Ke&&t.emit("select",rn,Ue),t.emit("selection-change",rn)}},Be=()=>{var Ue,Ae;const Ke=D.value?!E.value:!(E.value||k.value.length);E.value=Ke;let _e=!1,lt=0;const Nt=(Ae=(Ue=t==null?void 0:t.store)==null?void 0:Ue.states)==null?void 0:Ae.rowKey.value,{childrenColumnName:Jt}=t.store.states,An={children:Jt.value,checkStrictly:!1};s.value.forEach((Kn,yr)=>{const rn=yr+lt;Ef(k.value,Kn,Ke,An,H.value,rn)&&(_e=!0),lt+=Ne(Jr(Kn,Nt))}),_e&&t.emit("selection-change",k.value?k.value.slice():[]),t.emit("select-all",(k.value||[]).slice())},He=()=>{s.value.forEach(Ue=>{const Ae=Jr(Ue,r.value),Ke=xe.value[Ae];Ke&&(k.value[Ke.index]=Ue)})},he=()=>{var Ue;if(((Ue=s.value)==null?void 0:Ue.length)===0){E.value=!1;return}const{childrenColumnName:Ae}=t.store.states;let Ke=0,_e=0;const lt=Jt=>{var An;for(const Kn of Jt){const yr=H.value&&H.value.call(null,Kn,Ke);if(fe(Kn))_e++;else if(!H.value||yr)return!1;if(Ke++,(An=Kn[Ae.value])!=null&&An.length&&!lt(Kn[Ae.value]))return!1}return!0},Nt=lt(s.value||[]);E.value=_e===0?!1:Nt},Ne=Ue=>{var Ae;if(!t||!t.store)return 0;const{treeData:Ke}=t.store.states;let _e=0;const lt=(Ae=Ke.value[Ue])==null?void 0:Ae.children;return lt&&(_e+=lt.length,lt.forEach(Nt=>{_e+=Ne(Nt)})),_e},Pe=(Ue,Ae)=>{nt(Ue)||(Ue=[Ue]);const Ke={};return Ue.forEach(_e=>{U.value[_e.id]=Ae,Ke[_e.columnKey||_e.id]=Ae}),Ke},et=(Ue,Ae,Ke)=>{G.value&&G.value!==Ue&&(G.value.order=null),G.value=Ue,q.value=Ae,Y.value=Ke},qe=()=>{let Ue=o(i);Object.keys(U.value).forEach(Ae=>{const Ke=U.value[Ae];if(!Ke||Ke.length===0)return;const _e=NT({columns:d.value},Ae);_e&&_e.filterMethod&&(Ue=Ue.filter(lt=>Ke.some(Nt=>_e.filterMethod.call(null,Nt,lt,_e))))}),K.value=Ue},ae=()=>{s.value=$Y(K.value,{sortingColumn:G.value,sortProp:q.value,sortOrder:Y.value})},be=(Ue=void 0)=>{Ue&&Ue.filter||qe(),ae()},$e=Ue=>{const{tableHeaderRef:Ae}=t.refs;if(!Ae)return;const Ke=Object.assign({},Ae.filterPanels),_e=Object.keys(Ke);if(_e.length)if(xt(Ue)&&(Ue=[Ue]),nt(Ue)){const lt=Ue.map(Nt=>bY({columns:d.value},Nt));_e.forEach(Nt=>{const Jt=lt.find(An=>An.id===Nt);Jt&&(Jt.filteredValue=[])}),t.store.commit("filterChange",{column:lt,values:[],silent:!0,multi:!0})}else _e.forEach(lt=>{const Nt=d.value.find(Jt=>Jt.id===lt);Nt&&(Nt.filteredValue=[])}),U.value={},t.store.commit("filterChange",{column:{},values:[],silent:!0})},Ge=()=>{G.value&&(et(null,null,null),t.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:Qe,toggleRowExpansion:Le,updateExpandRows:Ze,states:We,isRowExpanded:it}=TY({data:s,rowKey:r}),{updateTreeExpandKeys:rt,toggleTreeExpansion:St,updateTreeData:mt,updateKeyChildren:Ye,loadOrToggle:yt,states:Mt}=EY({data:s,rowKey:r}),{updateCurrentRowData:qt,updateCurrentRow:Ht,setCurrentRowKey:gn,states:en}=kY({data:s,rowKey:r});return{assertRowKey:oe,updateColumns:ee,scheduleLayout:J,isSelected:fe,clearSelection:ge,cleanSelection:ke,getSelectionRows:ye,toggleRowSelection:Fe,_toggleAllSelection:Be,toggleAllSelection:null,updateSelectionByRowKey:He,updateAllSelected:he,updateFilters:Pe,updateCurrentRow:Ht,updateSort:et,execFilter:qe,execSort:ae,execQuery:be,clearFilter:$e,clearSort:Ge,toggleRowExpansion:Le,setExpandRowKeysAdapter:Ue=>{Qe(Ue),rt(Ue)},setCurrentRowKey:gn,toggleRowExpansionAdapter:(Ue,Ae)=>{d.value.some(({type:_e})=>_e==="expand")?Le(Ue,Ae):St(Ue,Ae)},isRowExpanded:it,updateExpandRows:Ze,updateCurrentRowData:qt,loadOrToggle:yt,updateTreeData:mt,updateKeyChildren:Ye,states:{tableSize:n,rowKey:r,data:s,_data:i,isComplex:a,_columns:l,originColumns:u,columns:d,fixedColumns:f,rightFixedColumns:p,leafColumns:g,fixedLeafColumns:v,rightFixedLeafColumns:w,updateOrderFns:b,leafColumnsLength:_,fixedLeafColumnsLength:C,rightFixedLeafColumnsLength:M,isAllSelected:E,selection:k,reserveSelection:A,selectOnIndeterminate:D,selectable:H,filters:U,filteredData:K,sortingColumn:G,sortProp:q,sortOrder:Y,hoverRow:de,...We,...Mt,...en}}}function Lm(e,t){return e.map(n=>{var r;return n.id===t.id?t:((r=n.children)!=null&&r.length&&(n.children=Lm(n.children,t)),n)})}function Om(e){e.forEach(t=>{var n,r;t.no=(n=t.getColumnIndex)==null?void 0:n.call(t),(r=t.children)!=null&&r.length&&Om(t.children)}),e.sort((t,n)=>t.no-n.no)}function AY(){const e=Gt(),t=IY();return{ns:Xe("table"),...t,mutations:{setData(a,l){const u=o(a._data)!==l;a.data.value=l,a._data.value=l,e.store.execQuery(),e.store.updateCurrentRowData(),e.store.updateExpandRows(),e.store.updateTreeData(e.store.states.defaultExpandAll.value),o(a.reserveSelection)?(e.store.assertRowKey(),e.store.updateSelectionByRowKey()):u?e.store.clearSelection():e.store.cleanSelection(),e.store.updateAllSelected(),e.$ready&&e.store.scheduleLayout()},insertColumn(a,l,u,d){const f=o(a._columns);let p=[];u?(u&&!u.children&&(u.children=[]),u.children.push(l),p=Lm(f,u)):(f.push(l),p=f),Om(p),a._columns.value=p,a.updateOrderFns.push(d),l.type==="selection"&&(a.selectable.value=l.selectable,a.reserveSelection.value=l.reserveSelection),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},updateColumnOrder(a,l){var u;((u=l.getColumnIndex)==null?void 0:u.call(l))!==l.no&&(Om(a._columns.value),e.$ready&&e.store.updateColumns())},removeColumn(a,l,u,d){const f=o(a._columns)||[];if(u)u.children.splice(u.children.findIndex(g=>g.id===l.id),1),Et(()=>{var g;((g=u.children)==null?void 0:g.length)===0&&delete u.children}),a._columns.value=Lm(f,u);else{const g=f.indexOf(l);g>-1&&(f.splice(g,1),a._columns.value=f)}const p=a.updateOrderFns.indexOf(d);p>-1&&a.updateOrderFns.splice(p,1),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},sort(a,l){const{prop:u,order:d,init:f}=l;if(u){const p=o(a.columns).find(g=>g.property===u);p&&(p.order=d,e.store.updateSort(p,u,d),e.store.commit("changeSortCondition",{init:f}))}},changeSortCondition(a,l){const{sortingColumn:u,sortProp:d,sortOrder:f}=a,p=o(u),g=o(d),v=o(f);Cc(v)&&(a.sortingColumn.value=null,a.sortProp.value=null);const w={filter:!0};e.store.execQuery(w),(!l||!(l.silent||l.init))&&e.emit("sort-change",{column:p,prop:g,order:v}),e.store.updateTableScrollY()},filterChange(a,l){const{column:u,values:d,silent:f}=l,p=e.store.updateFilters(u,d);e.store.execQuery(),f||e.emit("filter-change",p),e.store.updateTableScrollY()},toggleAllSelection(){e.store.toggleAllSelection()},rowSelectedChanged(a,l){e.store.toggleRowSelection(l),e.store.updateAllSelected()},setHoverRow(a,l){a.hoverRow.value=l},setCurrentRow(a,l){e.store.updateCurrentRow(l)}},commit:function(a,...l){const u=e.store.mutations;if(u[a])u[a].apply(e,[e.store.states].concat(l));else throw new Error(`Action not found: ${a}`)},updateTableScrollY:function(){Et(()=>e.layout.updateScrollY.apply(e.layout))}}}const Du={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function LY(e,t){if(!e)throw new Error("Table is required.");const n=AY();return n.toggleAllSelection=xs(n._toggleAllSelection,10),Object.keys(Du).forEach(r=>{zT(BT(t,r),r,n)}),OY(n,t),n}function OY(e,t){Object.keys(Du).forEach(n=>{je(()=>BT(t,n),r=>{zT(r,n,e)})})}function zT(e,t,n){let r=e,s=Du[t];jt(Du[t])&&(s=s.key,r=r||Du[t].default),n.states[s].value=r}function BT(e,t){if(t.includes(".")){const n=t.split(".");let r=e;return n.forEach(s=>{r=r[s]}),r}else return e[t]}class MY{constructor(t){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=Q(null),this.scrollX=Q(!1),this.scrollY=Q(!1),this.bodyWidth=Q(null),this.fixedWidth=Q(null),this.rightFixedWidth=Q(null),this.gutterWidth=0;for(const n in t)yn(t,n)&&(kn(this[n])?this[n].value=t[n]:this[n]=t[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){const t=this.height.value;if(Cc(t))return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(n!=null&&n.wrapRef)){let r=!0;const s=this.scrollY.value;return r=n.wrapRef.scrollHeight>n.wrapRef.clientHeight,this.scrollY.value=r,s!==r}return!1}setHeight(t,n="height"){if(!un)return;const r=this.table.vnode.el;if(t=xY(t),this.height.value=Number(t),!r&&(t||t===0))return Et(()=>this.setHeight(t,n));$t(t)?(r.style[n]=`${t}px`,this.updateElsHeight()):xt(t)&&(r.style[n]=t,this.updateElsHeight())}setMaxHeight(t){this.setHeight(t,"max-height")}getFlattenColumns(){const t=[];return this.table.store.states.columns.value.forEach(r=>{r.isColumnGroup?t.push.apply(t,r.columns):t.push(r)}),t}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(t){if(!t)return!0;let n=t;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){if(!un)return;const t=this.fit,n=this.table.vnode.el.clientWidth;let r=0;const s=this.getFlattenColumns(),i=s.filter(u=>!$t(u.width));if(s.forEach(u=>{$t(u.width)&&u.realWidth&&(u.realWidth=null)}),i.length>0&&t){if(s.forEach(u=>{r+=Number(u.width||u.minWidth||80)}),r<=n){this.scrollX.value=!1;const u=n-r;if(i.length===1)i[0].realWidth=Number(i[0].minWidth||80)+u;else{const d=i.reduce((g,v)=>g+Number(v.minWidth||80),0),f=u/d;let p=0;i.forEach((g,v)=>{if(v===0)return;const w=Math.floor(Number(g.minWidth||80)*f);p+=w,g.realWidth=Number(g.minWidth||80)+w}),i[0].realWidth=Number(i[0].minWidth||80)+u-p}}else this.scrollX.value=!0,i.forEach(u=>{u.realWidth=Number(u.minWidth)});this.bodyWidth.value=Math.max(r,n),this.table.state.resizeState.value.width=this.bodyWidth.value}else s.forEach(u=>{!u.width&&!u.minWidth?u.realWidth=80:u.realWidth=Number(u.width||u.minWidth),r+=u.realWidth}),this.scrollX.value=r>n,this.bodyWidth.value=r;const a=this.store.states.fixedColumns.value;if(a.length>0){let u=0;a.forEach(d=>{u+=Number(d.realWidth||d.width)}),this.fixedWidth.value=u}const l=this.store.states.rightFixedColumns.value;if(l.length>0){let u=0;l.forEach(d=>{u+=Number(d.realWidth||d.width)}),this.rightFixedWidth.value=u}this.notifyObservers("columns")}addObserver(t){this.observers.push(t)}removeObserver(t){const n=this.observers.indexOf(t);n!==-1&&this.observers.splice(n,1)}notifyObservers(t){this.observers.forEach(r=>{var s,i;switch(t){case"columns":(s=r.state)==null||s.onColumnsChange(this);break;case"scrollable":(i=r.state)==null||i.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${t}.`)}})}}const{CheckboxGroup:RY}=Ws,DY=ve({name:"ElTableFilterPanel",components:{ElCheckbox:Ws,ElCheckboxGroup:RY,ElScrollbar:Mi,ElTooltip:Hr,ElIcon:wt,ArrowDown:ca,ArrowUp:Jg},directives:{ClickOutside:sa},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:{type:String}},setup(e){const t=Gt(),{t:n}=cn(),r=Xe("table-filter"),s=t==null?void 0:t.parent;s.filterPanels.value[e.column.id]||(s.filterPanels.value[e.column.id]=t);const i=Q(!1),a=Q(null),l=L(()=>e.column&&e.column.filters),u=L(()=>e.column.filterClassName?`${r.b()} ${e.column.filterClassName}`:r.b()),d=L({get:()=>{var A;return(((A=e.column)==null?void 0:A.filteredValue)||[])[0]},set:A=>{f.value&&(ni(A)?f.value.splice(0,1):f.value.splice(0,1,A))}}),f=L({get(){return e.column?e.column.filteredValue||[]:[]},set(A){e.column&&e.upDataColumn("filteredValue",A)}}),p=L(()=>e.column?e.column.filterMultiple:!0),g=A=>A.value===d.value,v=()=>{i.value=!1},w=A=>{A.stopPropagation(),i.value=!i.value},b=()=>{i.value=!1},_=()=>{E(f.value),v()},C=()=>{f.value=[],E(f.value),v()},M=A=>{d.value=A,ni(A)?E([]):E(f.value),v()},E=A=>{e.store.commit("filterChange",{column:e.column,values:A}),e.store.updateAllSelected()};je(i,A=>{e.column&&e.upDataColumn("filterOpened",A)},{immediate:!0});const k=L(()=>{var A,D;return(D=(A=a.value)==null?void 0:A.popperRef)==null?void 0:D.contentRef});return{tooltipVisible:i,multiple:p,filterClassName:u,filteredValue:f,filterValue:d,filters:l,handleConfirm:_,handleReset:C,handleSelect:M,isPropAbsent:ni,isActive:g,t:n,ns:r,showFilterPanel:w,hideFilterPanel:b,popperPaneRef:k,tooltip:a}}});function NY(e,t,n,r,s,i){const a=Dt("el-checkbox"),l=Dt("el-checkbox-group"),u=Dt("el-scrollbar"),d=Dt("arrow-up"),f=Dt("arrow-down"),p=Dt("el-icon"),g=Dt("el-tooltip"),v=Wf("click-outside");return V(),Ve(g,{ref:"tooltip",visible:e.tooltipVisible,offset:0,placement:e.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":e.filterClassName,persistent:"","append-to":e.appendTo},{content:Se(()=>[e.multiple?(V(),le("div",{key:0},[ue("div",{class:W(e.ns.e("content"))},[pe(u,{"wrap-class":e.ns.e("wrap")},{default:Se(()=>[pe(l,{modelValue:e.filteredValue,"onUpdate:modelValue":w=>e.filteredValue=w,class:W(e.ns.e("checkbox-group"))},{default:Se(()=>[(V(!0),le(Ct,null,nn(e.filters,w=>(V(),Ve(a,{key:w.value,value:w.value},{default:Se(()=>[At(at(w.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"])]),_:1},8,["wrap-class"])],2),ue("div",{class:W(e.ns.e("bottom"))},[ue("button",{class:W({[e.ns.is("disabled")]:e.filteredValue.length===0}),disabled:e.filteredValue.length===0,type:"button",onClick:e.handleConfirm},at(e.t("el.table.confirmFilter")),11,["disabled","onClick"]),ue("button",{type:"button",onClick:e.handleReset},at(e.t("el.table.resetFilter")),9,["onClick"])],2)])):(V(),le("ul",{key:1,class:W(e.ns.e("list"))},[ue("li",{class:W([e.ns.e("list-item"),{[e.ns.is("active")]:e.isPropAbsent(e.filterValue)}]),onClick:w=>e.handleSelect(null)},at(e.t("el.table.clearFilter")),11,["onClick"]),(V(!0),le(Ct,null,nn(e.filters,w=>(V(),le("li",{key:w.value,class:W([e.ns.e("list-item"),e.ns.is("active",e.isActive(w))]),label:w.value,onClick:b=>e.handleSelect(w.value)},at(w.text),11,["label","onClick"]))),128))],2))]),default:Se(()=>[Bt((V(),le("span",{class:W([`${e.ns.namespace.value}-table__column-filter-trigger`,`${e.ns.namespace.value}-none-outline`]),onClick:e.showFilterPanel},[pe(p,null,{default:Se(()=>[Oe(e.$slots,"filter-icon",{},()=>[e.column.filterOpened?(V(),Ve(d,{key:0})):(V(),Ve(f,{key:1}))])]),_:3})],10,["onClick"])),[[v,e.hideFilterPanel,e.popperPaneRef]])]),_:3},8,["visible","placement","popper-class","append-to"])}var PY=ot(DY,[["render",NY],["__file","filter-panel.vue"]]);function KT(e){const t=Gt();Hf(()=>{n.value.addObserver(t)}),Ut(()=>{r(n.value),s(n.value)}),ui(()=>{r(n.value),s(n.value)}),Ja(()=>{n.value.removeObserver(t)});const n=L(()=>{const i=e.layout;if(!i)throw new Error("Can not find table layout.");return i}),r=i=>{var a;const l=((a=e.vnode.el)==null?void 0:a.querySelectorAll("colgroup > col"))||[];if(!l.length)return;const u=i.getFlattenColumns(),d={};u.forEach(f=>{d[f.id]=f});for(let f=0,p=l.length;f<p;f++){const g=l[f],v=g.getAttribute("name"),w=d[v];w&&g.setAttribute("width",w.realWidth||w.width)}},s=i=>{var a,l;const u=((a=e.vnode.el)==null?void 0:a.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let f=0,p=u.length;f<p;f++)u[f].setAttribute("width",i.scrollY.value?i.gutterWidth:"0");const d=((l=e.vnode.el)==null?void 0:l.querySelectorAll("th.gutter"))||[];for(let f=0,p=d.length;f<p;f++){const g=d[f];g.style.width=i.scrollY.value?`${i.gutterWidth}px`:"0",g.style.display=i.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:r,onScrollableChange:s}}const Ri=Symbol("ElTable");function FY(e,t){const n=Gt(),r=vt(Ri),s=b=>{b.stopPropagation()},i=(b,_)=>{!_.filters&&_.sortable?w(b,_,!1):_.filterable&&!_.sortable&&s(b),r==null||r.emit("header-click",_,b)},a=(b,_)=>{r==null||r.emit("header-contextmenu",_,b)},l=Q(null),u=Q(!1),d=Q({}),f=(b,_)=>{if(un&&!(_.children&&_.children.length>0)&&l.value&&e.border){u.value=!0;const C=r;t("set-drag-visible",!0);const E=(C==null?void 0:C.vnode.el).getBoundingClientRect().left,k=n.vnode.el.querySelector(`th.${_.id}`),A=k.getBoundingClientRect(),D=A.left-E+30;Ns(k,"noclick"),d.value={startMouseLeft:b.clientX,startLeft:A.right-E,startColumnLeft:A.left-E,tableLeft:E};const H=C==null?void 0:C.refs.resizeProxy;H.style.left=`${d.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const U=G=>{const q=G.clientX-d.value.startMouseLeft,Y=d.value.startLeft+q;H.style.left=`${Math.max(D,Y)}px`},K=()=>{if(u.value){const{startColumnLeft:G,startLeft:q}=d.value,de=Number.parseInt(H.style.left,10)-G;_.width=_.realWidth=de,C==null||C.emit("header-dragend",_.width,q-G,_,b),requestAnimationFrame(()=>{e.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",u.value=!1,l.value=null,d.value={},t("set-drag-visible",!1)}document.removeEventListener("mousemove",U),document.removeEventListener("mouseup",K),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{Qr(k,"noclick")},0)};document.addEventListener("mousemove",U),document.addEventListener("mouseup",K)}},p=(b,_)=>{var C;if(_.children&&_.children.length>0)return;const M=b.target;if(!us(M))return;const E=M==null?void 0:M.closest("th");if(!(!_||!_.resizable||!E)&&!u.value&&e.border){const k=E.getBoundingClientRect(),A=document.body.style,D=((C=E.parentNode)==null?void 0:C.lastElementChild)===E,H=e.allowDragLastColumn||!D;k.width>12&&k.right-b.pageX<8&&H?(A.cursor="col-resize",ys(E,"is-sortable")&&(E.style.cursor="col-resize"),l.value=_):u.value||(A.cursor="",ys(E,"is-sortable")&&(E.style.cursor="pointer"),l.value=null)}},g=()=>{un&&(document.body.style.cursor="")},v=({order:b,sortOrders:_})=>{if(b==="")return _[0];const C=_.indexOf(b||null);return _[C>_.length-2?0:C+1]},w=(b,_,C)=>{var M;b.stopPropagation();const E=_.order===C?null:C||v(_),k=(M=b.target)==null?void 0:M.closest("th");if(k&&ys(k,"noclick")){Qr(k,"noclick");return}if(!_.sortable)return;const A=b.currentTarget;if(["ascending","descending"].some(G=>ys(A,G)&&!_.sortOrders.includes(G)))return;const D=e.store.states;let H=D.sortProp.value,U;const K=D.sortingColumn.value;(K!==_||K===_&&Cc(K.order))&&(K&&(K.order=null),D.sortingColumn.value=_,H=_.property),E?U=_.order=E:U=_.order=null,D.sortProp.value=H,D.sortOrder.value=U,r==null||r.store.commit("changeSortCondition")};return{handleHeaderClick:i,handleHeaderContextMenu:a,handleMouseDown:f,handleMouseMove:p,handleMouseOut:g,handleSortClick:w,handleFilterClick:s}}function VY(e){const t=vt(Ri),n=Xe("table");return{getHeaderRowStyle:l=>{const u=t==null?void 0:t.props.headerRowStyle;return _t(u)?u.call(null,{rowIndex:l}):u},getHeaderRowClass:l=>{const u=[],d=t==null?void 0:t.props.headerRowClassName;return xt(d)?u.push(d):_t(d)&&u.push(d.call(null,{rowIndex:l})),u.join(" ")},getHeaderCellStyle:(l,u,d,f)=>{var p;let g=(p=t==null?void 0:t.props.headerCellStyle)!=null?p:{};_t(g)&&(g=g.call(null,{rowIndex:l,columnIndex:u,row:d,column:f}));const v=jv(u,f.fixed,e.store,d);return Al(v,"left"),Al(v,"right"),Object.assign({},g,v)},getHeaderCellClass:(l,u,d,f)=>{const p=Uv(n.b(),u,f.fixed,e.store,d),g=[f.id,f.order,f.headerAlign,f.className,f.labelClassName,...p];f.children||g.push("is-leaf"),f.sortable&&g.push("is-sortable");const v=t==null?void 0:t.props.headerCellClassName;return xt(v)?g.push(v):_t(v)&&g.push(v.call(null,{rowIndex:l,columnIndex:u,row:d,column:f})),g.push(n.e("cell")),g.filter(w=>!!w).join(" ")}}}const HT=e=>{const t=[];return e.forEach(n=>{n.children?(t.push(n),t.push.apply(t,HT(n.children))):t.push(n)}),t},WT=e=>{let t=1;const n=(i,a)=>{if(a&&(i.level=a.level+1,t<i.level&&(t=i.level)),i.children){let l=0;i.children.forEach(u=>{n(u,i),l+=u.colSpan}),i.colSpan=l}else i.colSpan=1};e.forEach(i=>{i.level=1,n(i,void 0)});const r=[];for(let i=0;i<t;i++)r.push([]);return HT(e).forEach(i=>{i.children?(i.rowSpan=1,i.children.forEach(a=>a.isSubColumn=!0)):i.rowSpan=t-i.level+1,r[i.level-1].push(i)}),r};function zY(e){const t=vt(Ri),n=L(()=>WT(e.store.states.originColumns.value));return{isGroup:L(()=>{const i=n.value.length>1;return i&&t&&(t.state.isGroup.value=!0),i}),toggleAllSelection:i=>{i.stopPropagation(),t==null||t.store.commit("toggleAllSelection")},columnRows:n}}var BY=ve({name:"ElTableHeader",components:{ElCheckbox:Ws},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})},appendFilterPanelTo:{type:String},allowDragLastColumn:{type:Boolean}},setup(e,{emit:t}){const n=Gt(),r=vt(Ri),s=Xe("table"),i=Q({}),{onColumnsChange:a,onScrollableChange:l}=KT(r),u=(r==null?void 0:r.props.tableLayout)==="auto",d=wn(new Map),f=Q(),p=()=>{setTimeout(()=>{d.size>0&&(d.forEach((G,q)=>{const Y=f.value.querySelector(`.${q.replace(/\s/g,".")}`);if(Y){const de=Y.getBoundingClientRect().width;G.width=de}}),d.clear())})};je(d,p),Ut(async()=>{await Et(),await Et();const{prop:G,order:q}=e.defaultSort;r==null||r.store.commit("sort",{prop:G,order:q,init:!0}),p()});const{handleHeaderClick:g,handleHeaderContextMenu:v,handleMouseDown:w,handleMouseMove:b,handleMouseOut:_,handleSortClick:C,handleFilterClick:M}=FY(e,t),{getHeaderRowStyle:E,getHeaderRowClass:k,getHeaderCellStyle:A,getHeaderCellClass:D}=VY(e),{isGroup:H,toggleAllSelection:U,columnRows:K}=zY(e);return n.state={onColumnsChange:a,onScrollableChange:l},n.filterPanels=i,{ns:s,filterPanels:i,onColumnsChange:a,onScrollableChange:l,columnRows:K,getHeaderRowClass:k,getHeaderRowStyle:E,getHeaderCellClass:D,getHeaderCellStyle:A,handleHeaderClick:g,handleHeaderContextMenu:v,handleMouseDown:w,handleMouseMove:b,handleMouseOut:_,handleSortClick:C,handleFilterClick:M,isGroup:H,toggleAllSelection:U,saveIndexSelection:d,isTableLayoutAuto:u,theadRef:f,updateFixedColumnStyle:p}},render(){const{ns:e,isGroup:t,columnRows:n,getHeaderCellStyle:r,getHeaderCellClass:s,getHeaderRowClass:i,getHeaderRowStyle:a,handleHeaderClick:l,handleHeaderContextMenu:u,handleMouseDown:d,handleMouseMove:f,handleSortClick:p,handleMouseOut:g,store:v,$parent:w,saveIndexSelection:b,isTableLayoutAuto:_}=this;let C=1;return It("thead",{ref:"theadRef",class:{[e.is("group")]:t}},n.map((M,E)=>It("tr",{class:i(E),key:E,style:a(E)},M.map((k,A)=>{k.rowSpan>C&&(C=k.rowSpan);const D=s(E,A,M,k);return _&&k.fixed&&b.set(D,k),It("th",{class:D,colspan:k.colSpan,key:`${k.id}-thead`,rowspan:k.rowSpan,style:r(E,A,M,k),onClick:H=>{H.currentTarget.classList.contains("noclick")||l(H,k)},onContextmenu:H=>u(H,k),onMousedown:H=>d(H,k),onMousemove:H=>f(H,k),onMouseout:g},[It("div",{class:["cell",k.filteredValue&&k.filteredValue.length>0?"highlight":""]},[k.renderHeader?k.renderHeader({column:k,$index:A,store:v,_self:w}):k.label,k.sortable&&It("span",{onClick:H=>p(H,k),class:"caret-wrapper"},[It("i",{onClick:H=>p(H,k,"ascending"),class:"sort-caret ascending"}),It("i",{onClick:H=>p(H,k,"descending"),class:"sort-caret descending"})]),k.filterable&&It(PY,{store:v,placement:k.filterPlacement||"bottom-start",appendTo:w.appendFilterPanelTo,column:k,upDataColumn:(H,U)=>{k[H]=U}},{"filter-icon":()=>k.renderFilterIcon?k.renderFilterIcon({filterOpened:k.filterOpened}):null})])])}))))}});function xp(e,t,n=.03){return e-t>n}function KY(e){const t=vt(Ri),n=Q(""),r=Q(It("div")),s=(w,b,_)=>{var C;const M=t,E=wp(w);let k;const A=(C=M==null?void 0:M.vnode.el)==null?void 0:C.dataset.prefix;E&&(k=D1({columns:e.store.states.columns.value},E,A),k&&(M==null||M.emit(`cell-${_}`,b,k,E,w))),M==null||M.emit(`row-${_}`,b,k,w)},i=(w,b)=>{s(w,b,"dblclick")},a=(w,b)=>{e.store.commit("setCurrentRow",b),s(w,b,"click")},l=(w,b)=>{s(w,b,"contextmenu")},u=xs(w=>{e.store.commit("setHoverRow",w)},30),d=xs(()=>{e.store.commit("setHoverRow",null)},30),f=w=>{const b=window.getComputedStyle(w,null),_=Number.parseInt(b.paddingLeft,10)||0,C=Number.parseInt(b.paddingRight,10)||0,M=Number.parseInt(b.paddingTop,10)||0,E=Number.parseInt(b.paddingBottom,10)||0;return{left:_,right:C,top:M,bottom:E}},p=(w,b,_)=>{let C=b.target.parentNode;for(;w>1&&(C=C==null?void 0:C.nextSibling,!(!C||C.nodeName!=="TR"));)_(C,"hover-row hover-fixed-row"),w--};return{handleDoubleClick:i,handleClick:a,handleContextMenu:l,handleMouseEnter:u,handleMouseLeave:d,handleCellMouseEnter:(w,b,_)=>{var C,M,E;const k=t,A=wp(w),D=(C=k==null?void 0:k.vnode.el)==null?void 0:C.dataset.prefix;if(A){const J=D1({columns:e.store.states.columns.value},A,D);A.rowSpan>1&&p(A.rowSpan,w,Ns);const fe=k.hoverState={cell:A,column:J,row:b};k==null||k.emit("cell-mouse-enter",fe.row,fe.column,fe.cell,w)}if(!_)return;const H=w.target.querySelector(".cell");if(!(ys(H,`${D}-tooltip`)&&H.childNodes.length))return;const U=document.createRange();U.setStart(H,0),U.setEnd(H,H.childNodes.length);const{width:K,height:G}=U.getBoundingClientRect(),{width:q,height:Y}=H.getBoundingClientRect(),{top:de,left:xe,right:oe,bottom:Z}=f(H),ne=xe+oe,ee=de+Z;xp(K+ne,q)||xp(G+ee,Y)||xp(H.scrollWidth,q)?_Y(_,A.innerText||A.textContent,A,k):((M=vs)==null?void 0:M.trigger)===A&&((E=vs)==null||E())},handleCellMouseLeave:w=>{const b=wp(w);if(!b)return;b.rowSpan>1&&p(b.rowSpan,w,Qr);const _=t==null?void 0:t.hoverState;t==null||t.emit("cell-mouse-leave",_==null?void 0:_.row,_==null?void 0:_.column,_==null?void 0:_.cell,w)},tooltipContent:n,tooltipTrigger:r}}function HY(e){const t=vt(Ri),n=Xe("table");return{getRowStyle:(d,f)=>{const p=t==null?void 0:t.props.rowStyle;return _t(p)?p.call(null,{row:d,rowIndex:f}):p||null},getRowClass:(d,f)=>{const p=[n.e("row")];t!=null&&t.props.highlightCurrentRow&&d===e.store.states.currentRow.value&&p.push("current-row"),e.stripe&&f%2===1&&p.push(n.em("row","striped"));const g=t==null?void 0:t.props.rowClassName;return xt(g)?p.push(g):_t(g)&&p.push(g.call(null,{row:d,rowIndex:f})),p},getCellStyle:(d,f,p,g)=>{const v=t==null?void 0:t.props.cellStyle;let w=v??{};_t(v)&&(w=v.call(null,{rowIndex:d,columnIndex:f,row:p,column:g}));const b=jv(f,e==null?void 0:e.fixed,e.store);return Al(b,"left"),Al(b,"right"),Object.assign({},w,b)},getCellClass:(d,f,p,g,v)=>{const w=Uv(n.b(),f,e==null?void 0:e.fixed,e.store,void 0,v),b=[g.id,g.align,g.className,...w],_=t==null?void 0:t.props.cellClassName;return xt(_)?b.push(_):_t(_)&&b.push(_.call(null,{rowIndex:d,columnIndex:f,row:p,column:g})),b.push(n.e("cell")),b.filter(C=>!!C).join(" ")},getSpan:(d,f,p,g)=>{let v=1,w=1;const b=t==null?void 0:t.props.spanMethod;if(_t(b)){const _=b({row:d,column:f,rowIndex:p,columnIndex:g});nt(_)?(v=_[0],w=_[1]):jt(_)&&(v=_.rowspan,w=_.colspan)}return{rowspan:v,colspan:w}},getColspanRealWidth:(d,f,p)=>{if(f<1)return d[p].realWidth;const g=d.map(({realWidth:v,width:w})=>v||w).slice(p,p+f);return Number(g.reduce((v,w)=>Number(v)+Number(w),-1))}}}const WY=ve({name:"TableTdWrapper"}),UY=ve({...WY,props:{colspan:{type:Number,default:1},rowspan:{type:Number,default:1}},setup(e){return(t,n)=>(V(),le("td",{colspan:e.colspan,rowspan:e.rowspan},[Oe(t.$slots,"default")],8,["colspan","rowspan"]))}});var jY=ot(UY,[["__file","td-wrapper.vue"]]);function GY(e){const t=vt(Ri),n=Xe("table"),{handleDoubleClick:r,handleClick:s,handleContextMenu:i,handleMouseEnter:a,handleMouseLeave:l,handleCellMouseEnter:u,handleCellMouseLeave:d,tooltipContent:f,tooltipTrigger:p}=KY(e),{getRowStyle:g,getRowClass:v,getCellStyle:w,getCellClass:b,getSpan:_,getColspanRealWidth:C}=HY(e),M=L(()=>e.store.states.columns.value.findIndex(({type:H})=>H==="default")),E=(H,U)=>{const K=t.props.rowKey;return K?Jr(H,K):U},k=(H,U,K,G=!1)=>{const{tooltipEffect:q,tooltipOptions:Y,store:de}=e,{indent:xe,columns:oe}=de.states,Z=v(H,U);let ne=!0;return K&&(Z.push(n.em("row",`level-${K.level}`)),ne=K.display),It("tr",{style:[ne?null:{display:"none"},g(H,U)],class:Z,key:E(H,U),onDblclick:J=>r(J,H),onClick:J=>s(J,H),onContextmenu:J=>i(J,H),onMouseenter:()=>a(U),onMouseleave:l},oe.value.map((J,fe)=>{const{rowspan:ge,colspan:ke}=_(H,J,U,fe);if(!ge||!ke)return null;const ye=Object.assign({},J);ye.realWidth=C(oe.value,ke,fe);const Fe={store:e.store,_self:e.context||t,column:ye,row:H,$index:U,cellIndex:fe,expanded:G};fe===M.value&&K&&(Fe.treeNode={indent:K.level*xe.value,level:K.level},zn(K.expanded)&&(Fe.treeNode.expanded=K.expanded,"loading"in K&&(Fe.treeNode.loading=K.loading),"noLazyChildren"in K&&(Fe.treeNode.noLazyChildren=K.noLazyChildren)));const Be=`${E(H,U)},${fe}`,He=ye.columnKey||ye.rawColumnKey||"",he=J.showOverflowTooltip&&Z2({effect:q},Y,J.showOverflowTooltip);return It(jY,{style:w(U,fe,H,J),class:b(U,fe,H,J,ke-1),key:`${He}${Be}`,rowspan:ge,colspan:ke,onMouseenter:Ne=>u(Ne,H,he),onMouseleave:d},{default:()=>A(fe,J,Fe)})}))},A=(H,U,K)=>U.renderCell(K);return{wrappedRowRender:(H,U)=>{const K=e.store,{isRowExpanded:G,assertRowKey:q}=K,{treeData:Y,lazyTreeNodeMap:de,childrenColumnName:xe,rowKey:oe}=K.states,Z=K.states.columns.value;if(Z.some(({type:ee})=>ee==="expand")){const ee=G(H),J=k(H,U,void 0,ee),fe=t.renderExpanded;return ee?fe?[[J,It("tr",{key:`expanded-row__${J.key}`},[It("td",{colspan:Z.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[fe({row:H,$index:U,store:K,expanded:ee})])])]]:(console.error("[Element Error]renderExpanded is required."),J):[[J]]}else if(Object.keys(Y.value).length){q();const ee=Jr(H,oe.value);let J=Y.value[ee],fe=null;J&&(fe={expanded:J.expanded,level:J.level,display:!0},zn(J.lazy)&&(zn(J.loaded)&&J.loaded&&(fe.noLazyChildren=!(J.children&&J.children.length)),fe.loading=J.loading));const ge=[k(H,U,fe)];if(J){let ke=0;const ye=(Be,He)=>{Be&&Be.length&&He&&Be.forEach(he=>{const Ne={display:He.display&&He.expanded,level:He.level+1,expanded:!1,noLazyChildren:!1,loading:!1},Pe=Jr(he,oe.value);if(ni(Pe))throw new Error("For nested data item, row-key is required.");if(J={...Y.value[Pe]},J&&(Ne.expanded=J.expanded,J.level=J.level||Ne.level,J.display=!!(J.expanded&&Ne.display),zn(J.lazy)&&(zn(J.loaded)&&J.loaded&&(Ne.noLazyChildren=!(J.children&&J.children.length)),Ne.loading=J.loading)),ke++,ge.push(k(he,U+ke,Ne)),J){const et=de.value[Pe]||he[xe.value];ye(et,J)}})};J.display=!0;const Fe=de.value[ee]||H[xe.value];ye(Fe,J)}return ge}else return k(H,U,void 0)},tooltipContent:f,tooltipTrigger:p}}const YY={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var XY=ve({name:"ElTableBody",props:YY,setup(e){const t=Gt(),n=vt(Ri),r=Xe("table"),{wrappedRowRender:s,tooltipContent:i,tooltipTrigger:a}=GY(e),{onColumnsChange:l,onScrollableChange:u}=KT(n),d=[];return je(e.store.states.hoverRow,(f,p)=>{var g;const v=t==null?void 0:t.vnode.el,w=Array.from((v==null?void 0:v.children)||[]).filter(C=>C==null?void 0:C.classList.contains(`${r.e("row")}`));let b=f;const _=(g=w[b])==null?void 0:g.childNodes;if(_!=null&&_.length){let C=0;Array.from(_).reduce((E,k,A)=>{var D,H;return((D=_[A])==null?void 0:D.colSpan)>1&&(C=(H=_[A])==null?void 0:H.colSpan),k.nodeName!=="TD"&&C===0&&E.push(A),C>0&&C--,E},[]).forEach(E=>{var k;for(b=f;b>0;){const A=(k=w[b-1])==null?void 0:k.childNodes;if(A[E]&&A[E].nodeName==="TD"&&A[E].rowSpan>1){Ns(A[E],"hover-cell"),d.push(A[E]);break}b--}})}else d.forEach(C=>Qr(C,"hover-cell")),d.length=0;!e.store.states.isComplex.value||!un||Ha(()=>{const C=w[p],M=w[f];C&&!C.classList.contains("hover-fixed-row")&&Qr(C,"hover-row"),M&&Ns(M,"hover-row")})}),Ja(()=>{var f;(f=vs)==null||f()}),{ns:r,onColumnsChange:l,onScrollableChange:u,wrappedRowRender:s,tooltipContent:i,tooltipTrigger:a}},render(){const{wrappedRowRender:e,store:t}=this,n=t.states.data.value||[];return It("tbody",{tabIndex:-1},[n.reduce((r,s)=>r.concat(e(s,r.length)),[])])}});function qY(){const e=vt(Ri),t=e==null?void 0:e.store,n=L(()=>t.states.fixedLeafColumnsLength.value),r=L(()=>t.states.rightFixedColumns.value.length),s=L(()=>t.states.columns.value.length),i=L(()=>t.states.fixedColumns.value.length),a=L(()=>t.states.rightFixedColumns.value.length);return{leftFixedLeafCount:n,rightFixedLeafCount:r,columnsCount:s,leftFixedCount:i,rightFixedCount:a,columns:t.states.columns}}function JY(e){const{columns:t}=qY(),n=Xe("table");return{getCellClasses:(i,a)=>{const l=i[a],u=[n.e("cell"),l.id,l.align,l.labelClassName,...Uv(n.b(),a,l.fixed,e.store)];return l.className&&u.push(l.className),l.children||u.push(n.is("leaf")),u},getCellStyles:(i,a)=>{const l=jv(a,i.fixed,e.store);return Al(l,"left"),Al(l,"right"),l},columns:t}}var ZY=ve({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e){const{getCellClasses:t,getCellStyles:n,columns:r}=JY(e);return{ns:Xe("table"),getCellClasses:t,getCellStyles:n,columns:r}},render(){const{columns:e,getCellStyles:t,getCellClasses:n,summaryMethod:r,sumText:s}=this,i=this.store.states.data.value;let a=[];return r?a=r({columns:e,data:i}):e.forEach((l,u)=>{if(u===0){a[u]=s;return}const d=i.map(v=>Number(v[l.property])),f=[];let p=!0;d.forEach(v=>{if(!Number.isNaN(+v)){p=!1;const w=`${v}`.split(".")[1];f.push(w?w.length:0)}});const g=Math.max.apply(null,f);p?a[u]="":a[u]=d.reduce((v,w)=>{const b=Number(w);return Number.isNaN(+b)?v:Number.parseFloat((v+w).toFixed(Math.min(g,20)))},0)}),It(It("tfoot",[It("tr",{},[...e.map((l,u)=>It("td",{key:u,colspan:l.colSpan,rowspan:l.rowSpan,class:n(e,u),style:t(l,u)},[It("div",{class:["cell",l.labelClassName]},[a[u]])]))])]))}});function QY(e){return{setCurrentRow:p=>{e.commit("setCurrentRow",p)},getSelectionRows:()=>e.getSelectionRows(),toggleRowSelection:(p,g,v=!0)=>{e.toggleRowSelection(p,g,!1,v),e.updateAllSelected()},clearSelection:()=>{e.clearSelection()},clearFilter:p=>{e.clearFilter(p)},toggleAllSelection:()=>{e.commit("toggleAllSelection")},toggleRowExpansion:(p,g)=>{e.toggleRowExpansionAdapter(p,g)},clearSort:()=>{e.clearSort()},sort:(p,g)=>{e.commit("sort",{prop:p,order:g})},updateKeyChildren:(p,g)=>{e.updateKeyChildren(p,g)}}}function eX(e,t,n,r){const s=Q(!1),i=Q(null),a=Q(!1),l=ee=>{a.value=ee},u=Q({width:null,height:null,headerHeight:null}),d=Q(!1),f={display:"inline-block",verticalAlign:"middle"},p=Q(),g=Q(0),v=Q(0),w=Q(0),b=Q(0),_=Q(0);Vr(()=>{t.setHeight(e.height)}),Vr(()=>{t.setMaxHeight(e.maxHeight)}),je(()=>[e.currentRowKey,n.states.rowKey],([ee,J])=>{!o(J)||!o(ee)||n.setCurrentRowKey(`${ee}`)},{immediate:!0}),je(()=>e.data,ee=>{r.store.commit("setData",ee)},{immediate:!0,deep:!0}),Vr(()=>{e.expandRowKeys&&n.setExpandRowKeysAdapter(e.expandRowKeys)});const C=()=>{r.store.commit("setHoverRow",null),r.hoverState&&(r.hoverState=null)},M=(ee,J)=>{const{pixelX:fe,pixelY:ge}=J;Math.abs(fe)>=Math.abs(ge)&&(r.refs.bodyWrapper.scrollLeft+=J.pixelX/5)},E=L(()=>e.height||e.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),k=L(()=>({width:t.bodyWidth.value?`${t.bodyWidth.value}px`:""})),A=()=>{E.value&&t.updateElsHeight(),t.updateColumnsWidth(),requestAnimationFrame(K)};Ut(async()=>{await Et(),n.updateColumns(),G(),requestAnimationFrame(A);const ee=r.vnode.el,J=r.refs.headerWrapper;e.flexible&&ee&&ee.parentElement&&(ee.parentElement.style.minWidth="0"),u.value={width:p.value=ee.offsetWidth,height:ee.offsetHeight,headerHeight:e.showHeader&&J?J.offsetHeight:null},n.states.columns.value.forEach(fe=>{fe.filteredValue&&fe.filteredValue.length&&r.store.commit("filterChange",{column:fe,values:fe.filteredValue,silent:!0})}),r.$ready=!0});const D=(ee,J)=>{if(!ee)return;const fe=Array.from(ee.classList).filter(ge=>!ge.startsWith("is-scrolling-"));fe.push(t.scrollX.value?J:"is-scrolling-none"),ee.className=fe.join(" ")},H=ee=>{const{tableWrapper:J}=r.refs;D(J,ee)},U=ee=>{const{tableWrapper:J}=r.refs;return!!(J&&J.classList.contains(ee))},K=function(){if(!r.refs.scrollBarRef)return;if(!t.scrollX.value){const Be="is-scrolling-none";U(Be)||H(Be);return}const ee=r.refs.scrollBarRef.wrapRef;if(!ee)return;const{scrollLeft:J,offsetWidth:fe,scrollWidth:ge}=ee,{headerWrapper:ke,footerWrapper:ye}=r.refs;ke&&(ke.scrollLeft=J),ye&&(ye.scrollLeft=J);const Fe=ge-fe-1;J>=Fe?H("is-scrolling-right"):H(J===0?"is-scrolling-left":"is-scrolling-middle")},G=()=>{r.refs.scrollBarRef&&(r.refs.scrollBarRef.wrapRef&&Mn(r.refs.scrollBarRef.wrapRef,"scroll",K,{passive:!0}),e.fit?Jn(r.vnode.el,q):Mn(window,"resize",q),Jn(r.refs.bodyWrapper,()=>{var ee,J;q(),(J=(ee=r.refs)==null?void 0:ee.scrollBarRef)==null||J.update()}))},q=()=>{var ee,J,fe,ge;const ke=r.vnode.el;if(!r.$ready||!ke)return;let ye=!1;const{width:Fe,height:Be,headerHeight:He}=u.value,he=p.value=ke.offsetWidth;Fe!==he&&(ye=!0);const Ne=ke.offsetHeight;(e.height||E.value)&&Be!==Ne&&(ye=!0);const Pe=e.tableLayout==="fixed"?r.refs.headerWrapper:(ee=r.refs.tableHeaderRef)==null?void 0:ee.$el;e.showHeader&&(Pe==null?void 0:Pe.offsetHeight)!==He&&(ye=!0),g.value=((J=r.refs.tableWrapper)==null?void 0:J.scrollHeight)||0,w.value=(Pe==null?void 0:Pe.scrollHeight)||0,b.value=((fe=r.refs.footerWrapper)==null?void 0:fe.offsetHeight)||0,_.value=((ge=r.refs.appendWrapper)==null?void 0:ge.offsetHeight)||0,v.value=g.value-w.value-b.value-_.value,ye&&(u.value={width:he,height:Ne,headerHeight:e.showHeader&&(Pe==null?void 0:Pe.offsetHeight)||0},A())},Y=pr(),de=L(()=>{const{bodyWidth:ee,scrollY:J,gutterWidth:fe}=t;return ee.value?`${ee.value-(J.value?fe:0)}px`:""}),xe=L(()=>e.maxHeight?"fixed":e.tableLayout),oe=L(()=>{if(e.data&&e.data.length)return null;let ee="100%";e.height&&v.value&&(ee=`${v.value}px`);const J=p.value;return{width:J?`${J}px`:"",height:ee}}),Z=L(()=>e.height?{height:"100%"}:e.maxHeight?Number.isNaN(Number(e.maxHeight))?{maxHeight:`calc(${e.maxHeight} - ${w.value+b.value}px)`}:{maxHeight:`${e.maxHeight-w.value-b.value}px`}:{});return{isHidden:s,renderExpanded:i,setDragVisible:l,isGroup:d,handleMouseLeave:C,handleHeaderFooterMousewheel:M,tableSize:Y,emptyBlockStyle:oe,handleFixedMousewheel:(ee,J)=>{const fe=r.refs.bodyWrapper;if(Math.abs(J.spinY)>0){const ge=fe.scrollTop;J.pixelY<0&&ge!==0&&ee.preventDefault(),J.pixelY>0&&fe.scrollHeight-fe.clientHeight>ge&&ee.preventDefault(),fe.scrollTop+=Math.ceil(J.pixelY/5)}else fe.scrollLeft+=Math.ceil(J.pixelX/5)},resizeProxyVisible:a,bodyWidth:de,resizeState:u,doLayout:A,tableBodyStyles:k,tableLayout:xe,scrollbarViewStyle:f,scrollbarStyle:Z}}function tX(e){const t=Q(),n=()=>{const s=e.vnode.el.querySelector(".hidden-columns"),i={childList:!0,subtree:!0},a=e.store.states.updateOrderFns;t.value=new MutationObserver(()=>{a.forEach(l=>l())}),t.value.observe(s,i)};Ut(()=>{n()}),Ja(()=>{var r;(r=t.value)==null||r.disconnect()})}var nX={data:{type:Array,default:()=>[]},size:vr,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0},allowDragLastColumn:{type:Boolean,default:!0}};function UT(e){const t=e.tableLayout==="auto";let n=e.columns||[];t&&n.every(({width:s})=>xn(s))&&(n=[]);const r=s=>{const i={key:`${e.tableLayout}_${s.id}`,style:{},name:void 0};return t?i.style={width:`${s.width}px`}:i.name=s.id,i};return It("colgroup",{},n.map(s=>It("col",r(s))))}UT.props=["columns","tableLayout"];const rX=()=>{const e=Q(),t=(i,a)=>{const l=e.value;l&&l.scrollTo(i,a)},n=(i,a)=>{const l=e.value;l&&$t(a)&&["Top","Left"].includes(i)&&l[`setScroll${i}`](a)};return{scrollBarRef:e,scrollTo:t,setScrollTop:i=>n("Top",i),setScrollLeft:i=>n("Left",i)}};var V1=!1,mo,Mm,Rm,Wd,Ud,jT,jd,Dm,Nm,Pm,GT,Fm,Vm,YT,XT;function gs(){if(!V1){V1=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(Fm=/\b(iPhone|iP[ao]d)/.exec(e),Vm=/\b(iP[ao]d)/.exec(e),Pm=/Android/i.exec(e),YT=/FBAN\/\w+;/i.exec(e),XT=/Mobile/i.exec(e),GT=!!/Win64/.exec(e),t){mo=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,mo&&document&&document.documentMode&&(mo=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);jT=r?parseFloat(r[1])+4:mo,Mm=t[2]?parseFloat(t[2]):NaN,Rm=t[3]?parseFloat(t[3]):NaN,Wd=t[4]?parseFloat(t[4]):NaN,Wd?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),Ud=t&&t[1]?parseFloat(t[1]):NaN):Ud=NaN}else mo=Mm=Rm=Ud=Wd=NaN;if(n){if(n[1]){var s=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);jd=s?parseFloat(s[1].replace("_",".")):!0}else jd=!1;Dm=!!n[2],Nm=!!n[3]}else jd=Dm=Nm=!1}}var zm={ie:function(){return gs()||mo},ieCompatibilityMode:function(){return gs()||jT>mo},ie64:function(){return zm.ie()&&GT},firefox:function(){return gs()||Mm},opera:function(){return gs()||Rm},webkit:function(){return gs()||Wd},safari:function(){return zm.webkit()},chrome:function(){return gs()||Ud},windows:function(){return gs()||Dm},osx:function(){return gs()||jd},linux:function(){return gs()||Nm},iphone:function(){return gs()||Fm},mobile:function(){return gs()||Fm||Vm||Pm||XT},nativeApp:function(){return gs()||YT},android:function(){return gs()||Pm},ipad:function(){return gs()||Vm}},sX=zm,iX=!!(typeof window<"u"&&window.document&&window.document.createElement),aX={canUseDOM:iX},qT=aX,JT;qT.canUseDOM&&(JT=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function oX(e,t){if(!qT.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var s=document.createElement("div");s.setAttribute(n,"return;"),r=typeof s[n]=="function"}return!r&&JT&&e==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var lX=oX,z1=10,B1=40,K1=800;function ZT(e){var t=0,n=0,r=0,s=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*z1,s=n*z1,"deltaY"in e&&(s=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||s)&&e.deltaMode&&(e.deltaMode==1?(r*=B1,s*=B1):(r*=K1,s*=K1)),r&&!t&&(t=r<1?-1:1),s&&!n&&(n=s<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:s}}ZT.getEventType=function(){return sX.firefox()?"DOMMouseScroll":lX("wheel")?"wheel":"mousewheel"};var uX=ZT;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const cX=function(e,t){if(e&&e.addEventListener){const n=function(r){const s=uX(r);t&&Reflect.apply(t,this,[r,s])};e.addEventListener("wheel",n,{passive:!0})}},dX={beforeMount(e,t){cX(e,t.value)}};let fX=1;const hX=ve({name:"ElTable",directives:{Mousewheel:dX},components:{TableHeader:BY,TableBody:XY,TableFooter:ZY,ElScrollbar:Mi,hColgroup:UT},props:nX,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change","scroll"],setup(e){const{t}=cn(),n=Xe("table"),r=Gt();Qt(Ri,r);const s=LY(r,e);r.store=s;const i=new MY({store:r.store,table:r,fit:e.fit,showHeader:e.showHeader});r.layout=i;const a=L(()=>(s.states.data.value||[]).length===0),{setCurrentRow:l,getSelectionRows:u,toggleRowSelection:d,clearSelection:f,clearFilter:p,toggleAllSelection:g,toggleRowExpansion:v,clearSort:w,sort:b,updateKeyChildren:_}=QY(s),{isHidden:C,renderExpanded:M,setDragVisible:E,isGroup:k,handleMouseLeave:A,handleHeaderFooterMousewheel:D,tableSize:H,emptyBlockStyle:U,handleFixedMousewheel:K,resizeProxyVisible:G,bodyWidth:q,resizeState:Y,doLayout:de,tableBodyStyles:xe,tableLayout:oe,scrollbarViewStyle:Z,scrollbarStyle:ne}=eX(e,i,s,r),{scrollBarRef:ee,scrollTo:J,setScrollLeft:fe,setScrollTop:ge}=rX(),ke=xs(de,50),ye=`${n.namespace.value}-table_${fX++}`;r.tableId=ye,r.state={isGroup:k,resizeState:Y,doLayout:de,debouncedUpdateLayout:ke};const Fe=L(()=>{var he;return(he=e.sumText)!=null?he:t("el.table.sumText")}),Be=L(()=>{var he;return(he=e.emptyText)!=null?he:t("el.table.emptyText")}),He=L(()=>WT(s.states.originColumns.value)[0]);return tX(r),Fn(()=>{ke.cancel()}),{ns:n,layout:i,store:s,columns:He,handleHeaderFooterMousewheel:D,handleMouseLeave:A,tableId:ye,tableSize:H,isHidden:C,isEmpty:a,renderExpanded:M,resizeProxyVisible:G,resizeState:Y,isGroup:k,bodyWidth:q,tableBodyStyles:xe,emptyBlockStyle:U,debouncedUpdateLayout:ke,handleFixedMousewheel:K,setCurrentRow:l,getSelectionRows:u,toggleRowSelection:d,clearSelection:f,clearFilter:p,toggleAllSelection:g,toggleRowExpansion:v,clearSort:w,doLayout:de,sort:b,updateKeyChildren:_,t,setDragVisible:E,context:r,computedSumText:Fe,computedEmptyText:Be,tableLayout:oe,scrollbarViewStyle:Z,scrollbarStyle:ne,scrollBarRef:ee,scrollTo:J,setScrollLeft:fe,setScrollTop:ge,allowDragLastColumn:e.allowDragLastColumn}}});function pX(e,t,n,r,s,i){const a=Dt("hColgroup"),l=Dt("table-header"),u=Dt("table-body"),d=Dt("table-footer"),f=Dt("el-scrollbar"),p=Wf("mousewheel");return V(),le("div",{ref:"tableWrapper",class:W([{[e.ns.m("fit")]:e.fit,[e.ns.m("striped")]:e.stripe,[e.ns.m("border")]:e.border||e.isGroup,[e.ns.m("hidden")]:e.isHidden,[e.ns.m("group")]:e.isGroup,[e.ns.m("fluid-height")]:e.maxHeight,[e.ns.m("scrollable-x")]:e.layout.scrollX.value,[e.ns.m("scrollable-y")]:e.layout.scrollY.value,[e.ns.m("enable-row-hover")]:!e.store.states.isComplex.value,[e.ns.m("enable-row-transition")]:(e.store.states.data.value||[]).length!==0&&(e.store.states.data.value||[]).length<100,"has-footer":e.showSummary},e.ns.m(e.tableSize),e.className,e.ns.b(),e.ns.m(`layout-${e.tableLayout}`)]),style:Tt(e.style),"data-prefix":e.ns.namespace.value,onMouseleave:e.handleMouseLeave},[ue("div",{class:W(e.ns.e("inner-wrapper"))},[ue("div",{ref:"hiddenColumns",class:"hidden-columns"},[Oe(e.$slots,"default")],512),e.showHeader&&e.tableLayout==="fixed"?Bt((V(),le("div",{key:0,ref:"headerWrapper",class:W(e.ns.e("header-wrapper"))},[ue("table",{ref:"tableHeader",class:W(e.ns.e("header")),style:Tt(e.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[pe(a,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),pe(l,{ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,"allow-drag-last-column":e.allowDragLastColumn,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","append-filter-panel-to","allow-drag-last-column","onSetDragVisible"])],6)],2)),[[p,e.handleHeaderFooterMousewheel]]):Re("v-if",!0),ue("div",{ref:"bodyWrapper",class:W(e.ns.e("body-wrapper"))},[pe(f,{ref:"scrollBarRef","view-style":e.scrollbarViewStyle,"wrap-style":e.scrollbarStyle,always:e.scrollbarAlwaysOn,tabindex:e.scrollbarTabindex,onScroll:g=>e.$emit("scroll",g)},{default:Se(()=>[ue("table",{ref:"tableBody",class:W(e.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:Tt({width:e.bodyWidth,tableLayout:e.tableLayout})},[pe(a,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),e.showHeader&&e.tableLayout==="auto"?(V(),Ve(l,{key:0,ref:"tableHeaderRef",class:W(e.ns.e("body-header")),border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,onSetDragVisible:e.setDragVisible},null,8,["class","border","default-sort","store","append-filter-panel-to","onSetDragVisible"])):Re("v-if",!0),pe(u,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"tooltip-options":e.tooltipOptions,"row-style":e.rowStyle,store:e.store,stripe:e.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),e.showSummary&&e.tableLayout==="auto"?(V(),Ve(d,{key:1,class:W(e.ns.e("body-footer")),border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):Re("v-if",!0)],6),e.isEmpty?(V(),le("div",{key:0,ref:"emptyBlock",style:Tt(e.emptyBlockStyle),class:W(e.ns.e("empty-block"))},[ue("span",{class:W(e.ns.e("empty-text"))},[Oe(e.$slots,"empty",{},()=>[At(at(e.computedEmptyText),1)])],2)],6)):Re("v-if",!0),e.$slots.append?(V(),le("div",{key:1,ref:"appendWrapper",class:W(e.ns.e("append-wrapper"))},[Oe(e.$slots,"append")],2)):Re("v-if",!0)]),_:3},8,["view-style","wrap-style","always","tabindex","onScroll"])],2),e.showSummary&&e.tableLayout==="fixed"?Bt((V(),le("div",{key:1,ref:"footerWrapper",class:W(e.ns.e("footer-wrapper"))},[ue("table",{class:W(e.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:Tt(e.tableBodyStyles)},[pe(a,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),pe(d,{border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[mn,!e.isEmpty],[p,e.handleHeaderFooterMousewheel]]):Re("v-if",!0),e.border||e.isGroup?(V(),le("div",{key:2,class:W(e.ns.e("border-left-patch"))},null,2)):Re("v-if",!0)],2),Bt(ue("div",{ref:"resizeProxy",class:W(e.ns.e("column-resize-proxy"))},null,2),[[mn,e.resizeProxyVisible]])],46,["data-prefix","onMouseleave"])}var mX=ot(hX,[["render",pX],["__file","table.vue"]]);const gX={selection:"table-column--selection",expand:"table__expand-column"},vX={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},yX=e=>gX[e]||"",bX={selection:{renderHeader({store:e,column:t}){function n(){return e.states.data.value&&e.states.data.value.length===0}return It(Ws,{disabled:n(),size:e.states.tableSize.value,indeterminate:e.states.selection.value.length>0&&!e.states.isAllSelected.value,"onUpdate:modelValue":e.toggleAllSelection,modelValue:e.states.isAllSelected.value,ariaLabel:t.label})},renderCell({row:e,column:t,store:n,$index:r}){return It(Ws,{disabled:t.selectable?!t.selectable.call(null,e,r):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",e)},onClick:s=>s.stopPropagation(),modelValue:n.isSelected(e),ariaLabel:t.label})},sortable:!1,resizable:!1},index:{renderHeader({column:e}){return e.label||"#"},renderCell({column:e,$index:t}){let n=t+1;const r=e.index;return $t(r)?n=t+r:_t(r)&&(n=r(t)),It("div",{},[n])},sortable:!1},expand:{renderHeader({column:e}){return e.label||""},renderCell({row:e,store:t,expanded:n}){const{ns:r}=t,s=[r.e("expand-icon")];return n&&s.push(r.em("expand-icon","expanded")),It("div",{class:s,onClick:function(a){a.stopPropagation(),t.toggleRowExpansion(e)}},{default:()=>[It(wt,null,{default:()=>[It(cs)]})]})},sortable:!1,resizable:!1}};function wX({row:e,column:t,$index:n}){var r;const s=t.property,i=s&&Ed(e,s).value;return t&&t.formatter?t.formatter(e,t,i,n):((r=i==null?void 0:i.toString)==null?void 0:r.call(i))||""}function xX({row:e,treeNode:t,store:n},r=!1){const{ns:s}=n;if(!t)return r?[It("span",{class:s.e("placeholder")})]:null;const i=[],a=function(l){l.stopPropagation(),!t.loading&&n.loadOrToggle(e)};if(t.indent&&i.push(It("span",{class:s.e("indent"),style:{"padding-left":`${t.indent}px`}})),zn(t.expanded)&&!t.noLazyChildren){const l=[s.e("expand-icon"),t.expanded?s.em("expand-icon","expanded"):""];let u=cs;t.loading&&(u=$i),i.push(It("div",{class:l,onClick:a},{default:()=>[It(wt,{class:{[s.is("loading")]:t.loading}},{default:()=>[It(u)]})]}))}else i.push(It("span",{class:s.e("placeholder")}));return i}function H1(e,t){return e.reduce((n,r)=>(n[r]=r,n),t)}function SX(e,t){const n=Gt();return{registerComplexWatchers:()=>{const i=["fixed"],a={realWidth:"width",realMinWidth:"minWidth"},l=H1(i,a);Object.keys(l).forEach(u=>{const d=a[u];yn(t,d)&&je(()=>t[d],f=>{let p=f;d==="width"&&u==="realWidth"&&(p=Wv(f)),d==="minWidth"&&u==="realMinWidth"&&(p=PT(f)),n.columnConfig.value[d]=p,n.columnConfig.value[u]=p;const g=d==="fixed";e.value.store.scheduleLayout(g)})})},registerNormalWatchers:()=>{const i=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],a={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},l=H1(i,a);Object.keys(l).forEach(u=>{const d=a[u];yn(t,d)&&je(()=>t[d],f=>{n.columnConfig.value[u]=f})})}}}function CX(e,t,n){const r=Gt(),s=Q(""),i=Q(!1),a=Q(),l=Q(),u=Xe("table");Vr(()=>{a.value=e.align?`is-${e.align}`:null,a.value}),Vr(()=>{l.value=e.headerAlign?`is-${e.headerAlign}`:a.value,l.value});const d=L(()=>{let k=r.vnode.vParent||r.parent;for(;k&&!k.tableId&&!k.columnId;)k=k.vnode.vParent||k.parent;return k}),f=L(()=>{const{store:k}=r.parent;if(!k)return!1;const{treeData:A}=k.states,D=A.value;return D&&Object.keys(D).length>0}),p=Q(Wv(e.width)),g=Q(PT(e.minWidth)),v=k=>(p.value&&(k.width=p.value),g.value&&(k.minWidth=g.value),!p.value&&g.value&&(k.width=void 0),k.minWidth||(k.minWidth=80),k.realWidth=Number(xn(k.width)?k.minWidth:k.width),k),w=k=>{const A=k.type,D=bX[A]||{};Object.keys(D).forEach(U=>{const K=D[U];U!=="className"&&!xn(K)&&(k[U]=K)});const H=yX(A);if(H){const U=`${o(u.namespace)}-${H}`;k.className=k.className?`${k.className} ${U}`:U}return k},b=k=>{nt(k)?k.forEach(D=>A(D)):A(k);function A(D){var H;((H=D==null?void 0:D.type)==null?void 0:H.name)==="ElTableColumn"&&(D.vParent=r)}};return{columnId:s,realAlign:a,isSubColumn:i,realHeaderAlign:l,columnOrTableParent:d,setColumnWidth:v,setColumnForcedProps:w,setColumnRenders:k=>{e.renderHeader||k.type!=="selection"&&(k.renderHeader=D=>(r.columnConfig.value.label,Oe(t,"header",D,()=>[k.label]))),t["filter-icon"]&&(k.renderFilterIcon=D=>Oe(t,"filter-icon",D));let A=k.renderCell;return k.type==="expand"?(k.renderCell=D=>It("div",{class:"cell"},[A(D)]),n.value.renderExpanded=D=>t.default?t.default(D):t.default):(A=A||wX,k.renderCell=D=>{let H=null;if(t.default){const de=t.default(D);H=de.some(xe=>xe.type!==Ar)?de:A(D)}else H=A(D);const{columns:U}=n.value.store.states,K=U.value.findIndex(de=>de.type==="default"),G=f.value&&D.cellIndex===K,q=xX(D,G),Y={class:"cell",style:{}};return k.showOverflowTooltip&&(Y.class=`${Y.class} ${o(u.namespace)}-tooltip`,Y.style={width:`${(D.column.realWidth||Number(D.column.width))-1}px`}),b(H),It("div",Y,[q,H])}),k},getPropsData:(...k)=>k.reduce((A,D)=>(nt(D)&&D.forEach(H=>{A[H]=e[H]}),A),{}),getColumnElIndex:(k,A)=>Array.prototype.indexOf.call(k,A),updateColumnOrder:()=>{n.value.store.commit("updateColumnOrder",r.columnConfig.value)}}}var _X={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:e=>e.every(t=>["ascending","descending",null].includes(t))}};let TX=1;var QT=ve({name:"ElTableColumn",components:{ElCheckbox:Ws},props:_X,setup(e,{slots:t}){const n=Gt(),r=Q({}),s=L(()=>{let E=n.parent;for(;E&&!E.tableId;)E=E.parent;return E}),{registerNormalWatchers:i,registerComplexWatchers:a}=SX(s,e),{columnId:l,isSubColumn:u,realHeaderAlign:d,columnOrTableParent:f,setColumnWidth:p,setColumnForcedProps:g,setColumnRenders:v,getPropsData:w,getColumnElIndex:b,realAlign:_,updateColumnOrder:C}=CX(e,t,s),M=f.value;l.value=`${M.tableId||M.columnId}_column_${TX++}`,Hf(()=>{u.value=s.value!==M;const E=e.type||"default",k=e.sortable===""?!0:e.sortable,A=xn(e.showOverflowTooltip)?M.props.showOverflowTooltip:e.showOverflowTooltip,D={...vX[E],id:l.value,type:E,property:e.prop||e.property,align:_,headerAlign:d,showOverflowTooltip:A,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:k,index:e.index,rawColumnKey:n.vnode.key};let q=w(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);q=wY(D,q),q=SY(v,p,g)(q),r.value=q,i(),a()}),Ut(()=>{var E;const k=f.value,A=u.value?k.vnode.el.children:(E=k.refs.hiddenColumns)==null?void 0:E.children,D=()=>b(A||[],n.vnode.el);r.value.getColumnIndex=D,D()>-1&&s.value.store.commit("insertColumn",r.value,u.value?k.columnConfig.value:null,C)}),Fn(()=>{const E=r.value.getColumnIndex;(E?E():-1)>-1&&s.value.store.commit("removeColumn",r.value,u.value?M.columnConfig.value:null,C)}),n.columnId=l.value,n.columnConfig=r},render(){var e,t,n;try{const r=(t=(e=this.$slots).default)==null?void 0:t.call(e,{row:{},column:{},$index:-1}),s=[];if(nt(r))for(const a of r)((n=a.type)==null?void 0:n.name)==="ElTableColumn"||a.shapeFlag&2?s.push(a):a.type===Ct&&nt(a.children)&&a.children.forEach(l=>{(l==null?void 0:l.patchFlag)!==1024&&!xt(l==null?void 0:l.children)&&s.push(l)});return It("div",s)}catch{return It("div",[])}}});const kX=zt(mX,{TableColumn:QT}),EX=Qn(QT);var lc=(e=>(e.ASC="asc",e.DESC="desc",e))(lc||{}),uc=(e=>(e.CENTER="center",e.RIGHT="right",e))(uc||{}),ek=(e=>(e.LEFT="left",e.RIGHT="right",e))(ek||{});const Bm={asc:"desc",desc:"asc"},cc=Symbol("placeholder"),$X=(e,t,n)=>{var r;const s={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};n||(s.flexShrink=1);const i={...(r=e.style)!=null?r:{},...s,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(i.maxWidth=e.maxWidth),e.minWidth&&(i.minWidth=e.minWidth)),i};function IX(e,t,n){const r=L(()=>o(t).map((_,C)=>{var M,E;return{..._,key:(E=(M=_.key)!=null?M:_.dataKey)!=null?E:C}})),s=L(()=>o(r).filter(_=>!_.hidden)),i=L(()=>o(s).filter(_=>_.fixed==="left"||_.fixed===!0)),a=L(()=>o(s).filter(_=>_.fixed==="right")),l=L(()=>o(s).filter(_=>!_.fixed)),u=L(()=>{const _=[];return o(i).forEach(C=>{_.push({...C,placeholderSign:cc})}),o(l).forEach(C=>{_.push(C)}),o(a).forEach(C=>{_.push({...C,placeholderSign:cc})}),_}),d=L(()=>o(i).length||o(a).length),f=L(()=>o(r).reduce((_,C)=>(_[C.key]=$X(C,o(n),e.fixed),_),{})),p=L(()=>o(s).reduce((_,C)=>_+C.width,0)),g=_=>o(r).find(C=>C.key===_),v=_=>o(f)[_],w=(_,C)=>{_.width=C};function b(_){var C;const{key:M}=_.currentTarget.dataset;if(!M)return;const{sortState:E,sortBy:k}=e;let A=lc.ASC;jt(E)?A=Bm[E[M]]:A=Bm[k.order],(C=e.onColumnSort)==null||C.call(e,{column:g(M),key:M,order:A})}return{columns:r,columnsStyles:f,columnsTotalWidth:p,fixedColumnsOnLeft:i,fixedColumnsOnRight:a,hasFixedColumns:d,mainColumns:u,normalColumns:l,visibleColumns:s,getColumn:g,getColumnStyle:v,updateColumnWidth:w,onColumnSorted:b}}const AX=(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:s})=>{const i=Q({scrollLeft:0,scrollTop:0});function a(v){var w,b,_;const{scrollTop:C}=v;(w=t.value)==null||w.scrollTo(v),(b=n.value)==null||b.scrollToTop(C),(_=r.value)==null||_.scrollToTop(C)}function l(v){i.value=v,a(v)}function u(v){i.value.scrollTop=v,a(o(i))}function d(v){var w,b;i.value.scrollLeft=v,(b=(w=t.value)==null?void 0:w.scrollTo)==null||b.call(w,o(i))}function f(v){var w;l(v),(w=e.onScroll)==null||w.call(e,v)}function p({scrollTop:v}){const{scrollTop:w}=o(i);v!==w&&u(v)}function g(v,w="auto"){var b;(b=t.value)==null||b.scrollToRow(v,w)}return je(()=>o(i).scrollTop,(v,w)=>{v>w&&s()}),{scrollPos:i,scrollTo:l,scrollToLeft:d,scrollToTop:u,scrollToRow:g,onScroll:f,onVerticalScroll:p}},LX=(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,tableInstance:s,ns:i,isScrolling:a})=>{const l=Gt(),{emit:u}=l,d=Un(!1),f=Q(e.defaultExpandedRowKeys||[]),p=Q(-1),g=Un(null),v=Q({}),w=Q({}),b=Un({}),_=Un({}),C=Un({}),M=L(()=>$t(e.estimatedRowHeight));function E(G){var q;(q=e.onRowsRendered)==null||q.call(e,G),G.rowCacheEnd>o(p)&&(p.value=G.rowCacheEnd)}function k({hovered:G,rowKey:q}){if(a.value)return;s.vnode.el.querySelectorAll(`[rowkey="${String(q)}"]`).forEach(xe=>{G?xe.classList.add(i.is("hovered")):xe.classList.remove(i.is("hovered"))})}function A({expanded:G,rowData:q,rowIndex:Y,rowKey:de}){var xe,oe;const Z=[...o(f)],ne=Z.indexOf(de);G?ne===-1&&Z.push(de):ne>-1&&Z.splice(ne,1),f.value=Z,u("update:expandedRowKeys",Z),(xe=e.onRowExpand)==null||xe.call(e,{expanded:G,rowData:q,rowIndex:Y,rowKey:de}),(oe=e.onExpandedRowsChange)==null||oe.call(e,Z)}const D=xs(()=>{var G,q,Y,de;d.value=!0,v.value={...o(v),...o(w)},H(o(g),!1),w.value={},g.value=null,(G=t.value)==null||G.forceUpdate(),(q=n.value)==null||q.forceUpdate(),(Y=r.value)==null||Y.forceUpdate(),(de=l.proxy)==null||de.$forceUpdate(),d.value=!1},0);function H(G,q=!1){o(M)&&[t,n,r].forEach(Y=>{const de=o(Y);de&&de.resetAfterRowIndex(G,q)})}function U(G,q,Y){const de=o(g);(de===null||de>Y)&&(g.value=Y),w.value[G]=q}function K({rowKey:G,height:q,rowIndex:Y},de){de?de===ek.RIGHT?C.value[G]=q:b.value[G]=q:_.value[G]=q;const xe=Math.max(...[b,C,_].map(oe=>oe.value[G]||0));o(v)[G]!==xe&&(U(G,xe,Y),D())}return{expandedRowKeys:f,lastRenderedRowIndex:p,isDynamic:M,isResetting:d,rowHeights:v,resetAfterIndex:H,onRowExpanded:A,onRowHovered:k,onRowsRendered:E,onRowHeightChange:K}},OX=(e,{expandedRowKeys:t,lastRenderedRowIndex:n,resetAfterIndex:r})=>{const s=Q({}),i=L(()=>{const l={},{data:u,rowKey:d}=e,f=o(t);if(!f||!f.length)return u;const p=[],g=new Set;f.forEach(w=>g.add(w));let v=u.slice();for(v.forEach(w=>l[w[d]]=0);v.length>0;){const w=v.shift();p.push(w),g.has(w[d])&&nt(w.children)&&w.children.length>0&&(v=[...w.children,...v],w.children.forEach(b=>l[b[d]]=l[w[d]]+1))}return s.value=l,p}),a=L(()=>{const{data:l,expandColumnKey:u}=e;return u?o(i):l});return je(a,(l,u)=>{l!==u&&(n.value=-1,r(0,!0))}),{data:a,depthMap:s}},MX=(e,t)=>e+t,Gd=e=>nt(e)?e.reduce(MX,0):e,Ro=(e,t,n={})=>_t(e)?e(t):e??n,Ma=e=>(["width","maxWidth","minWidth","height"].forEach(t=>{e[t]=nr(e[t])}),e),tk=e=>qn(e)?t=>It(e,t):e,RX=(e,{columnsTotalWidth:t,rowsHeight:n,fixedColumnsOnLeft:r,fixedColumnsOnRight:s})=>{const i=L(()=>{const{fixed:M,width:E,vScrollbarSize:k}=e,A=E-k;return M?Math.max(Math.round(o(t)),A):A}),a=L(()=>o(i)+e.vScrollbarSize),l=L(()=>{const{height:M=0,maxHeight:E=0,footerHeight:k,hScrollbarSize:A}=e;if(E>0){const D=o(v),H=o(n),K=o(g)+D+H+A;return Math.min(K,E-k)}return M-k}),u=L(()=>{const{maxHeight:M}=e,E=o(l);if($t(M)&&M>0)return E;const k=o(n)+o(g)+o(v);return Math.min(E,k)}),d=M=>M.width,f=L(()=>Gd(o(r).map(d))),p=L(()=>Gd(o(s).map(d))),g=L(()=>Gd(e.headerHeight)),v=L(()=>{var M;return(((M=e.fixedData)==null?void 0:M.length)||0)*e.rowHeight}),w=L(()=>o(l)-o(g)-o(v)),b=L(()=>{const{style:M={},height:E,width:k}=e;return Ma({...M,height:E,width:k})}),_=L(()=>Ma({height:e.footerHeight})),C=L(()=>({top:nr(o(g)),bottom:nr(e.footerHeight),width:nr(e.width)}));return{bodyWidth:i,fixedTableHeight:u,mainTableHeight:l,leftTableWidth:f,rightTableWidth:p,headerWidth:a,windowHeight:w,footerHeight:_,emptyStyle:C,rootStyle:b,headerHeight:g}};function DX(e){const t=Q(),n=Q(),r=Q(),{columns:s,columnsStyles:i,columnsTotalWidth:a,fixedColumnsOnLeft:l,fixedColumnsOnRight:u,hasFixedColumns:d,mainColumns:f,onColumnSorted:p}=IX(e,Tn(e,"columns"),Tn(e,"fixed")),{scrollTo:g,scrollToLeft:v,scrollToTop:w,scrollToRow:b,onScroll:_,onVerticalScroll:C,scrollPos:M}=AX(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:be}),E=Xe("table-v2"),k=Gt(),A=Un(!1),{expandedRowKeys:D,lastRenderedRowIndex:H,isDynamic:U,isResetting:K,rowHeights:G,resetAfterIndex:q,onRowExpanded:Y,onRowHeightChange:de,onRowHovered:xe,onRowsRendered:oe}=LX(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,tableInstance:k,ns:E,isScrolling:A}),{data:Z,depthMap:ne}=OX(e,{expandedRowKeys:D,lastRenderedRowIndex:H,resetAfterIndex:q}),ee=L(()=>{const{estimatedRowHeight:$e,rowHeight:Ge}=e,Qe=o(Z);return $t($e)?Object.values(o(G)).reduce((Le,Ze)=>Le+Ze,0):Qe.length*Ge}),{bodyWidth:J,fixedTableHeight:fe,mainTableHeight:ge,leftTableWidth:ke,rightTableWidth:ye,headerWidth:Fe,windowHeight:Be,footerHeight:He,emptyStyle:he,rootStyle:Ne,headerHeight:Pe}=RX(e,{columnsTotalWidth:a,fixedColumnsOnLeft:l,fixedColumnsOnRight:u,rowsHeight:ee}),et=Q(),qe=L(()=>{const $e=o(Z).length===0;return nt(e.fixedData)?e.fixedData.length===0&&$e:$e});function ae($e){const{estimatedRowHeight:Ge,rowHeight:Qe,rowKey:Le}=e;return Ge?o(G)[o(Z)[$e][Le]]||Ge:Qe}function be(){const{onEndReached:$e}=e;if(!$e)return;const{scrollTop:Ge}=o(M),Qe=o(ee),Le=o(Be),Ze=Qe-(Ge+Le)+e.hScrollbarSize;o(H)>=0&&Qe===Ge+o(ge)-o(Pe)&&$e(Ze)}return je(()=>e.expandedRowKeys,$e=>D.value=$e,{deep:!0}),{columns:s,containerRef:et,mainTableRef:t,leftTableRef:n,rightTableRef:r,isDynamic:U,isResetting:K,isScrolling:A,hasFixedColumns:d,columnsStyles:i,columnsTotalWidth:a,data:Z,expandedRowKeys:D,depthMap:ne,fixedColumnsOnLeft:l,fixedColumnsOnRight:u,mainColumns:f,bodyWidth:J,emptyStyle:he,rootStyle:Ne,headerWidth:Fe,footerHeight:He,mainTableHeight:ge,fixedTableHeight:fe,leftTableWidth:ke,rightTableWidth:ye,showEmpty:qe,getRowHeight:ae,onColumnSorted:p,onRowHovered:xe,onRowExpanded:Y,onRowsRendered:oe,onRowHeightChange:de,scrollTo:g,scrollToLeft:v,scrollToTop:w,scrollToRow:b,onScroll:_,onVerticalScroll:C}}const Gv=Symbol("tableV2"),nk=String,Lc={type:Ie(Array),required:!0},Yv={type:Ie(Array)},rk={...Yv,required:!0},NX=String,W1={type:Ie(Array),default:()=>Zn([])},go={type:Number,required:!0},sk={type:Ie([String,Number,Symbol]),default:"id"},U1={type:Ie(Object)},wo=st({class:String,columns:Lc,columnsStyles:{type:Ie(Object),required:!0},depth:Number,expandColumnKey:NX,estimatedRowHeight:{...ko.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:Ie(Function)},onRowHover:{type:Ie(Function)},onRowHeightChange:{type:Ie(Function)},rowData:{type:Ie(Object),required:!0},rowEventHandlers:{type:Ie(Object)},rowIndex:{type:Number,required:!0},rowKey:sk,style:{type:Ie(Object)}}),Sp={type:Number,required:!0},Xv=st({class:String,columns:Lc,fixedHeaderData:{type:Ie(Array)},headerData:{type:Ie(Array),required:!0},headerHeight:{type:Ie([Number,Array]),default:50},rowWidth:Sp,rowHeight:{type:Number,default:50},height:Sp,width:Sp}),Yd=st({columns:Lc,data:rk,fixedData:Yv,estimatedRowHeight:wo.estimatedRowHeight,width:go,height:go,headerWidth:go,headerHeight:Xv.headerHeight,bodyWidth:go,rowHeight:go,cache:_T.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:ko.scrollbarAlwaysOn,scrollbarStartGap:ko.scrollbarStartGap,scrollbarEndGap:ko.scrollbarEndGap,class:nk,style:U1,containerStyle:U1,getRowHeight:{type:Ie(Function),required:!0},rowKey:wo.rowKey,onRowsRendered:{type:Ie(Function)},onScroll:{type:Ie(Function)}}),PX=st({cache:Yd.cache,estimatedRowHeight:wo.estimatedRowHeight,rowKey:sk,headerClass:{type:Ie([String,Function])},headerProps:{type:Ie([Object,Function])},headerCellProps:{type:Ie([Object,Function])},headerHeight:Xv.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:Ie([String,Function])},rowProps:{type:Ie([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:Ie([Object,Function])},columns:Lc,data:rk,dataGetter:{type:Ie(Function)},fixedData:Yv,expandColumnKey:wo.expandColumnKey,expandedRowKeys:W1,defaultExpandedRowKeys:W1,class:nk,fixed:Boolean,style:{type:Ie(Object)},width:go,height:go,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:ko.hScrollbarSize,vScrollbarSize:ko.vScrollbarSize,scrollbarAlwaysOn:ET.alwaysOn,sortBy:{type:Ie(Object),default:()=>({})},sortState:{type:Ie(Object),default:void 0},onColumnSort:{type:Ie(Function)},onExpandedRowsChange:{type:Ie(Function)},onEndReached:{type:Ie(Function)},onRowExpand:wo.onRowExpand,onScroll:Yd.onScroll,onRowsRendered:Yd.onRowsRendered,rowEventHandlers:wo.rowEventHandlers}),FX="ElTableV2Header",VX=ve({name:FX,props:Xv,setup(e,{slots:t,expose:n}){const r=Xe("table-v2"),s=vt("tableV2GridScrollLeft"),i=Q(),a=L(()=>Ma({width:e.width,height:e.height})),l=L(()=>Ma({width:e.rowWidth,height:e.height})),u=L(()=>qr(o(e.headerHeight))),d=g=>{const v=o(i);Et(()=>{v!=null&&v.scroll&&v.scroll({left:g})})},f=()=>{const g=r.e("fixed-header-row"),{columns:v,fixedHeaderData:w,rowHeight:b}=e;return w==null?void 0:w.map((_,C)=>{var M;const E=Ma({height:b,width:"100%"});return(M=t.fixed)==null?void 0:M.call(t,{class:g,columns:v,rowData:_,rowIndex:-(C+1),style:E})})},p=()=>{const g=r.e("dynamic-header-row"),{columns:v}=e;return o(u).map((w,b)=>{var _;const C=Ma({width:"100%",height:w});return(_=t.dynamic)==null?void 0:_.call(t,{class:g,columns:v,headerIndex:b,style:C})})};return ui(()=>{s!=null&&s.value&&d(s.value)}),n({scrollToLeft:d}),()=>{if(!(e.height<=0))return pe("div",{ref:i,class:e.class,style:o(a),role:"rowgroup"},[pe("div",{style:o(l),class:r.e("header")},[p(),f()])])}}});var zX=VX;const BX=({atXEndEdge:e,atXStartEdge:t,atYEndEdge:n,atYStartEdge:r},s)=>{let i=null,a=0,l=0;const u=(f,p)=>{const g=f<=0&&t.value||f>=0&&e.value,v=p<=0&&r.value||p>=0&&n.value;return g&&v};return{hasReachedEdge:u,onWheel:f=>{Oo(i);let p=f.deltaX,g=f.deltaY;Math.abs(p)>Math.abs(g)?g=0:p=0,f.shiftKey&&g!==0&&(p=g,g=0),!(u(a,l)&&u(a+p,l+g))&&(a+=p,l+=g,f.preventDefault(),i=Ha(()=>{s(a,l),a=0,l=0}))}}},ik=({name:e,clearCache:t,getColumnPosition:n,getColumnStartIndexForOffset:r,getColumnStopIndexForStartIndex:s,getEstimatedTotalHeight:i,getEstimatedTotalWidth:a,getColumnOffset:l,getRowOffset:u,getRowPosition:d,getRowStartIndexForOffset:f,getRowStopIndexForStartIndex:p,initCache:g,injectToInstance:v,validateProps:w})=>ve({name:e??"ElVirtualList",props:ko,emits:[xf,Sf],setup(b,{emit:_,expose:C,slots:M}){const E=Xe("vl");w(b);const k=Gt(),A=Q(g(b,k));v==null||v(k,A);const D=Q(),H=Q(),U=Q(),K=Q(null),G=Q({isScrolling:!1,scrollLeft:$t(b.initScrollLeft)?b.initScrollLeft:0,scrollTop:$t(b.initScrollTop)?b.initScrollTop:0,updateRequested:!1,xAxisScrollDir:sl,yAxisScrollDir:sl}),q=xT(),Y=L(()=>Number.parseInt(`${b.height}`,10)),de=L(()=>Number.parseInt(`${b.width}`,10)),xe=L(()=>{const{totalColumn:Le,totalRow:Ze,columnCache:We}=b,{isScrolling:it,xAxisScrollDir:rt,scrollLeft:St}=o(G);if(Le===0||Ze===0)return[0,0,0,0];const mt=r(b,St,o(A)),Ye=s(b,mt,St,o(A)),yt=!it||rt===Cf?Math.max(1,We):1,Mt=!it||rt===sl?Math.max(1,We):1;return[Math.max(0,mt-yt),Math.max(0,Math.min(Le-1,Ye+Mt)),mt,Ye]}),oe=L(()=>{const{totalColumn:Le,totalRow:Ze,rowCache:We}=b,{isScrolling:it,yAxisScrollDir:rt,scrollTop:St}=o(G);if(Le===0||Ze===0)return[0,0,0,0];const mt=f(b,St,o(A)),Ye=p(b,mt,St,o(A)),yt=!it||rt===Cf?Math.max(1,We):1,Mt=!it||rt===sl?Math.max(1,We):1;return[Math.max(0,mt-yt),Math.max(0,Math.min(Ze-1,Ye+Mt)),mt,Ye]}),Z=L(()=>i(b,o(A))),ne=L(()=>a(b,o(A))),ee=L(()=>{var Le;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:b.direction,height:$t(b.height)?`${b.height}px`:b.height,width:$t(b.width)?`${b.width}px`:b.width},(Le=b.style)!=null?Le:{}]}),J=L(()=>{const Le=`${o(ne)}px`;return{height:`${o(Z)}px`,pointerEvents:o(G).isScrolling?"none":void 0,width:Le}}),fe=()=>{const{totalColumn:Le,totalRow:Ze}=b;if(Le>0&&Ze>0){const[Ye,yt,Mt,qt]=o(xe),[Ht,gn,en,jn]=o(oe);_(xf,{columnCacheStart:Ye,columnCacheEnd:yt,rowCacheStart:Ht,rowCacheEnd:gn,columnVisibleStart:Mt,columnVisibleEnd:qt,rowVisibleStart:en,rowVisibleEnd:jn})}const{scrollLeft:We,scrollTop:it,updateRequested:rt,xAxisScrollDir:St,yAxisScrollDir:mt}=o(G);_(Sf,{xAxisScrollDir:St,scrollLeft:We,yAxisScrollDir:mt,scrollTop:it,updateRequested:rt})},ge=Le=>{const{clientHeight:Ze,clientWidth:We,scrollHeight:it,scrollLeft:rt,scrollTop:St,scrollWidth:mt}=Le.currentTarget,Ye=o(G);if(Ye.scrollTop===St&&Ye.scrollLeft===rt)return;let yt=rt;if($1(b.direction))switch(Tf()){case ac:yt=-rt;break;case Hv:yt=mt-We-rt;break}G.value={...Ye,isScrolling:!0,scrollLeft:yt,scrollTop:Math.max(0,Math.min(St,it-Ze)),updateRequested:!0,xAxisScrollDir:bo(Ye.scrollLeft,yt),yAxisScrollDir:bo(Ye.scrollTop,St)},Et(()=>Ne()),Pe(),fe()},ke=(Le,Ze)=>{const We=o(Y),it=(Z.value-We)/Ze*Le;Be({scrollTop:Math.min(Z.value-We,it)})},ye=(Le,Ze)=>{const We=o(de),it=(ne.value-We)/Ze*Le;Be({scrollLeft:Math.min(ne.value-We,it)})},{onWheel:Fe}=BX({atXStartEdge:L(()=>G.value.scrollLeft<=0),atXEndEdge:L(()=>G.value.scrollLeft>=ne.value-o(de)),atYStartEdge:L(()=>G.value.scrollTop<=0),atYEndEdge:L(()=>G.value.scrollTop>=Z.value-o(Y))},(Le,Ze)=>{var We,it,rt,St;(it=(We=H.value)==null?void 0:We.onMouseUp)==null||it.call(We),(St=(rt=U.value)==null?void 0:rt.onMouseUp)==null||St.call(rt);const mt=o(de),Ye=o(Y);Be({scrollLeft:Math.min(G.value.scrollLeft+Le,ne.value-mt),scrollTop:Math.min(G.value.scrollTop+Ze,Z.value-Ye)})});Mn(D,"wheel",Fe,{passive:!1});const Be=({scrollLeft:Le=G.value.scrollLeft,scrollTop:Ze=G.value.scrollTop})=>{Le=Math.max(Le,0),Ze=Math.max(Ze,0);const We=o(G);Ze===We.scrollTop&&Le===We.scrollLeft||(G.value={...We,xAxisScrollDir:bo(We.scrollLeft,Le),yAxisScrollDir:bo(We.scrollTop,Ze),scrollLeft:Le,scrollTop:Ze,updateRequested:!0},Et(()=>Ne()),Pe(),fe())},He=(Le=0,Ze=0,We=Ps)=>{const it=o(G);Ze=Math.max(0,Math.min(Ze,b.totalColumn-1)),Le=Math.max(0,Math.min(Le,b.totalRow-1));const rt=mC(E.namespace.value),St=o(A),mt=i(b,St),Ye=a(b,St);Be({scrollLeft:l(b,Ze,We,it.scrollLeft,St,Ye>b.width?rt:0),scrollTop:u(b,Le,We,it.scrollTop,St,mt>b.height?rt:0)})},he=(Le,Ze)=>{const{columnWidth:We,direction:it,rowHeight:rt}=b,St=q.value(t&&We,t&&rt,t&&it),mt=`${Le},${Ze}`;if(yn(St,mt))return St[mt];{const[,Ye]=n(b,Ze,o(A)),yt=o(A),Mt=$1(it),[qt,Ht]=d(b,Le,yt),[gn]=n(b,Ze,yt);return St[mt]={position:"absolute",left:Mt?void 0:`${Ye}px`,right:Mt?`${Ye}px`:void 0,top:`${Ht}px`,height:`${qt}px`,width:`${gn}px`},St[mt]}},Ne=()=>{G.value.isScrolling=!1,Et(()=>{q.value(-1,null,null)})};Ut(()=>{if(!un)return;const{initScrollLeft:Le,initScrollTop:Ze}=b,We=o(D);We&&($t(Le)&&(We.scrollLeft=Le),$t(Ze)&&(We.scrollTop=Ze)),fe()});const Pe=()=>{const{direction:Le}=b,{scrollLeft:Ze,scrollTop:We,updateRequested:it}=o(G),rt=o(D);if(it&&rt){if(Le===hl)switch(Tf()){case ac:{rt.scrollLeft=-Ze;break}case Kv:{rt.scrollLeft=Ze;break}default:{const{clientWidth:St,scrollWidth:mt}=rt;rt.scrollLeft=mt-St-Ze;break}}else rt.scrollLeft=Math.max(0,Ze);rt.scrollTop=Math.max(0,We)}},{resetAfterColumnIndex:et,resetAfterRowIndex:qe,resetAfter:ae}=k.proxy;C({windowRef:D,innerRef:K,getItemStyleCache:q,scrollTo:Be,scrollToItem:He,states:G,resetAfterColumnIndex:et,resetAfterRowIndex:qe,resetAfter:ae});const be=()=>{const{scrollbarAlwaysOn:Le,scrollbarStartGap:Ze,scrollbarEndGap:We,totalColumn:it,totalRow:rt}=b,St=o(de),mt=o(Y),Ye=o(ne),yt=o(Z),{scrollLeft:Mt,scrollTop:qt}=o(G),Ht=It(Am,{ref:H,alwaysOn:Le,startGap:Ze,endGap:We,class:E.e("horizontal"),clientSize:St,layout:"horizontal",onScroll:ye,ratio:St*100/Ye,scrollFrom:Mt/(Ye-St),total:rt,visible:!0}),gn=It(Am,{ref:U,alwaysOn:Le,startGap:Ze,endGap:We,class:E.e("vertical"),clientSize:mt,layout:"vertical",onScroll:ke,ratio:mt*100/yt,scrollFrom:qt/(yt-mt),total:it,visible:!0});return{horizontalScrollbar:Ht,verticalScrollbar:gn}},$e=()=>{var Le;const[Ze,We]=o(xe),[it,rt]=o(oe),{data:St,totalColumn:mt,totalRow:Ye,useIsScrolling:yt,itemKey:Mt}=b,qt=[];if(Ye>0&&mt>0)for(let Ht=it;Ht<=rt;Ht++)for(let gn=Ze;gn<=We;gn++){const en=Mt({columnIndex:gn,data:St,rowIndex:Ht});qt.push(It(Ct,{key:en},(Le=M.default)==null?void 0:Le.call(M,{columnIndex:gn,data:St,isScrolling:yt?o(G).isScrolling:void 0,style:he(Ht,gn),rowIndex:Ht})))}return qt},Ge=()=>{const Le=Yt(b.innerElement),Ze=$e();return[It(Le,{style:o(J),ref:K},xt(Le)?Ze:{default:()=>Ze})]};return()=>{const Le=Yt(b.containerElement),{horizontalScrollbar:Ze,verticalScrollbar:We}=be(),it=Ge();return It("div",{key:0,class:E.e("wrapper"),role:b.role},[It(Le,{class:b.className,style:o(ee),onScroll:ge,ref:D},xt(Le)?it:{default:()=>it}),Ze,We])}}}),{max:$f,min:ak,floor:ok}=Math,KX={column:"columnWidth",row:"rowHeight"},Km={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},Yi=(e,t,n,r)=>{const[s,i,a]=[n[r],e[KX[r]],n[Km[r]]];if(t>a){let l=0;if(a>=0){const u=s[a];l=u.offset+u.size}for(let u=a+1;u<=t;u++){const d=i(u);s[u]={offset:l,size:d},l+=d}n[Km[r]]=t}return s[t]},lk=(e,t,n,r,s,i)=>{for(;n<=r;){const a=n+ok((r-n)/2),l=Yi(e,a,t,i).offset;if(l===s)return a;l<s?n=a+1:r=a-1}return $f(0,n-1)},HX=(e,t,n,r,s)=>{const i=s==="column"?e.totalColumn:e.totalRow;let a=1;for(;n<i&&Yi(e,n,t,s).offset<r;)n+=a,a*=2;return lk(e,t,ok(n/2),ak(n,i-1),r,s)},j1=(e,t,n,r)=>{const[s,i]=[t[r],t[Km[r]]];return(i>0?s[i].offset:0)>=n?lk(e,t,0,i,n,r):HX(e,t,$f(0,i),n,r)},uk=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:n,row:r})=>{let s=0;if(n>=e&&(n=e-1),n>=0){const l=r[n];s=l.offset+l.size}const a=(e-n-1)*t;return s+a},ck=({totalColumn:e},{column:t,estimatedColumnWidth:n,lastVisitedColumnIndex:r})=>{let s=0;if(r>e&&(r=e-1),r>=0){const l=t[r];s=l.offset+l.size}const a=(e-r-1)*n;return s+a},WX={column:ck,row:uk},G1=(e,t,n,r,s,i,a)=>{const[l,u]=[i==="row"?e.height:e.width,WX[i]],d=Yi(e,t,s,i),f=u(e,s),p=$f(0,ak(f-l,d.offset)),g=$f(0,d.offset-l+a+d.size);switch(n===vh&&(r>=g-l&&r<=p+l?n=Ps:n=Ci),n){case sc:return p;case ic:return g;case Ci:return Math.round(g+(p-g)/2);case Ps:default:return r>=g&&r<=p?r:g>p||r<g?g:p}},UX=ik({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,n)=>{const r=Yi(e,t,n,"column");return[r.size,r.offset]},getRowPosition:(e,t,n)=>{const r=Yi(e,t,n,"row");return[r.size,r.offset]},getColumnOffset:(e,t,n,r,s,i)=>G1(e,t,n,r,s,"column",i),getRowOffset:(e,t,n,r,s,i)=>G1(e,t,n,r,s,"row",i),getColumnStartIndexForOffset:(e,t,n)=>j1(e,n,t,"column"),getColumnStopIndexForStartIndex:(e,t,n,r)=>{const s=Yi(e,t,r,"column"),i=n+e.width;let a=s.offset+s.size,l=t;for(;l<e.totalColumn-1&&a<i;)l++,a+=Yi(e,t,r,"column").size;return l},getEstimatedTotalHeight:uk,getEstimatedTotalWidth:ck,getRowStartIndexForOffset:(e,t,n)=>j1(e,n,t,"row"),getRowStopIndexForStartIndex:(e,t,n,r)=>{const{totalRow:s,height:i}=e,a=Yi(e,t,r,"row"),l=n+i;let u=a.size+a.offset,d=t;for(;d<s-1&&u<l;)d++,u+=Yi(e,d,r,"row").size;return d},injectToInstance:(e,t)=>{const n=({columnIndex:i,rowIndex:a},l)=>{var u,d;l=xn(l)?!0:l,$t(i)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,i-1)),$t(a)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,a-1)),(u=e.exposed)==null||u.getItemStyleCache.value(-1,null,null),l&&((d=e.proxy)==null||d.$forceUpdate())},r=(i,a)=>{n({columnIndex:i},a)},s=(i,a)=>{n({rowIndex:i},a)};Object.assign(e.proxy,{resetAfterColumnIndex:r,resetAfterRowIndex:s,resetAfter:n})},initCache:({estimatedColumnWidth:e=_m,estimatedRowHeight:t=_m})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),jX=ik({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:n},r,s,i,a,l)=>{n=Number(n);const u=Math.max(0,e*t-n),d=Math.min(u,r*t),f=Math.max(0,r*t-n+l+t);switch(s==="smart"&&(i>=f-n&&i<=d+n?s=Ps:s=Ci),s){case sc:return d;case ic:return f;case Ci:{const p=Math.round(f+(d-f)/2);return p<Math.ceil(n/2)?0:p>u+Math.floor(n/2)?u:p}case Ps:default:return i>=f&&i<=d?i:f>d||i<f?f:d}},getRowOffset:({rowHeight:e,height:t,totalRow:n},r,s,i,a,l)=>{t=Number(t);const u=Math.max(0,n*e-t),d=Math.min(u,r*e),f=Math.max(0,r*e-t+l+e);switch(s===vh&&(i>=f-t&&i<=d+t?s=Ps:s=Ci),s){case sc:return d;case ic:return f;case Ci:{const p=Math.round(f+(d-f)/2);return p<Math.ceil(t/2)?0:p>u+Math.floor(t/2)?u:p}case Ps:default:return i>=f&&i<=d?i:f>d||i<f?f:d}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:n},r,s)=>{const i=r*e,a=Math.ceil((n+s-i)/e);return Math.max(0,Math.min(t-1,r+a-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:n},r,s)=>{const i=r*e,a=Math.ceil((n+s-i)/e);return Math.max(0,Math.min(t-1,r+a-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),GX="ElTableV2Grid",YX=e=>{const t=Q(),n=Q(),r=Q(0),s=L(()=>{const{data:_,rowHeight:C,estimatedRowHeight:M}=e;if(!M)return _.length*C}),i=L(()=>{const{fixedData:_,rowHeight:C}=e;return((_==null?void 0:_.length)||0)*C}),a=L(()=>Gd(e.headerHeight)),l=L(()=>{const{height:_}=e;return Math.max(0,_-o(a)-o(i))}),u=L(()=>o(a)+o(i)>0),d=({data:_,rowIndex:C})=>_[C][e.rowKey];function f({rowCacheStart:_,rowCacheEnd:C,rowVisibleStart:M,rowVisibleEnd:E}){var k;(k=e.onRowsRendered)==null||k.call(e,{rowCacheStart:_,rowCacheEnd:C,rowVisibleStart:M,rowVisibleEnd:E})}function p(_,C){var M;(M=n.value)==null||M.resetAfterRowIndex(_,C)}function g(_,C){const M=o(t),E=o(n);jt(_)?(M==null||M.scrollToLeft(_.scrollLeft),r.value=_.scrollLeft,E==null||E.scrollTo(_)):(M==null||M.scrollToLeft(_),r.value=_,E==null||E.scrollTo({scrollLeft:_,scrollTop:C}))}function v(_){var C;(C=o(n))==null||C.scrollTo({scrollTop:_})}function w(_,C){var M;(M=o(n))==null||M.scrollToItem(_,1,C)}function b(){var _,C;(_=o(n))==null||_.$forceUpdate(),(C=o(t))==null||C.$forceUpdate()}return{bodyRef:n,forceUpdate:b,fixedRowHeight:i,gridHeight:l,hasHeader:u,headerHeight:a,headerRef:t,totalHeight:s,itemKey:d,onItemRendered:f,resetAfterRowIndex:p,scrollTo:g,scrollToTop:v,scrollToRow:w,scrollLeft:r}},XX=ve({name:GX,props:Yd,setup(e,{slots:t,expose:n}){const{ns:r}=vt(Gv),{bodyRef:s,fixedRowHeight:i,gridHeight:a,hasHeader:l,headerRef:u,headerHeight:d,totalHeight:f,forceUpdate:p,itemKey:g,onItemRendered:v,resetAfterRowIndex:w,scrollTo:b,scrollToTop:_,scrollToRow:C,scrollLeft:M}=YX(e);Qt("tableV2GridScrollLeft",M),n({forceUpdate:p,totalHeight:f,scrollTo:b,scrollToTop:_,scrollToRow:C,resetAfterRowIndex:w});const E=()=>e.bodyWidth;return()=>{const{cache:k,columns:A,data:D,fixedData:H,useIsScrolling:U,scrollbarAlwaysOn:K,scrollbarEndGap:G,scrollbarStartGap:q,style:Y,rowHeight:de,bodyWidth:xe,estimatedRowHeight:oe,headerWidth:Z,height:ne,width:ee,getRowHeight:J,onScroll:fe}=e,ge=$t(oe),ke=ge?UX:jX,ye=o(d);return pe("div",{role:"table",class:[r.e("table"),e.class],style:Y},[pe(ke,{ref:s,data:D,useIsScrolling:U,itemKey:g,columnCache:0,columnWidth:ge?E:xe,totalColumn:1,totalRow:D.length,rowCache:k,rowHeight:ge?J:de,width:ee,height:o(a),class:r.e("body"),role:"rowgroup",scrollbarStartGap:q,scrollbarEndGap:G,scrollbarAlwaysOn:K,onScroll:fe,onItemRendered:v,perfMode:!1},{default:Fe=>{var Be;const He=D[Fe.rowIndex];return(Be=t.row)==null?void 0:Be.call(t,{...Fe,columns:A,rowData:He})}}),o(l)&&pe(zX,{ref:u,class:r.e("header-wrapper"),columns:A,headerData:D,headerHeight:e.headerHeight,fixedHeaderData:H,rowWidth:Z,rowHeight:de,width:ee,height:Math.min(ye+o(i),ne)},{dynamic:t.header,fixed:t.row})])}}});var qv=XX;function qX(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!qn(e)}const JX=(e,{slots:t})=>{const{mainTableRef:n,...r}=e;return pe(qv,Xt({ref:n},r),qX(t)?t:{default:()=>[t]})};var ZX=JX;function QX(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!qn(e)}const eq=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:n,...r}=e;return pe(qv,Xt({ref:n},r),QX(t)?t:{default:()=>[t]})};var tq=eq;function nq(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!qn(e)}const rq=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:n,...r}=e;return pe(qv,Xt({ref:n},r),nq(t)?t:{default:()=>[t]})};var sq=rq;const iq=e=>{const{isScrolling:t}=vt(Gv),n=Q(!1),r=Q(),s=L(()=>$t(e.estimatedRowHeight)&&e.rowIndex>=0),i=(u=!1)=>{const d=o(r);if(!d)return;const{columns:f,onRowHeightChange:p,rowKey:g,rowIndex:v,style:w}=e,{height:b}=d.getBoundingClientRect();n.value=!0,Et(()=>{if(u||b!==Number.parseInt(w.height)){const _=f[0],C=(_==null?void 0:_.placeholderSign)===cc;p==null||p({rowKey:g,height:b,rowIndex:v},_&&!C&&_.fixed)}})},a=L(()=>{const{rowData:u,rowIndex:d,rowKey:f,onRowHover:p}=e,g=e.rowEventHandlers||{},v={};return Object.entries(g).forEach(([w,b])=>{_t(b)&&(v[w]=_=>{b({event:_,rowData:u,rowIndex:d,rowKey:f})})}),p&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:w,hovered:b})=>{const _=v[w];v[w]=C=>{p({event:C,hovered:b,rowData:u,rowIndex:d,rowKey:f}),_==null||_(C)}}),v}),l=u=>{const{onRowExpand:d,rowData:f,rowIndex:p,rowKey:g}=e;d==null||d({expanded:u,rowData:f,rowIndex:p,rowKey:g})};return Ut(()=>{o(s)&&i(!0)}),{isScrolling:t,measurable:s,measured:n,rowRef:r,eventHandlers:a,onExpand:l}},aq="ElTableV2TableRow",oq=ve({name:aq,props:wo,setup(e,{expose:t,slots:n,attrs:r}){const{eventHandlers:s,isScrolling:i,measurable:a,measured:l,rowRef:u,onExpand:d}=iq(e);return t({onExpand:d}),()=>{const{columns:f,columnsStyles:p,expandColumnKey:g,depth:v,rowData:w,rowIndex:b,style:_}=e;let C=f.map((M,E)=>{const k=nt(w.children)&&w.children.length>0&&M.key===g;return n.cell({column:M,columns:f,columnIndex:E,depth:v,style:p[M.key],rowData:w,rowIndex:b,isScrolling:o(i),expandIconProps:k?{rowData:w,rowIndex:b,onExpand:d}:void 0})});if(n.row&&(C=n.row({cells:C.map(M=>nt(M)&&M.length===1?M[0]:M),style:_,columns:f,depth:v,rowData:w,rowIndex:b,isScrolling:o(i)})),o(a)){const{height:M,...E}=_||{},k=o(l);return pe("div",Xt({ref:u,class:e.class,style:k?_:E,role:"row"},r,o(s)),[C])}return pe("div",Xt(r,{ref:u,class:e.class,style:_,role:"row"},o(s)),[C])}}});var lq=oq;function uq(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!qn(e)}const cq=(e,{slots:t})=>{const{columns:n,columnsStyles:r,depthMap:s,expandColumnKey:i,expandedRowKeys:a,estimatedRowHeight:l,hasFixedColumns:u,rowData:d,rowIndex:f,style:p,isScrolling:g,rowProps:v,rowClass:w,rowKey:b,rowEventHandlers:_,ns:C,onRowHovered:M,onRowExpanded:E}=e,k=Ro(w,{columns:n,rowData:d,rowIndex:f},""),A=Ro(v,{columns:n,rowData:d,rowIndex:f}),D=d[b],H=s[D]||0,U=!!i,K=f<0,G=[C.e("row"),k,{[C.e(`row-depth-${H}`)]:U&&f>=0,[C.is("expanded")]:U&&a.includes(D),[C.is("fixed")]:!H&&K,[C.is("customized")]:!!t.row}],q=u?M:void 0,Y={...A,columns:n,columnsStyles:r,class:G,depth:H,expandColumnKey:i,estimatedRowHeight:K?void 0:l,isScrolling:g,rowIndex:f,rowData:d,rowKey:D,rowEventHandlers:_,style:p};return pe(lq,Xt(Y,{onRowExpand:E,onMouseenter:oe=>{q==null||q({hovered:!0,rowKey:D,event:oe,rowData:d,rowIndex:f})},onMouseleave:oe=>{q==null||q({hovered:!1,rowKey:D,event:oe,rowData:d,rowIndex:f})},rowkey:D}),uq(t)?t:{default:()=>[t]})};var dq=cq;const Jv=(e,{slots:t})=>{var n;const{cellData:r,style:s}=e,i=((n=r==null?void 0:r.toString)==null?void 0:n.call(r))||"",a=Oe(t,"default",e,()=>[i]);return pe("div",{class:e.class,title:i,style:s},[a])};Jv.displayName="ElTableV2Cell";Jv.inheritAttrs=!1;var fq=Jv;const hq=e=>{const{expanded:t,expandable:n,onExpand:r,style:s,size:i}=e,a={onClick:n?()=>r(!t):void 0,class:e.class};return pe(wt,Xt(a,{size:i,style:s}),{default:()=>[pe(cs,null,null)]})};var pq=hq;const dk=({columns:e,column:t,columnIndex:n,depth:r,expandIconProps:s,isScrolling:i,rowData:a,rowIndex:l,style:u,expandedRowKeys:d,ns:f,cellProps:p,expandColumnKey:g,indentSize:v,iconSize:w,rowKey:b},{slots:_})=>{const C=Ma(u);if(t.placeholderSign===cc)return pe("div",{class:f.em("row-cell","placeholder"),style:C},null);const{cellRenderer:M,dataKey:E,dataGetter:k}=t,A=_t(k)?k({columns:e,column:t,columnIndex:n,rowData:a,rowIndex:l}):cr(a,E??""),D=Ro(p,{cellData:A,columns:e,column:t,columnIndex:n,rowIndex:l,rowData:a}),H={class:f.e("cell-text"),columns:e,column:t,columnIndex:n,cellData:A,isScrolling:i,rowData:a,rowIndex:l},U=tk(M),K=U?U(H):Oe(_,"default",H,()=>[pe(fq,H,null)]),G=[f.e("row-cell"),t.class,t.align===uc.CENTER&&f.is("align-center"),t.align===uc.RIGHT&&f.is("align-right")],q=l>=0&&g&&t.key===g,Y=l>=0&&d.includes(a[b]);let de;const xe=`margin-inline-start: ${r*v}px;`;return q&&(jt(s)?de=pe(pq,Xt(s,{class:[f.e("expand-icon"),f.is("expanded",Y)],size:w,expanded:Y,style:xe,expandable:!0}),null):de=pe("div",{style:[xe,`width: ${w}px; height: ${w}px;`].join(" ")},null)),pe("div",Xt({class:G,style:C},D,{role:"cell"}),[de,K])};dk.inheritAttrs=!1;var Y1=dk;const mq=st({class:String,columns:Lc,columnsStyles:{type:Ie(Object),required:!0},headerIndex:Number,style:{type:Ie(Object)}}),gq=ve({name:"ElTableV2HeaderRow",props:mq,setup(e,{slots:t}){return()=>{const{columns:n,columnsStyles:r,headerIndex:s,style:i}=e;let a=n.map((l,u)=>t.cell({columns:n,column:l,columnIndex:u,headerIndex:s,style:r[l.key]}));return t.header&&(a=t.header({cells:a.map(l=>nt(l)&&l.length===1?l[0]:l),columns:n,headerIndex:s})),pe("div",{class:e.class,style:i,role:"row"},[a])}}});var vq=gq;function yq(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!qn(e)}const bq=({columns:e,columnsStyles:t,headerIndex:n,style:r,headerClass:s,headerProps:i,ns:a},{slots:l})=>{const u={columns:e,headerIndex:n},d=[a.e("header-row"),Ro(s,u,""),{[a.is("customized")]:!!l.header}],f={...Ro(i,u),columnsStyles:t,class:d,columns:e,headerIndex:n,style:r};return pe(vq,f,yq(l)?l:{default:()=>[l]})};var wq=bq;const Zv=(e,{slots:t})=>Oe(t,"default",e,()=>{var n,r;return[pe("div",{class:e.class,title:(n=e.column)==null?void 0:n.title},[(r=e.column)==null?void 0:r.title])]});Zv.displayName="ElTableV2HeaderCell";Zv.inheritAttrs=!1;var xq=Zv;const Sq=e=>{const{sortOrder:t}=e;return pe(wt,{size:14,class:e.class},{default:()=>[t===lc.ASC?pe(F4,null,null):pe(N4,null,null)]})};var Cq=Sq;const _q=(e,{slots:t})=>{const{column:n,ns:r,style:s,onColumnSorted:i}=e,a=Ma(s);if(n.placeholderSign===cc)return pe("div",{class:r.em("header-row-cell","placeholder"),style:a},null);const{headerCellRenderer:l,headerClass:u,sortable:d}=n,f={...e,class:r.e("header-cell-text")},p=tk(l),g=p?p(f):Oe(t,"default",f,()=>[pe(xq,f,null)]),{sortBy:v,sortState:w,headerCellProps:b}=e;let _,C;if(w){const k=w[n.key];_=!!Bm[k],C=_?k:lc.ASC}else _=n.key===v.key,C=_?v.order:lc.ASC;const M=[r.e("header-cell"),Ro(u,e,""),n.align===uc.CENTER&&r.is("align-center"),n.align===uc.RIGHT&&r.is("align-right"),d&&r.is("sortable")],E={...Ro(b,e),onClick:n.sortable?i:void 0,class:M,style:a,"data-key":n.key};return pe("div",Xt(E,{role:"columnheader"}),[g,d&&pe(Cq,{class:[r.e("sort-icon"),_&&r.is("sorting")],sortOrder:C},null)])};var X1=_q;const fk=(e,{slots:t})=>{var n;return pe("div",{class:e.class,style:e.style},[(n=t.default)==null?void 0:n.call(t)])};fk.displayName="ElTableV2Footer";var Tq=fk;const hk=(e,{slots:t})=>{const n=Oe(t,"default",{},()=>[pe(aT,null,null)]);return pe("div",{class:e.class,style:e.style},[n])};hk.displayName="ElTableV2Empty";var kq=hk;const pk=(e,{slots:t})=>{var n;return pe("div",{class:e.class,style:e.style},[(n=t.default)==null?void 0:n.call(t)])};pk.displayName="ElTableV2Overlay";var Eq=pk;function fu(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!qn(e)}const $q="ElTableV2",Iq=ve({name:$q,props:PX,setup(e,{slots:t,expose:n}){const r=Xe("table-v2"),{columnsStyles:s,fixedColumnsOnLeft:i,fixedColumnsOnRight:a,mainColumns:l,mainTableHeight:u,fixedTableHeight:d,leftTableWidth:f,rightTableWidth:p,data:g,depthMap:v,expandedRowKeys:w,hasFixedColumns:b,mainTableRef:_,leftTableRef:C,rightTableRef:M,isDynamic:E,isResetting:k,isScrolling:A,bodyWidth:D,emptyStyle:H,rootStyle:U,headerWidth:K,footerHeight:G,showEmpty:q,scrollTo:Y,scrollToLeft:de,scrollToTop:xe,scrollToRow:oe,getRowHeight:Z,onColumnSorted:ne,onRowHeightChange:ee,onRowHovered:J,onRowExpanded:fe,onRowsRendered:ge,onScroll:ke,onVerticalScroll:ye}=DX(e);return n({scrollTo:Y,scrollToLeft:de,scrollToTop:xe,scrollToRow:oe}),Qt(Gv,{ns:r,isResetting:k,isScrolling:A}),()=>{const{cache:Fe,cellProps:Be,estimatedRowHeight:He,expandColumnKey:he,fixedData:Ne,headerHeight:Pe,headerClass:et,headerProps:qe,headerCellProps:ae,sortBy:be,sortState:$e,rowHeight:Ge,rowClass:Qe,rowEventHandlers:Le,rowKey:Ze,rowProps:We,scrollbarAlwaysOn:it,indentSize:rt,iconSize:St,useIsScrolling:mt,vScrollbarSize:Ye,width:yt}=e,Mt=o(g),qt={cache:Fe,class:r.e("main"),columns:o(l),data:Mt,fixedData:Ne,estimatedRowHeight:He,bodyWidth:o(D)+Ye,headerHeight:Pe,headerWidth:o(K),height:o(u),mainTableRef:_,rowKey:Ze,rowHeight:Ge,scrollbarAlwaysOn:it,scrollbarStartGap:2,scrollbarEndGap:Ye,useIsScrolling:mt,width:yt,getRowHeight:Z,onRowsRendered:ge,onScroll:ke},Ht=o(f),gn=o(d),en={cache:Fe,class:r.e("left"),columns:o(i),data:Mt,estimatedRowHeight:He,leftTableRef:C,rowHeight:Ge,bodyWidth:Ht,headerWidth:Ht,headerHeight:Pe,height:gn,rowKey:Ze,scrollbarAlwaysOn:it,scrollbarStartGap:2,scrollbarEndGap:Ye,useIsScrolling:mt,width:Ht,getRowHeight:Z,onScroll:ye},Bn=o(p)+Ye,Ue={cache:Fe,class:r.e("right"),columns:o(a),data:Mt,estimatedRowHeight:He,rightTableRef:M,rowHeight:Ge,bodyWidth:Bn,headerWidth:Bn,headerHeight:Pe,height:gn,rowKey:Ze,scrollbarAlwaysOn:it,scrollbarStartGap:2,scrollbarEndGap:Ye,width:Bn,style:`--${o(r.namespace)}-table-scrollbar-size: ${Ye}px`,useIsScrolling:mt,getRowHeight:Z,onScroll:ye},Ae=o(s),Ke={ns:r,depthMap:o(v),columnsStyles:Ae,expandColumnKey:he,expandedRowKeys:o(w),estimatedRowHeight:He,hasFixedColumns:o(b),rowProps:We,rowClass:Qe,rowKey:Ze,rowEventHandlers:Le,onRowHovered:J,onRowExpanded:fe,onRowHeightChange:ee},_e={cellProps:Be,expandColumnKey:he,indentSize:rt,iconSize:St,rowKey:Ze,expandedRowKeys:o(w),ns:r},lt={ns:r,headerClass:et,headerProps:qe,columnsStyles:Ae},Nt={ns:r,sortBy:be,sortState:$e,headerCellProps:ae,onColumnSorted:ne},Jt={row:yr=>pe(dq,Xt(yr,Ke),{row:t.row,cell:rn=>{let rr;return t.cell?pe(Y1,Xt(rn,_e,{style:Ae[rn.column.key]}),fu(rr=t.cell(rn))?rr:{default:()=>[rr]}):pe(Y1,Xt(rn,_e,{style:Ae[rn.column.key]}),null)}}),header:yr=>pe(wq,Xt(yr,lt),{header:t.header,cell:rn=>{let rr;return t["header-cell"]?pe(X1,Xt(rn,Nt,{style:Ae[rn.column.key]}),fu(rr=t["header-cell"](rn))?rr:{default:()=>[rr]}):pe(X1,Xt(rn,Nt,{style:Ae[rn.column.key]}),null)}})},An=[e.class,r.b(),r.e("root"),{[r.is("dynamic")]:o(E)}],Kn={class:r.e("footer"),style:o(G)};return pe("div",{class:An,style:o(U)},[pe(ZX,qt,fu(Jt)?Jt:{default:()=>[Jt]}),pe(tq,en,fu(Jt)?Jt:{default:()=>[Jt]}),pe(sq,Ue,fu(Jt)?Jt:{default:()=>[Jt]}),t.footer&&pe(Tq,Kn,{default:t.footer}),o(q)&&pe(kq,{class:r.e("empty"),style:o(H)},{default:t.empty}),t.overlay&&pe(Eq,{class:r.e("overlay")},{default:t.overlay})])}}});var Aq=Iq;const Lq=st({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:Ie(Function)}}),Oq=e=>{const t=Q(),n=Q(0),r=Q(0);let s;return Ut(()=>{s=Jn(t,([i])=>{const{width:a,height:l}=i.contentRect,{paddingLeft:u,paddingRight:d,paddingTop:f,paddingBottom:p}=getComputedStyle(i.target),g=Number.parseInt(u)||0,v=Number.parseInt(d)||0,w=Number.parseInt(f)||0,b=Number.parseInt(p)||0;n.value=a-g-v,r.value=l-w-b}).stop}),Fn(()=>{s==null||s()}),je([n,r],([i,a])=>{var l;(l=e.onResize)==null||l.call(e,{width:i,height:a})}),{sizer:t,width:n,height:r}},Mq=ve({name:"ElAutoResizer",props:Lq,setup(e,{slots:t}){const n=Xe("auto-resizer"),{height:r,width:s,sizer:i}=Oq(e),a={width:"100%",height:"100%"};return()=>{var l;return pe("div",{ref:i,class:n.b(),style:a},[(l=t.default)==null?void 0:l.call(t,{height:r.value,width:s.value})])}}});var Rq=Mq;const Dq=zt(Aq),Nq=zt(Rq),yh=Symbol("tabsRootContextKey"),Pq=st({tabs:{type:Ie(Array),default:()=>Zn([])}}),mk="ElTabBar",Fq=ve({name:mk}),Vq=ve({...Fq,props:Pq,setup(e,{expose:t}){const n=e,r=Gt(),s=vt(yh);s||xr(mk,"<el-tabs><el-tab-bar /></el-tabs>");const i=Xe("tabs"),a=Q(),l=Q(),u=()=>{let v=0,w=0;const b=["top","bottom"].includes(s.props.tabPosition)?"width":"height",_=b==="width"?"x":"y",C=_==="x"?"left":"top";return n.tabs.every(M=>{var E,k;const A=(k=(E=r.parent)==null?void 0:E.refs)==null?void 0:k[`tab-${M.uid}`];if(!A)return!1;if(!M.active)return!0;v=A[`offset${Si(C)}`],w=A[`client${Si(b)}`];const D=window.getComputedStyle(A);return b==="width"&&(w-=Number.parseFloat(D.paddingLeft)+Number.parseFloat(D.paddingRight),v+=Number.parseFloat(D.paddingLeft)),!1}),{[b]:`${w}px`,transform:`translate${Si(_)}(${v}px)`}},d=()=>l.value=u(),f=[],p=()=>{var v;f.forEach(b=>b.stop()),f.length=0;const w=(v=r.parent)==null?void 0:v.refs;if(w){for(const b in w)if(b.startsWith("tab-")){const _=w[b];_&&f.push(Jn(_,d))}}};je(()=>n.tabs,async()=>{await Et(),d(),p()},{immediate:!0});const g=Jn(a,()=>d());return Fn(()=>{f.forEach(v=>v.stop()),f.length=0,g.stop()}),t({ref:a,update:d}),(v,w)=>(V(),le("div",{ref_key:"barRef",ref:a,class:W([o(i).e("active-bar"),o(i).is(o(s).props.tabPosition)]),style:Tt(l.value)},null,6))}});var zq=ot(Vq,[["__file","tab-bar.vue"]]);const Bq=st({panes:{type:Ie(Array),default:()=>Zn([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),Kq={tabClick:(e,t,n)=>n instanceof Event,tabRemove:(e,t)=>t instanceof Event},q1="ElTabNav",Hq=ve({name:q1,props:Bq,emits:Kq,setup(e,{expose:t,emit:n}){const r=vt(yh);r||xr(q1,"<el-tabs><tab-nav /></el-tabs>");const s=Xe("tabs"),i=rP(),a=mP(),l=Q(),u=Q(),d=Q(),f=Q(),p=Q(!1),g=Q(0),v=Q(!1),w=Q(!0),b=L(()=>["top","bottom"].includes(r.props.tabPosition)?"width":"height"),_=L(()=>({transform:`translate${b.value==="width"?"X":"Y"}(-${g.value}px)`})),C=()=>{if(!l.value)return;const U=l.value[`offset${Si(b.value)}`],K=g.value;if(!K)return;const G=K>U?K-U:0;g.value=G},M=()=>{if(!l.value||!u.value)return;const U=u.value[`offset${Si(b.value)}`],K=l.value[`offset${Si(b.value)}`],G=g.value;if(U-G<=K)return;const q=U-G>K*2?G+K:U-K;g.value=q},E=async()=>{const U=u.value;if(!p.value||!d.value||!l.value||!U)return;await Et();const K=d.value.querySelector(".is-active");if(!K)return;const G=l.value,q=["top","bottom"].includes(r.props.tabPosition),Y=K.getBoundingClientRect(),de=G.getBoundingClientRect(),xe=q?U.offsetWidth-de.width:U.offsetHeight-de.height,oe=g.value;let Z=oe;q?(Y.left<de.left&&(Z=oe-(de.left-Y.left)),Y.right>de.right&&(Z=oe+Y.right-de.right)):(Y.top<de.top&&(Z=oe-(de.top-Y.top)),Y.bottom>de.bottom&&(Z=oe+(Y.bottom-de.bottom))),Z=Math.max(Z,0),g.value=Math.min(Z,xe)},k=()=>{var U;if(!u.value||!l.value)return;e.stretch&&((U=f.value)==null||U.update());const K=u.value[`offset${Si(b.value)}`],G=l.value[`offset${Si(b.value)}`],q=g.value;G<K?(p.value=p.value||{},p.value.prev=q,p.value.next=q+G<K,K-q<G&&(g.value=K-G)):(p.value=!1,q>0&&(g.value=0))},A=U=>{let K=0;switch(U.code){case gt.left:case gt.up:K=-1;break;case gt.right:case gt.down:K=1;break;default:return}const G=Array.from(U.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let Y=G.indexOf(U.target)+K;Y<0?Y=G.length-1:Y>=G.length&&(Y=0),G[Y].focus({preventScroll:!0}),G[Y].click(),D()},D=()=>{w.value&&(v.value=!0)},H=()=>v.value=!1;return je(i,U=>{U==="hidden"?w.value=!1:U==="visible"&&setTimeout(()=>w.value=!0,50)}),je(a,U=>{U?setTimeout(()=>w.value=!0,50):w.value=!1}),Jn(d,k),Ut(()=>setTimeout(()=>E(),0)),ui(()=>k()),t({scrollToActiveTab:E,removeFocus:H}),()=>{const U=p.value?[pe("span",{class:[s.e("nav-prev"),s.is("disabled",!p.value.prev)],onClick:C},[pe(wt,null,{default:()=>[pe(Wa,null,null)]})]),pe("span",{class:[s.e("nav-next"),s.is("disabled",!p.value.next)],onClick:M},[pe(wt,null,{default:()=>[pe(cs,null,null)]})])]:null,K=e.panes.map((G,q)=>{var Y,de,xe,oe;const Z=G.uid,ne=G.props.disabled,ee=(de=(Y=G.props.name)!=null?Y:G.index)!=null?de:`${q}`,J=!ne&&(G.isClosable||e.editable);G.index=`${q}`;const fe=J?pe(wt,{class:"is-icon-close",onClick:ye=>n("tabRemove",G,ye)},{default:()=>[pe(ii,null,null)]}):null,ge=((oe=(xe=G.slots).label)==null?void 0:oe.call(xe))||G.props.label,ke=!ne&&G.active?0:-1;return pe("div",{ref:`tab-${Z}`,class:[s.e("item"),s.is(r.props.tabPosition),s.is("active",G.active),s.is("disabled",ne),s.is("closable",J),s.is("focus",v.value)],id:`tab-${ee}`,key:`tab-${Z}`,"aria-controls":`pane-${ee}`,role:"tab","aria-selected":G.active,tabindex:ke,onFocus:()=>D(),onBlur:()=>H(),onClick:ye=>{H(),n("tabClick",G,ee,ye)},onKeydown:ye=>{J&&(ye.code===gt.delete||ye.code===gt.backspace)&&n("tabRemove",G,ye)}},[ge,fe])});return pe("div",{ref:d,class:[s.e("nav-wrap"),s.is("scrollable",!!p.value),s.is(r.props.tabPosition)]},[U,pe("div",{class:s.e("nav-scroll"),ref:l},[pe("div",{class:[s.e("nav"),s.is(r.props.tabPosition),s.is("stretch",e.stretch&&["top","bottom"].includes(r.props.tabPosition))],ref:u,style:_.value,role:"tablist",onKeydown:A},[e.type?null:pe(zq,{ref:f,tabs:[...e.panes]},null),K])])])}}}),Wq=st({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Ie(Function),default:()=>!0},stretch:Boolean}),Cp=e=>xt(e)||$t(e),Uq={[Kt]:e=>Cp(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>Cp(e),edit:(e,t)=>["remove","add"].includes(t),tabRemove:e=>Cp(e),tabAdd:()=>!0},jq=ve({name:"ElTabs",props:Wq,emits:Uq,setup(e,{emit:t,slots:n,expose:r}){var s;const i=Xe("tabs"),a=L(()=>["left","right"].includes(e.tabPosition)),{children:l,addChild:u,removeChild:d}=yv(Gt(),"ElTabPane"),f=Q(),p=Q((s=e.modelValue)!=null?s:"0"),g=async(C,M=!1)=>{var E,k;if(!(p.value===C||xn(C)))try{let A;if(e.beforeLeave){const D=e.beforeLeave(C,p.value);A=D instanceof Promise?await D:D}else A=!0;A!==!1&&(p.value=C,M&&(t(Kt,C),t("tabChange",C)),(k=(E=f.value)==null?void 0:E.removeFocus)==null||k.call(E))}catch{}},v=(C,M,E)=>{C.props.disabled||(g(M,!0),t("tabClick",C,E))},w=(C,M)=>{C.props.disabled||xn(C.props.name)||(M.stopPropagation(),t("edit",C.props.name,"remove"),t("tabRemove",C.props.name))},b=()=>{t("edit",void 0,"add"),t("tabAdd")};je(()=>e.modelValue,C=>g(C)),je(p,async()=>{var C;await Et(),(C=f.value)==null||C.scrollToActiveTab()}),Qt(yh,{props:e,currentName:p,registerPane:C=>{l.value.push(C)},sortPane:u,unregisterPane:d}),r({currentName:p});const _=({render:C})=>C();return()=>{const C=n["add-icon"],M=e.editable||e.addable?pe("div",{class:[i.e("new-tab"),a.value&&i.e("new-tab-vertical")],tabindex:"0",onClick:b,onKeydown:A=>{[gt.enter,gt.numpadEnter].includes(A.code)&&b()}},[C?Oe(n,"add-icon"):pe(wt,{class:i.is("icon-plus")},{default:()=>[pe(xC,null,null)]})]):null,E=pe("div",{class:[i.e("header"),a.value&&i.e("header-vertical"),i.is(e.tabPosition)]},[pe(_,{render:()=>{const A=l.value.some(D=>D.slots.label);return pe(Hq,{ref:f,currentName:p.value,editable:e.editable,type:e.type,panes:l.value,stretch:e.stretch,onTabClick:v,onTabRemove:w},{$stable:!A})}},null),M]),k=pe("div",{class:i.e("content")},[Oe(n,"default")]);return pe("div",{class:[i.b(),i.m(e.tabPosition),{[i.m("card")]:e.type==="card",[i.m("border-card")]:e.type==="border-card"}]},[k,E])}}});var Gq=jq;const Yq=st({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),gk="ElTabPane",Xq=ve({name:gk}),qq=ve({...Xq,props:Yq,setup(e){const t=e,n=Gt(),r=Sr(),s=vt(yh);s||xr(gk,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const i=Xe("tab-pane"),a=Q(),l=L(()=>t.closable||s.props.closable),u=Qp(()=>{var v;return s.currentName.value===((v=t.name)!=null?v:a.value)}),d=Q(u.value),f=L(()=>{var v;return(v=t.name)!=null?v:a.value}),p=Qp(()=>!t.lazy||d.value||u.value);je(u,v=>{v&&(d.value=!0)});const g=wn({uid:n.uid,slots:r,props:t,paneName:f,active:u,index:a,isClosable:l});return s.registerPane(g),Ut(()=>{s.sortPane(g)}),Ja(()=>{s.unregisterPane(g.uid)}),(v,w)=>o(p)?Bt((V(),le("div",{key:0,id:`pane-${o(f)}`,class:W(o(i).b()),role:"tabpanel","aria-hidden":!o(u),"aria-labelledby":`tab-${o(f)}`},[Oe(v.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[mn,o(u)]]):Re("v-if",!0)}});var vk=ot(qq,[["__file","tab-pane.vue"]]);const Jq=zt(Gq,{TabPane:vk}),Zq=Qn(vk),Qq=st({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:Oi,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),eJ=ve({name:"ElText"}),tJ=ve({...eJ,props:Qq,setup(e){const t=e,n=Q(),r=pr(),s=Xe("text"),i=L(()=>[s.b(),s.m(t.type),s.m(r.value),s.is("truncated",t.truncated),s.is("line-clamp",!xn(t.lineClamp))]),a=oa().title,l=()=>{var u,d,f,p,g;if(a)return;let v=!1;const w=((u=n.value)==null?void 0:u.textContent)||"";if(t.truncated){const b=(d=n.value)==null?void 0:d.offsetWidth,_=(f=n.value)==null?void 0:f.scrollWidth;b&&_&&_>b&&(v=!0)}else if(!xn(t.lineClamp)){const b=(p=n.value)==null?void 0:p.offsetHeight,_=(g=n.value)==null?void 0:g.scrollHeight;b&&_&&_>b&&(v=!0)}v?n.value.setAttribute("title",w):n.value.removeAttribute("title")};return Ut(l),ui(l),(u,d)=>(V(),Ve(Yt(u.tag),{ref_key:"textRef",ref:n,class:W(o(i)),style:Tt({"-webkit-line-clamp":u.lineClamp})},{default:Se(()=>[Oe(u.$slots,"default")]),_:3},8,["class","style"]))}});var nJ=ot(tJ,[["__file","text.vue"]]);const rJ=zt(nJ),sJ=st({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:Ie(String),default:"light"},clearable:{type:Boolean,default:!0},size:vr,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,includeEndTime:{type:Boolean,default:!1},name:String,prefixIcon:{type:Ie([String,Object]),default:()=>bC},clearIcon:{type:Ie([String,Object]),default:()=>da},...Ul}),Zi=e=>{const t=(e||"").split(":");if(t.length>=2){let n=Number.parseInt(t[0],10);const r=Number.parseInt(t[1],10),s=e.toUpperCase();return s.includes("AM")&&n===12?n=0:s.includes("PM")&&n!==12&&(n+=12),{hours:n,minutes:r}}return null},_p=(e,t)=>{const n=Zi(e);if(!n)return-1;const r=Zi(t);if(!r)return-1;const s=n.minutes+n.hours*60,i=r.minutes+r.hours*60;return s===i?0:s>i?1:-1},J1=e=>`${e}`.padStart(2,"0"),el=e=>`${J1(e.hours)}:${J1(e.minutes)}`,iJ=(e,t)=>{const n=Zi(e);if(!n)return"";const r=Zi(t);if(!r)return"";const s={hours:n.hours,minutes:n.minutes};return s.minutes+=r.minutes,s.hours+=r.hours,s.hours+=Math.floor(s.minutes/60),s.minutes=s.minutes%60,el(s)},aJ=ve({name:"ElTimeSelect"}),oJ=ve({...aJ,props:sJ,emits:["change","blur","focus","clear","update:modelValue"],setup(e,{expose:t}){const n=e;Ft.extend(Sv);const{Option:r}=Mo,s=Xe("input"),i=Q(),a=Ur(),{lang:l}=cn(),u=L(()=>n.modelValue),d=L(()=>{const C=Zi(n.start);return C?el(C):null}),f=L(()=>{const C=Zi(n.end);return C?el(C):null}),p=L(()=>{const C=Zi(n.step);return C?el(C):null}),g=L(()=>{const C=Zi(n.minTime||"");return C?el(C):null}),v=L(()=>{const C=Zi(n.maxTime||"");return C?el(C):null}),w=L(()=>{var C;const M=[],E=(k,A)=>{M.push({value:k,disabled:_p(A,g.value||"-1:-1")<=0||_p(A,v.value||"100:100")>=0})};if(n.start&&n.end&&n.step){let k=d.value,A;for(;k&&f.value&&_p(k,f.value)<=0;)A=Ft(k,"HH:mm").locale(l.value).format(n.format),E(A,k),k=iJ(k,p.value);if(n.includeEndTime&&f.value&&((C=M[M.length-1])==null?void 0:C.value)!==f.value){const D=Ft(f.value,"HH:mm").locale(l.value).format(n.format);E(D,f.value)}}return M});return t({blur:()=>{var C,M;(M=(C=i.value)==null?void 0:C.blur)==null||M.call(C)},focus:()=>{var C,M;(M=(C=i.value)==null?void 0:C.focus)==null||M.call(C)}}),(C,M)=>(V(),Ve(o(Mo),{ref_key:"select",ref:i,"model-value":o(u),disabled:o(a),clearable:C.clearable,"clear-icon":C.clearIcon,size:C.size,effect:C.effect,placeholder:C.placeholder,"default-first-option":"",filterable:C.editable,"empty-values":C.emptyValues,"value-on-clear":C.valueOnClear,"onUpdate:modelValue":E=>C.$emit("update:modelValue",E),onChange:E=>C.$emit("change",E),onBlur:E=>C.$emit("blur",E),onFocus:E=>C.$emit("focus",E),onClear:()=>C.$emit("clear")},{prefix:Se(()=>[C.prefixIcon?(V(),Ve(o(wt),{key:0,class:W(o(s).e("prefix-icon"))},{default:Se(()=>[(V(),Ve(Yt(C.prefixIcon)))]),_:1},8,["class"])):Re("v-if",!0)]),default:Se(()=>[(V(!0),le(Ct,null,nn(o(w),E=>(V(),Ve(o(r),{key:E.value,label:E.value,value:E.value,disabled:E.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","onUpdate:modelValue","onChange","onBlur","onFocus","onClear"]))}});var lJ=ot(oJ,[["__file","time-select.vue"]]);const uJ=zt(lJ),cJ=ve({name:"ElTimeline",setup(e,{slots:t}){const n=Xe("timeline");return Qt("timeline",t),()=>It("ul",{class:[n.b()]},[Oe(t,"default")])}}),dJ=st({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:Pn},hollow:Boolean}),fJ=ve({name:"ElTimelineItem"}),hJ=ve({...fJ,props:dJ,setup(e){const t=e,n=Xe("timeline-item"),r=L(()=>[n.e("node"),n.em("node",t.size||""),n.em("node",t.type||""),n.is("hollow",t.hollow)]);return(s,i)=>(V(),le("li",{class:W([o(n).b(),{[o(n).e("center")]:s.center}])},[ue("div",{class:W(o(n).e("tail"))},null,2),s.$slots.dot?Re("v-if",!0):(V(),le("div",{key:0,class:W(o(r)),style:Tt({backgroundColor:s.color})},[s.icon?(V(),Ve(o(wt),{key:0,class:W(o(n).e("icon"))},{default:Se(()=>[(V(),Ve(Yt(s.icon)))]),_:1},8,["class"])):Re("v-if",!0)],6)),s.$slots.dot?(V(),le("div",{key:1,class:W(o(n).e("dot"))},[Oe(s.$slots,"dot")],2)):Re("v-if",!0),ue("div",{class:W(o(n).e("wrapper"))},[!s.hideTimestamp&&s.placement==="top"?(V(),le("div",{key:0,class:W([o(n).e("timestamp"),o(n).is("top")])},at(s.timestamp),3)):Re("v-if",!0),ue("div",{class:W(o(n).e("content"))},[Oe(s.$slots,"default")],2),!s.hideTimestamp&&s.placement==="bottom"?(V(),le("div",{key:1,class:W([o(n).e("timestamp"),o(n).is("bottom")])},at(s.timestamp),3)):Re("v-if",!0)],2)],2))}});var yk=ot(hJ,[["__file","timeline-item.vue"]]);const pJ=zt(cJ,{TimelineItem:yk}),mJ=Qn(yk),bk=st({nowrap:Boolean});var wk=(e=>(e.top="top",e.bottom="bottom",e.left="left",e.right="right",e))(wk||{});const gJ=Object.values(wk),Qv=st({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:Ie(Object),default:null}}),vJ=st({side:{type:Ie(String),values:gJ,required:!0}}),yJ=["absolute","fixed"],bJ=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],ey=st({arrowPadding:{type:Ie(Number),default:5},effect:{type:Ie(String),default:"light"},contentClass:String,placement:{type:Ie(String),values:bJ,default:"bottom"},reference:{type:Ie(Object),default:null},offset:{type:Number,default:8},strategy:{type:Ie(String),values:yJ,default:"absolute"},showArrow:Boolean,...Fr(["ariaLabel"])}),ty=st({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:Ie(Function)},"onUpdate:open":{type:Ie(Function)}}),Xo={type:Ie(Function)},ny=st({onBlur:Xo,onClick:Xo,onFocus:Xo,onMouseDown:Xo,onMouseEnter:Xo,onMouseLeave:Xo}),wJ=st({...ty,...Qv,...ny,...ey,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:Ie(Object),default:null},teleported:Boolean,to:{type:Ie(String),default:"body"}}),bh=Symbol("tooltipV2"),xk=Symbol("tooltipV2Content"),Tp="tooltip_v2.open",xJ=ve({name:"ElTooltipV2Root"}),SJ=ve({...xJ,props:ty,setup(e,{expose:t}){const n=e,r=Q(n.defaultOpen),s=Q(null),i=L({get:()=>ni(n.open)?r.value:n.open,set:_=>{var C;r.value=_,(C=n["onUpdate:open"])==null||C.call(n,_)}}),a=L(()=>$t(n.delayDuration)&&n.delayDuration>0),{start:l,stop:u}=Lo(()=>{i.value=!0},L(()=>n.delayDuration),{immediate:!1}),d=Xe("tooltip-v2"),f=Pr(),p=()=>{u(),i.value=!0},g=()=>{o(a)?l():p()},v=p,w=()=>{u(),i.value=!1};return je(i,_=>{var C;_&&(document.dispatchEvent(new CustomEvent(Tp)),v()),(C=n.onOpenChange)==null||C.call(n,_)}),Ut(()=>{document.addEventListener(Tp,w)}),Fn(()=>{u(),document.removeEventListener(Tp,w)}),Qt(bh,{contentId:f,triggerRef:s,ns:d,onClose:w,onDelayOpen:g,onOpen:v}),t({onOpen:v,onClose:w}),(_,C)=>Oe(_.$slots,"default",{open:o(i)})}});var CJ=ot(SJ,[["__file","root.vue"]]);const _J=ve({name:"ElTooltipV2Arrow"}),TJ=ve({..._J,props:{...Qv,...vJ},setup(e){const t=e,{ns:n}=vt(bh),{arrowRef:r}=vt(xk),s=L(()=>{const{style:i,width:a,height:l}=t,u=n.namespace.value;return{[`--${u}-tooltip-v2-arrow-width`]:`${a}px`,[`--${u}-tooltip-v2-arrow-height`]:`${l}px`,[`--${u}-tooltip-v2-arrow-border-width`]:`${a/2}px`,[`--${u}-tooltip-v2-arrow-cover-width`]:a/2-1,...i||{}}});return(i,a)=>(V(),le("span",{ref_key:"arrowRef",ref:r,style:Tt(o(s)),class:W(o(n).e("arrow"))},null,6))}});var Z1=ot(TJ,[["__file","arrow.vue"]]);const Ll=Math.min,Eo=Math.max,If=Math.round,bd=Math.floor,ki=e=>({x:e,y:e}),kJ={left:"right",right:"left",bottom:"top",top:"bottom"},EJ={start:"end",end:"start"};function Hm(e,t,n){return Eo(e,Ll(t,n))}function Oc(e,t){return typeof e=="function"?e(t):e}function Do(e){return e.split("-")[0]}function Mc(e){return e.split("-")[1]}function Sk(e){return e==="x"?"y":"x"}function ry(e){return e==="y"?"height":"width"}function Ol(e){return["top","bottom"].includes(Do(e))?"y":"x"}function sy(e){return Sk(Ol(e))}function $J(e,t,n){n===void 0&&(n=!1);const r=Mc(e),s=sy(e),i=ry(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=Af(a)),[a,Af(a)]}function IJ(e){const t=Af(e);return[Wm(e),t,Wm(t)]}function Wm(e){return e.replace(/start|end/g,t=>EJ[t])}function AJ(e,t,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?i:a;default:return[]}}function LJ(e,t,n,r){const s=Mc(e);let i=AJ(Do(e),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(Wm)))),i}function Af(e){return e.replace(/left|right|bottom|top/g,t=>kJ[t])}function OJ(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ck(e){return typeof e!="number"?OJ(e):{top:e,right:e,bottom:e,left:e}}function Lf(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Q1(e,t,n){let{reference:r,floating:s}=e;const i=Ol(t),a=sy(t),l=ry(a),u=Do(t),d=i==="y",f=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,g=r[l]/2-s[l]/2;let v;switch(u){case"top":v={x:f,y:r.y-s.height};break;case"bottom":v={x:f,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:p};break;case"left":v={x:r.x-s.width,y:p};break;default:v={x:r.x,y:r.y}}switch(Mc(t)){case"start":v[a]-=g*(n&&d?-1:1);break;case"end":v[a]+=g*(n&&d?-1:1);break}return v}const MJ=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(t));let d=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:p}=Q1(d,r,u),g=r,v={},w=0;for(let b=0;b<l.length;b++){const{name:_,fn:C}=l[b],{x:M,y:E,data:k,reset:A}=await C({x:f,y:p,initialPlacement:r,placement:g,strategy:s,middlewareData:v,rects:d,platform:a,elements:{reference:e,floating:t}});f=M??f,p=E??p,v={...v,[_]:{...v[_],...k}},A&&w<=50&&(w++,typeof A=="object"&&(A.placement&&(g=A.placement),A.rects&&(d=A.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):A.rects),{x:f,y:p}=Q1(d,g,u)),b=-1)}return{x:f,y:p,placement:g,strategy:s,middlewareData:v}};async function iy(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:a,elements:l,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:g=!1,padding:v=0}=Oc(t,e),w=Ck(v),_=l[g?p==="floating"?"reference":"floating":p],C=Lf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:u})),M=p==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),k=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},A=Lf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:M,offsetParent:E,strategy:u}):M);return{top:(C.top-A.top+w.top)/k.y,bottom:(A.bottom-C.bottom+w.bottom)/k.y,left:(C.left-A.left+w.left)/k.x,right:(A.right-C.right+w.right)/k.x}}const RJ=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:a,elements:l,middlewareData:u}=t,{element:d,padding:f=0}=Oc(e,t)||{};if(d==null)return{};const p=Ck(f),g={x:n,y:r},v=sy(s),w=ry(v),b=await a.getDimensions(d),_=v==="y",C=_?"top":"left",M=_?"bottom":"right",E=_?"clientHeight":"clientWidth",k=i.reference[w]+i.reference[v]-g[v]-i.floating[w],A=g[v]-i.reference[v],D=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let H=D?D[E]:0;(!H||!await(a.isElement==null?void 0:a.isElement(D)))&&(H=l.floating[E]||i.floating[w]);const U=k/2-A/2,K=H/2-b[w]/2-1,G=Ll(p[C],K),q=Ll(p[M],K),Y=G,de=H-b[w]-q,xe=H/2-b[w]/2+U,oe=Hm(Y,xe,de),Z=!u.arrow&&Mc(s)!=null&&xe!==oe&&i.reference[w]/2-(xe<Y?G:q)-b[w]/2<0,ne=Z?xe<Y?xe-Y:xe-de:0;return{[v]:g[v]+ne,data:{[v]:oe,centerOffset:xe-oe-ne,...Z&&{alignmentOffset:ne}},reset:Z}}}),DJ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:u,elements:d}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:b=!0,..._}=Oc(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const C=Do(s),M=Ol(l),E=Do(l)===l,k=await(u.isRTL==null?void 0:u.isRTL(d.floating)),A=g||(E||!b?[Af(l)]:IJ(l)),D=w!=="none";!g&&D&&A.push(...LJ(l,b,w,k));const H=[l,...A],U=await iy(t,_),K=[];let G=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&K.push(U[C]),p){const xe=$J(s,a,k);K.push(U[xe[0]],U[xe[1]])}if(G=[...G,{placement:s,overflows:K}],!K.every(xe=>xe<=0)){var q,Y;const xe=(((q=i.flip)==null?void 0:q.index)||0)+1,oe=H[xe];if(oe)return{data:{index:xe,overflows:G},reset:{placement:oe}};let Z=(Y=G.filter(ne=>ne.overflows[0]<=0).sort((ne,ee)=>ne.overflows[1]-ee.overflows[1])[0])==null?void 0:Y.placement;if(!Z)switch(v){case"bestFit":{var de;const ne=(de=G.filter(ee=>{if(D){const J=Ol(ee.placement);return J===M||J==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(J=>J>0).reduce((J,fe)=>J+fe,0)]).sort((ee,J)=>ee[1]-J[1])[0])==null?void 0:de[0];ne&&(Z=ne);break}case"initialPlacement":Z=l;break}if(s!==Z)return{reset:{placement:Z}}}return{}}}};async function NJ(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Do(n),l=Mc(n),u=Ol(n)==="y",d=["left","top"].includes(a)?-1:1,f=i&&u?-1:1,p=Oc(t,e);let{mainAxis:g,crossAxis:v,alignmentAxis:w}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof w=="number"&&(v=l==="end"?w*-1:w),u?{x:v*f,y:g*d}:{x:g*d,y:v*f}}const PJ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:a,middlewareData:l}=t,u=await NJ(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:a}}}}},FJ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:_=>{let{x:C,y:M}=_;return{x:C,y:M}}},...u}=Oc(e,t),d={x:n,y:r},f=await iy(t,u),p=Ol(Do(s)),g=Sk(p);let v=d[g],w=d[p];if(i){const _=g==="y"?"top":"left",C=g==="y"?"bottom":"right",M=v+f[_],E=v-f[C];v=Hm(M,v,E)}if(a){const _=p==="y"?"top":"left",C=p==="y"?"bottom":"right",M=w+f[_],E=w-f[C];w=Hm(M,w,E)}const b=l.fn({...t,[g]:v,[p]:w});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[g]:i,[p]:a}}}}}};function wh(){return typeof window<"u"}function ql(e){return _k(e)?(e.nodeName||"").toLowerCase():"#document"}function $s(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Di(e){var t;return(t=(_k(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _k(e){return wh()?e instanceof Node||e instanceof $s(e).Node:!1}function ai(e){return wh()?e instanceof Element||e instanceof $s(e).Element:!1}function Li(e){return wh()?e instanceof HTMLElement||e instanceof $s(e).HTMLElement:!1}function ex(e){return!wh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof $s(e).ShadowRoot}function Rc(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=oi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function VJ(e){return["table","td","th"].includes(ql(e))}function xh(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ay(e){const t=oy(),n=ai(e)?oi(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function zJ(e){let t=Ya(e);for(;Li(t)&&!Ml(t);){if(ay(t))return t;if(xh(t))return null;t=Ya(t)}return null}function oy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ml(e){return["html","body","#document"].includes(ql(e))}function oi(e){return $s(e).getComputedStyle(e)}function Sh(e){return ai(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ya(e){if(ql(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ex(e)&&e.host||Di(e);return ex(t)?t.host:t}function Tk(e){const t=Ya(e);return Ml(t)?e.ownerDocument?e.ownerDocument.body:e.body:Li(t)&&Rc(t)?t:Tk(t)}function dc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Tk(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),a=$s(s);if(i){const l=Um(a);return t.concat(a,a.visualViewport||[],Rc(s)?s:[],l&&n?dc(l):[])}return t.concat(s,dc(s,[],n))}function Um(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function kk(e){const t=oi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Li(e),i=s?e.offsetWidth:n,a=s?e.offsetHeight:r,l=If(n)!==i||If(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function ly(e){return ai(e)?e:e.contextElement}function pl(e){const t=ly(e);if(!Li(t))return ki(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=kk(t);let a=(i?If(n.width):n.width)/r,l=(i?If(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const BJ=ki(0);function Ek(e){const t=$s(e);return!oy()||!t.visualViewport?BJ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function KJ(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==$s(e)?!1:t}function No(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=ly(e);let a=ki(1);t&&(r?ai(r)&&(a=pl(r)):a=pl(e));const l=KJ(i,n,r)?Ek(i):ki(0);let u=(s.left+l.x)/a.x,d=(s.top+l.y)/a.y,f=s.width/a.x,p=s.height/a.y;if(i){const g=$s(i),v=r&&ai(r)?$s(r):r;let w=g,b=Um(w);for(;b&&r&&v!==w;){const _=pl(b),C=b.getBoundingClientRect(),M=oi(b),E=C.left+(b.clientLeft+parseFloat(M.paddingLeft))*_.x,k=C.top+(b.clientTop+parseFloat(M.paddingTop))*_.y;u*=_.x,d*=_.y,f*=_.x,p*=_.y,u+=E,d+=k,w=$s(b),b=Um(w)}}return Lf({width:f,height:p,x:u,y:d})}function uy(e,t){const n=Sh(e).scrollLeft;return t?t.left+n:No(Di(e)).left+n}function $k(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:uy(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function HJ(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",a=Di(r),l=t?xh(t.floating):!1;if(r===a||l&&i)return n;let u={scrollLeft:0,scrollTop:0},d=ki(1);const f=ki(0),p=Li(r);if((p||!p&&!i)&&((ql(r)!=="body"||Rc(a))&&(u=Sh(r)),Li(r))){const v=No(r);d=pl(r),f.x=v.x+r.clientLeft,f.y=v.y+r.clientTop}const g=a&&!p&&!i?$k(a,u,!0):ki(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+f.x+g.x,y:n.y*d.y-u.scrollTop*d.y+f.y+g.y}}function WJ(e){return Array.from(e.getClientRects())}function UJ(e){const t=Di(e),n=Sh(e),r=e.ownerDocument.body,s=Eo(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Eo(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+uy(e);const l=-n.scrollTop;return oi(r).direction==="rtl"&&(a+=Eo(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:l}}function jJ(e,t){const n=$s(e),r=Di(e),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,u=0;if(s){i=s.width,a=s.height;const d=oy();(!d||d&&t==="fixed")&&(l=s.offsetLeft,u=s.offsetTop)}return{width:i,height:a,x:l,y:u}}function GJ(e,t){const n=No(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Li(e)?pl(e):ki(1),a=e.clientWidth*i.x,l=e.clientHeight*i.y,u=s*i.x,d=r*i.y;return{width:a,height:l,x:u,y:d}}function tx(e,t,n){let r;if(t==="viewport")r=jJ(e,n);else if(t==="document")r=UJ(Di(e));else if(ai(t))r=GJ(t,n);else{const s=Ek(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Lf(r)}function Ik(e,t){const n=Ya(e);return n===t||!ai(n)||Ml(n)?!1:oi(n).position==="fixed"||Ik(n,t)}function YJ(e,t){const n=t.get(e);if(n)return n;let r=dc(e,[],!1).filter(l=>ai(l)&&ql(l)!=="body"),s=null;const i=oi(e).position==="fixed";let a=i?Ya(e):e;for(;ai(a)&&!Ml(a);){const l=oi(a),u=ay(a);!u&&l.position==="fixed"&&(s=null),(i?!u&&!s:!u&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Rc(a)&&!u&&Ik(e,a))?r=r.filter(f=>f!==a):s=l,a=Ya(a)}return t.set(e,r),r}function XJ(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const a=[...n==="clippingAncestors"?xh(t)?[]:YJ(t,this._c):[].concat(n),r],l=a[0],u=a.reduce((d,f)=>{const p=tx(t,f,s);return d.top=Eo(p.top,d.top),d.right=Ll(p.right,d.right),d.bottom=Ll(p.bottom,d.bottom),d.left=Eo(p.left,d.left),d},tx(t,l,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function qJ(e){const{width:t,height:n}=kk(e);return{width:t,height:n}}function JJ(e,t,n){const r=Li(t),s=Di(t),i=n==="fixed",a=No(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const u=ki(0);if(r||!r&&!i)if((ql(t)!=="body"||Rc(s))&&(l=Sh(t)),r){const g=No(t,!0,i,t);u.x=g.x+t.clientLeft,u.y=g.y+t.clientTop}else s&&(u.x=uy(s));const d=s&&!r&&!i?$k(s,l):ki(0),f=a.left+l.scrollLeft-u.x-d.x,p=a.top+l.scrollTop-u.y-d.y;return{x:f,y:p,width:a.width,height:a.height}}function kp(e){return oi(e).position==="static"}function nx(e,t){if(!Li(e)||oi(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Di(e)===n&&(n=n.ownerDocument.body),n}function Ak(e,t){const n=$s(e);if(xh(e))return n;if(!Li(e)){let s=Ya(e);for(;s&&!Ml(s);){if(ai(s)&&!kp(s))return s;s=Ya(s)}return n}let r=nx(e,t);for(;r&&VJ(r)&&kp(r);)r=nx(r,t);return r&&Ml(r)&&kp(r)&&!ay(r)?n:r||zJ(e)||n}const ZJ=async function(e){const t=this.getOffsetParent||Ak,n=this.getDimensions,r=await n(e.floating);return{reference:JJ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function QJ(e){return oi(e).direction==="rtl"}const eZ={convertOffsetParentRelativeRectToViewportRelativeRect:HJ,getDocumentElement:Di,getClippingRect:XJ,getOffsetParent:Ak,getElementRects:ZJ,getClientRects:WJ,getDimensions:qJ,getScale:pl,isElement:ai,isRTL:QJ};function Lk(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function tZ(e,t){let n=null,r;const s=Di(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),i();const d=e.getBoundingClientRect(),{left:f,top:p,width:g,height:v}=d;if(l||t(),!g||!v)return;const w=bd(p),b=bd(s.clientWidth-(f+g)),_=bd(s.clientHeight-(p+v)),C=bd(f),E={rootMargin:-w+"px "+-b+"px "+-_+"px "+-C+"px",threshold:Eo(0,Ll(1,u))||1};let k=!0;function A(D){const H=D[0].intersectionRatio;if(H!==u){if(!k)return a();H?a(!1,H):r=setTimeout(()=>{a(!1,1e-7)},1e3)}H===1&&!Lk(d,e.getBoundingClientRect())&&a(),k=!1}try{n=new IntersectionObserver(A,{...E,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,E)}n.observe(e)}return a(!0),i}function nZ(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=ly(e),f=s||i?[...d?dc(d):[],...dc(t)]:[];f.forEach(C=>{s&&C.addEventListener("scroll",n,{passive:!0}),i&&C.addEventListener("resize",n)});const p=d&&l?tZ(d,n):null;let g=-1,v=null;a&&(v=new ResizeObserver(C=>{let[M]=C;M&&M.target===d&&v&&(v.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var E;(E=v)==null||E.observe(t)})),n()}),d&&!u&&v.observe(d),v.observe(t));let w,b=u?No(e):null;u&&_();function _(){const C=No(e);b&&!Lk(b,C)&&n(),b=C,w=requestAnimationFrame(_)}return n(),()=>{var C;f.forEach(M=>{s&&M.removeEventListener("scroll",n),i&&M.removeEventListener("resize",n)}),p==null||p(),(C=v)==null||C.disconnect(),v=null,u&&cancelAnimationFrame(w)}}const rZ=iy,Ok=PJ,sZ=FJ,iZ=DJ,Mk=RJ,Rk=(e,t,n)=>{const r=new Map,s={platform:eZ,...n},i={...s.platform,_c:r};return MJ(e,t,{...s,platform:i})},aZ=st({style:{type:Ie([String,Object,Array]),default:()=>({})}}),oZ=ve({name:"ElVisuallyHidden"}),lZ=ve({...oZ,props:aZ,setup(e){const t=e,n=L(()=>[t.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(r,s)=>(V(),le("span",Xt(r.$attrs,{style:o(n)}),[Oe(r.$slots,"default")],16))}});var uZ=ot(lZ,[["__file","visual-hidden.vue"]]);st({});const cZ=e=>{if(!un)return;if(!e)return e;const t=ls(e);return t||(kn(e)?t:e)},dZ=({middleware:e,placement:t,strategy:n})=>{const r=Q(),s=Q(),i=Q(),a=Q(),l=Q({}),u={x:i,y:a,placement:t,strategy:n,middlewareData:l},d=async()=>{if(!un)return;const f=cZ(r),p=ls(s);if(!f||!p)return;const g=await Rk(f,p,{placement:o(t),strategy:o(n),middleware:o(e)});xl(u).forEach(v=>{u[v].value=g[v]})};return Ut(()=>{Vr(()=>{d()})}),{...u,update:d,referenceRef:r,contentRef:s}},fZ=({arrowRef:e,padding:t})=>({name:"arrow",options:{element:e,padding:t},fn(n){const r=o(e);return r?Mk({element:r,padding:t}).fn(n):{}}}),hZ=ve({name:"ElTooltipV2Content"}),pZ=ve({...hZ,props:{...ey,...bk},setup(e){const t=e,{triggerRef:n,contentId:r}=vt(bh),s=Q(t.placement),i=Q(t.strategy),a=Q(null),{referenceRef:l,contentRef:u,middlewareData:d,x:f,y:p,update:g}=dZ({placement:s,strategy:i,middleware:L(()=>{const E=[Ok(t.offset)];return t.showArrow&&E.push(fZ({arrowRef:a})),E})}),v=Wl().nextZIndex(),w=Xe("tooltip-v2"),b=L(()=>s.value.split("-")[0]),_=L(()=>({position:o(i),top:`${o(p)||0}px`,left:`${o(f)||0}px`,zIndex:v})),C=L(()=>{if(!t.showArrow)return{};const{arrow:E}=o(d);return{[`--${w.namespace.value}-tooltip-v2-arrow-x`]:`${E==null?void 0:E.x}px`||"",[`--${w.namespace.value}-tooltip-v2-arrow-y`]:`${E==null?void 0:E.y}px`||""}}),M=L(()=>[w.e("content"),w.is("dark",t.effect==="dark"),w.is(o(i)),t.contentClass]);return je(a,()=>g()),je(()=>t.placement,E=>s.value=E),Ut(()=>{je(()=>t.reference||n.value,E=>{l.value=E||void 0},{immediate:!0})}),Qt(xk,{arrowRef:a}),(E,k)=>(V(),le("div",{ref_key:"contentRef",ref:u,style:Tt(o(_)),"data-tooltip-v2-root":""},[E.nowrap?Re("v-if",!0):(V(),le("div",{key:0,"data-side":o(b),class:W(o(M))},[Oe(E.$slots,"default",{contentStyle:o(_),contentClass:o(M)}),pe(o(uZ),{id:o(r),role:"tooltip"},{default:Se(()=>[E.ariaLabel?(V(),le(Ct,{key:0},[At(at(E.ariaLabel),1)],64)):Oe(E.$slots,"default",{key:1})]),_:3},8,["id"]),Oe(E.$slots,"arrow",{style:Tt(o(C)),side:o(b)})],10,["data-side"]))],4))}});var rx=ot(pZ,[["__file","content.vue"]]);const mZ=st({setRef:{type:Ie(Function),required:!0},onlyChild:Boolean});var gZ=ve({props:mZ,setup(e,{slots:t}){const n=Q(),r=ph(n,s=>{s?e.setRef(s.nextElementSibling):e.setRef(null)});return()=>{var s;const[i]=((s=t.default)==null?void 0:s.call(t))||[],a=e.onlyChild?k6(i.children):i.children;return pe(Ct,{ref:r},[a])}}});const vZ=ve({name:"ElTooltipV2Trigger"}),yZ=ve({...vZ,props:{...bk,...ny},setup(e){const t=e,{onClose:n,onOpen:r,onDelayOpen:s,triggerRef:i,contentId:a}=vt(bh);let l=!1;const u=M=>{i.value=M},d=()=>{l=!1},f=ar(t.onMouseEnter,s),p=ar(t.onMouseLeave,n),g=ar(t.onMouseDown,()=>{n(),l=!0,document.addEventListener("mouseup",d,{once:!0})}),v=ar(t.onFocus,()=>{l||r()}),w=ar(t.onBlur,n),b=ar(t.onClick,M=>{M.detail===0&&n()}),_={blur:w,click:b,focus:v,mousedown:g,mouseenter:f,mouseleave:p},C=(M,E,k)=>{M&&Object.entries(E).forEach(([A,D])=>{M[k](A,D)})};return je(i,(M,E)=>{C(M,_,"addEventListener"),C(E,_,"removeEventListener"),M&&M.setAttribute("aria-describedby",a.value)}),Fn(()=>{C(i.value,_,"removeEventListener"),document.removeEventListener("mouseup",d)}),(M,E)=>M.nowrap?(V(),Ve(o(gZ),{key:0,"set-ref":u,"only-child":""},{default:Se(()=>[Oe(M.$slots,"default")]),_:3})):(V(),le("button",Xt({key:1,ref_key:"triggerRef",ref:i},M.$attrs),[Oe(M.$slots,"default")],16))}});var bZ=ot(yZ,[["__file","trigger.vue"]]);const wZ=ve({name:"ElTooltipV2"}),xZ=ve({...wZ,props:wJ,setup(e){const n=Er(e),r=wn(Zs(n,Object.keys(Qv))),s=wn(Zs(n,Object.keys(ey))),i=wn(Zs(n,Object.keys(ty))),a=wn(Zs(n,Object.keys(ny)));return(l,u)=>(V(),Ve(CJ,Js(za(i)),{default:Se(({open:d})=>[pe(bZ,Xt(a,{nowrap:""}),{default:Se(()=>[Oe(l.$slots,"trigger")]),_:3},16),pe(o(Gl),{to:l.to,disabled:!l.teleported},{default:Se(()=>[l.fullTransition?(V(),Ve(Rr,Js(Xt({key:0},l.transitionProps)),{default:Se(()=>[l.alwaysOn||d?(V(),Ve(rx,Js(Xt({key:0},s)),{arrow:Se(({style:f,side:p})=>[l.showArrow?(V(),Ve(Z1,Xt({key:0},r,{style:f,side:p}),null,16,["style","side"])):Re("v-if",!0)]),default:Se(()=>[Oe(l.$slots,"default")]),_:3},16)):Re("v-if",!0)]),_:2},1040)):(V(),le(Ct,{key:1},[l.alwaysOn||d?(V(),Ve(rx,Js(Xt({key:0},s)),{arrow:Se(({style:f,side:p})=>[l.showArrow?(V(),Ve(Z1,Xt({key:0},r,{style:f,side:p}),null,16,["style","side"])):Re("v-if",!0)]),default:Se(()=>[Oe(l.$slots,"default")]),_:3},16)):Re("v-if",!0)],64))]),_:2},1032,["to","disabled"])]),_:3},16))}});var SZ=ot(xZ,[["__file","tooltip.vue"]]);const CZ=zt(SZ),Dk="left-check-change",Nk="right-check-change",tl=st({data:{type:Ie(Array),default:()=>[]},titles:{type:Ie(Array),default:()=>[]},buttonTexts:{type:Ie(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:Ie(Function)},leftDefaultChecked:{type:Ie(Array),default:()=>[]},rightDefaultChecked:{type:Ie(Array),default:()=>[]},renderContent:{type:Ie(Function)},modelValue:{type:Ie(Array),default:()=>[]},format:{type:Ie(Object),default:()=>({})},filterable:Boolean,props:{type:Ie(Object),default:()=>Zn({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),jm=(e,t)=>[e,t].every(nt)||nt(e)&&kr(t),_Z={[Nn]:(e,t,n)=>[e,n].every(nt)&&["left","right"].includes(t),[Kt]:e=>nt(e),[Dk]:jm,[Nk]:jm},Gm="checked-change",TZ=st({data:tl.data,optionRender:{type:Ie(Function)},placeholder:String,title:String,filterable:Boolean,format:tl.format,filterMethod:tl.filterMethod,defaultChecked:tl.leftDefaultChecked,props:tl.props}),kZ={[Gm]:jm},Dc=e=>{const t={label:"label",key:"key",disabled:"disabled"};return L(()=>({...t,...e.props}))},EZ=(e,t,n)=>{const r=Dc(e),s=L(()=>e.data.filter(f=>_t(e.filterMethod)?e.filterMethod(t.query,f):String(f[r.value.label]||f[r.value.key]).toLowerCase().includes(t.query.toLowerCase()))),i=L(()=>s.value.filter(f=>!f[r.value.disabled])),a=L(()=>{const f=t.checked.length,p=e.data.length,{noChecked:g,hasChecked:v}=e.format;return g&&v?f>0?v.replace(/\${checked}/g,f.toString()).replace(/\${total}/g,p.toString()):g.replace(/\${total}/g,p.toString()):`${f}/${p}`}),l=L(()=>{const f=t.checked.length;return f>0&&f<i.value.length}),u=()=>{const f=i.value.map(p=>p[r.value.key]);t.allChecked=f.length>0&&f.every(p=>t.checked.includes(p))},d=f=>{t.checked=f?i.value.map(p=>p[r.value.key]):[]};return je(()=>t.checked,(f,p)=>{if(u(),t.checkChangeByUser){const g=f.concat(p).filter(v=>!f.includes(v)||!p.includes(v));n(Gm,f,g)}else n(Gm,f),t.checkChangeByUser=!0}),je(i,()=>{u()}),je(()=>e.data,()=>{const f=[],p=s.value.map(g=>g[r.value.key]);t.checked.forEach(g=>{p.includes(g)&&f.push(g)}),t.checkChangeByUser=!1,t.checked=f}),je(()=>e.defaultChecked,(f,p)=>{if(p&&f.length===p.length&&f.every(w=>p.includes(w)))return;const g=[],v=i.value.map(w=>w[r.value.key]);f.forEach(w=>{v.includes(w)&&g.push(w)}),t.checkChangeByUser=!1,t.checked=g},{immediate:!0}),{filteredData:s,checkableData:i,checkedSummary:a,isIndeterminate:l,updateAllChecked:u,handleAllCheckedChange:d}},$Z=ve({name:"ElTransferPanel"}),IZ=ve({...$Z,props:TZ,emits:kZ,setup(e,{expose:t,emit:n}){const r=e,s=Sr(),i=({option:E})=>E,{t:a}=cn(),l=Xe("transfer"),u=wn({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),d=Dc(r),{filteredData:f,checkedSummary:p,isIndeterminate:g,handleAllCheckedChange:v}=EZ(r,u,n),w=L(()=>!Ts(u.query)&&Ts(f.value)),b=L(()=>!Ts(s.default()[0].children)),{checked:_,allChecked:C,query:M}=Er(u);return t({query:M}),(E,k)=>(V(),le("div",{class:W(o(l).b("panel"))},[ue("p",{class:W(o(l).be("panel","header"))},[pe(o(Ws),{modelValue:o(C),"onUpdate:modelValue":A=>kn(C)?C.value=A:null,indeterminate:o(g),"validate-event":!1,onChange:o(v)},{default:Se(()=>[At(at(E.title)+" ",1),ue("span",null,at(o(p)),1)]),_:1},8,["modelValue","onUpdate:modelValue","indeterminate","onChange"])],2),ue("div",{class:W([o(l).be("panel","body"),o(l).is("with-footer",o(b))])},[E.filterable?(V(),Ve(o(Zr),{key:0,modelValue:o(M),"onUpdate:modelValue":A=>kn(M)?M.value=A:null,class:W(o(l).be("panel","filter")),size:"default",placeholder:E.placeholder,"prefix-icon":o(R4),clearable:"","validate-event":!1},null,8,["modelValue","onUpdate:modelValue","class","placeholder","prefix-icon"])):Re("v-if",!0),Bt(pe(o(g_),{modelValue:o(_),"onUpdate:modelValue":A=>kn(_)?_.value=A:null,"validate-event":!1,class:W([o(l).is("filterable",E.filterable),o(l).be("panel","list")])},{default:Se(()=>[(V(!0),le(Ct,null,nn(o(f),A=>(V(),Ve(o(Ws),{key:A[o(d).key],class:W(o(l).be("panel","item")),value:A[o(d).key],disabled:A[o(d).disabled],"validate-event":!1},{default:Se(()=>{var D;return[pe(i,{option:(D=E.optionRender)==null?void 0:D.call(E,A)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"]),[[mn,!o(w)&&!o(Ts)(E.data)]]),Bt(ue("div",{class:W(o(l).be("panel","empty"))},[Oe(E.$slots,"empty",{},()=>[At(at(o(w)?o(a)("el.transfer.noMatch"):o(a)("el.transfer.noData")),1)])],2),[[mn,o(w)||o(Ts)(E.data)]])],2),o(b)?(V(),le("p",{key:0,class:W(o(l).be("panel","footer"))},[Oe(E.$slots,"default")],2)):Re("v-if",!0)],2))}});var sx=ot(IZ,[["__file","transfer-panel.vue"]]);const AZ=e=>{const t=Dc(e),n=L(()=>e.data.reduce((i,a)=>(i[a[t.value.key]]=a)&&i,{})),r=L(()=>e.data.filter(i=>!e.modelValue.includes(i[t.value.key]))),s=L(()=>e.targetOrder==="original"?e.data.filter(i=>e.modelValue.includes(i[t.value.key])):e.modelValue.reduce((i,a)=>{const l=n.value[a];return l&&i.push(l),i},[]));return{sourceData:r,targetData:s}},LZ=(e,t,n)=>{const r=Dc(e),s=(l,u,d)=>{n(Kt,l),n(Nn,l,u,d)};return{addToLeft:()=>{const l=e.modelValue.slice();t.rightChecked.forEach(u=>{const d=l.indexOf(u);d>-1&&l.splice(d,1)}),s(l,"left",t.rightChecked)},addToRight:()=>{let l=e.modelValue.slice();const u=e.data.filter(d=>{const f=d[r.value.key];return t.leftChecked.includes(f)&&!e.modelValue.includes(f)}).map(d=>d[r.value.key]);l=e.targetOrder==="unshift"?u.concat(l):l.concat(u),e.targetOrder==="original"&&(l=e.data.filter(d=>l.includes(d[r.value.key])).map(d=>d[r.value.key])),s(l,"right",t.leftChecked)}}},OZ=(e,t)=>({onSourceCheckedChange:(s,i)=>{e.leftChecked=s,i&&t(Dk,s,i)},onTargetCheckedChange:(s,i)=>{e.rightChecked=s,i&&t(Nk,s,i)}}),MZ=ve({name:"ElTransfer"}),RZ=ve({...MZ,props:tl,emits:_Z,setup(e,{expose:t,emit:n}){const r=e,s=Sr(),{t:i}=cn(),a=Xe("transfer"),{formItem:l}=Wr(),u=wn({leftChecked:[],rightChecked:[]}),d=Dc(r),{sourceData:f,targetData:p}=AZ(r),{onSourceCheckedChange:g,onTargetCheckedChange:v}=OZ(u,n),{addToLeft:w,addToRight:b}=LZ(r,u,n),_=Q(),C=Q(),M=U=>{switch(U){case"left":_.value.query="";break;case"right":C.value.query="";break}},E=L(()=>r.buttonTexts.length===2),k=L(()=>r.titles[0]||i("el.transfer.titles.0")),A=L(()=>r.titles[1]||i("el.transfer.titles.1")),D=L(()=>r.filterPlaceholder||i("el.transfer.filterPlaceholder"));je(()=>r.modelValue,()=>{var U;r.validateEvent&&((U=l==null?void 0:l.validate)==null||U.call(l,"change").catch(K=>void 0))});const H=L(()=>U=>{var K;if(r.renderContent)return r.renderContent(It,U);const G=(((K=s.default)==null?void 0:K.call(s,{option:U}))||[]).filter(q=>q.type!==Ar);return G.length?G:It("span",U[d.value.label]||U[d.value.key])});return t({clearQuery:M,leftPanel:_,rightPanel:C}),(U,K)=>(V(),le("div",{class:W(o(a).b())},[pe(sx,{ref_key:"leftPanel",ref:_,data:o(f),"option-render":o(H),placeholder:o(D),title:o(k),filterable:U.filterable,format:U.format,"filter-method":U.filterMethod,"default-checked":U.leftDefaultChecked,props:r.props,onCheckedChange:o(g)},{empty:Se(()=>[Oe(U.$slots,"left-empty")]),default:Se(()=>[Oe(U.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),ue("div",{class:W(o(a).e("buttons"))},[pe(o(Or),{type:"primary",class:W([o(a).e("button"),o(a).is("with-texts",o(E))]),disabled:o(Ts)(u.rightChecked),onClick:o(w)},{default:Se(()=>[pe(o(wt),null,{default:Se(()=>[pe(o(Wa))]),_:1}),o(xn)(U.buttonTexts[0])?Re("v-if",!0):(V(),le("span",{key:0},at(U.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),pe(o(Or),{type:"primary",class:W([o(a).e("button"),o(a).is("with-texts",o(E))]),disabled:o(Ts)(u.leftChecked),onClick:o(b)},{default:Se(()=>[o(xn)(U.buttonTexts[1])?Re("v-if",!0):(V(),le("span",{key:0},at(U.buttonTexts[1]),1)),pe(o(wt),null,{default:Se(()=>[pe(o(cs))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),pe(sx,{ref_key:"rightPanel",ref:C,data:o(p),"option-render":o(H),placeholder:o(D),filterable:U.filterable,format:U.format,"filter-method":U.filterMethod,title:o(A),"default-checked":U.rightDefaultChecked,props:r.props,onCheckedChange:o(v)},{empty:Se(()=>[Oe(U.$slots,"right-empty")]),default:Se(()=>[Oe(U.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var DZ=ot(RZ,[["__file","transfer.vue"]]);const NZ=zt(DZ),ml="$treeNodeId",ix=function(e,t){!t||t[ml]||Object.defineProperty(t,ml,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},cy=function(e,t){return e?t[e]:t[ml]},Ym=(e,t,n)=>{const r=e.value.currentNode;n();const s=e.value.currentNode;r!==s&&t("current-change",s?s.data:null,s)},Xm=e=>{let t=!0,n=!0,r=!0;for(let s=0,i=e.length;s<i;s++){const a=e[s];(a.checked!==!0||a.indeterminate)&&(t=!1,a.disabled||(r=!1)),(a.checked!==!1||a.indeterminate)&&(n=!1)}return{all:t,none:n,allWithoutDisable:r,half:!t&&!n}},vu=function(e){if(e.childNodes.length===0||e.loading)return;const{all:t,none:n,half:r}=Xm(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):r?(e.checked=!1,e.indeterminate=!0):n&&(e.checked=!1,e.indeterminate=!1);const s=e.parent;!s||s.level===0||e.store.checkStrictly||vu(s)},wd=function(e,t){const n=e.store.props,r=e.data||{},s=n[t];if(_t(s))return s(r,e);if(xt(s))return r[s];if(xn(s)){const i=r[t];return i===void 0?"":i}};let PZ=0,qm=class Xd{constructor(t){this.id=PZ++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in t)yn(t,n)&&(this[n]=t[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const n=t.props;if(n&&typeof n.isLeaf<"u"){const i=wd(this,"isLeaf");zn(i)&&(this.isLeafByUser=i)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&!this.isLeafByUser&&this.expand(),nt(this.data)||ix(this,this.data),!this.data)return;const r=t.defaultExpandedKeys,s=t.key;s&&r&&r.includes(this.key)&&this.expand(null,t.autoExpandParent),s&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){nt(t)||ix(this,t),this.data=t,this.childNodes=[];let n;this.level===0&&nt(this.data)?n=this.data:n=wd(this,"children")||[];for(let r=0,s=n.length;r<s;r++)this.insertChild({data:n[r]})}get label(){return wd(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return wd(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return t.childNodes[n+1]}return null}get previousSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return n>0?t.childNodes[n-1]:null}return null}contains(t,n=!0){return(this.childNodes||[]).some(r=>r===t||n&&r.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,n,r){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof Xd)){if(!r){const s=this.getChildren(!0);s.includes(t.data)||(xn(n)||n<0?s.push(t.data):s.splice(n,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=wn(new Xd(t)),t instanceof Xd&&t.initialize()}t.level=this.level+1,xn(n)||n<0?this.childNodes.push(t):this.childNodes.splice(n,0,t),this.updateLeafState()}insertBefore(t,n){let r;n&&(r=this.childNodes.indexOf(n)),this.insertChild(t,r)}insertAfter(t,n){let r;n&&(r=this.childNodes.indexOf(n),r!==-1&&(r+=1)),this.insertChild(t,r)}removeChild(t){const n=this.getChildren()||[],r=n.indexOf(t.data);r>-1&&n.splice(r,1);const s=this.childNodes.indexOf(t);s>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(s,1)),this.updateLeafState()}removeChildByData(t){let n=null;for(let r=0;r<this.childNodes.length;r++)if(this.childNodes[r].data===t){n=this.childNodes[r];break}n&&this.removeChild(n)}expand(t,n){const r=()=>{if(n){let s=this.parent;for(;s.level>0;)s.expanded=!0,s=s.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(s=>{s.canFocus=!0})};this.shouldLoadData()?this.loadData(s=>{nt(s)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||vu(this),r())}):r()}doCreateChildren(t,n={}){t.forEach(r=>{this.insertChild(Object.assign({data:r},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,n,r,s){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:a,allWithoutDisable:l}=Xm(this.childNodes);!this.isLeaf&&!a&&l&&(this.checked=!1,t=!1);const u=()=>{if(n){const d=this.childNodes;for(let g=0,v=d.length;g<v;g++){const w=d[g];s=s||t!==!1;const b=w.disabled?w.checked:s;w.setChecked(b,n,!0,s)}const{half:f,all:p}=Xm(d);p||(this.checked=p,this.indeterminate=f)}};if(this.shouldLoadData()){this.loadData(()=>{u(),vu(this)},{checked:t!==!1});return}else u()}const i=this.parent;!i||i.level===0||r||vu(i)}getChildren(t=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const r=this.store.props;let s="children";return r&&(s=r.children||"children"),n[s]===void 0&&(n[s]=null),t&&!n[s]&&(n[s]=[]),n[s]}updateChildren(){const t=this.getChildren()||[],n=this.childNodes.map(i=>i.data),r={},s=[];t.forEach((i,a)=>{const l=i[ml];!!l&&n.findIndex(d=>d[ml]===l)>=0?r[l]={index:a,data:i}:s.push({index:a,data:i})}),this.store.lazy||n.forEach(i=>{r[i[ml]]||this.removeChildByData(i)}),s.forEach(({index:i,data:a})=>{this.insertChild({data:a},i)}),this.updateLeafState()}loadData(t,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const r=i=>{this.childNodes=[],this.doCreateChildren(i,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,i)},s=()=>{this.loading=!1};this.store.load(this,r,s)}else t&&t.call(this)}eachNode(t){const n=[this];for(;n.length;){const r=n.shift();n.unshift(...r.childNodes),t(r)}}reInitChecked(){this.store.checkStrictly||vu(this)}};class FZ{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const n in t)yn(t,n)&&(this[n]=t[n]);this.nodesMap={}}initialize(){if(this.root=new qm({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(t){const n=this.filterNodeMethod,r=this.lazy,s=function(i){const a=i.root?i.root.childNodes:i.childNodes;if(a.forEach(l=>{l.visible=n.call(l,t,l.data,l),s(l)}),!i.visible&&a.length){let l=!0;l=!a.some(u=>u.visible),i.root?i.root.visible=l===!1:i.visible=l===!1}t&&i.visible&&!i.isLeaf&&(!r||i.loaded)&&i.expand()};s(this)}setData(t){t!==this.root.data?(this.nodesMap={},this.root.setData(t),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(t){if(t instanceof qm)return t;const n=jt(t)?cy(this.key,t):t;return this.nodesMap[n]||null}insertBefore(t,n){const r=this.getNode(n);r.parent.insertBefore({data:t},r)}insertAfter(t,n){const r=this.getNode(n);r.parent.insertAfter({data:t},r)}remove(t){const n=this.getNode(t);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(t,n){const r=ni(n)?this.root:this.getNode(n);r&&r.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],n=this.nodesMap;t.forEach(r=>{const s=n[r];s&&s.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const n=this.key;!t||!t.data||(n?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(r=>{this.deregisterNode(r)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,n=!1){const r=[],s=function(i){(i.root?i.root.childNodes:i.childNodes).forEach(l=>{(l.checked||n&&l.indeterminate)&&(!t||t&&l.isLeaf)&&r.push(l.data),s(l)})};return s(this),r}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const t=[],n=function(r){(r.root?r.root.childNodes:r.childNodes).forEach(i=>{i.indeterminate&&t.push(i.data),n(i)})};return n(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],n=this.nodesMap;for(const r in n)yn(n,r)&&t.push(n[r]);return t}updateChildren(t,n){const r=this.nodesMap[t];if(!r)return;const s=r.childNodes;for(let i=s.length-1;i>=0;i--){const a=s[i];this.remove(a.data)}for(let i=0,a=n.length;i<a;i++){const l=n[i];this.append(l,r.data)}}_setCheckedKeys(t,n=!1,r){const s=this._getAllNodes().sort((u,d)=>u.level-d.level),i=Object.create(null),a=Object.keys(r);s.forEach(u=>u.setChecked(!1,!1));const l=u=>{u.childNodes.forEach(d=>{var f;i[d.data[t]]=!0,(f=d.childNodes)!=null&&f.length&&l(d)})};for(let u=0,d=s.length;u<d;u++){const f=s[u],p=f.data[t].toString();if(!a.includes(p)){f.checked&&!i[p]&&f.setChecked(!1,!1);continue}if(f.childNodes.length&&l(f),f.isLeaf||this.checkStrictly){f.setChecked(!0,!1);continue}if(f.setChecked(!0,!0),n){f.setChecked(!1,!1);const v=function(w){w.childNodes.forEach(_=>{_.isLeaf||_.setChecked(!1,!1),v(_)})};v(f)}}}setCheckedNodes(t,n=!1){const r=this.key,s={};t.forEach(i=>{s[(i||{})[r]]=!0}),this._setCheckedKeys(r,n,s)}setCheckedKeys(t,n=!1){this.defaultCheckedKeys=t;const r=this.key,s={};t.forEach(i=>{s[i]=!0}),this._setCheckedKeys(r,n,s)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(n=>{const r=this.getNode(n);r&&r.expand(null,this.autoExpandParent)})}setChecked(t,n,r){const s=this.getNode(t);s&&s.setChecked(!!n,r)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,n=!0){const r=t[this.key],s=this.nodesMap[r];this.setCurrentNode(s),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,n=!0){if(this.currentNodeKey=t,t==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const r=this.getNode(t);r&&(this.setCurrentNode(r),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const VZ=ve({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=Xe("tree"),n=vt("NodeInstance"),r=vt("RootTree");return()=>{const s=e.node,{data:i,store:a}=s;return e.renderContent?e.renderContent(It,{_self:n,node:s,data:i,store:a}):Oe(r.ctx.slots,"default",{node:s,data:i},()=>[It("span",{class:t.be("node","label")},[s.label])])}}});var zZ=ot(VZ,[["__file","tree-node-content.vue"]]);function Pk(e){const t=vt("TreeNodeMap",null),n={treeNodeExpand:r=>{e.node!==r&&e.node.collapse()},children:[]};return t&&t.children.push(n),Qt("TreeNodeMap",n),{broadcastExpanded:r=>{if(e.accordion)for(const s of n.children)s.treeNodeExpand(r)}}}const Fk=Symbol("dragEvents");function BZ({props:e,ctx:t,el$:n,dropIndicator$:r,store:s}){const i=Xe("tree"),a=Q({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Qt(Fk,{treeNodeDragStart:({event:f,treeNode:p})=>{if(_t(e.allowDrag)&&!e.allowDrag(p.node))return f.preventDefault(),!1;f.dataTransfer.effectAllowed="move";try{f.dataTransfer.setData("text/plain","")}catch{}a.value.draggingNode=p,t.emit("node-drag-start",p.node,f)},treeNodeDragOver:({event:f,treeNode:p})=>{const g=p,v=a.value.dropNode;v&&v.node.id!==g.node.id&&Qr(v.$el,i.is("drop-inner"));const w=a.value.draggingNode;if(!w||!g)return;let b=!0,_=!0,C=!0,M=!0;_t(e.allowDrop)&&(b=e.allowDrop(w.node,g.node,"prev"),M=_=e.allowDrop(w.node,g.node,"inner"),C=e.allowDrop(w.node,g.node,"next")),f.dataTransfer.dropEffect=_||b||C?"move":"none",(b||_||C)&&(v==null?void 0:v.node.id)!==g.node.id&&(v&&t.emit("node-drag-leave",w.node,v.node,f),t.emit("node-drag-enter",w.node,g.node,f)),b||_||C?a.value.dropNode=g:a.value.dropNode=null,g.node.nextSibling===w.node&&(C=!1),g.node.previousSibling===w.node&&(b=!1),g.node.contains(w.node,!1)&&(_=!1),(w.node===g.node||w.node.contains(g.node))&&(b=!1,_=!1,C=!1);const E=g.$el.querySelector(`.${i.be("node","content")}`).getBoundingClientRect(),k=n.value.getBoundingClientRect();let A;const D=b?_?.25:C?.45:1:-1,H=C?_?.75:b?.55:0:1;let U=-9999;const K=f.clientY-E.top;K<E.height*D?A="before":K>E.height*H?A="after":_?A="inner":A="none";const G=g.$el.querySelector(`.${i.be("node","expand-icon")}`).getBoundingClientRect(),q=r.value;A==="before"?U=G.top-k.top:A==="after"&&(U=G.bottom-k.top),q.style.top=`${U}px`,q.style.left=`${G.right-k.left}px`,A==="inner"?Ns(g.$el,i.is("drop-inner")):Qr(g.$el,i.is("drop-inner")),a.value.showDropIndicator=A==="before"||A==="after",a.value.allowDrop=a.value.showDropIndicator||M,a.value.dropType=A,t.emit("node-drag-over",w.node,g.node,f)},treeNodeDragEnd:f=>{const{draggingNode:p,dropType:g,dropNode:v}=a.value;if(f.preventDefault(),f.dataTransfer&&(f.dataTransfer.dropEffect="move"),p&&v){const w={data:p.node.data};g!=="none"&&p.node.remove(),g==="before"?v.node.parent.insertBefore(w,v.node):g==="after"?v.node.parent.insertAfter(w,v.node):g==="inner"&&v.node.insertChild(w),g!=="none"&&(s.value.registerNode(w),s.value.key&&p.node.eachNode(b=>{var _;(_=s.value.nodesMap[b.data[s.value.key]])==null||_.setChecked(b.checked,!s.value.checkStrictly)})),Qr(v.$el,i.is("drop-inner")),t.emit("node-drag-end",p.node,v.node,g,f),g!=="none"&&t.emit("node-drop",p.node,v.node,g,f)}p&&!v&&t.emit("node-drag-end",p.node,null,g,f),a.value.showDropIndicator=!1,a.value.draggingNode=null,a.value.dropNode=null,a.value.allowDrop=!0}}),{dragState:a}}const KZ=ve({name:"ElTreeNode",components:{ElCollapseTransition:fh,ElCheckbox:Ws,NodeContent:zZ,ElIcon:wt,Loading:$i},props:{node:{type:qm,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const n=Xe("tree"),{broadcastExpanded:r}=Pk(e),s=vt("RootTree"),i=Q(!1),a=Q(!1),l=Q(null),u=Q(null),d=Q(null),f=vt(Fk),p=Gt();Qt("NodeInstance",p),e.node.expanded&&(i.value=!0,a.value=!0);const g=s.props.props.children||"children";je(()=>{const K=e.node.data[g];return K&&[...K]},()=>{e.node.updateChildren()}),je(()=>e.node.indeterminate,K=>{b(e.node.checked,K)}),je(()=>e.node.checked,K=>{b(K,e.node.indeterminate)}),je(()=>e.node.childNodes.length,()=>e.node.reInitChecked()),je(()=>e.node.expanded,K=>{Et(()=>i.value=K),K&&(a.value=!0)});const v=K=>cy(s.props.nodeKey,K.data),w=K=>{const G=e.props.class;if(!G)return{};let q;if(_t(G)){const{data:Y}=K;q=G(Y,K)}else q=G;return xt(q)?{[q]:!0}:q},b=(K,G)=>{(l.value!==K||u.value!==G)&&s.ctx.emit("check-change",e.node.data,K,G),l.value=K,u.value=G},_=K=>{Ym(s.store,s.ctx.emit,()=>{var G;if((G=s==null?void 0:s.props)==null?void 0:G.nodeKey){const Y=v(e.node);s.store.value.setCurrentNodeKey(Y)}else s.store.value.setCurrentNode(e.node)}),s.currentNode.value=e.node,s.props.expandOnClickNode&&M(),s.props.checkOnClickNode&&!e.node.disabled&&E(null,{target:{checked:!e.node.checked}}),s.ctx.emit("node-click",e.node.data,e.node,p,K)},C=K=>{s.instance.vnode.props.onNodeContextmenu&&(K.stopPropagation(),K.preventDefault()),s.ctx.emit("node-contextmenu",K,e.node.data,e.node,p)},M=()=>{e.node.isLeaf||(i.value?(s.ctx.emit("node-collapse",e.node.data,e.node,p),e.node.collapse()):e.node.expand(()=>{t.emit("node-expand",e.node.data,e.node,p)}))},E=(K,G)=>{e.node.setChecked(G.target.checked,!s.props.checkStrictly),Et(()=>{const q=s.store.value;s.ctx.emit("check",e.node.data,{checkedNodes:q.getCheckedNodes(),checkedKeys:q.getCheckedKeys(),halfCheckedNodes:q.getHalfCheckedNodes(),halfCheckedKeys:q.getHalfCheckedKeys()})})};return{ns:n,node$:d,tree:s,expanded:i,childNodeRendered:a,oldChecked:l,oldIndeterminate:u,getNodeKey:v,getNodeClass:w,handleSelectChange:b,handleClick:_,handleContextMenu:C,handleExpandIconClick:M,handleCheckChange:E,handleChildNodeExpand:(K,G,q)=>{r(G),s.ctx.emit("node-expand",K,G,q)},handleDragStart:K=>{s.props.draggable&&f.treeNodeDragStart({event:K,treeNode:e})},handleDragOver:K=>{K.preventDefault(),s.props.draggable&&f.treeNodeDragOver({event:K,treeNode:{$el:d.value,node:e.node}})},handleDrop:K=>{K.preventDefault()},handleDragEnd:K=>{s.props.draggable&&f.treeNodeDragEnd(K)},CaretRight:yC}}});function HZ(e,t,n,r,s,i){const a=Dt("el-icon"),l=Dt("el-checkbox"),u=Dt("loading"),d=Dt("node-content"),f=Dt("el-tree-node"),p=Dt("el-collapse-transition");return Bt((V(),le("div",{ref:"node$",class:W([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:Lt(e.handleClick,["stop"]),onContextmenu:e.handleContextMenu,onDragstart:Lt(e.handleDragStart,["stop"]),onDragover:Lt(e.handleDragOver,["stop"]),onDragend:Lt(e.handleDragEnd,["stop"]),onDrop:Lt(e.handleDrop,["stop"])},[ue("div",{class:W(e.ns.be("node","content")),style:Tt({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(V(),Ve(a,{key:0,class:W([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:Lt(e.handleExpandIconClick,["stop"])},{default:Se(()=>[(V(),Ve(Yt(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):Re("v-if",!0),e.showCheckbox?(V(),Ve(l,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:Lt(()=>{},["stop"]),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):Re("v-if",!0),e.node.loading?(V(),Ve(a,{key:2,class:W([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:Se(()=>[pe(u)]),_:1},8,["class"])):Re("v-if",!0),pe(d,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),pe(p,null,{default:Se(()=>[!e.renderAfterExpand||e.childNodeRendered?Bt((V(),le("div",{key:0,class:W(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(V(!0),le(Ct,null,nn(e.node.childNodes,g=>(V(),Ve(f,{key:e.getNodeKey(g),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:g,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded"])),[[mn,e.expanded]]):Re("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[mn,e.node.visible]])}var WZ=ot(KZ,[["render",HZ],["__file","tree-node.vue"]]);function UZ({el$:e},t){const n=Xe("tree"),r=Un([]),s=Un([]);Ut(()=>{a()}),ui(()=>{r.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),s.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),je(s,l=>{l.forEach(u=>{u.setAttribute("tabindex","-1")})}),Mn(e,"keydown",l=>{const u=l.target;if(!u.className.includes(n.b("node")))return;const d=l.code;r.value=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));const f=r.value.indexOf(u);let p;if([gt.up,gt.down].includes(d)){if(l.preventDefault(),d===gt.up){p=f===-1?0:f!==0?f-1:r.value.length-1;const v=p;for(;!t.value.getNode(r.value[p].dataset.key).canFocus;){if(p--,p===v){p=-1;break}p<0&&(p=r.value.length-1)}}else{p=f===-1?0:f<r.value.length-1?f+1:0;const v=p;for(;!t.value.getNode(r.value[p].dataset.key).canFocus;){if(p++,p===v){p=-1;break}p>=r.value.length&&(p=0)}}p!==-1&&r.value[p].focus()}[gt.left,gt.right].includes(d)&&(l.preventDefault(),u.click());const g=u.querySelector('[type="checkbox"]');[gt.enter,gt.numpadEnter,gt.space].includes(d)&&g&&(l.preventDefault(),g.click())});const a=()=>{var l;r.value=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),s.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const u=e.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(u.length){u[0].setAttribute("tabindex","0");return}(l=r.value[0])==null||l.setAttribute("tabindex","0")}}const jZ=ve({name:"ElTree",components:{ElTreeNode:WZ},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:Pn}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:n}=cn(),r=Xe("tree"),s=vt(Xl,null),i=Q(new FZ({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));i.value.initialize();const a=Q(i.value.root),l=Q(null),u=Q(null),d=Q(null),{broadcastExpanded:f}=Pk(e),{dragState:p}=BZ({props:e,ctx:t,el$:u,dropIndicator$:d,store:i});UZ({el$:u},i);const g=L(()=>{const{childNodes:ee}=a.value,J=s?s.hasFilteredOptions!==0:!1;return(!ee||ee.length===0||ee.every(({visible:fe})=>!fe))&&!J});je(()=>e.currentNodeKey,ee=>{i.value.setCurrentNodeKey(ee)}),je(()=>e.defaultCheckedKeys,ee=>{i.value.setDefaultCheckedKey(ee)}),je(()=>e.defaultExpandedKeys,ee=>{i.value.setDefaultExpandedKeys(ee)}),je(()=>e.data,ee=>{i.value.setData(ee)},{deep:!0}),je(()=>e.checkStrictly,ee=>{i.value.checkStrictly=ee});const v=ee=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");i.value.filter(ee)},w=ee=>cy(e.nodeKey,ee.data),b=ee=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const J=i.value.getNode(ee);if(!J)return[];const fe=[J.data];let ge=J.parent;for(;ge&&ge!==a.value;)fe.push(ge.data),ge=ge.parent;return fe.reverse()},_=(ee,J)=>i.value.getCheckedNodes(ee,J),C=ee=>i.value.getCheckedKeys(ee),M=()=>{const ee=i.value.getCurrentNode();return ee?ee.data:null},E=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const ee=M();return ee?ee[e.nodeKey]:null},k=(ee,J)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");i.value.setCheckedNodes(ee,J)},A=(ee,J)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");i.value.setCheckedKeys(ee,J)},D=(ee,J,fe)=>{i.value.setChecked(ee,J,fe)},H=()=>i.value.getHalfCheckedNodes(),U=()=>i.value.getHalfCheckedKeys(),K=(ee,J=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");Ym(i,t.emit,()=>{f(ee),i.value.setUserCurrentNode(ee,J)})},G=(ee,J=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");Ym(i,t.emit,()=>{f(),i.value.setCurrentNodeKey(ee,J)})},q=ee=>i.value.getNode(ee),Y=ee=>{i.value.remove(ee)},de=(ee,J)=>{i.value.append(ee,J)},xe=(ee,J)=>{i.value.insertBefore(ee,J)},oe=(ee,J)=>{i.value.insertAfter(ee,J)},Z=(ee,J,fe)=>{f(J),t.emit("node-expand",ee,J,fe)},ne=(ee,J)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");i.value.updateChildren(ee,J)};return Qt("RootTree",{ctx:t,props:e,store:i,root:a,currentNode:l,instance:Gt()}),Qt(Ii,void 0),{ns:r,store:i,root:a,currentNode:l,dragState:p,el$:u,dropIndicator$:d,isEmpty:g,filter:v,getNodeKey:w,getNodePath:b,getCheckedNodes:_,getCheckedKeys:C,getCurrentNode:M,getCurrentKey:E,setCheckedNodes:k,setCheckedKeys:A,setChecked:D,getHalfCheckedNodes:H,getHalfCheckedKeys:U,setCurrentNode:K,setCurrentKey:G,t:n,getNode:q,remove:Y,append:de,insertBefore:xe,insertAfter:oe,handleNodeExpand:Z,updateKeyChildren:ne}}});function GZ(e,t,n,r,s,i){const a=Dt("el-tree-node");return V(),le("div",{ref:"el$",class:W([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(V(!0),le(Ct,null,nn(e.root.childNodes,l=>(V(),Ve(a,{key:e.getNodeKey(l),node:l,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(V(),le("div",{key:0,class:W(e.ns.e("empty-block"))},[Oe(e.$slots,"empty",{},()=>{var l;return[ue("span",{class:W(e.ns.e("empty-text"))},at((l=e.emptyText)!=null?l:e.t("el.tree.emptyText")),3)]})],2)):Re("v-if",!0),Bt(ue("div",{ref:"dropIndicator$",class:W(e.ns.e("drop-indicator"))},null,2),[[mn,e.dragState.showDropIndicator]])],2)}var YZ=ot(jZ,[["render",GZ],["__file","tree.vue"]]);const Of=zt(YZ),XZ=(e,{attrs:t,emit:n},{select:r,tree:s,key:i})=>{const a=Xe("tree-select");return je(()=>e.data,()=>{e.filterable&&Et(()=>{var u,d;(d=s.value)==null||d.filter((u=r.value)==null?void 0:u.states.inputValue)})},{flush:"post"}),{...Zs(Er(e),Object.keys(Mo.props)),...t,"onUpdate:modelValue":u=>n(Kt,u),valueKey:i,popperClass:L(()=>{const u=[a.e("popper")];return e.popperClass&&u.push(e.popperClass),u.join(" ")}),filterMethod:(u="")=>{var d;e.filterMethod?e.filterMethod(u):e.remoteMethod?e.remoteMethod(u):(d=s.value)==null||d.filter(u)}}},qZ=ve({extends:wf,setup(e,t){const n=wf.setup(e,t);delete n.selectOptionClick;const r=Gt().proxy;return Et(()=>{n.select.states.cachedOptions.get(r.value)||n.select.onOptionCreate(r)}),je(()=>t.attrs.visible,s=>{n.states.visible=s},{immediate:!0}),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function Jm(e){return e||e===0}function dy(e){return nt(e)&&e.length}function qo(e){return nt(e)?e:Jm(e)?[e]:[]}function qd(e,t,n,r,s){for(let i=0;i<e.length;i++){const a=e[i];if(t(a,i,e,s))return r?r(a,i,e,s):a;{const l=n(a);if(dy(l)){const u=qd(l,t,n,r,a);if(u)return u}}}}function Jd(e,t,n,r){for(let s=0;s<e.length;s++){const i=e[s];t(i,s,e,r);const a=n(i);dy(a)&&Jd(a,t,n,i)}}const JZ=(e,{attrs:t,slots:n,emit:r},{select:s,tree:i,key:a})=>{je(()=>e.modelValue,()=>{e.showCheckbox&&Et(()=>{const g=i.value;g&&!zr(g.getCheckedKeys(),qo(e.modelValue))&&g.setCheckedKeys(qo(e.modelValue))})},{immediate:!0,deep:!0});const l=L(()=>({value:a.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...e.props})),u=(g,v)=>{var w;const b=l.value[g];return _t(b)?b(v,(w=i.value)==null?void 0:w.getNode(u("value",v))):v[b]},d=qo(e.modelValue).map(g=>qd(e.data||[],v=>u("value",v)===g,v=>u("children",v),(v,w,b,_)=>_&&u("value",_))).filter(g=>Jm(g)),f=L(()=>{if(!e.renderAfterExpand&&!e.lazy)return[];const g=[];return Jd(e.data.concat(e.cacheData),v=>{const w=u("value",v);g.push({value:w,currentLabel:u("label",v),isDisabled:u("disabled",v)})},v=>u("children",v)),g}),p=()=>{var g;return(g=i.value)==null?void 0:g.getCheckedKeys().filter(v=>{var w;const b=(w=i.value)==null?void 0:w.getNode(v);return!kr(b)&&Ts(b.childNodes)})};return{...Zs(Er(e),Object.keys(Of.props)),...t,nodeKey:a,expandOnClickNode:L(()=>!e.checkStrictly&&e.expandOnClickNode),defaultExpandedKeys:L(()=>e.defaultExpandedKeys?e.defaultExpandedKeys.concat(d):d),renderContent:(g,{node:v,data:w,store:b})=>g(qZ,{value:u("value",w),label:u("label",w),disabled:u("disabled",w),visible:v.visible},e.renderContent?()=>e.renderContent(g,{node:v,data:w,store:b}):n.default?()=>n.default({node:v,data:w,store:b}):void 0),filterNodeMethod:(g,v,w)=>e.filterNodeMethod?e.filterNodeMethod(g,v,w):g?new RegExp(wv(g),"i").test(u("label",v)||""):!0,onNodeClick:(g,v,w)=>{var b,_,C,M;if((b=t.onNodeClick)==null||b.call(t,g,v,w),!(e.showCheckbox&&e.checkOnClickNode)){if(!e.showCheckbox&&(e.checkStrictly||v.isLeaf)){if(!u("disabled",g)){const E=(_=s.value)==null?void 0:_.states.options.get(u("value",g));(C=s.value)==null||C.handleOptionSelect(E)}}else e.expandOnClickNode&&w.proxy.handleExpandIconClick();(M=s.value)==null||M.focus()}},onCheck:(g,v)=>{var w;if(!e.showCheckbox)return;const b=u("value",g),_={};Jd([i.value.store.root],k=>_[k.key]=k,k=>k.childNodes);const C=v.checkedKeys,M=e.multiple?qo(e.modelValue).filter(k=>!(k in _)&&!C.includes(k)):[],E=M.concat(C);if(e.checkStrictly)r(Kt,e.multiple?E:E.includes(b)?b:void 0);else if(e.multiple){const k=p();r(Kt,M.concat(k))}else{const k=qd([g],H=>!dy(u("children",H))&&!u("disabled",H),H=>u("children",H)),A=k?u("value",k):void 0,D=Jm(e.modelValue)&&!!qd([g],H=>u("value",H)===e.modelValue,H=>u("children",H));r(Kt,A===e.modelValue||D?void 0:A)}Et(()=>{var k;const A=qo(e.modelValue);i.value.setCheckedKeys(A),(k=t.onCheck)==null||k.call(t,g,{checkedKeys:i.value.getCheckedKeys(),checkedNodes:i.value.getCheckedNodes(),halfCheckedKeys:i.value.getHalfCheckedKeys(),halfCheckedNodes:i.value.getHalfCheckedNodes()})}),(w=s.value)==null||w.focus()},onNodeExpand:(g,v,w)=>{var b;(b=t.onNodeExpand)==null||b.call(t,g,v,w),Et(()=>{if(!e.checkStrictly&&e.lazy&&e.multiple&&v.checked){const _={},C=i.value.getCheckedKeys();Jd([i.value.store.root],k=>_[k.key]=k,k=>k.childNodes);const M=qo(e.modelValue).filter(k=>!(k in _)&&!C.includes(k)),E=p();r(Kt,M.concat(E))}})},cacheOptions:f}};var ZZ=ve({props:{data:{type:Array,default:()=>[]}},setup(e){const t=vt(Xl);return je(()=>e.data,()=>{var n;e.data.forEach(s=>{t.states.cachedOptions.has(s.value)||t.states.cachedOptions.set(s.value,s)});const r=((n=t.selectRef)==null?void 0:n.querySelectorAll("input"))||[];un&&!Array.from(r).includes(document.activeElement)&&t.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const QZ=ve({name:"ElTreeSelect",inheritAttrs:!1,props:{...Mo.props,...Of.props,cacheData:{type:Array,default:()=>[]}},setup(e,t){const{slots:n,expose:r}=t,s=Q(),i=Q(),a=L(()=>e.nodeKey||e.valueKey||"value"),l=XZ(e,t,{select:s,tree:i,key:a}),{cacheOptions:u,...d}=JZ(e,t,{select:s,tree:i,key:a}),f=wn({});return r(f),Ut(()=>{Object.assign(f,{...Zs(i.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...Zs(s.value,["focus","blur","selectedLabel"])})}),()=>It(Mo,wn({...l,ref:p=>s.value=p}),{...n,default:()=>[It(ZZ,{data:u.value}),It(Of,wn({...d,ref:p=>i.value=p}))]})}});var eQ=ot(QZ,[["__file","tree-select.vue"]]);const tQ=zt(eQ),fy=Symbol(),nQ={key:-1,level:-1,data:{}};var yu=(e=>(e.KEY="id",e.LABEL="label",e.CHILDREN="children",e.DISABLED="disabled",e.CLASS="",e))(yu||{}),Zm=(e=>(e.ADD="add",e.DELETE="delete",e))(Zm||{});const Vk={type:Number,default:26},rQ=st({data:{type:Ie(Array),default:()=>Zn([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:Ie(Object),default:()=>Zn({children:"children",label:"label",disabled:"disabled",value:"id",class:""})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:Ie(Array),default:()=>Zn([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:Ie(Array),default:()=>Zn([])},indent:{type:Number,default:16},itemSize:Vk,icon:{type:Pn},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:Ie([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:Ie(Function)},perfMode:{type:Boolean,default:!0}}),sQ=st({node:{type:Ie(Object),default:()=>Zn(nQ)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:Vk}),iQ=st({node:{type:Ie(Object),required:!0}}),zk="node-click",Bk="node-drop",Kk="node-expand",Hk="node-collapse",Wk="current-change",Uk="check",jk="check-change",Gk="node-contextmenu",aQ={[zk]:(e,t,n)=>e&&t&&n,[Bk]:(e,t,n)=>e&&t&&n,[Kk]:(e,t)=>e&&t,[Hk]:(e,t)=>e&&t,[Wk]:(e,t)=>e&&t,[Uk]:(e,t)=>e&&t,[jk]:(e,t)=>e&&zn(t),[Gk]:(e,t,n)=>e&&t&&n},oQ={click:(e,t)=>!!(e&&t),drop:(e,t)=>!!(e&&t),toggle:e=>!!e,check:(e,t)=>e&&zn(t)};function lQ(e,t){const n=Q(new Set),r=Q(new Set),{emit:s}=Gt();je([()=>t.value,()=>e.defaultCheckedKeys],()=>Et(()=>{M(e.defaultCheckedKeys)}),{immediate:!0});const i=()=>{if(!t.value||!e.showCheckbox||e.checkStrictly)return;const{levelTreeNodeMap:E,maxLevel:k}=t.value,A=n.value,D=new Set;for(let H=k-1;H>=1;--H){const U=E.get(H);U&&U.forEach(K=>{const G=K.children;if(G){let q=!0,Y=!1;for(const de of G){const xe=de.key;if(A.has(xe))Y=!0;else if(D.has(xe)){q=!1,Y=!0;break}else q=!1}q?A.add(K.key):Y?(D.add(K.key),A.delete(K.key)):(A.delete(K.key),D.delete(K.key))}})}r.value=D},a=E=>n.value.has(E.key),l=E=>r.value.has(E.key),u=(E,k,A=!0,D=!0)=>{const H=n.value,U=(K,G)=>{H[G?Zm.ADD:Zm.DELETE](K.key);const q=K.children;!e.checkStrictly&&q&&q.forEach(Y=>{Y.disabled||U(Y,G)})};U(E,k),D&&i(),A&&d(E,k)},d=(E,k)=>{const{checkedNodes:A,checkedKeys:D}=w(),{halfCheckedNodes:H,halfCheckedKeys:U}=b();s(Uk,E.data,{checkedKeys:D,checkedNodes:A,halfCheckedKeys:U,halfCheckedNodes:H}),s(jk,E.data,k)};function f(E=!1){return w(E).checkedKeys}function p(E=!1){return w(E).checkedNodes}function g(){return b().halfCheckedKeys}function v(){return b().halfCheckedNodes}function w(E=!1){const k=[],A=[];if(t!=null&&t.value&&e.showCheckbox){const{treeNodeMap:D}=t.value;n.value.forEach(H=>{const U=D.get(H);U&&(!E||E&&U.isLeaf)&&(A.push(H),k.push(U.data))})}return{checkedKeys:A,checkedNodes:k}}function b(){const E=[],k=[];if(t!=null&&t.value&&e.showCheckbox){const{treeNodeMap:A}=t.value;r.value.forEach(D=>{const H=A.get(D);H&&(k.push(D),E.push(H.data))})}return{halfCheckedNodes:E,halfCheckedKeys:k}}function _(E){n.value.clear(),r.value.clear(),Et(()=>{M(E)})}function C(E,k){if(t!=null&&t.value&&e.showCheckbox){const A=t.value.treeNodeMap.get(E);A&&u(A,k,!1)}}function M(E){if(t!=null&&t.value){const{treeNodeMap:k}=t.value;if(e.showCheckbox&&k&&(E==null?void 0:E.length)>0){for(const A of E){const D=k.get(A);D&&!a(D)&&u(D,!0,!1,!1)}i()}}}return{updateCheckedKeys:i,toggleCheckbox:u,isChecked:a,isIndeterminate:l,getCheckedKeys:f,getCheckedNodes:p,getHalfCheckedKeys:g,getHalfCheckedNodes:v,setChecked:C,setCheckedKeys:_}}function uQ(e,t){const n=Q(new Set([])),r=Q(new Set([])),s=L(()=>_t(e.filterMethod));function i(l){var u;if(!s.value)return;const d=new Set,f=r.value,p=n.value,g=[],v=((u=t.value)==null?void 0:u.treeNodes)||[],w=e.filterMethod;p.clear();function b(_){_.forEach(C=>{g.push(C),w!=null&&w(l,C.data,C)?g.forEach(E=>{d.add(E.key)}):C.isLeaf&&p.add(C.key);const M=C.children;if(M&&b(M),!C.isLeaf){if(!d.has(C.key))p.add(C.key);else if(M){let E=!0;for(const k of M)if(!p.has(k.key)){E=!1;break}E?f.add(C.key):f.delete(C.key)}}g.pop()})}return b(v),d}function a(l){return r.value.has(l.key)}return{hiddenExpandIconKeySet:r,hiddenNodeKeySet:n,doFilter:i,isForceHiddenExpandIcon:a}}function cQ(e,t){const n=Q(new Set(e.defaultExpandedKeys)),r=Q(),s=Un(),i=Q();je(()=>e.currentNodeKey,ae=>{r.value=ae},{immediate:!0}),je(()=>e.data,ae=>{Ne(ae)},{immediate:!0});const{isIndeterminate:a,isChecked:l,toggleCheckbox:u,getCheckedKeys:d,getCheckedNodes:f,getHalfCheckedKeys:p,getHalfCheckedNodes:g,setChecked:v,setCheckedKeys:w}=lQ(e,s),{doFilter:b,hiddenNodeKeySet:_,isForceHiddenExpandIcon:C}=uQ(e,s),M=L(()=>{var ae;return((ae=e.props)==null?void 0:ae.value)||yu.KEY}),E=L(()=>{var ae;return((ae=e.props)==null?void 0:ae.children)||yu.CHILDREN}),k=L(()=>{var ae;return((ae=e.props)==null?void 0:ae.disabled)||yu.DISABLED}),A=L(()=>{var ae;return((ae=e.props)==null?void 0:ae.label)||yu.LABEL}),D=L(()=>{var ae;const be=n.value,$e=_.value,Ge=[],Qe=((ae=s.value)==null?void 0:ae.treeNodes)||[],Le=[];for(let Ze=Qe.length-1;Ze>=0;--Ze)Le.push(Qe[Ze]);for(;Le.length;){const Ze=Le.pop();if(!$e.has(Ze.key)&&(Ge.push(Ze),Ze.children&&be.has(Ze.key)))for(let We=Ze.children.length-1;We>=0;--We)Le.push(Ze.children[We])}return Ge}),H=L(()=>D.value.length>0);function U(ae){const be=new Map,$e=new Map;let Ge=1;function Qe(Ze,We=1,it=void 0){var rt;const St=[];for(const mt of Ze){const Ye=q(mt),yt={level:We,key:Ye,data:mt};yt.label=de(mt),yt.parent=it;const Mt=G(mt);yt.disabled=Y(mt),yt.isLeaf=!Mt||Mt.length===0,Mt&&Mt.length&&(yt.children=Qe(Mt,We+1,yt)),St.push(yt),be.set(Ye,yt),$e.has(We)||$e.set(We,[]),(rt=$e.get(We))==null||rt.push(yt)}return We>Ge&&(Ge=We),St}const Le=Qe(ae);return{treeNodeMap:be,levelTreeNodeMap:$e,maxLevel:Ge,treeNodes:Le}}function K(ae){const be=b(ae);be&&(n.value=be)}function G(ae){return ae[E.value]}function q(ae){return ae?ae[M.value]:""}function Y(ae){return ae[k.value]}function de(ae){return ae[A.value]}function xe(ae){n.value.has(ae.key)?ge(ae):fe(ae)}function oe(ae){const be=new Set,$e=s.value.treeNodeMap;ae.forEach(Ge=>{let Qe=$e.get(Ge);for(;Qe&&!be.has(Qe.key);)be.add(Qe.key),Qe=Qe.parent}),n.value=be}function Z(ae,be){t(zk,ae.data,ae,be),ee(ae),e.expandOnClickNode&&xe(ae),e.showCheckbox&&e.checkOnClickNode&&!ae.disabled&&u(ae,!l(ae),!0)}function ne(ae,be){t(Bk,ae.data,ae,be)}function ee(ae){Fe(ae)||(r.value=ae.key,t(Wk,ae.data,ae))}function J(ae,be){u(ae,be)}function fe(ae){const be=n.value;if(s.value&&e.accordion){const{treeNodeMap:$e}=s.value;be.forEach(Ge=>{const Qe=$e.get(Ge);ae&&ae.level===(Qe==null?void 0:Qe.level)&&be.delete(Ge)})}be.add(ae.key),t(Kk,ae.data,ae)}function ge(ae){n.value.delete(ae.key),t(Hk,ae.data,ae)}function ke(ae){return n.value.has(ae.key)}function ye(ae){return!!ae.disabled}function Fe(ae){const be=r.value;return be!==void 0&&be===ae.key}function Be(){var ae,be;if(r.value)return(be=(ae=s.value)==null?void 0:ae.treeNodeMap.get(r.value))==null?void 0:be.data}function He(){return r.value}function he(ae){r.value=ae}function Ne(ae){Et(()=>s.value=U(ae))}function Pe(ae){var be;const $e=jt(ae)?q(ae):ae;return(be=s.value)==null?void 0:be.treeNodeMap.get($e)}function et(ae,be="auto"){const $e=Pe(ae);$e&&i.value&&i.value.scrollToItem(D.value.indexOf($e),be)}function qe(ae){var be;(be=i.value)==null||be.scrollTo(ae)}return{tree:s,flattenTree:D,isNotEmpty:H,listRef:i,getKey:q,getChildren:G,toggleExpand:xe,toggleCheckbox:u,isExpanded:ke,isChecked:l,isIndeterminate:a,isDisabled:ye,isCurrent:Fe,isForceHiddenExpandIcon:C,handleNodeClick:Z,handleNodeDrop:ne,handleNodeCheck:J,getCurrentNode:Be,getCurrentKey:He,setCurrentKey:he,getCheckedKeys:d,getCheckedNodes:f,getHalfCheckedKeys:p,getHalfCheckedNodes:g,setChecked:v,setCheckedKeys:w,filter:K,setData:Ne,getNode:Pe,expandNode:fe,collapseNode:ge,setExpandedKeys:oe,scrollToNode:et,scrollTo:qe}}var dQ=ve({name:"ElTreeNodeContent",props:iQ,setup(e){const t=vt(fy),n=Xe("tree");return()=>{const r=e.node,{data:s}=r;return t!=null&&t.ctx.slots.default?t.ctx.slots.default({node:r,data:s}):It("span",{class:n.be("node","label")},[r==null?void 0:r.label])}}});const fQ=ve({name:"ElTreeNode"}),hQ=ve({...fQ,props:sQ,emits:oQ,setup(e,{emit:t}){const n=e,r=vt(fy),s=Xe("tree"),i=L(()=>{var v;return(v=r==null?void 0:r.props.indent)!=null?v:16}),a=L(()=>{var v;return(v=r==null?void 0:r.props.icon)!=null?v:yC}),l=v=>{const w=r==null?void 0:r.props.props.class;if(!w)return{};let b;if(_t(w)){const{data:_}=v;b=w(_,v)}else b=w;return xt(b)?{[b]:!0}:b},u=v=>{t("click",n.node,v)},d=v=>{t("drop",n.node,v)},f=()=>{t("toggle",n.node)},p=v=>{t("check",n.node,v)},g=v=>{var w,b,_,C;(_=(b=(w=r==null?void 0:r.instance)==null?void 0:w.vnode)==null?void 0:b.props)!=null&&_.onNodeContextmenu&&(v.stopPropagation(),v.preventDefault()),r==null||r.ctx.emit(Gk,v,(C=n.node)==null?void 0:C.data,n.node)};return(v,w)=>{var b,_,C;return V(),le("div",{ref:"node$",class:W([o(s).b("node"),o(s).is("expanded",v.expanded),o(s).is("current",v.current),o(s).is("focusable",!v.disabled),o(s).is("checked",!v.disabled&&v.checked),l(v.node)]),role:"treeitem",tabindex:"-1","aria-expanded":v.expanded,"aria-disabled":v.disabled,"aria-checked":v.checked,"data-key":(b=v.node)==null?void 0:b.key,onClick:Lt(u,["stop"]),onContextmenu:g,onDragover:Lt(()=>{},["prevent"]),onDragenter:Lt(()=>{},["prevent"]),onDrop:Lt(d,["stop"])},[ue("div",{class:W(o(s).be("node","content")),style:Tt({paddingLeft:`${(v.node.level-1)*o(i)}px`,height:v.itemSize+"px"})},[o(a)?(V(),Ve(o(wt),{key:0,class:W([o(s).is("leaf",!!((_=v.node)!=null&&_.isLeaf)),o(s).is("hidden",v.hiddenExpandIcon),{expanded:!((C=v.node)!=null&&C.isLeaf)&&v.expanded},o(s).be("node","expand-icon")]),onClick:Lt(f,["stop"])},{default:Se(()=>[(V(),Ve(Yt(o(a))))]),_:1},8,["class","onClick"])):Re("v-if",!0),v.showCheckbox?(V(),Ve(o(Ws),{key:1,"model-value":v.checked,indeterminate:v.indeterminate,disabled:v.disabled,onChange:p,onClick:Lt(()=>{},["stop"])},null,8,["model-value","indeterminate","disabled","onClick"])):Re("v-if",!0),pe(o(dQ),{node:v.node},null,8,["node"])],6)],42,["aria-expanded","aria-disabled","aria-checked","data-key","onClick","onDragover","onDragenter","onDrop"])}}});var pQ=ot(hQ,[["__file","tree-node.vue"]]);const mQ=ve({name:"ElTreeV2"}),gQ=ve({...mQ,props:rQ,emits:aQ,setup(e,{expose:t,emit:n}){const r=e,s=Sr(),i=L(()=>r.itemSize);Qt(fy,{ctx:{emit:n,slots:s},props:r,instance:Gt()}),Qt(Ii,void 0);const{t:a}=cn(),l=Xe("tree"),{flattenTree:u,isNotEmpty:d,listRef:f,toggleExpand:p,isExpanded:g,isIndeterminate:v,isChecked:w,isDisabled:b,isCurrent:_,isForceHiddenExpandIcon:C,handleNodeClick:M,handleNodeDrop:E,handleNodeCheck:k,toggleCheckbox:A,getCurrentNode:D,getCurrentKey:H,setCurrentKey:U,getCheckedKeys:K,getCheckedNodes:G,getHalfCheckedKeys:q,getHalfCheckedNodes:Y,setChecked:de,setCheckedKeys:xe,filter:oe,setData:Z,getNode:ne,expandNode:ee,collapseNode:J,setExpandedKeys:fe,scrollToNode:ge,scrollTo:ke}=cQ(r,n);return t({toggleCheckbox:A,getCurrentNode:D,getCurrentKey:H,setCurrentKey:U,getCheckedKeys:K,getCheckedNodes:G,getHalfCheckedKeys:q,getHalfCheckedNodes:Y,setChecked:de,setCheckedKeys:xe,filter:oe,setData:Z,getNode:ne,expandNode:ee,collapseNode:J,setExpandedKeys:fe,scrollToNode:ge,scrollTo:ke}),(ye,Fe)=>(V(),le("div",{class:W([o(l).b(),{[o(l).m("highlight-current")]:ye.highlightCurrent}]),role:"tree"},[o(d)?(V(),Ve(o(IT),{key:0,ref_key:"listRef",ref:f,"class-name":o(l).b("virtual-list"),data:o(u),total:o(u).length,height:ye.height,"item-size":o(i),"perf-mode":ye.perfMode},{default:Se(({data:Be,index:He,style:he})=>[(V(),Ve(pQ,{key:Be[He].key,style:Tt(he),node:Be[He],expanded:o(g)(Be[He]),"show-checkbox":ye.showCheckbox,checked:o(w)(Be[He]),indeterminate:o(v)(Be[He]),"item-size":o(i),disabled:o(b)(Be[He]),current:o(_)(Be[He]),"hidden-expand-icon":o(C)(Be[He]),onClick:o(M),onToggle:o(p),onCheck:o(k),onDrop:o(E)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck","onDrop"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(V(),le("div",{key:1,class:W(o(l).e("empty-block"))},[Oe(ye.$slots,"empty",{},()=>{var Be;return[ue("span",{class:W(o(l).e("empty-text"))},at((Be=ye.emptyText)!=null?Be:o(a)("el.tree.emptyText")),3)]})],2))],2))}});var vQ=ot(gQ,[["__file","tree.vue"]]);const yQ=zt(vQ),Yk=Symbol("uploadContextKey"),bQ="ElUpload";class wQ extends Error{constructor(t,n,r,s){super(t),this.name="UploadAjaxError",this.status=n,this.method=r,this.url=s}}function ax(e,t,n){let r;return n.response?r=`${n.response.error||n.response}`:n.responseText?r=`${n.responseText}`:r=`fail to ${t.method} ${e} ${n.status}`,new wQ(r,n.status,t.method,e)}function xQ(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}const SQ=e=>{typeof XMLHttpRequest>"u"&&xr(bQ,"XMLHttpRequest is undefined");const t=new XMLHttpRequest,n=e.action;t.upload&&t.upload.addEventListener("progress",i=>{const a=i;a.percent=i.total>0?i.loaded/i.total*100:0,e.onProgress(a)});const r=new FormData;if(e.data)for(const[i,a]of Object.entries(e.data))nt(a)&&a.length?r.append(i,...a):r.append(i,a);r.append(e.filename,e.file,e.file.name),t.addEventListener("error",()=>{e.onError(ax(n,e,t))}),t.addEventListener("load",()=>{if(t.status<200||t.status>=300)return e.onError(ax(n,e,t));e.onSuccess(xQ(t))}),t.open(e.method,n,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const s=e.headers||{};if(s instanceof Headers)s.forEach((i,a)=>t.setRequestHeader(a,i));else for(const[i,a]of Object.entries(s))kr(a)||t.setRequestHeader(i,String(a));return t.send(r),t},Xk=["text","picture","picture-card"];let CQ=1;const Qm=()=>Date.now()+CQ++,qk=st({action:{type:String,default:"#"},headers:{type:Ie(Object)},method:{type:String,default:"post"},data:{type:Ie([Object,Function,Promise]),default:()=>Zn({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:Ie(Array),default:()=>Zn([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:Xk,default:"text"},httpRequest:{type:Ie(Function),default:SQ},disabled:Boolean,limit:Number}),_Q=st({...qk,beforeUpload:{type:Ie(Function),default:In},beforeRemove:{type:Ie(Function)},onRemove:{type:Ie(Function),default:In},onChange:{type:Ie(Function),default:In},onPreview:{type:Ie(Function),default:In},onSuccess:{type:Ie(Function),default:In},onProgress:{type:Ie(Function),default:In},onError:{type:Ie(Function),default:In},onExceed:{type:Ie(Function),default:In},crossorigin:{type:Ie(String)}}),TQ=st({files:{type:Ie(Array),default:()=>Zn([])},disabled:{type:Boolean,default:!1},handlePreview:{type:Ie(Function),default:In},listType:{type:String,values:Xk,default:"text"},crossorigin:{type:Ie(String)}}),kQ={remove:e=>!!e},EQ=ve({name:"ElUploadList"}),$Q=ve({...EQ,props:TQ,emits:kQ,setup(e,{emit:t}){const n=e,{t:r}=cn(),s=Xe("upload"),i=Xe("icon"),a=Xe("list"),l=Ur(),u=Q(!1),d=L(()=>[s.b("list"),s.bm("list",n.listType),s.is("disabled",n.disabled)]),f=p=>{t("remove",p)};return(p,g)=>(V(),Ve(e2,{tag:"ul",class:W(o(d)),name:o(a).b()},{default:Se(()=>[(V(!0),le(Ct,null,nn(p.files,(v,w)=>(V(),le("li",{key:v.uid||v.name,class:W([o(s).be("list","item"),o(s).is(v.status),{focusing:u.value}]),tabindex:"0",onKeydown:Vn(b=>!o(l)&&f(v),["delete"]),onFocus:b=>u.value=!0,onBlur:b=>u.value=!1,onClick:b=>u.value=!1},[Oe(p.$slots,"default",{file:v,index:w},()=>[p.listType==="picture"||v.status!=="uploading"&&p.listType==="picture-card"?(V(),le("img",{key:0,class:W(o(s).be("list","item-thumbnail")),src:v.url,crossorigin:p.crossorigin,alt:""},null,10,["src","crossorigin"])):Re("v-if",!0),v.status==="uploading"||p.listType!=="picture-card"?(V(),le("div",{key:1,class:W(o(s).be("list","item-info"))},[ue("a",{class:W(o(s).be("list","item-name")),onClick:Lt(b=>p.handlePreview(v),["prevent"])},[pe(o(wt),{class:W(o(i).m("document"))},{default:Se(()=>[pe(o(c4))]),_:1},8,["class"]),ue("span",{class:W(o(s).be("list","item-file-name")),title:v.name},at(v.name),11,["title"])],10,["onClick"]),v.status==="uploading"?(V(),Ve(o(bT),{key:0,type:p.listType==="picture-card"?"circle":"line","stroke-width":p.listType==="picture-card"?6:2,percentage:Number(v.percentage),style:Tt(p.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):Re("v-if",!0)],2)):Re("v-if",!0),ue("label",{class:W(o(s).be("list","item-status-label"))},[p.listType==="text"?(V(),Ve(o(wt),{key:0,class:W([o(i).m("upload-success"),o(i).m("circle-check")])},{default:Se(()=>[pe(o(Zg))]),_:1},8,["class"])):["picture-card","picture"].includes(p.listType)?(V(),Ve(o(wt),{key:1,class:W([o(i).m("upload-success"),o(i).m("check")])},{default:Se(()=>[pe(o(Tc))]),_:1},8,["class"])):Re("v-if",!0)],2),o(l)?Re("v-if",!0):(V(),Ve(o(wt),{key:2,class:W(o(i).m("close")),onClick:b=>f(v)},{default:Se(()=>[pe(o(ii))]),_:2},1032,["class","onClick"])),Re(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),Re(" This is a bug which needs to be fixed "),Re(" TODO: Fix the incorrect navigation interaction "),o(l)?Re("v-if",!0):(V(),le("i",{key:3,class:W(o(i).m("close-tip"))},at(o(r)("el.upload.deleteTip")),3)),p.listType==="picture-card"?(V(),le("span",{key:4,class:W(o(s).be("list","item-actions"))},[ue("span",{class:W(o(s).be("list","item-preview")),onClick:b=>p.handlePreview(v)},[pe(o(wt),{class:W(o(i).m("zoom-in"))},{default:Se(()=>[pe(o(CC))]),_:1},8,["class"])],10,["onClick"]),o(l)?Re("v-if",!0):(V(),le("span",{key:0,class:W(o(s).be("list","item-delete")),onClick:b=>f(v)},[pe(o(wt),{class:W(o(i).m("delete"))},{default:Se(()=>[pe(o(wC))]),_:1},8,["class"])],10,["onClick"]))],2)):Re("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),Oe(p.$slots,"append")]),_:3},8,["class","name"]))}});var ox=ot($Q,[["__file","upload-list.vue"]]);const IQ=st({disabled:{type:Boolean,default:!1}}),AQ={file:e=>nt(e)},Jk="ElUploadDrag",LQ=ve({name:Jk}),OQ=ve({...LQ,props:IQ,emits:AQ,setup(e,{emit:t}){vt(Yk)||xr(Jk,"usage: <el-upload><el-upload-dragger /></el-upload>");const r=Xe("upload"),s=Q(!1),i=Ur(),a=u=>{if(i.value)return;s.value=!1,u.stopPropagation();const d=Array.from(u.dataTransfer.files);t("file",d)},l=()=>{i.value||(s.value=!0)};return(u,d)=>(V(),le("div",{class:W([o(r).b("dragger"),o(r).is("dragover",s.value)]),onDrop:Lt(a,["prevent"]),onDragover:Lt(l,["prevent"]),onDragleave:Lt(f=>s.value=!1,["prevent"])},[Oe(u.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var MQ=ot(OQ,[["__file","upload-dragger.vue"]]);const RQ=st({...qk,beforeUpload:{type:Ie(Function),default:In},onRemove:{type:Ie(Function),default:In},onStart:{type:Ie(Function),default:In},onSuccess:{type:Ie(Function),default:In},onProgress:{type:Ie(Function),default:In},onError:{type:Ie(Function),default:In},onExceed:{type:Ie(Function),default:In}}),DQ=ve({name:"ElUploadContent",inheritAttrs:!1}),NQ=ve({...DQ,props:RQ,setup(e,{expose:t}){const n=e,r=Xe("upload"),s=Ur(),i=Un({}),a=Un(),l=b=>{if(b.length===0)return;const{autoUpload:_,limit:C,fileList:M,multiple:E,onStart:k,onExceed:A}=n;if(C&&M.length+b.length>C){A(b,M);return}E||(b=b.slice(0,1));for(const D of b){const H=D;H.uid=Qm(),k(H),_&&u(H)}},u=async b=>{if(a.value.value="",!n.beforeUpload)return f(b);let _,C={};try{const E=n.data,k=n.beforeUpload(b);C=Vu(n.data)?hf(n.data):n.data,_=await k,Vu(n.data)&&zr(E,C)&&(C=hf(n.data))}catch{_=!1}if(_===!1){n.onRemove(b);return}let M=b;_ instanceof Blob&&(_ instanceof File?M=_:M=new File([_],b.name,{type:b.type})),f(Object.assign(M,{uid:b.uid}),C)},d=async(b,_)=>_t(b)?b(_):b,f=async(b,_)=>{const{headers:C,data:M,method:E,withCredentials:k,name:A,action:D,onProgress:H,onSuccess:U,onError:K,httpRequest:G}=n;try{_=await d(_??M,b)}catch{n.onRemove(b);return}const{uid:q}=b,Y={headers:C||{},withCredentials:k,file:b,data:_,method:E,filename:A,action:D,onProgress:xe=>{H(xe,b)},onSuccess:xe=>{U(xe,b),delete i.value[q]},onError:xe=>{K(xe,b),delete i.value[q]}},de=G(Y);i.value[q]=de,de instanceof Promise&&de.then(Y.onSuccess,Y.onError)},p=b=>{const _=b.target.files;_&&l(Array.from(_))},g=()=>{s.value||(a.value.value="",a.value.click())},v=()=>{g()};return t({abort:b=>{fC(i.value).filter(b?([C])=>String(b.uid)===C:()=>!0).forEach(([C,M])=>{M instanceof XMLHttpRequest&&M.abort(),delete i.value[C]})},upload:u}),(b,_)=>(V(),le("div",{class:W([o(r).b(),o(r).m(b.listType),o(r).is("drag",b.drag),o(r).is("disabled",o(s))]),tabindex:o(s)?"-1":"0",onClick:g,onKeydown:Vn(Lt(v,["self"]),["enter","space"])},[b.drag?(V(),Ve(MQ,{key:0,disabled:o(s),onFile:l},{default:Se(()=>[Oe(b.$slots,"default")]),_:3},8,["disabled"])):Oe(b.$slots,"default",{key:1}),ue("input",{ref_key:"inputRef",ref:a,class:W(o(r).e("input")),name:b.name,disabled:o(s),multiple:b.multiple,accept:b.accept,type:"file",onChange:p,onClick:Lt(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}});var lx=ot(NQ,[["__file","upload-content.vue"]]);const ux="ElUpload",cx=e=>{var t;(t=e.url)!=null&&t.startsWith("blob:")&&URL.revokeObjectURL(e.url)},PQ=(e,t)=>{const n=sC(e,"fileList",void 0,{passive:!0}),r=v=>n.value.find(w=>w.uid===v.uid);function s(v){var w;(w=t.value)==null||w.abort(v)}function i(v=["ready","uploading","success","fail"]){n.value=n.value.filter(w=>!v.includes(w.status))}function a(v){n.value=n.value.filter(w=>w.uid!==v.uid)}const l=(v,w)=>{const b=r(w);b&&(console.error(v),b.status="fail",a(b),e.onError(v,b,n.value),e.onChange(b,n.value))},u=(v,w)=>{const b=r(w);b&&(e.onProgress(v,b,n.value),b.status="uploading",b.percentage=Math.round(v.percent))},d=(v,w)=>{const b=r(w);b&&(b.status="success",b.response=v,e.onSuccess(v,b,n.value),e.onChange(b,n.value))},f=v=>{kr(v.uid)&&(v.uid=Qm());const w={name:v.name,percentage:0,status:"ready",size:v.size,raw:v,uid:v.uid};if(e.listType==="picture-card"||e.listType==="picture")try{w.url=URL.createObjectURL(v)}catch(b){b.message,e.onError(b,w,n.value)}n.value=[...n.value,w],e.onChange(w,n.value)},p=async v=>{const w=v instanceof File?r(v):v;w||xr(ux,"file to be removed not found");const b=_=>{s(_),a(_),e.onRemove(_,n.value),cx(_)};e.beforeRemove?await e.beforeRemove(w,n.value)!==!1&&b(w):b(w)};function g(){n.value.filter(({status:v})=>v==="ready").forEach(({raw:v})=>{var w;return v&&((w=t.value)==null?void 0:w.upload(v))})}return je(()=>e.listType,v=>{v!=="picture-card"&&v!=="picture"||(n.value=n.value.map(w=>{const{raw:b,url:_}=w;if(!_&&b)try{w.url=URL.createObjectURL(b)}catch(C){e.onError(C,w,n.value)}return w}))}),je(n,v=>{for(const w of v)w.uid||(w.uid=Qm()),w.status||(w.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:s,clearFiles:i,handleError:l,handleProgress:u,handleStart:f,handleSuccess:d,handleRemove:p,submit:g,revokeFileObjectURL:cx}},FQ=ve({name:"ElUpload"}),VQ=ve({...FQ,props:_Q,setup(e,{expose:t}){const n=e,r=Ur(),s=Un(),{abort:i,submit:a,clearFiles:l,uploadFiles:u,handleStart:d,handleError:f,handleRemove:p,handleSuccess:g,handleProgress:v,revokeFileObjectURL:w}=PQ(n,s),b=L(()=>n.listType==="picture-card"),_=L(()=>({...n,fileList:u.value,onStart:d,onProgress:v,onSuccess:g,onError:f,onRemove:p}));return Fn(()=>{u.value.forEach(w)}),Qt(Yk,{accept:Tn(n,"accept")}),t({abort:i,submit:a,clearFiles:l,handleStart:d,handleRemove:p}),(C,M)=>(V(),le("div",null,[o(b)&&C.showFileList?(V(),Ve(ox,{key:0,disabled:o(r),"list-type":C.listType,files:o(u),crossorigin:C.crossorigin,"handle-preview":C.onPreview,onRemove:o(p)},zs({append:Se(()=>[pe(lx,Xt({ref_key:"uploadRef",ref:s},o(_)),{default:Se(()=>[C.$slots.trigger?Oe(C.$slots,"trigger",{key:0}):Re("v-if",!0),!C.$slots.trigger&&C.$slots.default?Oe(C.$slots,"default",{key:1}):Re("v-if",!0)]),_:3},16)]),_:2},[C.$slots.file?{name:"default",fn:Se(({file:E,index:k})=>[Oe(C.$slots,"file",{file:E,index:k})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):Re("v-if",!0),!o(b)||o(b)&&!C.showFileList?(V(),Ve(lx,Xt({key:1,ref_key:"uploadRef",ref:s},o(_)),{default:Se(()=>[C.$slots.trigger?Oe(C.$slots,"trigger",{key:0}):Re("v-if",!0),!C.$slots.trigger&&C.$slots.default?Oe(C.$slots,"default",{key:1}):Re("v-if",!0)]),_:3},16)):Re("v-if",!0),C.$slots.trigger?Oe(C.$slots,"default",{key:2}):Re("v-if",!0),Oe(C.$slots,"tip"),!o(b)&&C.showFileList?(V(),Ve(ox,{key:3,disabled:o(r),"list-type":C.listType,files:o(u),crossorigin:C.crossorigin,"handle-preview":C.onPreview,onRemove:o(p)},zs({_:2},[C.$slots.file?{name:"default",fn:Se(({file:E,index:k})=>[Oe(C.$slots,"file",{file:E,index:k})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):Re("v-if",!0)]))}});var zQ=ot(VQ,[["__file","upload.vue"]]);const BQ=zt(zQ),KQ=st({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:Ie([String,Array]),default:"Element Plus"},font:{type:Ie(Object)},gap:{type:Ie(Array),default:()=>[100,100]},offset:{type:Ie(Array)}});function HQ(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function WQ(e){return Object.keys(e).map(t=>`${HQ(t)}: ${e[t]};`).join(" ")}function UQ(){return window.devicePixelRatio||1}const jQ=(e,t)=>{let n=!1;return e.removedNodes.length&&t&&(n=Array.from(e.removedNodes).includes(t)),e.type==="attributes"&&e.target===t&&(n=!0),n},Zk=3;function Ep(e,t,n=1){const r=document.createElement("canvas"),s=r.getContext("2d"),i=e*n,a=t*n;return r.setAttribute("width",`${i}px`),r.setAttribute("height",`${a}px`),s.save(),[s,r,i,a]}function GQ(){function e(t,n,r,s,i,a,l,u){const[d,f,p,g]=Ep(s,i,r);if(t instanceof HTMLImageElement)d.drawImage(t,0,0,p,g);else{const{color:ge,fontSize:ke,fontStyle:ye,fontWeight:Fe,fontFamily:Be,textAlign:He,textBaseline:he}=a,Ne=Number(ke)*r;d.font=`${ye} normal ${Fe} ${Ne}px/${i}px ${Be}`,d.fillStyle=ge,d.textAlign=He,d.textBaseline=he;const Pe=nt(t)?t:[t];Pe==null||Pe.forEach((et,qe)=>{d.fillText(et??"",p/2,qe*(Ne+Zk*r))})}const v=Math.PI/180*Number(n),w=Math.max(s,i),[b,_,C]=Ep(w,w,r);b.translate(C/2,C/2),b.rotate(v),p>0&&g>0&&b.drawImage(f,-p/2,-g/2);function M(ge,ke){const ye=ge*Math.cos(v)-ke*Math.sin(v),Fe=ge*Math.sin(v)+ke*Math.cos(v);return[ye,Fe]}let E=0,k=0,A=0,D=0;const H=p/2,U=g/2;[[0-H,0-U],[0+H,0-U],[0+H,0+U],[0-H,0+U]].forEach(([ge,ke])=>{const[ye,Fe]=M(ge,ke);E=Math.min(E,ye),k=Math.max(k,ye),A=Math.min(A,Fe),D=Math.max(D,Fe)});const G=E+C/2,q=A+C/2,Y=k-E,de=D-A,xe=l*r,oe=u*r,Z=(Y+xe)*2,ne=de+oe,[ee,J]=Ep(Z,ne);function fe(ge=0,ke=0){ee.drawImage(_,G,q,Y,de,ge,ke,Y,de)}return fe(),fe(Y+xe,-de/2-oe/2),fe(Y+xe,+de/2+oe/2),[J.toDataURL(),Z/r,ne/r]}return e}const YQ=ve({name:"ElWatermark"}),XQ=ve({...YQ,props:KQ,setup(e){const t=e,n={position:"relative"},r=L(()=>{var G,q;return(q=(G=t.font)==null?void 0:G.color)!=null?q:"rgba(0,0,0,.15)"}),s=L(()=>{var G,q;return(q=(G=t.font)==null?void 0:G.fontSize)!=null?q:16}),i=L(()=>{var G,q;return(q=(G=t.font)==null?void 0:G.fontWeight)!=null?q:"normal"}),a=L(()=>{var G,q;return(q=(G=t.font)==null?void 0:G.fontStyle)!=null?q:"normal"}),l=L(()=>{var G,q;return(q=(G=t.font)==null?void 0:G.fontFamily)!=null?q:"sans-serif"}),u=L(()=>{var G,q;return(q=(G=t.font)==null?void 0:G.textAlign)!=null?q:"center"}),d=L(()=>{var G,q;return(q=(G=t.font)==null?void 0:G.textBaseline)!=null?q:"hanging"}),f=L(()=>t.gap[0]),p=L(()=>t.gap[1]),g=L(()=>f.value/2),v=L(()=>p.value/2),w=L(()=>{var G,q;return(q=(G=t.offset)==null?void 0:G[0])!=null?q:g.value}),b=L(()=>{var G,q;return(q=(G=t.offset)==null?void 0:G[1])!=null?q:v.value}),_=()=>{const G={zIndex:t.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let q=w.value-g.value,Y=b.value-v.value;return q>0&&(G.left=`${q}px`,G.width=`calc(100% - ${q}px)`,q=0),Y>0&&(G.top=`${Y}px`,G.height=`calc(100% - ${Y}px)`,Y=0),G.backgroundPosition=`${q}px ${Y}px`,G},C=Un(null),M=Un(),E=Q(!1),k=()=>{M.value&&(M.value.remove(),M.value=void 0)},A=(G,q)=>{var Y;C.value&&M.value&&(E.value=!0,M.value.setAttribute("style",WQ({..._(),backgroundImage:`url('${G}')`,backgroundSize:`${Math.floor(q)}px`})),(Y=C.value)==null||Y.append(M.value),setTimeout(()=>{E.value=!1}))},D=G=>{let q=120,Y=64;const de=t.image,xe=t.content,oe=t.width,Z=t.height;if(!de&&G.measureText){G.font=`${Number(s.value)}px ${l.value}`;const ne=nt(xe)?xe:[xe],ee=ne.map(J=>{const fe=G.measureText(J);return[fe.width,fe.fontBoundingBoxAscent!==void 0?fe.fontBoundingBoxAscent+fe.fontBoundingBoxDescent:fe.actualBoundingBoxAscent+fe.actualBoundingBoxDescent]});q=Math.ceil(Math.max(...ee.map(J=>J[0]))),Y=Math.ceil(Math.max(...ee.map(J=>J[1])))*ne.length+(ne.length-1)*Zk}return[oe??q,Z??Y]},H=GQ(),U=()=>{const q=document.createElement("canvas").getContext("2d"),Y=t.image,de=t.content,xe=t.rotate;if(q){M.value||(M.value=document.createElement("div"));const oe=UQ(),[Z,ne]=D(q),ee=J=>{const[fe,ge]=H(J||"",xe,oe,Z,ne,{color:r.value,fontSize:s.value,fontStyle:a.value,fontWeight:i.value,fontFamily:l.value,textAlign:u.value,textBaseline:d.value},f.value,p.value);A(fe,ge)};if(Y){const J=new Image;J.onload=()=>{ee(J)},J.onerror=()=>{ee(de)},J.crossOrigin="anonymous",J.referrerPolicy="no-referrer",J.src=Y}else ee(de)}};return Ut(()=>{U()}),je(()=>t,()=>{U()},{deep:!0,flush:"post"}),Fn(()=>{k()}),rC(C,G=>{E.value||G.forEach(q=>{jQ(q,M.value)&&(k(),U())})},{attributes:!0,subtree:!0,childList:!0}),(G,q)=>(V(),le("div",{ref_key:"containerRef",ref:C,style:Tt([n])},[Oe(G.$slots,"default")],4))}});var qQ=ot(XQ,[["__file","watermark.vue"]]);const JQ=zt(qQ),ZQ=st({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:Ie(Object)},targetAreaClickable:{type:Boolean,default:!0}}),QQ=(e,t,n,r,s)=>{const i=Q(null),a=()=>{let p;return xt(e.value)?p=document.querySelector(e.value):_t(e.value)?p=e.value():p=e.value,p},l=()=>{const p=a();if(!p||!t.value){i.value=null;return}eee(p)||p.scrollIntoView(s.value);const{left:g,top:v,width:w,height:b}=p.getBoundingClientRect();i.value={left:g,top:v,width:w,height:b,radius:0}};Ut(()=>{je([t,e],()=>{l()},{immediate:!0}),window.addEventListener("resize",l)}),Fn(()=>{window.removeEventListener("resize",l)});const u=p=>{var g;return(g=nt(n.value.offset)?n.value.offset[p]:n.value.offset)!=null?g:6},d=L(()=>{var p;if(!i.value)return i.value;const g=u(0),v=u(1),w=((p=n.value)==null?void 0:p.radius)||2;return{left:i.value.left-g,top:i.value.top-v,width:i.value.width+g*2,height:i.value.height+v*2,radius:w}}),f=L(()=>{const p=a();return!r.value||!p||!window.DOMRect?p||void 0:{getBoundingClientRect(){var g,v,w,b;return window.DOMRect.fromRect({width:((g=d.value)==null?void 0:g.width)||0,height:((v=d.value)==null?void 0:v.height)||0,x:((w=d.value)==null?void 0:w.left)||0,y:((b=d.value)==null?void 0:b.top)||0})}}});return{mergedPosInfo:d,triggerTarget:f}},Ch=Symbol("ElTour");function eee(e){const t=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,{top:r,right:s,bottom:i,left:a}=e.getBoundingClientRect();return r>=0&&a>=0&&s<=t&&i<=n}const tee=(e,t,n,r,s,i,a,l)=>{const u=Q(),d=Q(),f=Q({}),p={x:u,y:d,placement:r,strategy:s,middlewareData:f},g=L(()=>{const C=[Ok(o(i)),iZ(),sZ(),nee()];return o(l)&&o(n)&&C.push(Mk({element:o(n)})),C}),v=async()=>{if(!un)return;const C=o(e),M=o(t);if(!C||!M)return;const E=await Rk(C,M,{placement:o(r),strategy:o(s),middleware:o(g)});xl(p).forEach(k=>{p[k].value=E[k]})},w=L(()=>{if(!o(e))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:o(a)};const{overflow:C}=o(f);return{position:o(s),zIndex:o(a),top:o(d)!=null?`${o(d)}px`:"",left:o(u)!=null?`${o(u)}px`:"",maxWidth:C!=null&&C.maxWidth?`${C==null?void 0:C.maxWidth}px`:""}}),b=L(()=>{if(!o(l))return{};const{arrow:C}=o(f);return{left:(C==null?void 0:C.x)!=null?`${C==null?void 0:C.x}px`:"",top:(C==null?void 0:C.y)!=null?`${C==null?void 0:C.y}px`:""}});let _;return Ut(()=>{const C=o(e),M=o(t);C&&M&&(_=nZ(C,M,v)),Vr(()=>{v()})}),Fn(()=>{_&&_()}),{update:v,contentStyle:w,arrowStyle:b}},nee=()=>({name:"overflow",async fn(e){const t=await rZ(e);let n=0;return t.left>0&&(n=t.left),t.right>0&&(n=t.right),{data:{maxWidth:e.rects.floating.width-n}}}}),ree=ve({name:"ElTourMask",inheritAttrs:!1}),see=ve({...ree,props:ZQ,setup(e){const t=e,{ns:n}=vt(Ch),r=L(()=>{var l,u;return(u=(l=t.pos)==null?void 0:l.radius)!=null?u:2}),s=L(()=>{const l=r.value,u=`a${l},${l} 0 0 1`;return{topRight:`${u} ${l},${l}`,bottomRight:`${u} ${-l},${l}`,bottomLeft:`${u} ${-l},${-l}`,topLeft:`${u} ${l},${-l}`}}),i=L(()=>{const l=window.innerWidth,u=window.innerHeight,d=s.value,f=`M${l},0 L0,0 L0,${u} L${l},${u} L${l},0 Z`,p=r.value;return t.pos?`${f} M${t.pos.left+p},${t.pos.top} h${t.pos.width-p*2} ${d.topRight} v${t.pos.height-p*2} ${d.bottomRight} h${-t.pos.width+p*2} ${d.bottomLeft} v${-t.pos.height+p*2} ${d.topLeft} z`:f}),a=L(()=>({fill:t.fill,pointerEvents:"auto",cursor:"auto"}));return Ov(Tn(t,"visible"),{ns:n}),(l,u)=>l.visible?(V(),le("div",Xt({key:0,class:o(n).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:l.zIndex,pointerEvents:l.pos&&l.targetAreaClickable?"none":"auto"}},l.$attrs),[(V(),le("svg",{style:{width:"100%",height:"100%"}},[ue("path",{class:W(o(n).e("hollow")),style:Tt(o(a)),d:o(i)},null,14,["d"])]))],16)):Re("v-if",!0)}});var iee=ot(see,[["__file","mask.vue"]]);const aee=["absolute","fixed"],oee=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],hy=st({placement:{type:Ie(String),values:oee,default:"bottom"},reference:{type:Ie(Object),default:null},strategy:{type:Ie(String),values:aee,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),lee={close:()=>!0},uee=ve({name:"ElTourContent"}),cee=ve({...uee,props:hy,emits:lee,setup(e,{emit:t}){const n=e,r=Q(n.placement),s=Q(n.strategy),i=Q(null),a=Q(null);je(()=>n.placement,()=>{r.value=n.placement});const{contentStyle:l,arrowStyle:u}=tee(Tn(n,"reference"),i,a,r,s,Tn(n,"offset"),Tn(n,"zIndex"),Tn(n,"showArrow")),d=L(()=>r.value.split("-")[0]),{ns:f}=vt(Ch),p=()=>{t("close")},g=v=>{v.detail.focusReason==="pointer"&&v.preventDefault()};return(v,w)=>(V(),le("div",{ref_key:"contentRef",ref:i,style:Tt(o(l)),class:W(o(f).e("content")),"data-side":o(d),tabindex:"-1"},[pe(o(jl),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":i.value||void 0,onReleaseRequested:p,onFocusoutPrevented:g},{default:Se(()=>[Oe(v.$slots,"default")]),_:3},8,["focus-trap-el"]),v.showArrow?(V(),le("span",{key:0,ref_key:"arrowRef",ref:a,style:Tt(o(u)),class:W(o(f).e("arrow"))},null,6)):Re("v-if",!0)],14,["data-side"]))}});var dee=ot(cee,[["__file","content.vue"]]),fee=ve({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(e,{slots:t,emit:n}){let r=0;return()=>{var s,i;const a=(s=t.default)==null?void 0:s.call(t),l=[];let u=0;function d(f){nt(f)&&f.forEach(p=>{var g;((g=(p==null?void 0:p.type)||{})==null?void 0:g.name)==="ElTourStep"&&(l.push(p),u+=1)})}return a.length&&d(Pa((i=a[0])==null?void 0:i.children)),r!==u&&(r=u,n("update-total",u)),l.length?l[e.current]:null}}});const hee=st({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:Pn},placement:hy.placement,contentStyle:{type:Ie([Object])},mask:{type:Ie([Boolean,Object]),default:!0},gap:{type:Ie(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:Ie([Boolean,Object]),default:()=>({block:"center"})},type:{type:Ie(String)},appendTo:{type:Ie([String,Object]),default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),pee={[Kt]:e=>zn(e),"update:current":e=>$t(e),close:e=>$t(e),finish:()=>!0,change:e=>$t(e)},mee=ve({name:"ElTour"}),gee=ve({...mee,props:hee,emits:pee,setup(e,{emit:t}){const n=e,r=Xe("tour"),s=Q(0),i=Q(),a=sC(n,"current",t,{passive:!0}),l=L(()=>{var K;return(K=i.value)==null?void 0:K.target}),u=L(()=>[r.b(),_.value==="primary"?r.m("primary"):""]),d=L(()=>{var K;return((K=i.value)==null?void 0:K.placement)||n.placement}),f=L(()=>{var K,G;return(G=(K=i.value)==null?void 0:K.contentStyle)!=null?G:n.contentStyle}),p=L(()=>{var K,G;return(G=(K=i.value)==null?void 0:K.mask)!=null?G:n.mask}),g=L(()=>!!p.value&&n.modelValue),v=L(()=>zn(p.value)?void 0:p.value),w=L(()=>{var K,G;return!!l.value&&((G=(K=i.value)==null?void 0:K.showArrow)!=null?G:n.showArrow)}),b=L(()=>{var K,G;return(G=(K=i.value)==null?void 0:K.scrollIntoViewOptions)!=null?G:n.scrollIntoViewOptions}),_=L(()=>{var K,G;return(G=(K=i.value)==null?void 0:K.type)!=null?G:n.type}),{nextZIndex:C}=Wl(),M=C(),E=L(()=>{var K;return(K=n.zIndex)!=null?K:M}),{mergedPosInfo:k,triggerTarget:A}=QQ(l,Tn(n,"modelValue"),Tn(n,"gap"),p,b);je(()=>n.modelValue,K=>{K||(a.value=0)});const D=()=>{n.closeOnPressEscape&&(t("update:modelValue",!1),t("close",a.value))},H=K=>{s.value=K},U=Sr();return Qt(Ch,{currentStep:i,current:a,total:s,showClose:Tn(n,"showClose"),closeIcon:Tn(n,"closeIcon"),mergedType:_,ns:r,slots:U,updateModelValue(K){t("update:modelValue",K)},onClose(){t("close",a.value)},onFinish(){t("finish")},onChange(){t("change",a.value)}}),(K,G)=>(V(),le(Ct,null,[pe(o(Gl),{to:K.appendTo},{default:Se(()=>{var q,Y;return[ue("div",Xt({class:o(u)},K.$attrs),[pe(iee,{visible:o(g),fill:(q=o(v))==null?void 0:q.color,style:Tt((Y=o(v))==null?void 0:Y.style),pos:o(k),"z-index":o(E),"target-area-clickable":K.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),K.modelValue?(V(),Ve(dee,{key:o(a),reference:o(A),placement:o(d),"show-arrow":o(w),"z-index":o(E),style:Tt(o(f)),onClose:D},{default:Se(()=>[pe(o(fee),{current:o(a),onUpdateTotal:H},{default:Se(()=>[Oe(K.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):Re("v-if",!0)],16)]}),_:3},8,["to"]),Re(" just for IDE "),Re("v-if",!0)],64))}});var vee=ot(gee,[["__file","tour.vue"]]);const yee=st({target:{type:Ie([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:Pn},showArrow:{type:Boolean,default:void 0},placement:hy.placement,mask:{type:Ie([Boolean,Object]),default:void 0},contentStyle:{type:Ie([Object])},prevButtonProps:{type:Ie(Object)},nextButtonProps:{type:Ie(Object)},scrollIntoViewOptions:{type:Ie([Boolean,Object]),default:void 0},type:{type:Ie(String)}}),bee={close:()=>!0},wee=ve({name:"ElTourStep"}),xee=ve({...wee,props:yee,emits:bee,setup(e,{emit:t}){const n=e,{Close:r}=tv,{t:s}=cn(),{currentStep:i,current:a,total:l,showClose:u,closeIcon:d,mergedType:f,ns:p,slots:g,updateModelValue:v,onClose:w,onFinish:b,onChange:_}=vt(Ch);je(n,U=>{i.value=U},{immediate:!0});const C=L(()=>{var U;return(U=n.showClose)!=null?U:u.value}),M=L(()=>{var U,K;return(K=(U=n.closeIcon)!=null?U:d.value)!=null?K:r}),E=U=>{if(U)return $N(U,["children","onClick"])},k=()=>{var U,K;a.value-=1,(U=n.prevButtonProps)!=null&&U.onClick&&((K=n.prevButtonProps)==null||K.onClick()),_()},A=()=>{var U;a.value>=l.value-1?D():a.value+=1,(U=n.nextButtonProps)!=null&&U.onClick&&n.nextButtonProps.onClick(),_()},D=()=>{H(),b()},H=()=>{v(!1),w(),t("close")};return(U,K)=>(V(),le(Ct,null,[o(C)?(V(),le("button",{key:0,"aria-label":"Close",class:W(o(p).e("closebtn")),type:"button",onClick:H},[pe(o(wt),{class:W(o(p).e("close"))},{default:Se(()=>[(V(),Ve(Yt(o(M))))]),_:1},8,["class"])],2)):Re("v-if",!0),ue("header",{class:W([o(p).e("header"),{"show-close":o(u)}])},[Oe(U.$slots,"header",{},()=>[ue("span",{role:"heading",class:W(o(p).e("title"))},at(U.title),3)])],2),ue("div",{class:W(o(p).e("body"))},[Oe(U.$slots,"default",{},()=>[ue("span",null,at(U.description),1)])],2),ue("footer",{class:W(o(p).e("footer"))},[ue("div",{class:W(o(p).b("indicators"))},[o(g).indicators?(V(),Ve(Yt(o(g).indicators),{key:0,current:o(a),total:o(l)},null,8,["current","total"])):(V(!0),le(Ct,{key:1},nn(o(l),(G,q)=>(V(),le("span",{key:G,class:W([o(p).b("indicator"),q===o(a)?"is-active":""])},null,2))),128))],2),ue("div",{class:W(o(p).b("buttons"))},[o(a)>0?(V(),Ve(o(Or),Xt({key:0,size:"small",type:o(f)},E(U.prevButtonProps),{onClick:k}),{default:Se(()=>{var G,q;return[At(at((q=(G=U.prevButtonProps)==null?void 0:G.children)!=null?q:o(s)("el.tour.previous")),1)]}),_:1},16,["type"])):Re("v-if",!0),o(a)<=o(l)-1?(V(),Ve(o(Or),Xt({key:1,size:"small",type:o(f)==="primary"?"default":"primary"},E(U.nextButtonProps),{onClick:A}),{default:Se(()=>{var G,q;return[At(at((q=(G=U.nextButtonProps)==null?void 0:G.children)!=null?q:o(a)===o(l)-1?o(s)("el.tour.finish"):o(s)("el.tour.next")),1)]}),_:1},16,["type"])):Re("v-if",!0)],2)],2)],64))}});var Qk=ot(xee,[["__file","step.vue"]]);const See=zt(vee,{TourStep:Qk}),Cee=Qn(Qk),_ee=st({container:{type:Ie([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:Ie(String),default:"default"},direction:{type:Ie(String),default:"vertical"},selectScrollTop:{type:Boolean,default:!1}}),Tee={change:e=>xt(e),click:(e,t)=>e instanceof MouseEvent&&(xt(t)||xn(t))},eE=Symbol("anchor"),xd=e=>{if(!un||e==="")return null;if(xt(e))try{return document.querySelector(e)}catch{return null}return e};function kee(e){let t=0;const n=(...r)=>{t&&Oo(t),t=Ha(()=>{e(...r),t=0})};return n.cancel=()=>{Oo(t),t=0},n}const Eee=ve({name:"ElAnchor"}),$ee=ve({...Eee,props:_ee,emits:Tee,setup(e,{expose:t,emit:n}){const r=e,s=Q(""),i=Q(null),a=Q(null),l=Q(),u={};let d=!1,f=0;const p=Xe("anchor"),g=L(()=>[p.b(),r.type==="underline"?p.m("underline"):"",p.m(r.direction)]),v=U=>{u[U.href]=U.el},w=U=>{delete u[U]},b=U=>{s.value!==U&&(s.value=U,n("change",U))};let _=null;const C=U=>{if(!l.value)return;const K=xd(U);if(!K)return;_&&_(),d=!0;const G=cw(K,l.value),q=dm(K,G),Y=G.scrollHeight-G.clientHeight,de=Math.min(q-r.offset,Y);_=LP(l.value,f,de,r.duration,()=>{setTimeout(()=>{d=!1},20)})},M=U=>{U&&(b(U),C(U))},E=(U,K)=>{n("click",U,K),M(K)},k=kee(()=>{l.value&&(f=dw(l.value));const U=A();d||xn(U)||b(U)}),A=()=>{if(!l.value)return;const U=dw(l.value),K=[];for(const G of Object.keys(u)){const q=xd(G);if(!q)continue;const Y=cw(q,l.value),de=dm(q,Y);K.push({top:de-r.offset-r.bound,href:G})}K.sort((G,q)=>G.top-q.top);for(let G=0;G<K.length;G++){const q=K[G],Y=K[G+1];if(G===0&&U===0)return r.selectScrollTop?q.href:"";if(q.top<=U&&(!Y||Y.top>U))return q.href}},D=()=>{const U=xd(r.container);!U||nh(U)?l.value=window:l.value=U};Mn(l,"scroll",k);const H=L(()=>{if(!i.value||!a.value||!s.value)return{};const U=u[s.value];if(!U)return{};const K=i.value.getBoundingClientRect(),G=a.value.getBoundingClientRect(),q=U.getBoundingClientRect();return r.direction==="horizontal"?{left:`${q.left-K.left}px`,width:`${q.width}px`,opacity:1}:{top:`${q.top-K.top+(q.height-G.height)/2}px`,opacity:1}});return Ut(()=>{D();const U=decodeURIComponent(window.location.hash);xd(U)?M(U):k()}),je(()=>r.container,()=>{D()}),Qt(eE,{ns:p,direction:r.direction,currentAnchor:s,addLink:v,removeLink:w,handleClick:E}),t({scrollTo:M}),(U,K)=>(V(),le("div",{ref_key:"anchorRef",ref:i,class:W(o(g))},[U.marker?(V(),le("div",{key:0,ref_key:"markerRef",ref:a,class:W(o(p).e("marker")),style:Tt(o(H))},null,6)):Re("v-if",!0),ue("div",{class:W(o(p).e("list"))},[Oe(U.$slots,"default")],2)],2))}});var Iee=ot($ee,[["__file","anchor.vue"]]);const Aee=st({title:String,href:String}),Lee=ve({name:"ElAnchorLink"}),Oee=ve({...Lee,props:Aee,setup(e){const t=e,n=Q(null),{ns:r,direction:s,currentAnchor:i,addLink:a,removeLink:l,handleClick:u}=vt(eE),d=L(()=>[r.e("link"),r.is("active",i.value===t.href)]),f=p=>{u(p,t.href)};return je(()=>t.href,(p,g)=>{Et(()=>{g&&l(g),p&&a({href:p,el:n.value})})}),Ut(()=>{const{href:p}=t;p&&a({href:p,el:n.value})}),Fn(()=>{const{href:p}=t;p&&l(p)}),(p,g)=>(V(),le("div",{class:W(o(r).e("item"))},[ue("a",{ref_key:"linkRef",ref:n,class:W(o(d)),href:p.href,onClick:f},[Oe(p.$slots,"default",{},()=>[At(at(p.title),1)])],10,["href"]),p.$slots["sub-link"]&&o(s)==="vertical"?(V(),le("div",{key:0,class:W(o(r).e("list"))},[Oe(p.$slots,"sub-link")],2)):Re("v-if",!0)],2))}});var tE=ot(Oee,[["__file","anchor-link.vue"]]);const Mee=zt(Iee,{AnchorLink:tE}),Ree=Qn(tE),Dee=st({direction:{type:Ie(String),default:"horizontal"},options:{type:Ie(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},block:Boolean,size:vr,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...Fr(["ariaLabel"])}),Nee={[Kt]:e=>xt(e)||$t(e)||zn(e),[Nn]:e=>xt(e)||$t(e)||zn(e)},Pee=ve({name:"ElSegmented"}),Fee=ve({...Pee,props:Dee,emits:Nee,setup(e,{emit:t}){const n=e,r=Xe("segmented"),s=Pr(),i=pr(),a=Ur(),{formItem:l}=Wr(),{inputId:u,isLabeledByFormItem:d}=Us(n,{formItemContext:l}),f=Q(null),p=eP(),g=wn({isInit:!1,width:0,height:0,translateX:0,translateY:0,focusVisible:!1}),v=K=>{const G=w(K);t(Kt,G),t(Nn,G)},w=K=>jt(K)?K.value:K,b=K=>jt(K)?K.label:K,_=K=>!!(a.value||jt(K)&&K.disabled),C=K=>n.modelValue===w(K),M=K=>n.options.find(G=>w(G)===K),E=K=>[r.e("item"),r.is("selected",C(K)),r.is("disabled",_(K))],k=()=>{if(!f.value)return;const K=f.value.querySelector(".is-selected"),G=f.value.querySelector(".is-selected input");if(!K||!G){g.width=0,g.height=0,g.translateX=0,g.translateY=0,g.focusVisible=!1;return}const q=K.getBoundingClientRect();g.isInit=!0,n.direction==="vertical"?(g.height=q.height,g.translateY=K.offsetTop):(g.width=q.width,g.translateX=K.offsetLeft);try{g.focusVisible=G.matches(":focus-visible")}catch{}},A=L(()=>[r.b(),r.m(i.value),r.is("block",n.block)]),D=L(()=>({width:n.direction==="vertical"?"100%":`${g.width}px`,height:n.direction==="vertical"?`${g.height}px`:"100%",transform:n.direction==="vertical"?`translateY(${g.translateY}px)`:`translateX(${g.translateX}px)`,display:g.isInit?"block":"none"})),H=L(()=>[r.e("item-selected"),r.is("disabled",_(M(n.modelValue))),r.is("focus-visible",g.focusVisible)]),U=L(()=>n.name||s.value);return Jn(f,k),je(p,k),je(()=>n.modelValue,()=>{var K;k(),n.validateEvent&&((K=l==null?void 0:l.validate)==null||K.call(l,"change").catch(G=>void 0))},{flush:"post"}),(K,G)=>K.options.length?(V(),le("div",{key:0,id:o(u),ref_key:"segmentedRef",ref:f,class:W(o(A)),role:"radiogroup","aria-label":o(d)?void 0:K.ariaLabel||"segmented","aria-labelledby":o(d)?o(l).labelId:void 0},[ue("div",{class:W([o(r).e("group"),o(r).m(n.direction)])},[ue("div",{style:Tt(o(D)),class:W(o(H))},null,6),(V(!0),le(Ct,null,nn(K.options,(q,Y)=>(V(),le("label",{key:Y,class:W(E(q))},[ue("input",{class:W(o(r).e("item-input")),type:"radio",name:o(U),disabled:_(q),checked:C(q),onChange:de=>v(q)},null,42,["name","disabled","checked","onChange"]),ue("div",{class:W(o(r).e("item-label"))},[Oe(K.$slots,"default",{item:q},()=>[At(at(b(q)),1)])],2)],2))),128))],2)],10,["id","aria-label","aria-labelledby"])):Re("v-if",!0)}});var Vee=ot(Fee,[["__file","segmented.vue"]]);const zee=zt(Vee),Bee=(e,t)=>{const n=e.toLowerCase();return(t.label||t.value).toLowerCase().includes(n)},Kee=(e,t,n)=>{const{selectionEnd:r}=e;if(r===null)return;const s=e.value,i=qr(t);let a=-1,l;for(let u=r-1;u>=0;--u){const d=s[u];if(d===n||d===`
`||d==="\r"){a=u;continue}if(i.includes(d)){const f=a===-1?r:a;l={pattern:s.slice(u+1,f),start:u+1,end:f,prefix:d,prefixIndex:u,splitIndex:a,selectionEnd:r};break}}return l},Hee=(e,t={debug:!1,useSelectionEnd:!1})=>{const n=e.selectionStart!==null?e.selectionStart:0,r=e.selectionEnd!==null?e.selectionEnd:0,s=t.useSelectionEnd?r:n,i=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"];if(t.debug){const g=document.querySelector("#input-textarea-caret-position-mirror-div");g!=null&&g.parentNode&&g.parentNode.removeChild(g)}const a=document.createElement("div");a.id="input-textarea-caret-position-mirror-div",document.body.appendChild(a);const l=a.style,u=window.getComputedStyle(e),d=e.nodeName==="INPUT";l.whiteSpace=d?"nowrap":"pre-wrap",d||(l.wordWrap="break-word"),l.position="absolute",t.debug||(l.visibility="hidden"),i.forEach(g=>{if(d&&g==="lineHeight")if(u.boxSizing==="border-box"){const v=Number.parseInt(u.height),w=Number.parseInt(u.paddingTop)+Number.parseInt(u.paddingBottom)+Number.parseInt(u.borderTopWidth)+Number.parseInt(u.borderBottomWidth),b=w+Number.parseInt(u.lineHeight);v>b?l.lineHeight=`${v-w}px`:v===b?l.lineHeight=u.lineHeight:l.lineHeight="0"}else l.lineHeight=u.height;else l[g]=u[g]}),lh()?e.scrollHeight>Number.parseInt(u.height)&&(l.overflowY="scroll"):l.overflow="hidden",a.textContent=e.value.slice(0,Math.max(0,s)),d&&a.textContent&&(a.textContent=a.textContent.replace(/\s/g," "));const f=document.createElement("span");f.textContent=e.value.slice(Math.max(0,s))||".",f.style.position="relative",f.style.left=`${-e.scrollLeft}px`,f.style.top=`${-e.scrollTop}px`,a.appendChild(f);const p={top:f.offsetTop+Number.parseInt(u.borderTopWidth),left:f.offsetLeft+Number.parseInt(u.borderLeftWidth),height:Number.parseInt(u.fontSize)*1.5};return t.debug?f.style.backgroundColor="#aaa":document.body.removeChild(a),p.left>=e.clientWidth&&(p.left=e.clientWidth),p},Wee=st({...rv,options:{type:Ie(Array),default:()=>[]},prefix:{type:Ie([String,Array]),default:"@",validator:e=>xt(e)?e.length===1:e.every(t=>xt(t)&&t.length===1)},split:{type:String,default:" ",validator:e=>e.length===1},filterOption:{type:Ie([Boolean,Function]),default:()=>Bee,validator:e=>e===!1?!0:_t(e)},placement:{type:Ie(String),default:"bottom"},showArrow:Boolean,offset:{type:Number,default:0},whole:Boolean,checkIsWhole:{type:Ie(Function)},modelValue:String,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Ie(Object),default:()=>({})}}),Uee={[Kt]:e=>xt(e),search:(e,t)=>xt(e)&&xt(t),select:(e,t)=>xt(e.value)&&xt(t),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},jee=st({options:{type:Ie(Array),default:()=>[]},loading:Boolean,disabled:Boolean,contentId:String,ariaLabel:String}),Gee={select:e=>xt(e.value)},Yee=ve({name:"ElMentionDropdown"}),Xee=ve({...Yee,props:jee,emits:Gee,setup(e,{expose:t,emit:n}){const r=e,s=Xe("mention"),{t:i}=cn(),a=Q(-1),l=Q(),u=Q(),d=Q(),f=(E,k)=>[s.be("dropdown","item"),s.is("hovering",a.value===k),s.is("disabled",E.disabled||r.disabled)],p=E=>{E.disabled||r.disabled||n("select",E)},g=E=>{a.value=E},v=L(()=>r.disabled||r.options.every(E=>E.disabled)),w=L(()=>r.options[a.value]),b=()=>{w.value&&n("select",w.value)},_=E=>{const{options:k}=r;if(k.length===0||v.value)return;E==="next"?(a.value++,a.value===k.length&&(a.value=0)):E==="prev"&&(a.value--,a.value<0&&(a.value=k.length-1));const A=k[a.value];if(A.disabled){_(E);return}Et(()=>C(A))},C=E=>{var k,A,D,H;const{options:U}=r,K=U.findIndex(q=>q.value===E.value),G=(k=u.value)==null?void 0:k[K];if(G){const q=(D=(A=d.value)==null?void 0:A.querySelector)==null?void 0:D.call(A,`.${s.be("dropdown","wrap")}`);q&&qg(q,G)}(H=l.value)==null||H.handleScroll()};return je(()=>r.options,()=>{v.value||r.options.length===0?a.value=-1:a.value=0},{immediate:!0}),t({hoveringIndex:a,navigateOptions:_,selectHoverOption:b,hoverOption:w}),(E,k)=>(V(),le("div",{ref_key:"dropdownRef",ref:d,class:W(o(s).b("dropdown"))},[E.$slots.header?(V(),le("div",{key:0,class:W(o(s).be("dropdown","header"))},[Oe(E.$slots,"header")],2)):Re("v-if",!0),Bt(pe(o(Mi),{id:E.contentId,ref_key:"scrollbarRef",ref:l,tag:"ul","wrap-class":o(s).be("dropdown","wrap"),"view-class":o(s).be("dropdown","list"),role:"listbox","aria-label":E.ariaLabel,"aria-orientation":"vertical"},{default:Se(()=>[(V(!0),le(Ct,null,nn(E.options,(A,D)=>(V(),le("li",{id:`${E.contentId}-${D}`,ref_for:!0,ref_key:"optionRefs",ref:u,key:D,class:W(f(A,D)),role:"option","aria-disabled":A.disabled||E.disabled||void 0,"aria-selected":a.value===D,onMousemove:H=>g(D),onClick:Lt(H=>p(A),["stop"])},[Oe(E.$slots,"label",{item:A,index:D},()=>{var H;return[ue("span",null,at((H=A.label)!=null?H:A.value),1)]})],42,["id","aria-disabled","aria-selected","onMousemove","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class","aria-label"]),[[mn,E.options.length>0&&!E.loading]]),E.loading?(V(),le("div",{key:1,class:W(o(s).be("dropdown","loading"))},[Oe(E.$slots,"loading",{},()=>[At(at(o(i)("el.mention.loading")),1)])],2)):Re("v-if",!0),E.$slots.footer?(V(),le("div",{key:2,class:W(o(s).be("dropdown","footer"))},[Oe(E.$slots,"footer")],2)):Re("v-if",!0)],2))}});var qee=ot(Xee,[["__file","mention-dropdown.vue"]]);const Jee=ve({name:"ElMention",inheritAttrs:!1}),Zee=ve({...Jee,props:Wee,emits:Uee,setup(e,{expose:t,emit:n}){const r=e,s=L(()=>Zs(r,Object.keys(rv))),i=Xe("mention"),a=Ur(),l=Pr(),u=Q(),d=Q(),f=Q(),p=Q(!1),g=Q(),v=Q(),w=L(()=>r.showArrow?r.placement:`${r.placement}-start`),b=L(()=>r.showArrow?["bottom","top"]:["bottom-start","top-start"]),_=L(()=>{const{filterOption:Y,options:de}=r;return!v.value||!Y?de:de.filter(xe=>Y(v.value.pattern,xe))}),C=L(()=>p.value&&(!!_.value.length||r.loading)),M=L(()=>{var Y;return`${l.value}-${(Y=f.value)==null?void 0:Y.hoveringIndex}`}),E=Y=>{n("update:modelValue",Y),K()},k=Y=>{var de,xe,oe,Z;if(!(!("code"in Y)||(de=u.value)!=null&&de.isComposing))switch(Y.code){case gt.left:case gt.right:K();break;case gt.up:case gt.down:if(!p.value)return;Y.preventDefault(),(xe=f.value)==null||xe.navigateOptions(Y.code===gt.up?"prev":"next");break;case gt.enter:case gt.numpadEnter:if(!p.value)return;Y.preventDefault(),(oe=f.value)!=null&&oe.hoverOption?(Z=f.value)==null||Z.selectHoverOption():p.value=!1;break;case gt.esc:if(!p.value)return;Y.preventDefault(),p.value=!1;break;case gt.backspace:if(r.whole&&v.value){const{splitIndex:ne,selectionEnd:ee,pattern:J,prefixIndex:fe,prefix:ge}=v.value,ke=U();if(!ke)return;const ye=ke.value,Fe=r.options.find(He=>He.value===J);if((_t(r.checkIsWhole)?r.checkIsWhole(J,ge):Fe)&&ne!==-1&&ne+1===ee){Y.preventDefault();const He=ye.slice(0,fe)+ye.slice(ne+1);n(Kt,He);const he=fe;Et(()=>{ke.selectionStart=he,ke.selectionEnd=he,q()})}}}},{wrapperRef:A}=Qa(u,{beforeFocus(){return a.value},afterFocus(){K()},beforeBlur(Y){var de;return(de=d.value)==null?void 0:de.isFocusInsideContent(Y)},afterBlur(){p.value=!1}}),D=()=>{K()},H=Y=>{if(!v.value)return;const de=U();if(!de)return;const xe=de.value,{split:oe}=r,Z=xe.slice(v.value.end),ne=Z.startsWith(oe),ee=`${Y.value}${ne?"":oe}`,J=xe.slice(0,v.value.start)+ee+Z;n(Kt,J),n("select",Y,v.value.prefix);const fe=v.value.start+ee.length+(ne?1:0);Et(()=>{de.selectionStart=fe,de.selectionEnd=fe,de.focus(),q()})},U=()=>{var Y,de;return r.type==="textarea"?(Y=u.value)==null?void 0:Y.textarea:(de=u.value)==null?void 0:de.input},K=()=>{setTimeout(()=>{G(),q(),Et(()=>{var Y;return(Y=d.value)==null?void 0:Y.updatePopper()})},0)},G=()=>{const Y=U();if(!Y)return;const de=Hee(Y),xe=Y.getBoundingClientRect(),oe=u.value.$el.getBoundingClientRect();g.value={position:"absolute",width:0,height:`${de.height}px`,left:`${de.left+xe.left-oe.left}px`,top:`${de.top+xe.top-oe.top}px`}},q=()=>{const Y=U();if(document.activeElement!==Y){p.value=!1;return}const{prefix:de,split:xe}=r;if(v.value=Kee(Y,de,xe),v.value&&v.value.splitIndex===-1){p.value=!0,n("search",v.value.pattern,v.value.prefix);return}p.value=!1};return t({input:u,tooltip:d,dropdownVisible:C}),(Y,de)=>(V(),le("div",{ref_key:"wrapperRef",ref:A,class:W([o(i).b(),o(i).is("disabled",o(a))])},[pe(o(Zr),Xt(Xt(o(s),Y.$attrs),{ref_key:"elInputRef",ref:u,"model-value":Y.modelValue,disabled:o(a),role:o(C)?"combobox":void 0,"aria-activedescendant":o(C)?o(M)||"":void 0,"aria-controls":o(C)?o(l):void 0,"aria-expanded":o(C)||void 0,"aria-label":Y.ariaLabel,"aria-autocomplete":o(C)?"none":void 0,"aria-haspopup":o(C)?"listbox":void 0,onInput:E,onKeydown:k,onMousedown:D}),zs({_:2},[nn(Y.$slots,(xe,oe)=>({name:oe,fn:Se(Z=>[Oe(Y.$slots,oe,Js(za(Z)))])}))]),1040,["model-value","disabled","role","aria-activedescendant","aria-controls","aria-expanded","aria-label","aria-autocomplete","aria-haspopup"]),pe(o(Hr),{ref_key:"tooltipRef",ref:d,visible:o(C),"popper-class":[o(i).e("popper"),Y.popperClass],"popper-options":Y.popperOptions,placement:o(w),"fallback-placements":o(b),effect:"light",pure:"",offset:Y.offset,"show-arrow":Y.showArrow},{default:Se(()=>[ue("div",{style:Tt(g.value)},null,4)]),content:Se(()=>{var xe;return[pe(qee,{ref_key:"dropdownRef",ref:f,options:o(_),disabled:o(a),loading:Y.loading,"content-id":o(l),"aria-label":Y.ariaLabel,onSelect:H,onClick:Lt((xe=u.value)==null?void 0:xe.focus,["stop"])},zs({_:2},[nn(Y.$slots,(oe,Z)=>({name:Z,fn:Se(ne=>[Oe(Y.$slots,Z,Js(za(ne)))])}))]),1032,["options","disabled","loading","content-id","aria-label","onClick"])]}),_:3},8,["visible","popper-class","popper-options","placement","fallback-placements","offset","show-arrow"])],2))}});var Qee=ot(Zee,[["__file","mention.vue"]]);const ete=zt(Qee);var tte=[NP,tF,Xz,Nq,t8,l8,ZC,w8,x8,Or,i_,m6,w6,P6,F6,FB,T_,WB,Ws,Z6,g_,XB,dK,fK,fh,FK,BK,QK,e5,t5,n5,r5,$H,FH,VH,JH,J_,o9,q9,J9,Z9,aT,JW,ZW,wt,uU,uT,Zr,cT,_U,AU,qU,JU,ZU,QU,ij,Xj,t7,c7,YC,bT,C_,dB,cB,w7,T7,O7,Mi,Mo,wf,Ij,cG,bG,wG,VG,WG,OT,tY,cY,dY,vY,kX,EX,Dq,Jq,Zq,El,rJ,Y5,uJ,pJ,mJ,Hr,CZ,NZ,Of,tQ,yQ,BQ,JQ,See,Cee,Mee,Ree,zee,ete];const Ds="ElInfiniteScroll",nte=50,rte=200,ste=0,ite={delay:{type:Number,default:rte},distance:{type:Number,default:ste},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},py=(e,t)=>Object.entries(ite).reduce((n,[r,s])=>{var i,a;const{type:l,default:u}=s,d=e.getAttribute(`infinite-scroll-${r}`);let f=(a=(i=t[d])!=null?i:d)!=null?a:u;return f=f==="false"?!1:f,f=l(f),n[r]=Number.isNaN(f)?u:f,n},{}),nE=e=>{const{observer:t}=e[Ds];t&&(t.disconnect(),delete e[Ds].observer)},ate=(e,t)=>{const{container:n,containerEl:r,instance:s,observer:i,lastScrollTop:a}=e[Ds],{disabled:l,distance:u}=py(e,s),{clientHeight:d,scrollHeight:f,scrollTop:p}=r,g=p-a;if(e[Ds].lastScrollTop=p,i||l||g<0)return;let v=!1;if(n===e)v=f-(d+p)<=u;else{const{clientTop:w,scrollHeight:b}=e,_=dm(e,r);v=p+d>=_+w+b-u}v&&t.call(s)};function $p(e,t){const{containerEl:n,instance:r}=e[Ds],{disabled:s}=py(e,r);s||n.clientHeight===0||(n.scrollHeight<=n.clientHeight?t.call(r):nE(e))}const ote={async mounted(e,t){const{instance:n,value:r}=t;_t(r)||xr(Ds,"'v-infinite-scroll' binding value must be a function"),await Et();const{delay:s,immediate:i}=py(e,n),a=Xg(e,!0),l=a===window?document.documentElement:a,u=_o(ate.bind(null,e,r),s);if(a){if(e[Ds]={instance:n,container:a,containerEl:l,delay:s,cb:r,onScroll:u,lastScrollTop:l.scrollTop},i){const d=new MutationObserver(_o($p.bind(null,e,r),nte));e[Ds].observer=d,d.observe(e,{childList:!0,subtree:!0}),$p(e,r)}a.addEventListener("scroll",u)}},unmounted(e){if(!e[Ds])return;const{container:t,onScroll:n}=e[Ds];t==null||t.removeEventListener("scroll",n),nE(e)},async updated(e){if(!e[Ds])await Et();else{const{containerEl:t,cb:n,observer:r}=e[Ds];t.clientHeight&&r&&$p(e,n)}}},eg=ote;eg.install=e=>{e.directive("InfiniteScroll",eg)};const lte=eg;function ute(e){let t;const n=Q(!1),r=wn({...e,originalPosition:"",originalOverflow:"",visible:!1});function s(g){r.text=g}function i(){const g=r.parent,v=p.ns;if(!g.vLoadingAddClassList){let w=g.getAttribute("loading-number");w=Number.parseInt(w)-1,w?g.setAttribute("loading-number",w.toString()):(Qr(g,v.bm("parent","relative")),g.removeAttribute("loading-number")),Qr(g,v.bm("parent","hidden"))}a(),f.unmount()}function a(){var g,v;(v=(g=p.$el)==null?void 0:g.parentNode)==null||v.removeChild(p.$el)}function l(){var g;e.beforeClose&&!e.beforeClose()||(n.value=!0,clearTimeout(t),t=setTimeout(u,400),r.visible=!1,(g=e.closed)==null||g.call(e))}function u(){if(!n.value)return;const g=r.parent;n.value=!1,g.vLoadingAddClassList=void 0,i()}const f=i2(ve({name:"ElLoading",setup(g,{expose:v}){const{ns:w,zIndex:b}=ih("loading");return v({ns:w,zIndex:b}),()=>{const _=r.spinner||r.svg,C=It("svg",{class:"circular",viewBox:r.svgViewBox?r.svgViewBox:"0 0 50 50",..._?{innerHTML:_}:{}},[It("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),M=r.text?It("p",{class:w.b("text")},[r.text]):void 0;return It(Rr,{name:w.b("fade"),onAfterLeave:u},{default:Se(()=>[Bt(pe("div",{style:{backgroundColor:r.background||""},class:[w.b("mask"),r.customClass,r.fullscreen?"is-fullscreen":""]},[It("div",{class:w.b("spinner")},[C,M])]),[[mn,r.visible]])])})}}})),p=f.mount(document.createElement("div"));return{...Er(r),setText:s,removeElLoadingChild:a,close:l,handleAfterLeave:u,vm:p,get $el(){return p.$el}}}let Sd;const tg=function(e={}){if(!un)return;const t=cte(e);if(t.fullscreen&&Sd)return Sd;const n=ute({...t,closed:()=>{var s;(s=t.closed)==null||s.call(t),t.fullscreen&&(Sd=void 0)}});dte(t,t.parent,n),dx(t,t.parent,n),t.parent.vLoadingAddClassList=()=>dx(t,t.parent,n);let r=t.parent.getAttribute("loading-number");return r?r=`${Number.parseInt(r)+1}`:r="1",t.parent.setAttribute("loading-number",r),t.parent.appendChild(n.$el),Et(()=>n.visible.value=t.visible),t.fullscreen&&(Sd=n),n},cte=e=>{var t,n,r,s;let i;return xt(e.target)?i=(t=document.querySelector(e.target))!=null?t:document.body:i=e.target||document.body,{parent:i===document.body||e.body?document.body:i,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:i===document.body&&((n=e.fullscreen)!=null?n:!0),lock:(r=e.lock)!=null?r:!1,customClass:e.customClass||"",visible:(s=e.visible)!=null?s:!0,beforeClose:e.beforeClose,closed:e.closed,target:i}},dte=async(e,t,n)=>{const{nextZIndex:r}=n.vm.zIndex||n.vm._.exposed.zIndex,s={};if(e.fullscreen)n.originalPosition.value=Ji(document.body,"position"),n.originalOverflow.value=Ji(document.body,"overflow"),s.zIndex=r();else if(e.parent===document.body){n.originalPosition.value=Ji(document.body,"position"),await Et();for(const i of["top","left"]){const a=i==="top"?"scrollTop":"scrollLeft";s[i]=`${e.target.getBoundingClientRect()[i]+document.body[a]+document.documentElement[a]-Number.parseInt(Ji(document.body,`margin-${i}`),10)}px`}for(const i of["height","width"])s[i]=`${e.target.getBoundingClientRect()[i]}px`}else n.originalPosition.value=Ji(t,"position");for(const[i,a]of Object.entries(s))n.$el.style[i]=a},dx=(e,t,n)=>{const r=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?Qr(t,r.bm("parent","relative")):Ns(t,r.bm("parent","relative")),e.fullscreen&&e.lock?Ns(t,r.bm("parent","hidden")):Qr(t,r.bm("parent","hidden"))},Zd=Symbol("ElLoading"),fx=(e,t)=>{var n,r,s,i;const a=t.instance,l=g=>jt(t.value)?t.value[g]:void 0,u=g=>{const v=xt(g)&&(a==null?void 0:a[g])||g;return v&&Q(v)},d=g=>u(l(g)||e.getAttribute(`element-loading-${ia(g)}`)),f=(n=l("fullscreen"))!=null?n:t.modifiers.fullscreen,p={text:d("text"),svg:d("svg"),svgViewBox:d("svgViewBox"),spinner:d("spinner"),background:d("background"),customClass:d("customClass"),fullscreen:f,target:(r=l("target"))!=null?r:f?void 0:e,body:(s=l("body"))!=null?s:t.modifiers.body,lock:(i=l("lock"))!=null?i:t.modifiers.lock};e[Zd]={options:p,instance:tg(p)}},fte=(e,t)=>{for(const n of Object.keys(t))kn(t[n])&&(t[n].value=e[n])},hx={mounted(e,t){t.value&&fx(e,t)},updated(e,t){const n=e[Zd];t.oldValue!==t.value&&(t.value&&!t.oldValue?fx(e,t):t.value&&t.oldValue?jt(t.value)&&fte(t.value,n.options):n==null||n.instance.close())},unmounted(e){var t;(t=e[Zd])==null||t.instance.close(),e[Zd]=null}},hte={install(e){e.directive("loading",hx),e.config.globalProperties.$loading=tg},directive:hx,service:tg},rE=["success","info","warning","error"],Gr=Zn({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:un?document.body:void 0}),pte=st({customClass:{type:String,default:Gr.customClass},center:{type:Boolean,default:Gr.center},dangerouslyUseHTMLString:{type:Boolean,default:Gr.dangerouslyUseHTMLString},duration:{type:Number,default:Gr.duration},icon:{type:Pn,default:Gr.icon},id:{type:String,default:Gr.id},message:{type:Ie([String,Object,Function]),default:Gr.message},onClose:{type:Ie(Function),default:Gr.onClose},showClose:{type:Boolean,default:Gr.showClose},type:{type:String,values:rE,default:Gr.type},plain:{type:Boolean,default:Gr.plain},offset:{type:Number,default:Gr.offset},zIndex:{type:Number,default:Gr.zIndex},grouping:{type:Boolean,default:Gr.grouping},repeatNum:{type:Number,default:Gr.repeatNum}}),mte={destroy:()=>!0},Qs=yg([]),gte=e=>{const t=Qs.findIndex(s=>s.id===e),n=Qs[t];let r;return t>0&&(r=Qs[t-1]),{current:n,prev:r}},vte=e=>{const{prev:t}=gte(e);return t?t.vm.exposed.bottom.value:0},yte=(e,t)=>Qs.findIndex(r=>r.id===e)>0?16:t,bte=ve({name:"ElMessage"}),wte=ve({...bte,props:pte,emits:mte,setup(e,{expose:t}){const n=e,{Close:r}=nv,{ns:s,zIndex:i}=ih("message"),{currentZIndex:a,nextZIndex:l}=i,u=Q(),d=Q(!1),f=Q(0);let p;const g=L(()=>n.type?n.type==="error"?"danger":n.type:"info"),v=L(()=>{const H=n.type;return{[s.bm("icon",H)]:H&&Ga[H]}}),w=L(()=>n.icon||Ga[n.type]||""),b=L(()=>vte(n.id)),_=L(()=>yte(n.id,n.offset)+b.value),C=L(()=>f.value+_.value),M=L(()=>({top:`${_.value}px`,zIndex:a.value}));function E(){n.duration!==0&&({stop:p}=Lo(()=>{A()},n.duration))}function k(){p==null||p()}function A(){d.value=!1}function D({code:H}){H===gt.esc&&A()}return Ut(()=>{E(),l(),d.value=!0}),je(()=>n.repeatNum,()=>{k(),E()}),Mn(document,"keydown",D),Jn(u,()=>{f.value=u.value.getBoundingClientRect().height}),t({visible:d,bottom:C,close:A}),(H,U)=>(V(),Ve(Rr,{name:o(s).b("fade"),onBeforeLeave:H.onClose,onAfterLeave:K=>H.$emit("destroy"),persisted:""},{default:Se(()=>[Bt(ue("div",{id:H.id,ref_key:"messageRef",ref:u,class:W([o(s).b(),{[o(s).m(H.type)]:H.type},o(s).is("center",H.center),o(s).is("closable",H.showClose),o(s).is("plain",H.plain),H.customClass]),style:Tt(o(M)),role:"alert",onMouseenter:k,onMouseleave:E},[H.repeatNum>1?(V(),Ve(o(ZC),{key:0,value:H.repeatNum,type:o(g),class:W(o(s).e("badge"))},null,8,["value","type","class"])):Re("v-if",!0),o(w)?(V(),Ve(o(wt),{key:1,class:W([o(s).e("icon"),o(v)])},{default:Se(()=>[(V(),Ve(Yt(o(w))))]),_:1},8,["class"])):Re("v-if",!0),Oe(H.$slots,"default",{},()=>[H.dangerouslyUseHTMLString?(V(),le(Ct,{key:1},[Re(" Caution here, message could've been compromised, never use user's input as message "),ue("p",{class:W(o(s).e("content")),innerHTML:H.message},null,10,["innerHTML"])],2112)):(V(),le("p",{key:0,class:W(o(s).e("content"))},at(H.message),3))]),H.showClose?(V(),Ve(o(wt),{key:2,class:W(o(s).e("closeBtn")),onClick:Lt(A,["stop"])},{default:Se(()=>[pe(o(r))]),_:1},8,["class","onClick"])):Re("v-if",!0)],46,["id"]),[[mn,d.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var xte=ot(wte,[["__file","message.vue"]]);let Ste=1;const sE=e=>{const t=!e||xt(e)||qn(e)||_t(e)?{message:e}:e,n={...Gr,...t};if(!n.appendTo)n.appendTo=document.body;else if(xt(n.appendTo)){let r=document.querySelector(n.appendTo);us(r)||(r=document.body),n.appendTo=r}return zn(Xs.grouping)&&!n.grouping&&(n.grouping=Xs.grouping),$t(Xs.duration)&&n.duration===3e3&&(n.duration=Xs.duration),$t(Xs.offset)&&n.offset===16&&(n.offset=Xs.offset),zn(Xs.showClose)&&!n.showClose&&(n.showClose=Xs.showClose),n},Cte=e=>{const t=Qs.indexOf(e);if(t===-1)return;Qs.splice(t,1);const{handler:n}=e;n.close()},_te=({appendTo:e,...t},n)=>{const r=`message_${Ste++}`,s=t.onClose,i=document.createElement("div"),a={...t,id:r,onClose:()=>{s==null||s(),Cte(f)},onDestroy:()=>{Ba(null,i)}},l=pe(xte,a,_t(a.message)||qn(a.message)?{default:_t(a.message)?a.message:()=>a.message}:null);l.appContext=n||Rl._context,Ba(l,i),e.appendChild(i.firstElementChild);const u=l.component,f={id:r,vnode:l,vm:u,handler:{close:()=>{u.exposed.visible.value=!1}},props:l.component.props};return f},Rl=(e={},t)=>{if(!un)return{close:()=>{}};const n=sE(e);if(n.grouping&&Qs.length){const s=Qs.find(({vnode:i})=>{var a;return((a=i.props)==null?void 0:a.message)===n.message});if(s)return s.props.repeatNum+=1,s.props.type=n.type,s.handler}if($t(Xs.max)&&Qs.length>=Xs.max)return{close:()=>{}};const r=_te(n,t);return Qs.push(r),r.handler};rE.forEach(e=>{Rl[e]=(t={},n)=>{const r=sE(t);return Rl({...r,type:e},n)}});function Tte(e){for(const t of Qs)(!e||e===t.props.type)&&t.handler.close()}Rl.closeAll=Tte;Rl._context=null;const Fa=vC(Rl,"$message"),ng="_trap-focus-children",xo=[],px=e=>{if(xo.length===0)return;const t=xo[xo.length-1][ng];if(t.length>0&&e.code===gt.tab){if(t.length===1){e.preventDefault(),document.activeElement!==t[0]&&t[0].focus();return}const n=e.shiftKey,r=e.target===t[0],s=e.target===t[t.length-1];r&&n&&(e.preventDefault(),t[t.length-1].focus()),s&&!n&&(e.preventDefault(),t[0].focus())}},kte={beforeMount(e){e[ng]=gw(e),xo.push(e),xo.length<=1&&document.addEventListener("keydown",px)},updated(e){Et(()=>{e[ng]=gw(e)})},unmounted(){xo.shift(),xo.length===0&&document.removeEventListener("keydown",px)}},Ete=ve({name:"ElMessageBox",directives:{TrapFocus:kte},components:{ElButton:Or,ElFocusTrap:jl,ElInput:Zr,ElOverlay:Lv,ElIcon:wt,...nv},inheritAttrs:!1,props:{buttonSize:{type:String,validator:RT},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{locale:n,zIndex:r,ns:s,size:i}=ih("message-box",L(()=>e.buttonSize)),{t:a}=n,{nextZIndex:l}=r,u=Q(!1),d=wn({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:_i($i),cancelButtonLoadingIcon:_i($i),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:l()}),f=L(()=>{const Z=d.type;return{[s.bm("icon",Z)]:Z&&Ga[Z]}}),p=Pr(),g=Pr(),v=L(()=>d.icon||Ga[d.type]||""),w=L(()=>!!d.message),b=Q(),_=Q(),C=Q(),M=Q(),E=Q(),k=L(()=>d.confirmButtonClass);je(()=>d.inputValue,async Z=>{await Et(),e.boxType==="prompt"&&Z!==null&&Y()},{immediate:!0}),je(()=>u.value,Z=>{var ne,ee;Z&&(e.boxType!=="prompt"&&(d.autofocus?C.value=(ee=(ne=E.value)==null?void 0:ne.$el)!=null?ee:b.value:C.value=b.value),d.zIndex=l()),e.boxType==="prompt"&&(Z?Et().then(()=>{var J;M.value&&M.value.$el&&(d.autofocus?C.value=(J=de())!=null?J:b.value:C.value=b.value)}):(d.editorErrorMessage="",d.validateError=!1))});const A=L(()=>e.draggable),D=L(()=>e.overflow);G_(b,_,A,D),Ut(async()=>{await Et(),e.closeOnHashChange&&window.addEventListener("hashchange",H)}),Fn(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",H)});function H(){u.value&&(u.value=!1,Et(()=>{d.action&&t("action",d.action)}))}const U=()=>{e.closeOnClickModal&&q(d.distinguishCancelAndClose?"close":"cancel")},K=Av(U),G=Z=>{if(d.inputType!=="textarea")return Z.preventDefault(),q("confirm")},q=Z=>{var ne;e.boxType==="prompt"&&Z==="confirm"&&!Y()||(d.action=Z,d.beforeClose?(ne=d.beforeClose)==null||ne.call(d,Z,d,H):H())},Y=()=>{if(e.boxType==="prompt"){const Z=d.inputPattern;if(Z&&!Z.test(d.inputValue||""))return d.editorErrorMessage=d.inputErrorMessage||a("el.messagebox.error"),d.validateError=!0,!1;const ne=d.inputValidator;if(_t(ne)){const ee=ne(d.inputValue);if(ee===!1)return d.editorErrorMessage=d.inputErrorMessage||a("el.messagebox.error"),d.validateError=!0,!1;if(xt(ee))return d.editorErrorMessage=ee,d.validateError=!0,!1}}return d.editorErrorMessage="",d.validateError=!1,!0},de=()=>{const Z=M.value.$refs;return Z.input||Z.textarea},xe=()=>{q("close")},oe=()=>{e.closeOnPressEscape&&xe()};return e.lockScroll&&Ov(u),{...Er(d),ns:s,overlayEvent:K,visible:u,hasMessage:w,typeClass:f,contentId:p,inputId:g,btnSize:i,iconComponent:v,confirmButtonClasses:k,rootRef:b,focusStartRef:C,headerRef:_,inputRef:M,confirmRef:E,doClose:H,handleClose:xe,onCloseRequested:oe,handleWrapperClick:U,handleInputEnter:G,handleAction:q,t:a}}});function $te(e,t,n,r,s,i){const a=Dt("el-icon"),l=Dt("close"),u=Dt("el-input"),d=Dt("el-button"),f=Dt("el-focus-trap"),p=Dt("el-overlay");return V(),Ve(Rr,{name:"fade-in-linear",onAfterLeave:g=>e.$emit("vanish"),persisted:""},{default:Se(()=>[Bt(pe(p,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:Se(()=>[ue("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:W(`${e.ns.namespace.value}-overlay-message-box`),onClick:e.overlayEvent.onClick,onMousedown:e.overlayEvent.onMousedown,onMouseup:e.overlayEvent.onMouseup},[pe(f,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:Se(()=>[ue("div",{ref:"rootRef",class:W([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:Tt(e.customStyle),tabindex:"-1",onClick:Lt(()=>{},["stop"])},[e.title!==null&&e.title!==void 0?(V(),le("div",{key:0,ref:"headerRef",class:W([e.ns.e("header"),{"show-close":e.showClose}])},[ue("div",{class:W(e.ns.e("title"))},[e.iconComponent&&e.center?(V(),Ve(a,{key:0,class:W([e.ns.e("status"),e.typeClass])},{default:Se(()=>[(V(),Ve(Yt(e.iconComponent)))]),_:1},8,["class"])):Re("v-if",!0),ue("span",null,at(e.title),1)],2),e.showClose?(V(),le("button",{key:0,type:"button",class:W(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:g=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),onKeydown:Vn(Lt(g=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"])},[pe(a,{class:W(e.ns.e("close"))},{default:Se(()=>[pe(l)]),_:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):Re("v-if",!0)],2)):Re("v-if",!0),ue("div",{id:e.contentId,class:W(e.ns.e("content"))},[ue("div",{class:W(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(V(),Ve(a,{key:0,class:W([e.ns.e("status"),e.typeClass])},{default:Se(()=>[(V(),Ve(Yt(e.iconComponent)))]),_:1},8,["class"])):Re("v-if",!0),e.hasMessage?(V(),le("div",{key:1,class:W(e.ns.e("message"))},[Oe(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(V(),Ve(Yt(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(V(),Ve(Yt(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:Se(()=>[At(at(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):Re("v-if",!0)],2),Bt(ue("div",{class:W(e.ns.e("input"))},[pe(u,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":g=>e.inputValue=g,type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:W({invalid:e.validateError}),onKeydown:Vn(e.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),ue("div",{class:W(e.ns.e("errormsg")),style:Tt({visibility:e.editorErrorMessage?"visible":"hidden"})},at(e.editorErrorMessage),7)],2),[[mn,e.showInput]])],10,["id"]),ue("div",{class:W(e.ns.e("btns"))},[e.showCancelButton?(V(),Ve(d,{key:0,loading:e.cancelButtonLoading,"loading-icon":e.cancelButtonLoadingIcon,class:W([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:g=>e.handleAction("cancel"),onKeydown:Vn(Lt(g=>e.handleAction("cancel"),["prevent"]),["enter"])},{default:Se(()=>[At(at(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):Re("v-if",!0),Bt(pe(d,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,"loading-icon":e.confirmButtonLoadingIcon,class:W([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:g=>e.handleAction("confirm"),onKeydown:Vn(Lt(g=>e.handleAction("confirm"),["prevent"]),["enter"])},{default:Se(()=>[At(at(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[mn,e.showConfirmButton]])],2)],14,["onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["z-index","overlay-class","mask"]),[[mn,e.visible]])]),_:3},8,["onAfterLeave"])}var Ite=ot(Ete,[["render",$te],["__file","index.vue"]]);const fc=new Map,Ate=e=>{let t=document.body;return e.appendTo&&(xt(e.appendTo)&&(t=document.querySelector(e.appendTo)),us(e.appendTo)&&(t=e.appendTo),us(t)||(t=document.body)),t},Lte=(e,t,n=null)=>{const r=pe(Ite,e,_t(e.message)||qn(e.message)?{default:_t(e.message)?e.message:()=>e.message}:null);return r.appContext=n,Ba(r,t),Ate(e).appendChild(t.firstElementChild),r.component},Ote=()=>document.createElement("div"),Mte=(e,t)=>{const n=Ote();e.onVanish=()=>{Ba(null,n),fc.delete(s)},e.onAction=i=>{const a=fc.get(s);let l;e.showInput?l={value:s.inputValue,action:i}:l=i,e.callback?e.callback(l,r.proxy):i==="cancel"||i==="close"?e.distinguishCancelAndClose&&i!=="cancel"?a.reject("close"):a.reject("cancel"):a.resolve(l)};const r=Lte(e,n,t),s=r.proxy;for(const i in e)yn(e,i)&&!yn(s.$props,i)&&(s[i]=e[i]);return s.visible=!0,s};function Jl(e,t=null){if(!un)return Promise.reject();let n;return xt(e)||qn(e)?e={message:e}:n=e.callback,new Promise((r,s)=>{const i=Mte(e,t??Jl._context);fc.set(i,{options:e,callback:n,resolve:r,reject:s})})}const Rte=["alert","confirm","prompt"],Dte={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};Rte.forEach(e=>{Jl[e]=Nte(e)});function Nte(e){return(t,n,r,s)=>{let i="";return jt(n)?(r=n,i=""):xn(n)?i="":i=n,Jl(Object.assign({title:i,message:t,type:"",...Dte[e]},r,{boxType:e}),s)}}Jl.close=()=>{fc.forEach((e,t)=>{t.doClose()}),fc.clear()};Jl._context=null;const ka=Jl;ka.install=e=>{ka._context=e._context,e.config.globalProperties.$msgbox=ka,e.config.globalProperties.$messageBox=ka,e.config.globalProperties.$alert=ka.alert,e.config.globalProperties.$confirm=ka.confirm,e.config.globalProperties.$prompt=ka.prompt};const Pte=ka,iE=["success","info","warning","error"],Fte=st({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:Pn},id:{type:String,default:""},message:{type:Ie([String,Object,Function]),default:""},offset:{type:Number,default:0},onClick:{type:Ie(Function),default:()=>{}},onClose:{type:Ie(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...iE,""],default:""},zIndex:Number}),Vte={destroy:()=>!0},zte=ve({name:"ElNotification"}),Bte=ve({...zte,props:Fte,emits:Vte,setup(e,{expose:t}){const n=e,{ns:r,zIndex:s}=ih("notification"),{nextZIndex:i,currentZIndex:a}=s,{Close:l}=tv,u=Q(!1);let d;const f=L(()=>{const E=n.type;return E&&Ga[n.type]?r.m(E):""}),p=L(()=>n.type&&Ga[n.type]||n.icon),g=L(()=>n.position.endsWith("right")?"right":"left"),v=L(()=>n.position.startsWith("top")?"top":"bottom"),w=L(()=>{var E;return{[v.value]:`${n.offset}px`,zIndex:(E=n.zIndex)!=null?E:a.value}});function b(){n.duration>0&&({stop:d}=Lo(()=>{u.value&&C()},n.duration))}function _(){d==null||d()}function C(){u.value=!1}function M({code:E}){E===gt.delete||E===gt.backspace?_():E===gt.esc?u.value&&C():b()}return Ut(()=>{b(),i(),u.value=!0}),Mn(document,"keydown",M),t({visible:u,close:C}),(E,k)=>(V(),Ve(Rr,{name:o(r).b("fade"),onBeforeLeave:E.onClose,onAfterLeave:A=>E.$emit("destroy"),persisted:""},{default:Se(()=>[Bt(ue("div",{id:E.id,class:W([o(r).b(),E.customClass,o(g)]),style:Tt(o(w)),role:"alert",onMouseenter:_,onMouseleave:b,onClick:E.onClick},[o(p)?(V(),Ve(o(wt),{key:0,class:W([o(r).e("icon"),o(f)])},{default:Se(()=>[(V(),Ve(Yt(o(p))))]),_:1},8,["class"])):Re("v-if",!0),ue("div",{class:W(o(r).e("group"))},[ue("h2",{class:W(o(r).e("title")),textContent:at(E.title)},null,10,["textContent"]),Bt(ue("div",{class:W(o(r).e("content")),style:Tt(E.title?void 0:{margin:0})},[Oe(E.$slots,"default",{},()=>[E.dangerouslyUseHTMLString?(V(),le(Ct,{key:1},[Re(" Caution here, message could've been compromised, never use user's input as message "),ue("p",{innerHTML:E.message},null,8,["innerHTML"])],2112)):(V(),le("p",{key:0},at(E.message),1))])],6),[[mn,E.message]]),E.showClose?(V(),Ve(o(wt),{key:0,class:W(o(r).e("closeBtn")),onClick:Lt(C,["stop"])},{default:Se(()=>[pe(o(l))]),_:1},8,["class","onClick"])):Re("v-if",!0)],2)],46,["id","onClick"]),[[mn,u.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var Kte=ot(Bte,[["__file","notification.vue"]]);const Mf={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},rg=16;let Hte=1;const Dl=function(e={},t){if(!un)return{close:()=>{}};(xt(e)||qn(e))&&(e={message:e});const n=e.position||"top-right";let r=e.offset||0;Mf[n].forEach(({vm:f})=>{var p;r+=(((p=f.el)==null?void 0:p.offsetHeight)||0)+rg}),r+=rg;const s=`notification_${Hte++}`,i=e.onClose,a={...e,offset:r,id:s,onClose:()=>{Wte(s,n,i)}};let l=document.body;us(e.appendTo)?l=e.appendTo:xt(e.appendTo)&&(l=document.querySelector(e.appendTo)),us(l)||(l=document.body);const u=document.createElement("div"),d=pe(Kte,a,_t(a.message)?a.message:qn(a.message)?()=>a.message:null);return d.appContext=xn(t)?Dl._context:t,d.props.onDestroy=()=>{Ba(null,u)},Ba(d,u),Mf[n].push({vm:d}),l.appendChild(u.firstElementChild),{close:()=>{d.component.exposed.visible.value=!1}}};iE.forEach(e=>{Dl[e]=(t={},n)=>((xt(t)||qn(t))&&(t={message:t}),Dl({...t,type:e},n))});function Wte(e,t,n){const r=Mf[t],s=r.findIndex(({vm:d})=>{var f;return((f=d.component)==null?void 0:f.props.id)===e});if(s===-1)return;const{vm:i}=r[s];if(!i)return;n==null||n(i);const a=i.el.offsetHeight,l=t.split("-")[0];r.splice(s,1);const u=r.length;if(!(u<1))for(let d=s;d<u;d++){const{el:f,component:p}=r[d].vm,g=Number.parseInt(f.style[l],10)-a-rg;p.props.offset=g}}function Ute(){for(const e of Object.values(Mf))e.forEach(({vm:t})=>{t.component.exposed.visible.value=!1})}Dl.closeAll=Ute;Dl._context=null;const Qd=vC(Dl,"$notify");var jte=[lte,hte,Fa,Pte,Qd,yT],Gte=kP([...tte,...jte]),bu={exports:{}},Yte=bu.exports,mx;function Xte(){return mx||(mx=1,function(e,t){(function(n,r){r(t)})(Yte,function(n){function r(N){return Math.max(0,N)}function s(N,c){return N<=0?0:c}var i=Object.freeze({__proto__:null,activate:r,measure:s});function a(N){return 1/(1+Math.exp(-N))}function l(N,c){return N*(1-N)*c}var u=Object.freeze({__proto__:null,activate:a,measure:l});function d(N){return Math.tanh(N)}function f(N,c){return(1-N*N)*c}var p=Object.freeze({__proto__:null,activate:d,measure:f});function g(N){return N>0?N:.01*N}function v(N,c){return N>0?c:.01*c}var w=Object.freeze({__proto__:null,activate:g,measure:v}),b=Object.freeze({__proto__:null,relu:i,sigmoid:u,tanh:p,leakyRelu:w}),_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Bw<"u"?Bw:typeof self<"u"?self:{};function C(N,c,h){return h={path:c,exports:{},require:function(m,O){return M(m,O??h.path)}},N(h,h.exports),h.exports}function M(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var E=C(function(N,c){/**
 * gpu.js
 * http://gpu.rocks/
 *
 * GPU Accelerated JavaScript
 *
 * @version 2.16.0
 * @date Wed Nov 16 2022 15:48:37 GMT-0500 (Eastern Standard Time)
 *
 * @license MIT
 * The MIT License
 *
 * Copyright (c) 2022 gpu.js Team
 */(function(h){N.exports=h()})(function(){return function(){function h(m,O,I){function P(T,$){if(!O[T]){if(!m[T]){var x=typeof M=="function"&&M;if(!$&&x)return x(T,!0);if(z)return z(T,!0);var S=new Error("Cannot find module '"+T+"'");throw S.code="MODULE_NOT_FOUND",S}var j=O[T]={exports:{}};m[T][0].call(j.exports,function(re){var Ce=m[T][1][re];return P(Ce||re)},j,j.exports,h,m,O,I)}return O[T].exports}for(var z=typeof M=="function"&&M,R=0;R<I.length;R++)P(I[R]);return P}return h}()({1:[function(h,m,O){(function(I,P){typeof O=="object"&&typeof m<"u"?P(O):(I=I||self,P(I.acorn={}))})(this,function(I){var P={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},z="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",R={5:z,"5module":z+" export import",6:z+" const class extends export import super"},T=/^in(stanceof)?$/,$="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿯ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞿꟂ-Ᶎꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭧꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",x="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࣓-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ංඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠐-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷹᷻-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿",S=new RegExp("["+$+"]"),j=new RegExp("["+$+x+"]");$=x=null;var re=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,155,22,13,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,0,33,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,0,161,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,754,9486,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],Ce=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,232,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,792487,239];function se(y,F){for(var ce=65536,Ee=0;Ee<F.length;Ee+=2){if(ce+=F[Ee],ce>y)return!1;if(ce+=F[Ee+1],ce>=y)return!0}}function me(y,F){return y<65?y===36:y<91?!0:y<97?y===95:y<123?!0:y<=65535?y>=170&&S.test(String.fromCharCode(y)):F===!1?!1:se(y,re)}function X(y,F){return y<48?y===36:y<58?!0:y<65?!1:y<91?!0:y<97?y===95:y<123?!0:y<=65535?y>=170&&j.test(String.fromCharCode(y)):F===!1?!1:se(y,re)||se(y,Ce)}var ie=function(F,ce){ce===void 0&&(ce={}),this.label=F,this.keyword=ce.keyword,this.beforeExpr=!!ce.beforeExpr,this.startsExpr=!!ce.startsExpr,this.isLoop=!!ce.isLoop,this.isAssign=!!ce.isAssign,this.prefix=!!ce.prefix,this.postfix=!!ce.postfix,this.binop=ce.binop||null,this.updateContext=null};function we(y,F){return new ie(y,{beforeExpr:!0,binop:F})}var Te={beforeExpr:!0},tt={startsExpr:!0},ft={};function te(y,F){return F===void 0&&(F={}),F.keyword=y,ft[y]=new ie(y,F)}var B={num:new ie("num",tt),regexp:new ie("regexp",tt),string:new ie("string",tt),name:new ie("name",tt),eof:new ie("eof"),bracketL:new ie("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ie("]"),braceL:new ie("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ie("}"),parenL:new ie("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ie(")"),comma:new ie(",",Te),semi:new ie(";",Te),colon:new ie(":",Te),dot:new ie("."),question:new ie("?",Te),arrow:new ie("=>",Te),template:new ie("template"),invalidTemplate:new ie("invalidTemplate"),ellipsis:new ie("...",Te),backQuote:new ie("`",tt),dollarBraceL:new ie("${",{beforeExpr:!0,startsExpr:!0}),eq:new ie("=",{beforeExpr:!0,isAssign:!0}),assign:new ie("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ie("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ie("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:we("||",1),logicalAND:we("&&",2),bitwiseOR:we("|",3),bitwiseXOR:we("^",4),bitwiseAND:we("&",5),equality:we("==/!=/===/!==",6),relational:we("</>/<=/>=",7),bitShift:we("<</>>/>>>",8),plusMin:new ie("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:we("%",10),star:we("*",10),slash:we("/",10),starstar:new ie("**",{beforeExpr:!0}),_break:te("break"),_case:te("case",Te),_catch:te("catch"),_continue:te("continue"),_debugger:te("debugger"),_default:te("default",Te),_do:te("do",{isLoop:!0,beforeExpr:!0}),_else:te("else",Te),_finally:te("finally"),_for:te("for",{isLoop:!0}),_function:te("function",tt),_if:te("if"),_return:te("return",Te),_switch:te("switch"),_throw:te("throw",Te),_try:te("try"),_var:te("var"),_const:te("const"),_while:te("while",{isLoop:!0}),_with:te("with"),_new:te("new",{beforeExpr:!0,startsExpr:!0}),_this:te("this",tt),_super:te("super",tt),_class:te("class",tt),_extends:te("extends",Te),_export:te("export"),_import:te("import",tt),_null:te("null",tt),_true:te("true",tt),_false:te("false",tt),_in:te("in",{beforeExpr:!0,binop:7}),_instanceof:te("instanceof",{beforeExpr:!0,binop:7}),_typeof:te("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:te("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:te("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Me=/\r\n?|\n|\u2028|\u2029/,De=new RegExp(Me.source,"g");function pt(y,F){return y===10||y===13||!F&&(y===8232||y===8233)}var Je=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ut=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,kt=Object.prototype,Ot=kt.hasOwnProperty,fn=kt.toString;function sn(y,F){return Ot.call(y,F)}var Vt=Array.isArray||function(y){return fn.call(y)==="[object Array]"};function hn(y){return new RegExp("^(?:"+y.replace(/ /g,"|")+")$")}var vn=function(F,ce){this.line=F,this.column=ce};vn.prototype.offset=function(F){return new vn(this.line,this.column+F)};var $n=function(F,ce,Ee){this.start=ce,this.end=Ee,F.sourceFile!==null&&(this.source=F.sourceFile)};function on(y,F){for(var ce=1,Ee=0;;){De.lastIndex=Ee;var ze=De.exec(y);if(ze&&ze.index<F)++ce,Ee=ze.index+ze[0].length;else return new vn(ce,F-Ee)}}var ln={ecmaVersion:10,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};function Zt(y){var F={};for(var ce in ln)F[ce]=y&&sn(y,ce)?y[ce]:ln[ce];if(F.ecmaVersion>=2015&&(F.ecmaVersion-=2009),F.allowReserved==null&&(F.allowReserved=F.ecmaVersion<5),Vt(F.onToken)){var Ee=F.onToken;F.onToken=function(ze){return Ee.push(ze)}}return Vt(F.onComment)&&(F.onComment=Rn(F,F.onComment)),F}function Rn(y,F){return function(ce,Ee,ze,ct,bt,Wt){var pn={type:ce?"Block":"Line",value:Ee,start:ze,end:ct};y.locations&&(pn.loc=new $n(this,bt,Wt)),y.ranges&&(pn.range=[ze,ct]),F.push(pn)}}var _r=1,Cn=2,Gn=_r|Cn,ur=4,es=8,jr=16,bn=32,er=64,Tr=128;function Cs(y,F){return Cn|(y?ur:0)|(F?es:0)}var Fi=0,Nh=1,Vi=2,cb=3,db=4,fb=5,hr=function(F,ce,Ee){this.options=F=Zt(F),this.sourceFile=F.sourceFile,this.keywords=hn(R[F.ecmaVersion>=6?6:F.sourceType==="module"?"5module":5]);var ze="";if(F.allowReserved!==!0){for(var ct=F.ecmaVersion;!(ze=P[ct]);ct--);F.sourceType==="module"&&(ze+=" await")}this.reservedWords=hn(ze);var bt=(ze?ze+" ":"")+P.strict;this.reservedWordsStrict=hn(bt),this.reservedWordsStrictBind=hn(bt+" "+P.strictBind),this.input=String(ce),this.containsEsc=!1,Ee?(this.pos=Ee,this.lineStart=this.input.lastIndexOf(`
`,Ee-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Me).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=B.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=F.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},this.pos===0&&F.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(_r),this.regexpState=null},io={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}};hr.prototype.parse=function(){var F=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(F)},io.inFunction.get=function(){return(this.currentVarScope().flags&Cn)>0},io.inGenerator.get=function(){return(this.currentVarScope().flags&es)>0},io.inAsync.get=function(){return(this.currentVarScope().flags&ur)>0},io.allowSuper.get=function(){return(this.currentThisScope().flags&er)>0},io.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Tr)>0},io.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},hr.prototype.inNonArrowFunction=function(){return(this.currentThisScope().flags&Cn)>0},hr.extend=function(){for(var F=[],ce=arguments.length;ce--;)F[ce]=arguments[ce];for(var Ee=this,ze=0;ze<F.length;ze++)Ee=F[ze](Ee);return Ee},hr.parse=function(F,ce){return new this(ce,F).parse()},hr.parseExpressionAt=function(F,ce,Ee){var ze=new this(Ee,F,ce);return ze.nextToken(),ze.parseExpression()},hr.tokenizer=function(F,ce){return new this(ce,F)},Object.defineProperties(hr.prototype,io);var ts=hr.prototype,yI=/^(?:'((?:\\.|[^'])*?)'|"((?:\\.|[^"])*?)")/;ts.strictDirective=function(y){for(;;){ut.lastIndex=y,y+=ut.exec(this.input)[0].length;var F=yI.exec(this.input.slice(y));if(!F)return!1;if((F[1]||F[2])==="use strict")return!0;y+=F[0].length,ut.lastIndex=y,y+=ut.exec(this.input)[0].length,this.input[y]===";"&&y++}},ts.eat=function(y){return this.type===y?(this.next(),!0):!1},ts.isContextual=function(y){return this.type===B.name&&this.value===y&&!this.containsEsc},ts.eatContextual=function(y){return this.isContextual(y)?(this.next(),!0):!1},ts.expectContextual=function(y){this.eatContextual(y)||this.unexpected()},ts.canInsertSemicolon=function(){return this.type===B.eof||this.type===B.braceR||Me.test(this.input.slice(this.lastTokEnd,this.start))},ts.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},ts.semicolon=function(){!this.eat(B.semi)&&!this.insertSemicolon()&&this.unexpected()},ts.afterTrailingComma=function(y,F){if(this.type===y)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),F||this.next(),!0},ts.expect=function(y){this.eat(y)||this.unexpected()},ts.unexpected=function(y){this.raise(y??this.start,"Unexpected token")};function jc(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}ts.checkPatternErrors=function(y,F){if(y){y.trailingComma>-1&&this.raiseRecoverable(y.trailingComma,"Comma is not permitted after the rest element");var ce=F?y.parenthesizedAssign:y.parenthesizedBind;ce>-1&&this.raiseRecoverable(ce,"Parenthesized pattern")}},ts.checkExpressionErrors=function(y,F){if(!y)return!1;var ce=y.shorthandAssign,Ee=y.doubleProto;if(!F)return ce>=0||Ee>=0;ce>=0&&this.raise(ce,"Shorthand property assignments are valid only in destructuring patterns"),Ee>=0&&this.raiseRecoverable(Ee,"Redefinition of __proto__ property")},ts.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},ts.isSimpleAssignTarget=function(y){return y.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(y.expression):y.type==="Identifier"||y.type==="MemberExpression"};var _n=hr.prototype;_n.parseTopLevel=function(y){var F={};for(y.body||(y.body=[]);this.type!==B.eof;){var ce=this.parseStatement(null,!0,F);y.body.push(ce)}if(this.inModule)for(var Ee=0,ze=Object.keys(this.undefinedExports);Ee<ze.length;Ee+=1){var ct=ze[Ee];this.raiseRecoverable(this.undefinedExports[ct].start,"Export '"+ct+"' is not defined")}return this.adaptDirectivePrologue(y.body),this.next(),y.sourceType=this.options.sourceType,this.finishNode(y,"Program")};var Ph={kind:"loop"},bI={kind:"switch"};_n.isLet=function(y){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;ut.lastIndex=this.pos;var F=ut.exec(this.input),ce=this.pos+F[0].length,Ee=this.input.charCodeAt(ce);if(Ee===91)return!0;if(y)return!1;if(Ee===123)return!0;if(me(Ee,!0)){for(var ze=ce+1;X(this.input.charCodeAt(ze),!0);)++ze;var ct=this.input.slice(ce,ze);if(!T.test(ct))return!0}return!1},_n.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;ut.lastIndex=this.pos;var y=ut.exec(this.input),F=this.pos+y[0].length;return!Me.test(this.input.slice(this.pos,F))&&this.input.slice(F,F+8)==="function"&&(F+8===this.input.length||!X(this.input.charAt(F+8)))},_n.parseStatement=function(y,F,ce){var Ee=this.type,ze=this.startNode(),ct;switch(this.isLet(y)&&(Ee=B._var,ct="let"),Ee){case B._break:case B._continue:return this.parseBreakContinueStatement(ze,Ee.keyword);case B._debugger:return this.parseDebuggerStatement(ze);case B._do:return this.parseDoStatement(ze);case B._for:return this.parseForStatement(ze);case B._function:return y&&(this.strict||y!=="if"&&y!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(ze,!1,!y);case B._class:return y&&this.unexpected(),this.parseClass(ze,!0);case B._if:return this.parseIfStatement(ze);case B._return:return this.parseReturnStatement(ze);case B._switch:return this.parseSwitchStatement(ze);case B._throw:return this.parseThrowStatement(ze);case B._try:return this.parseTryStatement(ze);case B._const:case B._var:return ct=ct||this.value,y&&ct!=="var"&&this.unexpected(),this.parseVarStatement(ze,ct);case B._while:return this.parseWhileStatement(ze);case B._with:return this.parseWithStatement(ze);case B.braceL:return this.parseBlock(!0,ze);case B.semi:return this.parseEmptyStatement(ze);case B._export:case B._import:if(this.options.ecmaVersion>10&&Ee===B._import){ut.lastIndex=this.pos;var bt=ut.exec(this.input),Wt=this.pos+bt[0].length,pn=this.input.charCodeAt(Wt);if(pn===40)return this.parseExpressionStatement(ze,this.parseExpression())}return this.options.allowImportExportEverywhere||(F||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),Ee===B._import?this.parseImport(ze):this.parseExport(ze,ce);default:if(this.isAsyncFunction())return y&&this.unexpected(),this.next(),this.parseFunctionStatement(ze,!0,!y);var Yn=this.value,ms=this.parseExpression();return Ee===B.name&&ms.type==="Identifier"&&this.eat(B.colon)?this.parseLabeledStatement(ze,Yn,ms,y):this.parseExpressionStatement(ze,ms)}},_n.parseBreakContinueStatement=function(y,F){var ce=F==="break";this.next(),this.eat(B.semi)||this.insertSemicolon()?y.label=null:this.type!==B.name?this.unexpected():(y.label=this.parseIdent(),this.semicolon());for(var Ee=0;Ee<this.labels.length;++Ee){var ze=this.labels[Ee];if((y.label==null||ze.name===y.label.name)&&(ze.kind!=null&&(ce||ze.kind==="loop")||y.label&&ce))break}return Ee===this.labels.length&&this.raise(y.start,"Unsyntactic "+F),this.finishNode(y,ce?"BreakStatement":"ContinueStatement")},_n.parseDebuggerStatement=function(y){return this.next(),this.semicolon(),this.finishNode(y,"DebuggerStatement")},_n.parseDoStatement=function(y){return this.next(),this.labels.push(Ph),y.body=this.parseStatement("do"),this.labels.pop(),this.expect(B._while),y.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(B.semi):this.semicolon(),this.finishNode(y,"DoWhileStatement")},_n.parseForStatement=function(y){this.next();var F=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Ph),this.enterScope(0),this.expect(B.parenL),this.type===B.semi)return F>-1&&this.unexpected(F),this.parseFor(y,null);var ce=this.isLet();if(this.type===B._var||this.type===B._const||ce){var Ee=this.startNode(),ze=ce?"let":this.value;return this.next(),this.parseVar(Ee,!0,ze),this.finishNode(Ee,"VariableDeclaration"),(this.type===B._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&Ee.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===B._in?F>-1&&this.unexpected(F):y.await=F>-1),this.parseForIn(y,Ee)):(F>-1&&this.unexpected(F),this.parseFor(y,Ee))}var ct=new jc,bt=this.parseExpression(!0,ct);return this.type===B._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===B._in?F>-1&&this.unexpected(F):y.await=F>-1),this.toAssignable(bt,!1,ct),this.checkLVal(bt),this.parseForIn(y,bt)):(this.checkExpressionErrors(ct,!0),F>-1&&this.unexpected(F),this.parseFor(y,bt))},_n.parseFunctionStatement=function(y,F,ce){return this.next(),this.parseFunction(y,su|(ce?0:Fh),!1,F)},_n.parseIfStatement=function(y){return this.next(),y.test=this.parseParenExpression(),y.consequent=this.parseStatement("if"),y.alternate=this.eat(B._else)?this.parseStatement("if"):null,this.finishNode(y,"IfStatement")},_n.parseReturnStatement=function(y){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(B.semi)||this.insertSemicolon()?y.argument=null:(y.argument=this.parseExpression(),this.semicolon()),this.finishNode(y,"ReturnStatement")},_n.parseSwitchStatement=function(y){this.next(),y.discriminant=this.parseParenExpression(),y.cases=[],this.expect(B.braceL),this.labels.push(bI),this.enterScope(0);for(var F,ce=!1;this.type!==B.braceR;)if(this.type===B._case||this.type===B._default){var Ee=this.type===B._case;F&&this.finishNode(F,"SwitchCase"),y.cases.push(F=this.startNode()),F.consequent=[],this.next(),Ee?F.test=this.parseExpression():(ce&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),ce=!0,F.test=null),this.expect(B.colon)}else F||this.unexpected(),F.consequent.push(this.parseStatement(null));return this.exitScope(),F&&this.finishNode(F,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(y,"SwitchStatement")},_n.parseThrowStatement=function(y){return this.next(),Me.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),y.argument=this.parseExpression(),this.semicolon(),this.finishNode(y,"ThrowStatement")};var wI=[];_n.parseTryStatement=function(y){if(this.next(),y.block=this.parseBlock(),y.handler=null,this.type===B._catch){var F=this.startNode();if(this.next(),this.eat(B.parenL)){F.param=this.parseBindingAtom();var ce=F.param.type==="Identifier";this.enterScope(ce?bn:0),this.checkLVal(F.param,ce?db:Vi),this.expect(B.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),F.param=null,this.enterScope(0);F.body=this.parseBlock(!1),this.exitScope(),y.handler=this.finishNode(F,"CatchClause")}return y.finalizer=this.eat(B._finally)?this.parseBlock():null,!y.handler&&!y.finalizer&&this.raise(y.start,"Missing catch or finally clause"),this.finishNode(y,"TryStatement")},_n.parseVarStatement=function(y,F){return this.next(),this.parseVar(y,!1,F),this.semicolon(),this.finishNode(y,"VariableDeclaration")},_n.parseWhileStatement=function(y){return this.next(),y.test=this.parseParenExpression(),this.labels.push(Ph),y.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(y,"WhileStatement")},_n.parseWithStatement=function(y){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),y.object=this.parseParenExpression(),y.body=this.parseStatement("with"),this.finishNode(y,"WithStatement")},_n.parseEmptyStatement=function(y){return this.next(),this.finishNode(y,"EmptyStatement")},_n.parseLabeledStatement=function(y,F,ce,Ee){for(var ze=0,ct=this.labels;ze<ct.length;ze+=1){var bt=ct[ze];bt.name===F&&this.raise(ce.start,"Label '"+F+"' is already declared")}for(var Wt=this.type.isLoop?"loop":this.type===B._switch?"switch":null,pn=this.labels.length-1;pn>=0;pn--){var Yn=this.labels[pn];if(Yn.statementStart===y.start)Yn.statementStart=this.start,Yn.kind=Wt;else break}return this.labels.push({name:F,kind:Wt,statementStart:this.start}),y.body=this.parseStatement(Ee?Ee.indexOf("label")===-1?Ee+"label":Ee:"label"),this.labels.pop(),y.label=ce,this.finishNode(y,"LabeledStatement")},_n.parseExpressionStatement=function(y,F){return y.expression=F,this.semicolon(),this.finishNode(y,"ExpressionStatement")},_n.parseBlock=function(y,F){for(y===void 0&&(y=!0),F===void 0&&(F=this.startNode()),F.body=[],this.expect(B.braceL),y&&this.enterScope(0);!this.eat(B.braceR);){var ce=this.parseStatement(null);F.body.push(ce)}return y&&this.exitScope(),this.finishNode(F,"BlockStatement")},_n.parseFor=function(y,F){return y.init=F,this.expect(B.semi),y.test=this.type===B.semi?null:this.parseExpression(),this.expect(B.semi),y.update=this.type===B.parenR?null:this.parseExpression(),this.expect(B.parenR),y.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(y,"ForStatement")},_n.parseForIn=function(y,F){var ce=this.type===B._in;return this.next(),F.type==="VariableDeclaration"&&F.declarations[0].init!=null&&(!ce||this.options.ecmaVersion<8||this.strict||F.kind!=="var"||F.declarations[0].id.type!=="Identifier")?this.raise(F.start,(ce?"for-in":"for-of")+" loop variable declaration may not have an initializer"):F.type==="AssignmentPattern"&&this.raise(F.start,"Invalid left-hand side in for-loop"),y.left=F,y.right=ce?this.parseExpression():this.parseMaybeAssign(),this.expect(B.parenR),y.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(y,ce?"ForInStatement":"ForOfStatement")},_n.parseVar=function(y,F,ce){for(y.declarations=[],y.kind=ce;;){var Ee=this.startNode();if(this.parseVarId(Ee,ce),this.eat(B.eq)?Ee.init=this.parseMaybeAssign(F):ce==="const"&&!(this.type===B._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():Ee.id.type!=="Identifier"&&!(F&&(this.type===B._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):Ee.init=null,y.declarations.push(this.finishNode(Ee,"VariableDeclarator")),!this.eat(B.comma))break}return y},_n.parseVarId=function(y,F){y.id=this.parseBindingAtom(),this.checkLVal(y.id,F==="var"?Nh:Vi,!1)};var su=1,Fh=2,hb=4;_n.parseFunction=function(y,F,ce,Ee){this.initFunction(y),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!Ee)&&(this.type===B.star&&F&Fh&&this.unexpected(),y.generator=this.eat(B.star)),this.options.ecmaVersion>=8&&(y.async=!!Ee),F&su&&(y.id=F&hb&&this.type!==B.name?null:this.parseIdent(),y.id&&!(F&Fh)&&this.checkLVal(y.id,this.strict||y.generator||y.async?this.treatFunctionsAsVar?Nh:Vi:cb));var ze=this.yieldPos,ct=this.awaitPos,bt=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Cs(y.async,y.generator)),F&su||(y.id=this.type===B.name?this.parseIdent():null),this.parseFunctionParams(y),this.parseFunctionBody(y,ce,!1),this.yieldPos=ze,this.awaitPos=ct,this.awaitIdentPos=bt,this.finishNode(y,F&su?"FunctionDeclaration":"FunctionExpression")},_n.parseFunctionParams=function(y){this.expect(B.parenL),y.params=this.parseBindingList(B.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},_n.parseClass=function(y,F){this.next();var ce=this.strict;this.strict=!0,this.parseClassId(y,F),this.parseClassSuper(y);var Ee=this.startNode(),ze=!1;for(Ee.body=[],this.expect(B.braceL);!this.eat(B.braceR);){var ct=this.parseClassElement(y.superClass!==null);ct&&(Ee.body.push(ct),ct.type==="MethodDefinition"&&ct.kind==="constructor"&&(ze&&this.raise(ct.start,"Duplicate constructor in the same class"),ze=!0))}return y.body=this.finishNode(Ee,"ClassBody"),this.strict=ce,this.finishNode(y,F?"ClassDeclaration":"ClassExpression")},_n.parseClassElement=function(y){var F=this;if(this.eat(B.semi))return null;var ce=this.startNode(),Ee=function(pn,Yn){Yn===void 0&&(Yn=!1);var ms=F.start,Ki=F.startLoc;return F.eatContextual(pn)?F.type!==B.parenL&&(!Yn||!F.canInsertSemicolon())?!0:(ce.key&&F.unexpected(),ce.computed=!1,ce.key=F.startNodeAt(ms,Ki),ce.key.name=pn,F.finishNode(ce.key,"Identifier"),!1):!1};ce.kind="method",ce.static=Ee("static");var ze=this.eat(B.star),ct=!1;ze||(this.options.ecmaVersion>=8&&Ee("async",!0)?(ct=!0,ze=this.options.ecmaVersion>=9&&this.eat(B.star)):Ee("get")?ce.kind="get":Ee("set")&&(ce.kind="set")),ce.key||this.parsePropertyName(ce);var bt=ce.key,Wt=!1;return!ce.computed&&!ce.static&&(bt.type==="Identifier"&&bt.name==="constructor"||bt.type==="Literal"&&bt.value==="constructor")?(ce.kind!=="method"&&this.raise(bt.start,"Constructor can't have get/set modifier"),ze&&this.raise(bt.start,"Constructor can't be a generator"),ct&&this.raise(bt.start,"Constructor can't be an async method"),ce.kind="constructor",Wt=y):ce.static&&bt.type==="Identifier"&&bt.name==="prototype"&&this.raise(bt.start,"Classes may not have a static property named prototype"),this.parseClassMethod(ce,ze,ct,Wt),ce.kind==="get"&&ce.value.params.length!==0&&this.raiseRecoverable(ce.value.start,"getter should have no params"),ce.kind==="set"&&ce.value.params.length!==1&&this.raiseRecoverable(ce.value.start,"setter should have exactly one param"),ce.kind==="set"&&ce.value.params[0].type==="RestElement"&&this.raiseRecoverable(ce.value.params[0].start,"Setter cannot use rest params"),ce},_n.parseClassMethod=function(y,F,ce,Ee){return y.value=this.parseMethod(F,ce,Ee),this.finishNode(y,"MethodDefinition")},_n.parseClassId=function(y,F){this.type===B.name?(y.id=this.parseIdent(),F&&this.checkLVal(y.id,Vi,!1)):(F===!0&&this.unexpected(),y.id=null)},_n.parseClassSuper=function(y){y.superClass=this.eat(B._extends)?this.parseExprSubscripts():null},_n.parseExport=function(y,F){if(this.next(),this.eat(B.star))return this.expectContextual("from"),this.type!==B.string&&this.unexpected(),y.source=this.parseExprAtom(),this.semicolon(),this.finishNode(y,"ExportAllDeclaration");if(this.eat(B._default)){this.checkExport(F,"default",this.lastTokStart);var ce;if(this.type===B._function||(ce=this.isAsyncFunction())){var Ee=this.startNode();this.next(),ce&&this.next(),y.declaration=this.parseFunction(Ee,su|hb,!1,ce)}else if(this.type===B._class){var ze=this.startNode();y.declaration=this.parseClass(ze,"nullableID")}else y.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(y,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())y.declaration=this.parseStatement(null),y.declaration.type==="VariableDeclaration"?this.checkVariableExport(F,y.declaration.declarations):this.checkExport(F,y.declaration.id.name,y.declaration.id.start),y.specifiers=[],y.source=null;else{if(y.declaration=null,y.specifiers=this.parseExportSpecifiers(F),this.eatContextual("from"))this.type!==B.string&&this.unexpected(),y.source=this.parseExprAtom();else{for(var ct=0,bt=y.specifiers;ct<bt.length;ct+=1){var Wt=bt[ct];this.checkUnreserved(Wt.local),this.checkLocalExport(Wt.local)}y.source=null}this.semicolon()}return this.finishNode(y,"ExportNamedDeclaration")},_n.checkExport=function(y,F,ce){y&&(sn(y,F)&&this.raiseRecoverable(ce,"Duplicate export '"+F+"'"),y[F]=!0)},_n.checkPatternExport=function(y,F){var ce=F.type;if(ce==="Identifier")this.checkExport(y,F.name,F.start);else if(ce==="ObjectPattern")for(var Ee=0,ze=F.properties;Ee<ze.length;Ee+=1){var ct=ze[Ee];this.checkPatternExport(y,ct)}else if(ce==="ArrayPattern")for(var bt=0,Wt=F.elements;bt<Wt.length;bt+=1){var pn=Wt[bt];pn&&this.checkPatternExport(y,pn)}else ce==="Property"?this.checkPatternExport(y,F.value):ce==="AssignmentPattern"?this.checkPatternExport(y,F.left):ce==="RestElement"?this.checkPatternExport(y,F.argument):ce==="ParenthesizedExpression"&&this.checkPatternExport(y,F.expression)},_n.checkVariableExport=function(y,F){if(y)for(var ce=0,Ee=F;ce<Ee.length;ce+=1){var ze=Ee[ce];this.checkPatternExport(y,ze.id)}},_n.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},_n.parseExportSpecifiers=function(y){var F=[],ce=!0;for(this.expect(B.braceL);!this.eat(B.braceR);){if(ce)ce=!1;else if(this.expect(B.comma),this.afterTrailingComma(B.braceR))break;var Ee=this.startNode();Ee.local=this.parseIdent(!0),Ee.exported=this.eatContextual("as")?this.parseIdent(!0):Ee.local,this.checkExport(y,Ee.exported.name,Ee.exported.start),F.push(this.finishNode(Ee,"ExportSpecifier"))}return F},_n.parseImport=function(y){return this.next(),this.type===B.string?(y.specifiers=wI,y.source=this.parseExprAtom()):(y.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),y.source=this.type===B.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(y,"ImportDeclaration")},_n.parseImportSpecifiers=function(){var y=[],F=!0;if(this.type===B.name){var ce=this.startNode();if(ce.local=this.parseIdent(),this.checkLVal(ce.local,Vi),y.push(this.finishNode(ce,"ImportDefaultSpecifier")),!this.eat(B.comma))return y}if(this.type===B.star){var Ee=this.startNode();return this.next(),this.expectContextual("as"),Ee.local=this.parseIdent(),this.checkLVal(Ee.local,Vi),y.push(this.finishNode(Ee,"ImportNamespaceSpecifier")),y}for(this.expect(B.braceL);!this.eat(B.braceR);){if(F)F=!1;else if(this.expect(B.comma),this.afterTrailingComma(B.braceR))break;var ze=this.startNode();ze.imported=this.parseIdent(!0),this.eatContextual("as")?ze.local=this.parseIdent():(this.checkUnreserved(ze.imported),ze.local=ze.imported),this.checkLVal(ze.local,Vi),y.push(this.finishNode(ze,"ImportSpecifier"))}return y},_n.adaptDirectivePrologue=function(y){for(var F=0;F<y.length&&this.isDirectiveCandidate(y[F]);++F)y[F].directive=y[F].expression.raw.slice(1,-1)},_n.isDirectiveCandidate=function(y){return y.type==="ExpressionStatement"&&y.expression.type==="Literal"&&typeof y.expression.value=="string"&&(this.input[y.start]==='"'||this.input[y.start]==="'")};var zi=hr.prototype;zi.toAssignable=function(y,F,ce){if(this.options.ecmaVersion>=6&&y)switch(y.type){case"Identifier":this.inAsync&&y.name==="await"&&this.raise(y.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":y.type="ObjectPattern",ce&&this.checkPatternErrors(ce,!0);for(var Ee=0,ze=y.properties;Ee<ze.length;Ee+=1){var ct=ze[Ee];this.toAssignable(ct,F),ct.type==="RestElement"&&(ct.argument.type==="ArrayPattern"||ct.argument.type==="ObjectPattern")&&this.raise(ct.argument.start,"Unexpected token")}break;case"Property":y.kind!=="init"&&this.raise(y.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(y.value,F);break;case"ArrayExpression":y.type="ArrayPattern",ce&&this.checkPatternErrors(ce,!0),this.toAssignableList(y.elements,F);break;case"SpreadElement":y.type="RestElement",this.toAssignable(y.argument,F),y.argument.type==="AssignmentPattern"&&this.raise(y.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":y.operator!=="="&&this.raise(y.left.end,"Only '=' operator can be used for specifying default value."),y.type="AssignmentPattern",delete y.operator,this.toAssignable(y.left,F);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(y.expression,F,ce);break;case"MemberExpression":if(!F)break;default:this.raise(y.start,"Assigning to rvalue")}else ce&&this.checkPatternErrors(ce,!0);return y},zi.toAssignableList=function(y,F){for(var ce=y.length,Ee=0;Ee<ce;Ee++){var ze=y[Ee];ze&&this.toAssignable(ze,F)}if(ce){var ct=y[ce-1];this.options.ecmaVersion===6&&F&&ct&&ct.type==="RestElement"&&ct.argument.type!=="Identifier"&&this.unexpected(ct.argument.start)}return y},zi.parseSpread=function(y){var F=this.startNode();return this.next(),F.argument=this.parseMaybeAssign(!1,y),this.finishNode(F,"SpreadElement")},zi.parseRestBinding=function(){var y=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==B.name&&this.unexpected(),y.argument=this.parseBindingAtom(),this.finishNode(y,"RestElement")},zi.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case B.bracketL:var y=this.startNode();return this.next(),y.elements=this.parseBindingList(B.bracketR,!0,!0),this.finishNode(y,"ArrayPattern");case B.braceL:return this.parseObj(!0)}return this.parseIdent()},zi.parseBindingList=function(y,F,ce){for(var Ee=[],ze=!0;!this.eat(y);)if(ze?ze=!1:this.expect(B.comma),F&&this.type===B.comma)Ee.push(null);else{if(ce&&this.afterTrailingComma(y))break;if(this.type===B.ellipsis){var ct=this.parseRestBinding();this.parseBindingListItem(ct),Ee.push(ct),this.type===B.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(y);break}else{var bt=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(bt),Ee.push(bt)}}return Ee},zi.parseBindingListItem=function(y){return y},zi.parseMaybeDefault=function(y,F,ce){if(ce=ce||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(B.eq))return ce;var Ee=this.startNodeAt(y,F);return Ee.left=ce,Ee.right=this.parseMaybeAssign(),this.finishNode(Ee,"AssignmentPattern")},zi.checkLVal=function(y,F,ce){switch(F===void 0&&(F=Fi),y.type){case"Identifier":F===Vi&&y.name==="let"&&this.raiseRecoverable(y.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(y.name)&&this.raiseRecoverable(y.start,(F?"Binding ":"Assigning to ")+y.name+" in strict mode"),ce&&(sn(ce,y.name)&&this.raiseRecoverable(y.start,"Argument name clash"),ce[y.name]=!0),F!==Fi&&F!==fb&&this.declareName(y.name,F,y.start);break;case"MemberExpression":F&&this.raiseRecoverable(y.start,"Binding member expression");break;case"ObjectPattern":for(var Ee=0,ze=y.properties;Ee<ze.length;Ee+=1){var ct=ze[Ee];this.checkLVal(ct,F,ce)}break;case"Property":this.checkLVal(y.value,F,ce);break;case"ArrayPattern":for(var bt=0,Wt=y.elements;bt<Wt.length;bt+=1){var pn=Wt[bt];pn&&this.checkLVal(pn,F,ce)}break;case"AssignmentPattern":this.checkLVal(y.left,F,ce);break;case"RestElement":this.checkLVal(y.argument,F,ce);break;case"ParenthesizedExpression":this.checkLVal(y.expression,F,ce);break;default:this.raise(y.start,(F?"Binding":"Assigning to")+" rvalue")}};var Dn=hr.prototype;Dn.checkPropClash=function(y,F,ce){if(!(this.options.ecmaVersion>=9&&y.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(y.computed||y.method||y.shorthand))){var Ee=y.key,ze;switch(Ee.type){case"Identifier":ze=Ee.name;break;case"Literal":ze=String(Ee.value);break;default:return}var ct=y.kind;if(this.options.ecmaVersion>=6){ze==="__proto__"&&ct==="init"&&(F.proto&&(ce?ce.doubleProto<0&&(ce.doubleProto=Ee.start):this.raiseRecoverable(Ee.start,"Redefinition of __proto__ property")),F.proto=!0);return}ze="$"+ze;var bt=F[ze];if(bt){var Wt;ct==="init"?Wt=this.strict&&bt.init||bt.get||bt.set:Wt=bt.init||bt[ct],Wt&&this.raiseRecoverable(Ee.start,"Redefinition of property")}else bt=F[ze]={init:!1,get:!1,set:!1};bt[ct]=!0}},Dn.parseExpression=function(y,F){var ce=this.start,Ee=this.startLoc,ze=this.parseMaybeAssign(y,F);if(this.type===B.comma){var ct=this.startNodeAt(ce,Ee);for(ct.expressions=[ze];this.eat(B.comma);)ct.expressions.push(this.parseMaybeAssign(y,F));return this.finishNode(ct,"SequenceExpression")}return ze},Dn.parseMaybeAssign=function(y,F,ce){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(y);this.exprAllowed=!1}var Ee=!1,ze=-1,ct=-1;F?(ze=F.parenthesizedAssign,ct=F.trailingComma,F.parenthesizedAssign=F.trailingComma=-1):(F=new jc,Ee=!0);var bt=this.start,Wt=this.startLoc;(this.type===B.parenL||this.type===B.name)&&(this.potentialArrowAt=this.start);var pn=this.parseMaybeConditional(y,F);if(ce&&(pn=ce.call(this,pn,bt,Wt)),this.type.isAssign){var Yn=this.startNodeAt(bt,Wt);return Yn.operator=this.value,Yn.left=this.type===B.eq?this.toAssignable(pn,!1,F):pn,Ee||(F.parenthesizedAssign=F.trailingComma=F.doubleProto=-1),F.shorthandAssign>=Yn.left.start&&(F.shorthandAssign=-1),this.checkLVal(pn),this.next(),Yn.right=this.parseMaybeAssign(y),this.finishNode(Yn,"AssignmentExpression")}else Ee&&this.checkExpressionErrors(F,!0);return ze>-1&&(F.parenthesizedAssign=ze),ct>-1&&(F.trailingComma=ct),pn},Dn.parseMaybeConditional=function(y,F){var ce=this.start,Ee=this.startLoc,ze=this.parseExprOps(y,F);if(this.checkExpressionErrors(F))return ze;if(this.eat(B.question)){var ct=this.startNodeAt(ce,Ee);return ct.test=ze,ct.consequent=this.parseMaybeAssign(),this.expect(B.colon),ct.alternate=this.parseMaybeAssign(y),this.finishNode(ct,"ConditionalExpression")}return ze},Dn.parseExprOps=function(y,F){var ce=this.start,Ee=this.startLoc,ze=this.parseMaybeUnary(F,!1);return this.checkExpressionErrors(F)||ze.start===ce&&ze.type==="ArrowFunctionExpression"?ze:this.parseExprOp(ze,ce,Ee,-1,y)},Dn.parseExprOp=function(y,F,ce,Ee,ze){var ct=this.type.binop;if(ct!=null&&(!ze||this.type!==B._in)&&ct>Ee){var bt=this.type===B.logicalOR||this.type===B.logicalAND,Wt=this.value;this.next();var pn=this.start,Yn=this.startLoc,ms=this.parseExprOp(this.parseMaybeUnary(null,!1),pn,Yn,ct,ze),Ki=this.buildBinary(F,ce,y,ms,Wt,bt);return this.parseExprOp(Ki,F,ce,Ee,ze)}return y},Dn.buildBinary=function(y,F,ce,Ee,ze,ct){var bt=this.startNodeAt(y,F);return bt.left=ce,bt.operator=ze,bt.right=Ee,this.finishNode(bt,ct?"LogicalExpression":"BinaryExpression")},Dn.parseMaybeUnary=function(y,F){var ce=this.start,Ee=this.startLoc,ze;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))ze=this.parseAwait(),F=!0;else if(this.type.prefix){var ct=this.startNode(),bt=this.type===B.incDec;ct.operator=this.value,ct.prefix=!0,this.next(),ct.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(y,!0),bt?this.checkLVal(ct.argument):this.strict&&ct.operator==="delete"&&ct.argument.type==="Identifier"?this.raiseRecoverable(ct.start,"Deleting local variable in strict mode"):F=!0,ze=this.finishNode(ct,bt?"UpdateExpression":"UnaryExpression")}else{if(ze=this.parseExprSubscripts(y),this.checkExpressionErrors(y))return ze;for(;this.type.postfix&&!this.canInsertSemicolon();){var Wt=this.startNodeAt(ce,Ee);Wt.operator=this.value,Wt.prefix=!1,Wt.argument=ze,this.checkLVal(ze),this.next(),ze=this.finishNode(Wt,"UpdateExpression")}}return!F&&this.eat(B.starstar)?this.buildBinary(ce,Ee,ze,this.parseMaybeUnary(null,!1),"**",!1):ze},Dn.parseExprSubscripts=function(y){var F=this.start,ce=this.startLoc,Ee=this.parseExprAtom(y);if(Ee.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return Ee;var ze=this.parseSubscripts(Ee,F,ce);return y&&ze.type==="MemberExpression"&&(y.parenthesizedAssign>=ze.start&&(y.parenthesizedAssign=-1),y.parenthesizedBind>=ze.start&&(y.parenthesizedBind=-1)),ze},Dn.parseSubscripts=function(y,F,ce,Ee){for(var ze=this.options.ecmaVersion>=8&&y.type==="Identifier"&&y.name==="async"&&this.lastTokEnd===y.end&&!this.canInsertSemicolon()&&this.input.slice(y.start,y.end)==="async";;){var ct=this.parseSubscript(y,F,ce,Ee,ze);if(ct===y||ct.type==="ArrowFunctionExpression")return ct;y=ct}},Dn.parseSubscript=function(y,F,ce,Ee,ze){var ct=this.eat(B.bracketL);if(ct||this.eat(B.dot)){var bt=this.startNodeAt(F,ce);bt.object=y,bt.property=ct?this.parseExpression():this.parseIdent(this.options.allowReserved!=="never"),bt.computed=!!ct,ct&&this.expect(B.bracketR),y=this.finishNode(bt,"MemberExpression")}else if(!Ee&&this.eat(B.parenL)){var Wt=new jc,pn=this.yieldPos,Yn=this.awaitPos,ms=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var Ki=this.parseExprList(B.parenR,this.options.ecmaVersion>=8,!1,Wt);if(ze&&!this.canInsertSemicolon()&&this.eat(B.arrow))return this.checkPatternErrors(Wt,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=pn,this.awaitPos=Yn,this.awaitIdentPos=ms,this.parseArrowExpression(this.startNodeAt(F,ce),Ki,!0);this.checkExpressionErrors(Wt,!0),this.yieldPos=pn||this.yieldPos,this.awaitPos=Yn||this.awaitPos,this.awaitIdentPos=ms||this.awaitIdentPos;var Ko=this.startNodeAt(F,ce);Ko.callee=y,Ko.arguments=Ki,y=this.finishNode(Ko,"CallExpression")}else if(this.type===B.backQuote){var ao=this.startNodeAt(F,ce);ao.tag=y,ao.quasi=this.parseTemplate({isTagged:!0}),y=this.finishNode(ao,"TaggedTemplateExpression")}return y},Dn.parseExprAtom=function(y){this.type===B.slash&&this.readRegexp();var F,ce=this.potentialArrowAt===this.start;switch(this.type){case B._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),F=this.startNode(),this.next(),this.type===B.parenL&&!this.allowDirectSuper&&this.raise(F.start,"super() call outside constructor of a subclass"),this.type!==B.dot&&this.type!==B.bracketL&&this.type!==B.parenL&&this.unexpected(),this.finishNode(F,"Super");case B._this:return F=this.startNode(),this.next(),this.finishNode(F,"ThisExpression");case B.name:var Ee=this.start,ze=this.startLoc,ct=this.containsEsc,bt=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!ct&&bt.name==="async"&&!this.canInsertSemicolon()&&this.eat(B._function))return this.parseFunction(this.startNodeAt(Ee,ze),0,!1,!0);if(ce&&!this.canInsertSemicolon()){if(this.eat(B.arrow))return this.parseArrowExpression(this.startNodeAt(Ee,ze),[bt],!1);if(this.options.ecmaVersion>=8&&bt.name==="async"&&this.type===B.name&&!ct)return bt=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(B.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(Ee,ze),[bt],!0)}return bt;case B.regexp:var Wt=this.value;return F=this.parseLiteral(Wt.value),F.regex={pattern:Wt.pattern,flags:Wt.flags},F;case B.num:case B.string:return this.parseLiteral(this.value);case B._null:case B._true:case B._false:return F=this.startNode(),F.value=this.type===B._null?null:this.type===B._true,F.raw=this.type.keyword,this.next(),this.finishNode(F,"Literal");case B.parenL:var pn=this.start,Yn=this.parseParenAndDistinguishExpression(ce);return y&&(y.parenthesizedAssign<0&&!this.isSimpleAssignTarget(Yn)&&(y.parenthesizedAssign=pn),y.parenthesizedBind<0&&(y.parenthesizedBind=pn)),Yn;case B.bracketL:return F=this.startNode(),this.next(),F.elements=this.parseExprList(B.bracketR,!0,!0,y),this.finishNode(F,"ArrayExpression");case B.braceL:return this.parseObj(!1,y);case B._function:return F=this.startNode(),this.next(),this.parseFunction(F,0);case B._class:return this.parseClass(this.startNode(),!1);case B._new:return this.parseNew();case B.backQuote:return this.parseTemplate();case B._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},Dn.parseExprImport=function(){var y=this.startNode();switch(this.next(),this.type){case B.parenL:return this.parseDynamicImport(y);default:this.unexpected()}},Dn.parseDynamicImport=function(y){if(this.next(),y.source=this.parseMaybeAssign(),!this.eat(B.parenR)){var F=this.start;this.eat(B.comma)&&this.eat(B.parenR)?this.raiseRecoverable(F,"Trailing comma is not allowed in import()"):this.unexpected(F)}return this.finishNode(y,"ImportExpression")},Dn.parseLiteral=function(y){var F=this.startNode();return F.value=y,F.raw=this.input.slice(this.start,this.end),F.raw.charCodeAt(F.raw.length-1)===110&&(F.bigint=F.raw.slice(0,-1)),this.next(),this.finishNode(F,"Literal")},Dn.parseParenExpression=function(){this.expect(B.parenL);var y=this.parseExpression();return this.expect(B.parenR),y},Dn.parseParenAndDistinguishExpression=function(y){var F=this.start,ce=this.startLoc,Ee,ze=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var ct=this.start,bt=this.startLoc,Wt=[],pn=!0,Yn=!1,ms=new jc,Ki=this.yieldPos,Ko=this.awaitPos,ao;for(this.yieldPos=0,this.awaitPos=0;this.type!==B.parenR;)if(pn?pn=!1:this.expect(B.comma),ze&&this.afterTrailingComma(B.parenR,!0)){Yn=!0;break}else if(this.type===B.ellipsis){ao=this.start,Wt.push(this.parseParenItem(this.parseRestBinding())),this.type===B.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else Wt.push(this.parseMaybeAssign(!1,ms,this.parseParenItem));var DI=this.start,NI=this.startLoc;if(this.expect(B.parenR),y&&!this.canInsertSemicolon()&&this.eat(B.arrow))return this.checkPatternErrors(ms,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=Ki,this.awaitPos=Ko,this.parseParenArrowList(F,ce,Wt);(!Wt.length||Yn)&&this.unexpected(this.lastTokStart),ao&&this.unexpected(ao),this.checkExpressionErrors(ms,!0),this.yieldPos=Ki||this.yieldPos,this.awaitPos=Ko||this.awaitPos,Wt.length>1?(Ee=this.startNodeAt(ct,bt),Ee.expressions=Wt,this.finishNodeAt(Ee,"SequenceExpression",DI,NI)):Ee=Wt[0]}else Ee=this.parseParenExpression();if(this.options.preserveParens){var Ib=this.startNodeAt(F,ce);return Ib.expression=Ee,this.finishNode(Ib,"ParenthesizedExpression")}else return Ee},Dn.parseParenItem=function(y){return y},Dn.parseParenArrowList=function(y,F,ce){return this.parseArrowExpression(this.startNodeAt(y,F),ce)};var xI=[];Dn.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var y=this.startNode(),F=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(B.dot)){y.meta=F;var ce=this.containsEsc;return y.property=this.parseIdent(!0),(y.property.name!=="target"||ce)&&this.raiseRecoverable(y.property.start,"The only valid meta property for new is new.target"),this.inNonArrowFunction()||this.raiseRecoverable(y.start,"new.target can only be used in functions"),this.finishNode(y,"MetaProperty")}var Ee=this.start,ze=this.startLoc,ct=this.type===B._import;return y.callee=this.parseSubscripts(this.parseExprAtom(),Ee,ze,!0),ct&&y.callee.type==="ImportExpression"&&this.raise(Ee,"Cannot use new with import()"),this.eat(B.parenL)?y.arguments=this.parseExprList(B.parenR,this.options.ecmaVersion>=8,!1):y.arguments=xI,this.finishNode(y,"NewExpression")},Dn.parseTemplateElement=function(y){var F=y.isTagged,ce=this.startNode();return this.type===B.invalidTemplate?(F||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),ce.value={raw:this.value,cooked:null}):ce.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),ce.tail=this.type===B.backQuote,this.finishNode(ce,"TemplateElement")},Dn.parseTemplate=function(y){y===void 0&&(y={});var F=y.isTagged;F===void 0&&(F=!1);var ce=this.startNode();this.next(),ce.expressions=[];var Ee=this.parseTemplateElement({isTagged:F});for(ce.quasis=[Ee];!Ee.tail;)this.type===B.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(B.dollarBraceL),ce.expressions.push(this.parseExpression()),this.expect(B.braceR),ce.quasis.push(Ee=this.parseTemplateElement({isTagged:F}));return this.next(),this.finishNode(ce,"TemplateLiteral")},Dn.isAsyncProp=function(y){return!y.computed&&y.key.type==="Identifier"&&y.key.name==="async"&&(this.type===B.name||this.type===B.num||this.type===B.string||this.type===B.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===B.star)&&!Me.test(this.input.slice(this.lastTokEnd,this.start))},Dn.parseObj=function(y,F){var ce=this.startNode(),Ee=!0,ze={};for(ce.properties=[],this.next();!this.eat(B.braceR);){if(Ee)Ee=!1;else if(this.expect(B.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(B.braceR))break;var ct=this.parseProperty(y,F);y||this.checkPropClash(ct,ze,F),ce.properties.push(ct)}return this.finishNode(ce,y?"ObjectPattern":"ObjectExpression")},Dn.parseProperty=function(y,F){var ce=this.startNode(),Ee,ze,ct,bt;if(this.options.ecmaVersion>=9&&this.eat(B.ellipsis))return y?(ce.argument=this.parseIdent(!1),this.type===B.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(ce,"RestElement")):(this.type===B.parenL&&F&&(F.parenthesizedAssign<0&&(F.parenthesizedAssign=this.start),F.parenthesizedBind<0&&(F.parenthesizedBind=this.start)),ce.argument=this.parseMaybeAssign(!1,F),this.type===B.comma&&F&&F.trailingComma<0&&(F.trailingComma=this.start),this.finishNode(ce,"SpreadElement"));this.options.ecmaVersion>=6&&(ce.method=!1,ce.shorthand=!1,(y||F)&&(ct=this.start,bt=this.startLoc),y||(Ee=this.eat(B.star)));var Wt=this.containsEsc;return this.parsePropertyName(ce),!y&&!Wt&&this.options.ecmaVersion>=8&&!Ee&&this.isAsyncProp(ce)?(ze=!0,Ee=this.options.ecmaVersion>=9&&this.eat(B.star),this.parsePropertyName(ce,F)):ze=!1,this.parsePropertyValue(ce,y,Ee,ze,ct,bt,F,Wt),this.finishNode(ce,"Property")},Dn.parsePropertyValue=function(y,F,ce,Ee,ze,ct,bt,Wt){if((ce||Ee)&&this.type===B.colon&&this.unexpected(),this.eat(B.colon))y.value=F?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,bt),y.kind="init";else if(this.options.ecmaVersion>=6&&this.type===B.parenL)F&&this.unexpected(),y.kind="init",y.method=!0,y.value=this.parseMethod(ce,Ee);else if(!F&&!Wt&&this.options.ecmaVersion>=5&&!y.computed&&y.key.type==="Identifier"&&(y.key.name==="get"||y.key.name==="set")&&this.type!==B.comma&&this.type!==B.braceR){(ce||Ee)&&this.unexpected(),y.kind=y.key.name,this.parsePropertyName(y),y.value=this.parseMethod(!1);var pn=y.kind==="get"?0:1;if(y.value.params.length!==pn){var Yn=y.value.start;y.kind==="get"?this.raiseRecoverable(Yn,"getter should have no params"):this.raiseRecoverable(Yn,"setter should have exactly one param")}else y.kind==="set"&&y.value.params[0].type==="RestElement"&&this.raiseRecoverable(y.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!y.computed&&y.key.type==="Identifier"?((ce||Ee)&&this.unexpected(),this.checkUnreserved(y.key),y.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=ze),y.kind="init",F?y.value=this.parseMaybeDefault(ze,ct,y.key):this.type===B.eq&&bt?(bt.shorthandAssign<0&&(bt.shorthandAssign=this.start),y.value=this.parseMaybeDefault(ze,ct,y.key)):y.value=y.key,y.shorthand=!0):this.unexpected()},Dn.parsePropertyName=function(y){if(this.options.ecmaVersion>=6){if(this.eat(B.bracketL))return y.computed=!0,y.key=this.parseMaybeAssign(),this.expect(B.bracketR),y.key;y.computed=!1}return y.key=this.type===B.num||this.type===B.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},Dn.initFunction=function(y){y.id=null,this.options.ecmaVersion>=6&&(y.generator=y.expression=!1),this.options.ecmaVersion>=8&&(y.async=!1)},Dn.parseMethod=function(y,F,ce){var Ee=this.startNode(),ze=this.yieldPos,ct=this.awaitPos,bt=this.awaitIdentPos;return this.initFunction(Ee),this.options.ecmaVersion>=6&&(Ee.generator=y),this.options.ecmaVersion>=8&&(Ee.async=!!F),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Cs(F,Ee.generator)|er|(ce?Tr:0)),this.expect(B.parenL),Ee.params=this.parseBindingList(B.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(Ee,!1,!0),this.yieldPos=ze,this.awaitPos=ct,this.awaitIdentPos=bt,this.finishNode(Ee,"FunctionExpression")},Dn.parseArrowExpression=function(y,F,ce){var Ee=this.yieldPos,ze=this.awaitPos,ct=this.awaitIdentPos;return this.enterScope(Cs(ce,!1)|jr),this.initFunction(y),this.options.ecmaVersion>=8&&(y.async=!!ce),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,y.params=this.toAssignableList(F,!0),this.parseFunctionBody(y,!0,!1),this.yieldPos=Ee,this.awaitPos=ze,this.awaitIdentPos=ct,this.finishNode(y,"ArrowFunctionExpression")},Dn.parseFunctionBody=function(y,F,ce){var Ee=F&&this.type!==B.braceL,ze=this.strict,ct=!1;if(Ee)y.body=this.parseMaybeAssign(),y.expression=!0,this.checkParams(y,!1);else{var bt=this.options.ecmaVersion>=7&&!this.isSimpleParamList(y.params);(!ze||bt)&&(ct=this.strictDirective(this.end),ct&&bt&&this.raiseRecoverable(y.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var Wt=this.labels;this.labels=[],ct&&(this.strict=!0),this.checkParams(y,!ze&&!ct&&!F&&!ce&&this.isSimpleParamList(y.params)),y.body=this.parseBlock(!1),y.expression=!1,this.adaptDirectivePrologue(y.body.body),this.labels=Wt}this.exitScope(),this.strict&&y.id&&this.checkLVal(y.id,fb),this.strict=ze},Dn.isSimpleParamList=function(y){for(var F=0,ce=y;F<ce.length;F+=1){var Ee=ce[F];if(Ee.type!=="Identifier")return!1}return!0},Dn.checkParams=function(y,F){for(var ce={},Ee=0,ze=y.params;Ee<ze.length;Ee+=1){var ct=ze[Ee];this.checkLVal(ct,Nh,F?null:ce)}},Dn.parseExprList=function(y,F,ce,Ee){for(var ze=[],ct=!0;!this.eat(y);){if(ct)ct=!1;else if(this.expect(B.comma),F&&this.afterTrailingComma(y))break;var bt=void 0;ce&&this.type===B.comma?bt=null:this.type===B.ellipsis?(bt=this.parseSpread(Ee),Ee&&this.type===B.comma&&Ee.trailingComma<0&&(Ee.trailingComma=this.start)):bt=this.parseMaybeAssign(!1,Ee),ze.push(bt)}return ze},Dn.checkUnreserved=function(y){var F=y.start,ce=y.end,Ee=y.name;if(this.inGenerator&&Ee==="yield"&&this.raiseRecoverable(F,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&Ee==="await"&&this.raiseRecoverable(F,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(Ee)&&this.raise(F,"Unexpected keyword '"+Ee+"'"),!(this.options.ecmaVersion<6&&this.input.slice(F,ce).indexOf("\\")!==-1)){var ze=this.strict?this.reservedWordsStrict:this.reservedWords;ze.test(Ee)&&(!this.inAsync&&Ee==="await"&&this.raiseRecoverable(F,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(F,"The keyword '"+Ee+"' is reserved"))}},Dn.parseIdent=function(y,F){var ce=this.startNode();return this.type===B.name?ce.name=this.value:this.type.keyword?(ce.name=this.type.keyword,(ce.name==="class"||ce.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!y),this.finishNode(ce,"Identifier"),y||(this.checkUnreserved(ce),ce.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=ce.start)),ce},Dn.parseYield=function(y){this.yieldPos||(this.yieldPos=this.start);var F=this.startNode();return this.next(),this.type===B.semi||this.canInsertSemicolon()||this.type!==B.star&&!this.type.startsExpr?(F.delegate=!1,F.argument=null):(F.delegate=this.eat(B.star),F.argument=this.parseMaybeAssign(y)),this.finishNode(F,"YieldExpression")},Dn.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var y=this.startNode();return this.next(),y.argument=this.parseMaybeUnary(null,!1),this.finishNode(y,"AwaitExpression")};var Gc=hr.prototype;Gc.raise=function(y,F){var ce=on(this.input,y);F+=" ("+ce.line+":"+ce.column+")";var Ee=new SyntaxError(F);throw Ee.pos=y,Ee.loc=ce,Ee.raisedAt=this.pos,Ee},Gc.raiseRecoverable=Gc.raise,Gc.curPosition=function(){if(this.options.locations)return new vn(this.curLine,this.pos-this.lineStart)};var ba=hr.prototype,SI=function(F){this.flags=F,this.var=[],this.lexical=[],this.functions=[]};ba.enterScope=function(y){this.scopeStack.push(new SI(y))},ba.exitScope=function(){this.scopeStack.pop()},ba.treatFunctionsAsVarInScope=function(y){return y.flags&Cn||!this.inModule&&y.flags&_r},ba.declareName=function(y,F,ce){var Ee=!1;if(F===Vi){var ze=this.currentScope();Ee=ze.lexical.indexOf(y)>-1||ze.functions.indexOf(y)>-1||ze.var.indexOf(y)>-1,ze.lexical.push(y),this.inModule&&ze.flags&_r&&delete this.undefinedExports[y]}else if(F===db){var ct=this.currentScope();ct.lexical.push(y)}else if(F===cb){var bt=this.currentScope();this.treatFunctionsAsVar?Ee=bt.lexical.indexOf(y)>-1:Ee=bt.lexical.indexOf(y)>-1||bt.var.indexOf(y)>-1,bt.functions.push(y)}else for(var Wt=this.scopeStack.length-1;Wt>=0;--Wt){var pn=this.scopeStack[Wt];if(pn.lexical.indexOf(y)>-1&&!(pn.flags&bn&&pn.lexical[0]===y)||!this.treatFunctionsAsVarInScope(pn)&&pn.functions.indexOf(y)>-1){Ee=!0;break}if(pn.var.push(y),this.inModule&&pn.flags&_r&&delete this.undefinedExports[y],pn.flags&Gn)break}Ee&&this.raiseRecoverable(ce,"Identifier '"+y+"' has already been declared")},ba.checkLocalExport=function(y){this.scopeStack[0].lexical.indexOf(y.name)===-1&&this.scopeStack[0].var.indexOf(y.name)===-1&&(this.undefinedExports[y.name]=y)},ba.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},ba.currentVarScope=function(){for(var y=this.scopeStack.length-1;;y--){var F=this.scopeStack[y];if(F.flags&Gn)return F}},ba.currentThisScope=function(){for(var y=this.scopeStack.length-1;;y--){var F=this.scopeStack[y];if(F.flags&Gn&&!(F.flags&jr))return F}};var Yc=function(F,ce,Ee){this.type="",this.start=ce,this.end=0,F.options.locations&&(this.loc=new $n(F,Ee)),F.options.directSourceFile&&(this.sourceFile=F.options.directSourceFile),F.options.ranges&&(this.range=[ce,0])},Xc=hr.prototype;Xc.startNode=function(){return new Yc(this,this.start,this.startLoc)},Xc.startNodeAt=function(y,F){return new Yc(this,y,F)};function pb(y,F,ce,Ee){return y.type=F,y.end=ce,this.options.locations&&(y.loc.end=Ee),this.options.ranges&&(y.range[1]=ce),y}Xc.finishNode=function(y,F){return pb.call(this,y,F,this.lastTokEnd,this.lastTokEndLoc)},Xc.finishNodeAt=function(y,F,ce,Ee){return pb.call(this,y,F,ce,Ee)};var Os=function(F,ce,Ee,ze,ct){this.token=F,this.isExpr=!!ce,this.preserveSpace=!!Ee,this.override=ze,this.generator=!!ct},gr={b_stat:new Os("{",!1),b_expr:new Os("{",!0),b_tmpl:new Os("${",!1),p_stat:new Os("(",!1),p_expr:new Os("(",!0),q_tmpl:new Os("`",!0,!0,function(y){return y.tryReadTemplateToken()}),f_stat:new Os("function",!1),f_expr:new Os("function",!0),f_expr_gen:new Os("function",!0,!1,null,!0),f_gen:new Os("function",!1,!1,null,!0)},qc=hr.prototype;qc.initialContext=function(){return[gr.b_stat]},qc.braceIsBlock=function(y){var F=this.curContext();return F===gr.f_expr||F===gr.f_stat?!0:y===B.colon&&(F===gr.b_stat||F===gr.b_expr)?!F.isExpr:y===B._return||y===B.name&&this.exprAllowed?Me.test(this.input.slice(this.lastTokEnd,this.start)):y===B._else||y===B.semi||y===B.eof||y===B.parenR||y===B.arrow?!0:y===B.braceL?F===gr.b_stat:y===B._var||y===B._const||y===B.name?!1:!this.exprAllowed},qc.inGeneratorContext=function(){for(var y=this.context.length-1;y>=1;y--){var F=this.context[y];if(F.token==="function")return F.generator}return!1},qc.updateContext=function(y){var F,ce=this.type;ce.keyword&&y===B.dot?this.exprAllowed=!1:(F=ce.updateContext)?F.call(this,y):this.exprAllowed=ce.beforeExpr},B.parenR.updateContext=B.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var y=this.context.pop();y===gr.b_stat&&this.curContext().token==="function"&&(y=this.context.pop()),this.exprAllowed=!y.isExpr},B.braceL.updateContext=function(y){this.context.push(this.braceIsBlock(y)?gr.b_stat:gr.b_expr),this.exprAllowed=!0},B.dollarBraceL.updateContext=function(){this.context.push(gr.b_tmpl),this.exprAllowed=!0},B.parenL.updateContext=function(y){var F=y===B._if||y===B._for||y===B._with||y===B._while;this.context.push(F?gr.p_stat:gr.p_expr),this.exprAllowed=!0},B.incDec.updateContext=function(){},B._function.updateContext=B._class.updateContext=function(y){y.beforeExpr&&y!==B.semi&&y!==B._else&&!(y===B._return&&Me.test(this.input.slice(this.lastTokEnd,this.start)))&&!((y===B.colon||y===B.braceL)&&this.curContext()===gr.b_stat)?this.context.push(gr.f_expr):this.context.push(gr.f_stat),this.exprAllowed=!1},B.backQuote.updateContext=function(){this.curContext()===gr.q_tmpl?this.context.pop():this.context.push(gr.q_tmpl),this.exprAllowed=!1},B.star.updateContext=function(y){if(y===B._function){var F=this.context.length-1;this.context[F]===gr.f_expr?this.context[F]=gr.f_expr_gen:this.context[F]=gr.f_gen}this.exprAllowed=!0},B.name.updateContext=function(y){var F=!1;this.options.ecmaVersion>=6&&y!==B.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(F=!0),this.exprAllowed=F};var mb="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",gb=mb+" Extended_Pictographic",CI=gb,_I={9:mb,10:gb,11:CI},vb="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",yb="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",bb=yb+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",TI=bb+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",kI={9:yb,10:bb,11:TI},wb={};function Vh(y){var F=wb[y]={binary:hn(_I[y]+" "+vb),nonBinary:{General_Category:hn(vb),Script:hn(kI[y])}};F.nonBinary.Script_Extensions=F.nonBinary.Script,F.nonBinary.gc=F.nonBinary.General_Category,F.nonBinary.sc=F.nonBinary.Script,F.nonBinary.scx=F.nonBinary.Script_Extensions}Vh(9),Vh(10),Vh(11);var an=hr.prototype,Bi=function(F){this.parser=F,this.validFlags="gim"+(F.options.ecmaVersion>=6?"uy":"")+(F.options.ecmaVersion>=9?"s":""),this.unicodeProperties=wb[F.options.ecmaVersion>=11?11:F.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Bi.prototype.reset=function(F,ce,Ee){var ze=Ee.indexOf("u")!==-1;this.start=F|0,this.source=ce+"",this.flags=Ee,this.switchU=ze&&this.parser.options.ecmaVersion>=6,this.switchN=ze&&this.parser.options.ecmaVersion>=9},Bi.prototype.raise=function(F){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+F)},Bi.prototype.at=function(F){var ce=this.source,Ee=ce.length;if(F>=Ee)return-1;var ze=ce.charCodeAt(F);if(!this.switchU||ze<=55295||ze>=57344||F+1>=Ee)return ze;var ct=ce.charCodeAt(F+1);return ct>=56320&&ct<=57343?(ze<<10)+ct-56613888:ze},Bi.prototype.nextIndex=function(F){var ce=this.source,Ee=ce.length;if(F>=Ee)return Ee;var ze=ce.charCodeAt(F),ct;return!this.switchU||ze<=55295||ze>=57344||F+1>=Ee||(ct=ce.charCodeAt(F+1))<56320||ct>57343?F+1:F+2},Bi.prototype.current=function(){return this.at(this.pos)},Bi.prototype.lookahead=function(){return this.at(this.nextIndex(this.pos))},Bi.prototype.advance=function(){this.pos=this.nextIndex(this.pos)},Bi.prototype.eat=function(F){return this.current()===F?(this.advance(),!0):!1};function Jc(y){return y<=65535?String.fromCharCode(y):(y-=65536,String.fromCharCode((y>>10)+55296,(y&1023)+56320))}an.validateRegExpFlags=function(y){for(var F=y.validFlags,ce=y.flags,Ee=0;Ee<ce.length;Ee++){var ze=ce.charAt(Ee);F.indexOf(ze)===-1&&this.raise(y.start,"Invalid regular expression flag"),ce.indexOf(ze,Ee+1)>-1&&this.raise(y.start,"Duplicate regular expression flag")}},an.validateRegExpPattern=function(y){this.regexp_pattern(y),!y.switchN&&this.options.ecmaVersion>=9&&y.groupNames.length>0&&(y.switchN=!0,this.regexp_pattern(y))},an.regexp_pattern=function(y){y.pos=0,y.lastIntValue=0,y.lastStringValue="",y.lastAssertionIsQuantifiable=!1,y.numCapturingParens=0,y.maxBackReference=0,y.groupNames.length=0,y.backReferenceNames.length=0,this.regexp_disjunction(y),y.pos!==y.source.length&&(y.eat(41)&&y.raise("Unmatched ')'"),(y.eat(93)||y.eat(125))&&y.raise("Lone quantifier brackets")),y.maxBackReference>y.numCapturingParens&&y.raise("Invalid escape");for(var F=0,ce=y.backReferenceNames;F<ce.length;F+=1){var Ee=ce[F];y.groupNames.indexOf(Ee)===-1&&y.raise("Invalid named capture referenced")}},an.regexp_disjunction=function(y){for(this.regexp_alternative(y);y.eat(124);)this.regexp_alternative(y);this.regexp_eatQuantifier(y,!0)&&y.raise("Nothing to repeat"),y.eat(123)&&y.raise("Lone quantifier brackets")},an.regexp_alternative=function(y){for(;y.pos<y.source.length&&this.regexp_eatTerm(y););},an.regexp_eatTerm=function(y){return this.regexp_eatAssertion(y)?(y.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(y)&&y.switchU&&y.raise("Invalid quantifier"),!0):(y.switchU?this.regexp_eatAtom(y):this.regexp_eatExtendedAtom(y))?(this.regexp_eatQuantifier(y),!0):!1},an.regexp_eatAssertion=function(y){var F=y.pos;if(y.lastAssertionIsQuantifiable=!1,y.eat(94)||y.eat(36))return!0;if(y.eat(92)){if(y.eat(66)||y.eat(98))return!0;y.pos=F}if(y.eat(40)&&y.eat(63)){var ce=!1;if(this.options.ecmaVersion>=9&&(ce=y.eat(60)),y.eat(61)||y.eat(33))return this.regexp_disjunction(y),y.eat(41)||y.raise("Unterminated group"),y.lastAssertionIsQuantifiable=!ce,!0}return y.pos=F,!1},an.regexp_eatQuantifier=function(y,F){return F===void 0&&(F=!1),this.regexp_eatQuantifierPrefix(y,F)?(y.eat(63),!0):!1},an.regexp_eatQuantifierPrefix=function(y,F){return y.eat(42)||y.eat(43)||y.eat(63)||this.regexp_eatBracedQuantifier(y,F)},an.regexp_eatBracedQuantifier=function(y,F){var ce=y.pos;if(y.eat(123)){var Ee=0,ze=-1;if(this.regexp_eatDecimalDigits(y)&&(Ee=y.lastIntValue,y.eat(44)&&this.regexp_eatDecimalDigits(y)&&(ze=y.lastIntValue),y.eat(125)))return ze!==-1&&ze<Ee&&!F&&y.raise("numbers out of order in {} quantifier"),!0;y.switchU&&!F&&y.raise("Incomplete quantifier"),y.pos=ce}return!1},an.regexp_eatAtom=function(y){return this.regexp_eatPatternCharacters(y)||y.eat(46)||this.regexp_eatReverseSolidusAtomEscape(y)||this.regexp_eatCharacterClass(y)||this.regexp_eatUncapturingGroup(y)||this.regexp_eatCapturingGroup(y)},an.regexp_eatReverseSolidusAtomEscape=function(y){var F=y.pos;if(y.eat(92)){if(this.regexp_eatAtomEscape(y))return!0;y.pos=F}return!1},an.regexp_eatUncapturingGroup=function(y){var F=y.pos;if(y.eat(40)){if(y.eat(63)&&y.eat(58)){if(this.regexp_disjunction(y),y.eat(41))return!0;y.raise("Unterminated group")}y.pos=F}return!1},an.regexp_eatCapturingGroup=function(y){if(y.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(y):y.current()===63&&y.raise("Invalid group"),this.regexp_disjunction(y),y.eat(41))return y.numCapturingParens+=1,!0;y.raise("Unterminated group")}return!1},an.regexp_eatExtendedAtom=function(y){return y.eat(46)||this.regexp_eatReverseSolidusAtomEscape(y)||this.regexp_eatCharacterClass(y)||this.regexp_eatUncapturingGroup(y)||this.regexp_eatCapturingGroup(y)||this.regexp_eatInvalidBracedQuantifier(y)||this.regexp_eatExtendedPatternCharacter(y)},an.regexp_eatInvalidBracedQuantifier=function(y){return this.regexp_eatBracedQuantifier(y,!0)&&y.raise("Nothing to repeat"),!1},an.regexp_eatSyntaxCharacter=function(y){var F=y.current();return xb(F)?(y.lastIntValue=F,y.advance(),!0):!1};function xb(y){return y===36||y>=40&&y<=43||y===46||y===63||y>=91&&y<=94||y>=123&&y<=125}an.regexp_eatPatternCharacters=function(y){for(var F=y.pos,ce=0;(ce=y.current())!==-1&&!xb(ce);)y.advance();return y.pos!==F},an.regexp_eatExtendedPatternCharacter=function(y){var F=y.current();return F!==-1&&F!==36&&!(F>=40&&F<=43)&&F!==46&&F!==63&&F!==91&&F!==94&&F!==124?(y.advance(),!0):!1},an.regexp_groupSpecifier=function(y){if(y.eat(63)){if(this.regexp_eatGroupName(y)){y.groupNames.indexOf(y.lastStringValue)!==-1&&y.raise("Duplicate capture group name"),y.groupNames.push(y.lastStringValue);return}y.raise("Invalid group")}},an.regexp_eatGroupName=function(y){if(y.lastStringValue="",y.eat(60)){if(this.regexp_eatRegExpIdentifierName(y)&&y.eat(62))return!0;y.raise("Invalid capture group name")}return!1},an.regexp_eatRegExpIdentifierName=function(y){if(y.lastStringValue="",this.regexp_eatRegExpIdentifierStart(y)){for(y.lastStringValue+=Jc(y.lastIntValue);this.regexp_eatRegExpIdentifierPart(y);)y.lastStringValue+=Jc(y.lastIntValue);return!0}return!1},an.regexp_eatRegExpIdentifierStart=function(y){var F=y.pos,ce=y.current();return y.advance(),ce===92&&this.regexp_eatRegExpUnicodeEscapeSequence(y)&&(ce=y.lastIntValue),EI(ce)?(y.lastIntValue=ce,!0):(y.pos=F,!1)};function EI(y){return me(y,!0)||y===36||y===95}an.regexp_eatRegExpIdentifierPart=function(y){var F=y.pos,ce=y.current();return y.advance(),ce===92&&this.regexp_eatRegExpUnicodeEscapeSequence(y)&&(ce=y.lastIntValue),$I(ce)?(y.lastIntValue=ce,!0):(y.pos=F,!1)};function $I(y){return X(y,!0)||y===36||y===95||y===8204||y===8205}an.regexp_eatAtomEscape=function(y){return this.regexp_eatBackReference(y)||this.regexp_eatCharacterClassEscape(y)||this.regexp_eatCharacterEscape(y)||y.switchN&&this.regexp_eatKGroupName(y)?!0:(y.switchU&&(y.current()===99&&y.raise("Invalid unicode escape"),y.raise("Invalid escape")),!1)},an.regexp_eatBackReference=function(y){var F=y.pos;if(this.regexp_eatDecimalEscape(y)){var ce=y.lastIntValue;if(y.switchU)return ce>y.maxBackReference&&(y.maxBackReference=ce),!0;if(ce<=y.numCapturingParens)return!0;y.pos=F}return!1},an.regexp_eatKGroupName=function(y){if(y.eat(107)){if(this.regexp_eatGroupName(y))return y.backReferenceNames.push(y.lastStringValue),!0;y.raise("Invalid named reference")}return!1},an.regexp_eatCharacterEscape=function(y){return this.regexp_eatControlEscape(y)||this.regexp_eatCControlLetter(y)||this.regexp_eatZero(y)||this.regexp_eatHexEscapeSequence(y)||this.regexp_eatRegExpUnicodeEscapeSequence(y)||!y.switchU&&this.regexp_eatLegacyOctalEscapeSequence(y)||this.regexp_eatIdentityEscape(y)},an.regexp_eatCControlLetter=function(y){var F=y.pos;if(y.eat(99)){if(this.regexp_eatControlLetter(y))return!0;y.pos=F}return!1},an.regexp_eatZero=function(y){return y.current()===48&&!Zc(y.lookahead())?(y.lastIntValue=0,y.advance(),!0):!1},an.regexp_eatControlEscape=function(y){var F=y.current();return F===116?(y.lastIntValue=9,y.advance(),!0):F===110?(y.lastIntValue=10,y.advance(),!0):F===118?(y.lastIntValue=11,y.advance(),!0):F===102?(y.lastIntValue=12,y.advance(),!0):F===114?(y.lastIntValue=13,y.advance(),!0):!1},an.regexp_eatControlLetter=function(y){var F=y.current();return Sb(F)?(y.lastIntValue=F%32,y.advance(),!0):!1};function Sb(y){return y>=65&&y<=90||y>=97&&y<=122}an.regexp_eatRegExpUnicodeEscapeSequence=function(y){var F=y.pos;if(y.eat(117)){if(this.regexp_eatFixedHexDigits(y,4)){var ce=y.lastIntValue;if(y.switchU&&ce>=55296&&ce<=56319){var Ee=y.pos;if(y.eat(92)&&y.eat(117)&&this.regexp_eatFixedHexDigits(y,4)){var ze=y.lastIntValue;if(ze>=56320&&ze<=57343)return y.lastIntValue=(ce-55296)*1024+(ze-56320)+65536,!0}y.pos=Ee,y.lastIntValue=ce}return!0}if(y.switchU&&y.eat(123)&&this.regexp_eatHexDigits(y)&&y.eat(125)&&II(y.lastIntValue))return!0;y.switchU&&y.raise("Invalid unicode escape"),y.pos=F}return!1};function II(y){return y>=0&&y<=1114111}an.regexp_eatIdentityEscape=function(y){if(y.switchU)return this.regexp_eatSyntaxCharacter(y)?!0:y.eat(47)?(y.lastIntValue=47,!0):!1;var F=y.current();return F!==99&&(!y.switchN||F!==107)?(y.lastIntValue=F,y.advance(),!0):!1},an.regexp_eatDecimalEscape=function(y){y.lastIntValue=0;var F=y.current();if(F>=49&&F<=57){do y.lastIntValue=10*y.lastIntValue+(F-48),y.advance();while((F=y.current())>=48&&F<=57);return!0}return!1},an.regexp_eatCharacterClassEscape=function(y){var F=y.current();if(AI(F))return y.lastIntValue=-1,y.advance(),!0;if(y.switchU&&this.options.ecmaVersion>=9&&(F===80||F===112)){if(y.lastIntValue=-1,y.advance(),y.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(y)&&y.eat(125))return!0;y.raise("Invalid property name")}return!1};function AI(y){return y===100||y===68||y===115||y===83||y===119||y===87}an.regexp_eatUnicodePropertyValueExpression=function(y){var F=y.pos;if(this.regexp_eatUnicodePropertyName(y)&&y.eat(61)){var ce=y.lastStringValue;if(this.regexp_eatUnicodePropertyValue(y)){var Ee=y.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(y,ce,Ee),!0}}if(y.pos=F,this.regexp_eatLoneUnicodePropertyNameOrValue(y)){var ze=y.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(y,ze),!0}return!1},an.regexp_validateUnicodePropertyNameAndValue=function(y,F,ce){sn(y.unicodeProperties.nonBinary,F)||y.raise("Invalid property name"),y.unicodeProperties.nonBinary[F].test(ce)||y.raise("Invalid property value")},an.regexp_validateUnicodePropertyNameOrValue=function(y,F){y.unicodeProperties.binary.test(F)||y.raise("Invalid property name")},an.regexp_eatUnicodePropertyName=function(y){var F=0;for(y.lastStringValue="";Cb(F=y.current());)y.lastStringValue+=Jc(F),y.advance();return y.lastStringValue!==""};function Cb(y){return Sb(y)||y===95}an.regexp_eatUnicodePropertyValue=function(y){var F=0;for(y.lastStringValue="";LI(F=y.current());)y.lastStringValue+=Jc(F),y.advance();return y.lastStringValue!==""};function LI(y){return Cb(y)||Zc(y)}an.regexp_eatLoneUnicodePropertyNameOrValue=function(y){return this.regexp_eatUnicodePropertyValue(y)},an.regexp_eatCharacterClass=function(y){if(y.eat(91)){if(y.eat(94),this.regexp_classRanges(y),y.eat(93))return!0;y.raise("Unterminated character class")}return!1},an.regexp_classRanges=function(y){for(;this.regexp_eatClassAtom(y);){var F=y.lastIntValue;if(y.eat(45)&&this.regexp_eatClassAtom(y)){var ce=y.lastIntValue;y.switchU&&(F===-1||ce===-1)&&y.raise("Invalid character class"),F!==-1&&ce!==-1&&F>ce&&y.raise("Range out of order in character class")}}},an.regexp_eatClassAtom=function(y){var F=y.pos;if(y.eat(92)){if(this.regexp_eatClassEscape(y))return!0;if(y.switchU){var ce=y.current();(ce===99||kb(ce))&&y.raise("Invalid class escape"),y.raise("Invalid escape")}y.pos=F}var Ee=y.current();return Ee!==93?(y.lastIntValue=Ee,y.advance(),!0):!1},an.regexp_eatClassEscape=function(y){var F=y.pos;if(y.eat(98))return y.lastIntValue=8,!0;if(y.switchU&&y.eat(45))return y.lastIntValue=45,!0;if(!y.switchU&&y.eat(99)){if(this.regexp_eatClassControlLetter(y))return!0;y.pos=F}return this.regexp_eatCharacterClassEscape(y)||this.regexp_eatCharacterEscape(y)},an.regexp_eatClassControlLetter=function(y){var F=y.current();return Zc(F)||F===95?(y.lastIntValue=F%32,y.advance(),!0):!1},an.regexp_eatHexEscapeSequence=function(y){var F=y.pos;if(y.eat(120)){if(this.regexp_eatFixedHexDigits(y,2))return!0;y.switchU&&y.raise("Invalid escape"),y.pos=F}return!1},an.regexp_eatDecimalDigits=function(y){var F=y.pos,ce=0;for(y.lastIntValue=0;Zc(ce=y.current());)y.lastIntValue=10*y.lastIntValue+(ce-48),y.advance();return y.pos!==F};function Zc(y){return y>=48&&y<=57}an.regexp_eatHexDigits=function(y){var F=y.pos,ce=0;for(y.lastIntValue=0;_b(ce=y.current());)y.lastIntValue=16*y.lastIntValue+Tb(ce),y.advance();return y.pos!==F};function _b(y){return y>=48&&y<=57||y>=65&&y<=70||y>=97&&y<=102}function Tb(y){return y>=65&&y<=70?10+(y-65):y>=97&&y<=102?10+(y-97):y-48}an.regexp_eatLegacyOctalEscapeSequence=function(y){if(this.regexp_eatOctalDigit(y)){var F=y.lastIntValue;if(this.regexp_eatOctalDigit(y)){var ce=y.lastIntValue;F<=3&&this.regexp_eatOctalDigit(y)?y.lastIntValue=F*64+ce*8+y.lastIntValue:y.lastIntValue=F*8+ce}else y.lastIntValue=F;return!0}return!1},an.regexp_eatOctalDigit=function(y){var F=y.current();return kb(F)?(y.lastIntValue=F-48,y.advance(),!0):(y.lastIntValue=0,!1)};function kb(y){return y>=48&&y<=55}an.regexp_eatFixedHexDigits=function(y,F){var ce=y.pos;y.lastIntValue=0;for(var Ee=0;Ee<F;++Ee){var ze=y.current();if(!_b(ze))return y.pos=ce,!1;y.lastIntValue=16*y.lastIntValue+Tb(ze),y.advance()}return!0};var Qc=function(F){this.type=F.type,this.value=F.value,this.start=F.start,this.end=F.end,F.options.locations&&(this.loc=new $n(F,F.startLoc,F.endLoc)),F.options.ranges&&(this.range=[F.start,F.end])},Wn=hr.prototype;Wn.next=function(y){!y&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Qc(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Wn.getToken=function(){return this.next(),new Qc(this)},typeof Symbol<"u"&&(Wn[Symbol.iterator]=function(){var y=this;return{next:function(){var F=y.getToken();return{done:F.type===B.eof,value:F}}}}),Wn.curContext=function(){return this.context[this.context.length-1]},Wn.nextToken=function(){var y=this.curContext();if((!y||!y.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(B.eof);if(y.override)return y.override(this);this.readToken(this.fullCharCodeAtPos())},Wn.readToken=function(y){return me(y,this.options.ecmaVersion>=6)||y===92?this.readWord():this.getTokenFromCode(y)},Wn.fullCharCodeAtPos=function(){var y=this.input.charCodeAt(this.pos);if(y<=55295||y>=57344)return y;var F=this.input.charCodeAt(this.pos+1);return(y<<10)+F-56613888},Wn.skipBlockComment=function(){var y=this.options.onComment&&this.curPosition(),F=this.pos,ce=this.input.indexOf("*/",this.pos+=2);if(ce===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=ce+2,this.options.locations){De.lastIndex=F;for(var Ee;(Ee=De.exec(this.input))&&Ee.index<this.pos;)++this.curLine,this.lineStart=Ee.index+Ee[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(F+2,ce),F,this.pos,y,this.curPosition())},Wn.skipLineComment=function(y){for(var F=this.pos,ce=this.options.onComment&&this.curPosition(),Ee=this.input.charCodeAt(this.pos+=y);this.pos<this.input.length&&!pt(Ee);)Ee=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(F+y,this.pos),F,this.pos,ce,this.curPosition())},Wn.skipSpace=function(){e:for(;this.pos<this.input.length;){var y=this.input.charCodeAt(this.pos);switch(y){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(y>8&&y<14||y>=5760&&Je.test(String.fromCharCode(y)))++this.pos;else break e}}},Wn.finishToken=function(y,F){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var ce=this.type;this.type=y,this.value=F,this.updateContext(ce)},Wn.readToken_dot=function(){var y=this.input.charCodeAt(this.pos+1);if(y>=48&&y<=57)return this.readNumber(!0);var F=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&y===46&&F===46?(this.pos+=3,this.finishToken(B.ellipsis)):(++this.pos,this.finishToken(B.dot))},Wn.readToken_slash=function(){var y=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):y===61?this.finishOp(B.assign,2):this.finishOp(B.slash,1)},Wn.readToken_mult_modulo_exp=function(y){var F=this.input.charCodeAt(this.pos+1),ce=1,Ee=y===42?B.star:B.modulo;return this.options.ecmaVersion>=7&&y===42&&F===42&&(++ce,Ee=B.starstar,F=this.input.charCodeAt(this.pos+2)),F===61?this.finishOp(B.assign,ce+1):this.finishOp(Ee,ce)},Wn.readToken_pipe_amp=function(y){var F=this.input.charCodeAt(this.pos+1);return F===y?this.finishOp(y===124?B.logicalOR:B.logicalAND,2):F===61?this.finishOp(B.assign,2):this.finishOp(y===124?B.bitwiseOR:B.bitwiseAND,1)},Wn.readToken_caret=function(){var y=this.input.charCodeAt(this.pos+1);return y===61?this.finishOp(B.assign,2):this.finishOp(B.bitwiseXOR,1)},Wn.readToken_plus_min=function(y){var F=this.input.charCodeAt(this.pos+1);return F===y?F===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Me.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(B.incDec,2):F===61?this.finishOp(B.assign,2):this.finishOp(B.plusMin,1)},Wn.readToken_lt_gt=function(y){var F=this.input.charCodeAt(this.pos+1),ce=1;return F===y?(ce=y===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+ce)===61?this.finishOp(B.assign,ce+1):this.finishOp(B.bitShift,ce)):F===33&&y===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(F===61&&(ce=2),this.finishOp(B.relational,ce))},Wn.readToken_eq_excl=function(y){var F=this.input.charCodeAt(this.pos+1);return F===61?this.finishOp(B.equality,this.input.charCodeAt(this.pos+2)===61?3:2):y===61&&F===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(B.arrow)):this.finishOp(y===61?B.eq:B.prefix,1)},Wn.getTokenFromCode=function(y){switch(y){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(B.parenL);case 41:return++this.pos,this.finishToken(B.parenR);case 59:return++this.pos,this.finishToken(B.semi);case 44:return++this.pos,this.finishToken(B.comma);case 91:return++this.pos,this.finishToken(B.bracketL);case 93:return++this.pos,this.finishToken(B.bracketR);case 123:return++this.pos,this.finishToken(B.braceL);case 125:return++this.pos,this.finishToken(B.braceR);case 58:return++this.pos,this.finishToken(B.colon);case 63:return++this.pos,this.finishToken(B.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(B.backQuote);case 48:var F=this.input.charCodeAt(this.pos+1);if(F===120||F===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(F===111||F===79)return this.readRadixNumber(8);if(F===98||F===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(y);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(y);case 124:case 38:return this.readToken_pipe_amp(y);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(y);case 60:case 62:return this.readToken_lt_gt(y);case 61:case 33:return this.readToken_eq_excl(y);case 126:return this.finishOp(B.prefix,1)}this.raise(this.pos,"Unexpected character '"+zh(y)+"'")},Wn.finishOp=function(y,F){var ce=this.input.slice(this.pos,this.pos+F);return this.pos+=F,this.finishToken(y,ce)},Wn.readRegexp=function(){for(var y,F,ce=this.pos;;){this.pos>=this.input.length&&this.raise(ce,"Unterminated regular expression");var Ee=this.input.charAt(this.pos);if(Me.test(Ee)&&this.raise(ce,"Unterminated regular expression"),y)y=!1;else{if(Ee==="[")F=!0;else if(Ee==="]"&&F)F=!1;else if(Ee==="/"&&!F)break;y=Ee==="\\"}++this.pos}var ze=this.input.slice(ce,this.pos);++this.pos;var ct=this.pos,bt=this.readWord1();this.containsEsc&&this.unexpected(ct);var Wt=this.regexpState||(this.regexpState=new Bi(this));Wt.reset(ce,ze,bt),this.validateRegExpFlags(Wt),this.validateRegExpPattern(Wt);var pn=null;try{pn=new RegExp(ze,bt)}catch{}return this.finishToken(B.regexp,{pattern:ze,flags:bt,value:pn})},Wn.readInt=function(y,F){for(var ce=this.pos,Ee=0,ze=0,ct=F??1/0;ze<ct;++ze){var bt=this.input.charCodeAt(this.pos),Wt=void 0;if(bt>=97?Wt=bt-97+10:bt>=65?Wt=bt-65+10:bt>=48&&bt<=57?Wt=bt-48:Wt=1/0,Wt>=y)break;++this.pos,Ee=Ee*y+Wt}return this.pos===ce||F!=null&&this.pos-ce!==F?null:Ee},Wn.readRadixNumber=function(y){var F=this.pos;this.pos+=2;var ce=this.readInt(y);return ce==null&&this.raise(this.start+2,"Expected number in radix "+y),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(ce=typeof BigInt<"u"?BigInt(this.input.slice(F,this.pos)):null,++this.pos):me(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(B.num,ce)},Wn.readNumber=function(y){var F=this.pos;!y&&this.readInt(10)===null&&this.raise(F,"Invalid number");var ce=this.pos-F>=2&&this.input.charCodeAt(F)===48;ce&&this.strict&&this.raise(F,"Invalid number");var Ee=this.input.charCodeAt(this.pos);if(!ce&&!y&&this.options.ecmaVersion>=11&&Ee===110){var ze=this.input.slice(F,this.pos),ct=typeof BigInt<"u"?BigInt(ze):null;return++this.pos,me(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(B.num,ct)}ce&&/[89]/.test(this.input.slice(F,this.pos))&&(ce=!1),Ee===46&&!ce&&(++this.pos,this.readInt(10),Ee=this.input.charCodeAt(this.pos)),(Ee===69||Ee===101)&&!ce&&(Ee=this.input.charCodeAt(++this.pos),(Ee===43||Ee===45)&&++this.pos,this.readInt(10)===null&&this.raise(F,"Invalid number")),me(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var bt=this.input.slice(F,this.pos),Wt=ce?parseInt(bt,8):parseFloat(bt);return this.finishToken(B.num,Wt)},Wn.readCodePoint=function(){var y=this.input.charCodeAt(this.pos),F;if(y===123){this.options.ecmaVersion<6&&this.unexpected();var ce=++this.pos;F=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,F>1114111&&this.invalidStringToken(ce,"Code point out of bounds")}else F=this.readHexChar(4);return F};function zh(y){return y<=65535?String.fromCharCode(y):(y-=65536,String.fromCharCode((y>>10)+55296,(y&1023)+56320))}Wn.readString=function(y){for(var F="",ce=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var Ee=this.input.charCodeAt(this.pos);if(Ee===y)break;Ee===92?(F+=this.input.slice(ce,this.pos),F+=this.readEscapedChar(!1),ce=this.pos):(pt(Ee,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return F+=this.input.slice(ce,this.pos++),this.finishToken(B.string,F)};var Eb={};Wn.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(y){if(y===Eb)this.readInvalidTemplateToken();else throw y}this.inTemplateElement=!1},Wn.invalidStringToken=function(y,F){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Eb;this.raise(y,F)},Wn.readTmplToken=function(){for(var y="",F=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var ce=this.input.charCodeAt(this.pos);if(ce===96||ce===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===B.template||this.type===B.invalidTemplate)?ce===36?(this.pos+=2,this.finishToken(B.dollarBraceL)):(++this.pos,this.finishToken(B.backQuote)):(y+=this.input.slice(F,this.pos),this.finishToken(B.template,y));if(ce===92)y+=this.input.slice(F,this.pos),y+=this.readEscapedChar(!0),F=this.pos;else if(pt(ce)){switch(y+=this.input.slice(F,this.pos),++this.pos,ce){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:y+=`
`;break;default:y+=String.fromCharCode(ce);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),F=this.pos}else++this.pos}},Wn.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(B.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Wn.readEscapedChar=function(y){var F=this.input.charCodeAt(++this.pos);switch(++this.pos,F){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return zh(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(y){var ce=this.pos-1;return this.invalidStringToken(ce,"Invalid escape sequence in template string"),null}default:if(F>=48&&F<=55){var Ee=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],ze=parseInt(Ee,8);return ze>255&&(Ee=Ee.slice(0,-1),ze=parseInt(Ee,8)),this.pos+=Ee.length-1,F=this.input.charCodeAt(this.pos),(Ee!=="0"||F===56||F===57)&&(this.strict||y)&&this.invalidStringToken(this.pos-1-Ee.length,y?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(ze)}return pt(F)?"":String.fromCharCode(F)}},Wn.readHexChar=function(y){var F=this.pos,ce=this.readInt(16,y);return ce===null&&this.invalidStringToken(F,"Bad character escape sequence"),ce},Wn.readWord1=function(){this.containsEsc=!1;for(var y="",F=!0,ce=this.pos,Ee=this.options.ecmaVersion>=6;this.pos<this.input.length;){var ze=this.fullCharCodeAtPos();if(X(ze,Ee))this.pos+=ze<=65535?1:2;else if(ze===92){this.containsEsc=!0,y+=this.input.slice(ce,this.pos);var ct=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var bt=this.readCodePoint();(F?me:X)(bt,Ee)||this.invalidStringToken(ct,"Invalid Unicode escape"),y+=zh(bt),ce=this.pos}else break;F=!1}return y+this.input.slice(ce,this.pos)},Wn.readWord=function(){var y=this.readWord1(),F=B.name;return this.keywords.test(y)&&(F=ft[y]),this.finishToken(F,y)};var $b="7.1.0";hr.acorn={Parser:hr,version:$b,defaultOptions:ln,Position:vn,SourceLocation:$n,getLineInfo:on,Node:Yc,TokenType:ie,tokTypes:B,keywordTypes:ft,TokContext:Os,tokContexts:gr,isIdentifierChar:X,isIdentifierStart:me,Token:Qc,isNewLine:pt,lineBreak:Me,lineBreakG:De,nonASCIIwhitespace:Je};function OI(y,F){return hr.parse(y,F)}function MI(y,F,ce){return hr.parseExpressionAt(y,F,ce)}function RI(y,F){return hr.tokenizer(y,F)}I.Node=Yc,I.Parser=hr,I.Position=vn,I.SourceLocation=$n,I.TokContext=Os,I.Token=Qc,I.TokenType=ie,I.defaultOptions=ln,I.getLineInfo=on,I.isIdentifierChar=X,I.isIdentifierStart=me,I.isNewLine=pt,I.keywordTypes=ft,I.lineBreak=Me,I.lineBreakG=De,I.nonASCIIwhitespace=Je,I.parse=OI,I.parseExpressionAt=MI,I.tokContexts=gr,I.tokTypes=B,I.tokenizer=RI,I.version=$b,Object.defineProperty(I,"__esModule",{value:!0})})},{}],2:[function(h,m,O){},{}],3:[function(h,m,O){function I($,x={}){const{contextName:S="gl",throwGetError:j,useTrackablePrimitives:re,readPixelsFile:Ce,recording:se=[],variables:me={},onReadPixels:X,onUnrecognizedArgumentLookup:ie}=x,we=new Proxy($,{get:Me}),Te=[],tt={};let ft=0,te="",B;return we;function Me(on,ln){switch(ln){case"addComment":return sn;case"checkThrowError":return Vt;case"getReadPixelsVariableName":return B;case"insertVariable":return Je;case"reset":return pt;case"setIndent":return kt;case"toString":return De;case"getContextVariableName":return $n}return typeof $[ln]=="function"?function(){switch(ln){case"getError":return j?se.push(`${te}if (${S}.getError() !== ${S}.NONE) throw new Error('error');`):se.push(`${te}${S}.getError();`),$.getError();case"getExtension":{const Gn=`${S}Variables${Te.length}`;se.push(`${te}const ${Gn} = ${S}.getExtension('${arguments[0]}');`);const ur=$.getExtension(arguments[0]);if(ur&&typeof ur=="object"){const es=P(ur,{getEntity:ut,useTrackablePrimitives:re,recording:se,contextName:Gn,contextVariables:Te,variables:me,indent:te,onUnrecognizedArgumentLookup:ie});return Te.push(es),es}else Te.push(null);return ur}case"readPixels":const Rn=Te.indexOf(arguments[6]);let _r;if(Rn===-1){const Gn=vn(arguments[6]);Gn?(_r=Gn,se.push(`${te}${Gn}`)):(_r=`${S}Variable${Te.length}`,Te.push(arguments[6]),se.push(`${te}const ${_r} = new ${arguments[6].constructor.name}(${arguments[6].length});`))}else _r=`${S}Variable${Rn}`;B=_r;const Cn=[arguments[0],arguments[1],arguments[2],arguments[3],ut(arguments[4]),ut(arguments[5]),_r];return se.push(`${te}${S}.readPixels(${Cn.join(", ")});`),Ce&&fn(arguments[2],arguments[3]),X&&X(_r,Cn),$.readPixels.apply($,arguments);case"drawBuffers":return se.push(`${te}${S}.drawBuffers([${z(arguments[0],{contextName:S,contextVariables:Te,getEntity:ut,addVariable:Ot,variables:me,onUnrecognizedArgumentLookup:ie})}]);`),$.drawBuffers(arguments[0])}let Zt=$[ln].apply($,arguments);switch(typeof Zt){case"undefined":se.push(`${te}${hn(ln,arguments)};`);return;case"number":case"boolean":if(re&&Te.indexOf(T(Zt))===-1){se.push(`${te}const ${S}Variable${Te.length} = ${hn(ln,arguments)};`),Te.push(Zt=T(Zt));break}default:Zt===null?se.push(`${hn(ln,arguments)};`):se.push(`${te}const ${S}Variable${Te.length} = ${hn(ln,arguments)};`),Te.push(Zt)}return Zt}:(tt[$[ln]]=ln,$[ln])}function De(){return se.join(`
`)}function pt(){for(;se.length>0;)se.pop()}function Je(on,ln){me[on]=ln}function ut(on){const ln=tt[on];return ln?S+"."+ln:on}function kt(on){te=" ".repeat(on)}function Ot(on,ln){const Zt=`${S}Variable${Te.length}`;return se.push(`${te}const ${Zt} = ${ln};`),Te.push(on),Zt}function fn(on,ln){const Zt=`${S}Variable${Te.length}`,Rn=`imageDatum${ft}`;se.push(`${te}let ${Rn} = ["P3\\n# ${Ce}.ppm\\n", ${on}, ' ', ${ln}, "\\n255\\n"].join("");`),se.push(`${te}for (let i = 0; i < ${Rn}.length; i += 4) {`),se.push(`${te}  ${Rn} += ${Zt}[i] + ' ' + ${Zt}[i + 1] + ' ' + ${Zt}[i + 2] + ' ';`),se.push(`${te}}`),se.push(`${te}if (typeof require !== "undefined") {`),se.push(`${te}  require('fs').writeFileSync('./${Ce}.ppm', ${Rn});`),se.push(`${te}}`),ft++}function sn(on){se.push(`${te}// ${on}`)}function Vt(){se.push(`${te}(() => {
${te}const error = ${S}.getError();
${te}if (error !== ${S}.NONE) {
${te}  const names = Object.getOwnPropertyNames(gl);
${te}  for (let i = 0; i < names.length; i++) {
${te}    const name = names[i];
${te}    if (${S}[name] === error) {
${te}      throw new Error('${S} threw ' + name);
${te}    }
${te}  }
${te}}
${te}})();`)}function hn(on,ln){return`${S}.${on}(${z(ln,{contextName:S,contextVariables:Te,getEntity:ut,addVariable:Ot,variables:me,onUnrecognizedArgumentLookup:ie})})`}function vn(on){if(me){for(const ln in me)if(me[ln]===on)return ln}return null}function $n(on){const ln=Te.indexOf(on);return ln!==-1?`${S}Variable${ln}`:null}}function P($,x){const S=new Proxy($,{get:tt}),j={},{contextName:re,contextVariables:Ce,getEntity:se,useTrackablePrimitives:me,recording:X,variables:ie,indent:we,onUnrecognizedArgumentLookup:Te}=x;return S;function tt(Me,De){return typeof Me[De]=="function"?function(){switch(De){case"drawBuffersWEBGL":return X.push(`${we}${re}.drawBuffersWEBGL([${z(arguments[0],{contextName:re,contextVariables:Ce,getEntity:ft,addVariable:B,variables:ie,onUnrecognizedArgumentLookup:Te})}]);`),$.drawBuffersWEBGL(arguments[0])}let pt=$[De].apply($,arguments);switch(typeof pt){case"undefined":X.push(`${we}${te(De,arguments)};`);return;case"number":case"boolean":me&&Ce.indexOf(T(pt))===-1?(X.push(`${we}const ${re}Variable${Ce.length} = ${te(De,arguments)};`),Ce.push(pt=T(pt))):(X.push(`${we}const ${re}Variable${Ce.length} = ${te(De,arguments)};`),Ce.push(pt));break;default:pt===null?X.push(`${te(De,arguments)};`):X.push(`${we}const ${re}Variable${Ce.length} = ${te(De,arguments)};`),Ce.push(pt)}return pt}:(j[$[De]]=De,$[De])}function ft(Me){return j.hasOwnProperty(Me)?`${re}.${j[Me]}`:se(Me)}function te(Me,De){return`${re}.${Me}(${z(De,{contextName:re,contextVariables:Ce,getEntity:ft,addVariable:B,variables:ie,onUnrecognizedArgumentLookup:Te})})`}function B(Me,De){const pt=`${re}Variable${Ce.length}`;return Ce.push(Me),X.push(`${we}const ${pt} = ${De};`),pt}}function z($,x){const{variables:S,onUnrecognizedArgumentLookup:j}=x;return Array.from($).map(Ce=>{const se=re(Ce);return se||R(Ce,x)}).join(", ");function re(Ce){if(S){for(const se in S)if(S.hasOwnProperty(se)&&S[se]===Ce)return se}return j?j(Ce):null}}function R($,x){const{contextName:S,contextVariables:j,getEntity:re,addVariable:Ce,onUnrecognizedArgumentLookup:se}=x;if(typeof $>"u")return"undefined";if($===null)return"null";const me=j.indexOf($);if(me>-1)return`${S}Variable${me}`;switch($.constructor.name){case"String":const X=/\n/.test($),ie=/'/.test($),we=/"/.test($);return X?"`"+$+"`":ie&&!we?'"'+$+'"':"'"+$+"'";case"Number":return re($);case"Boolean":return re($);case"Array":return Ce($,`new ${$.constructor.name}([${Array.from($).join(",")}])`);case"Float32Array":case"Uint8Array":case"Uint16Array":case"Int32Array":return Ce($,`new ${$.constructor.name}(${JSON.stringify(Array.from($))})`);default:if(se){const Te=se($);if(Te)return Te}throw new Error(`unrecognized argument type ${$.constructor.name}`)}}function T($){return new $.constructor($)}typeof m<"u"&&(m.exports={glWiretap:I,glExtensionWiretap:P}),typeof window<"u"&&(I.glExtensionWiretap=P,window.glWiretap=I)},{}],4:[function(h,m,O){function I(Ce){const se=new Array(Ce.length);for(let me=0;me<Ce.length;me++){const X=Ce[me];X.toArray?se[me]=X.toArray():se[me]=X}return se}function P(){const Ce=I(arguments),se=new Float32Array(this.output.x);for(let me=0;me<this.output.x;me++)this.thread.x=me,this.thread.y=0,this.thread.z=0,se[me]=this._fn.apply(this,Ce);return se}function z(){const Ce=I(arguments),se=new Array(this.output.y);for(let me=0;me<this.output.y;me++){const X=new Float32Array(this.output.x);for(let ie=0;ie<this.output.x;ie++)this.thread.x=ie,this.thread.y=me,this.thread.z=0,X[ie]=this._fn.apply(this,Ce);se[me]=X}return se}function R(){const Ce=I(arguments);for(let se=0;se<this.output.y;se++)for(let me=0;me<this.output.x;me++)this.thread.x=me,this.thread.y=se,this.thread.z=0,this._fn.apply(this,Ce)}function T(){const Ce=I(arguments),se=new Array(this.output.z);for(let me=0;me<this.output.z;me++){const X=new Array(this.output.y);for(let ie=0;ie<this.output.y;ie++){const we=new Float32Array(this.output.x);for(let Te=0;Te<this.output.x;Te++)this.thread.x=Te,this.thread.y=ie,this.thread.z=me,we[Te]=this._fn.apply(this,Ce);X[ie]=we}se[me]=X}return se}function $(Ce){Ce.setOutput=X=>{Ce.output=S(X),Ce.graphical&&x(Ce)},Ce.toJSON=()=>{throw new Error("Not usable with gpuMock")},Ce.setConstants=X=>(Ce.constants=X,Ce),Ce.setGraphical=X=>(Ce.graphical=X,Ce),Ce.setCanvas=X=>(Ce.canvas=X,Ce),Ce.setContext=X=>(Ce.context=X,Ce),Ce.destroy=()=>{},Ce.validateSettings=()=>{},Ce.graphical&&Ce.output&&x(Ce),Ce.exec=function(){return new Promise((X,ie)=>{try{X(Ce.apply(Ce,arguments))}catch(we){ie(we)}})},Ce.getPixels=X=>{const{x:ie,y:we}=Ce.output;return X?re(Ce._imageData.data,ie,we):Ce._imageData.data.slice(0)},Ce.color=function(X,ie,we,Te){typeof Te>"u"&&(Te=1),X=Math.floor(X*255),ie=Math.floor(ie*255),we=Math.floor(we*255),Te=Math.floor(Te*255);const tt=Ce.output.x,ft=Ce.output.y,te=Ce.thread.x,B=ft-Ce.thread.y-1,Me=te+B*tt;Ce._colorData[Me*4+0]=X,Ce._colorData[Me*4+1]=ie,Ce._colorData[Me*4+2]=we,Ce._colorData[Me*4+3]=Te};const se=()=>Ce,me=["setWarnVarUsage","setArgumentTypes","setTactic","setOptimizeFloatMemory","setDebug","setLoopMaxIterations","setConstantTypes","setFunctions","setNativeFunctions","setInjectedNative","setPipeline","setPrecision","setOutputToTexture","setImmutable","setStrictIntegers","setDynamicOutput","setHardcodeConstants","setDynamicArguments","setUseLegacyEncoder","setWarnVarUsage","addSubKernel"];for(let X=0;X<me.length;X++)Ce[me[X]]=se;return Ce}function x(Ce){const{x:se,y:me}=Ce.output;if(Ce.context&&Ce.context.createImageData){const X=new Uint8ClampedArray(se*me*4);Ce._imageData=Ce.context.createImageData(se,me),Ce._colorData=X}else{const X=new Uint8ClampedArray(se*me*4);Ce._imageData={data:X},Ce._colorData=X}}function S(Ce){let se=null;if(Ce.length)if(Ce.length===3){const[me,X,ie]=Ce;se={x:me,y:X,z:ie}}else if(Ce.length===2){const[me,X]=Ce;se={x:me,y:X}}else{const[me]=Ce;se={x:me}}else se=Ce;return se}function j(Ce,se={}){const me=se.output?S(se.output):null;function X(){return X.output.z?T.apply(X,arguments):X.output.y?X.graphical?R.apply(X,arguments):z.apply(X,arguments):P.apply(X,arguments)}return X._fn=Ce,X.constants=se.constants||null,X.context=se.context||null,X.canvas=se.canvas||null,X.graphical=se.graphical||!1,X._imageData=null,X._colorData=null,X.output=me,X.thread={x:0,y:0,z:0},$(X)}function re(Ce,se,me){const X=me/2|0,ie=se*4,we=new Uint8ClampedArray(se*4),Te=Ce.slice(0);for(let tt=0;tt<X;++tt){const ft=tt*ie,te=(me-tt-1)*ie;we.set(Te.subarray(ft,ft+ie)),Te.copyWithin(ft,te,te+ie),Te.set(we,te)}return Te}m.exports={gpuMock:j}},{}],5:[function(h,m,O){const{utils:I}=h("./utils");function P(z,R){const T=R.toString();return new Function(`return function ${z} (${I.getArgumentNamesFromString(T).join(", ")}) {
  ${I.getFunctionBodyFromString(T)}
}`)()}m.exports={alias:P}},{"./utils":114}],6:[function(h,m,O){const{FunctionNode:I}=h("../function-node");class P extends I{astFunction(R,T){if(!this.isRootKernel){T.push("function"),T.push(" "),T.push(this.name),T.push("(");for(let $=0;$<this.argumentNames.length;++$){const x=this.argumentNames[$];$>0&&T.push(", "),T.push("user_"),T.push(x)}T.push(`) {
`)}for(let $=0;$<R.body.body.length;++$)this.astGeneric(R.body.body[$],T),T.push(`
`);return this.isRootKernel||T.push(`}
`),T}astReturnStatement(R,T){const $=this.returnType||this.getType(R.argument);return this.returnType||(this.returnType=$),this.isRootKernel?(T.push(this.leadingReturnStatement),this.astGeneric(R.argument,T),T.push(`;
`),T.push(this.followingReturnStatement),T.push(`continue;
`)):this.isSubKernel?(T.push(`subKernelResult_${this.name} = `),this.astGeneric(R.argument,T),T.push(";"),T.push(`return subKernelResult_${this.name};`)):(T.push("return "),this.astGeneric(R.argument,T),T.push(";")),T}astLiteral(R,T){if(isNaN(R.value))throw this.astErrorOutput("Non-numeric literal not supported : "+R.value,R);return T.push(R.value),T}astBinaryExpression(R,T){return T.push("("),this.astGeneric(R.left,T),T.push(R.operator),this.astGeneric(R.right,T),T.push(")"),T}astIdentifierExpression(R,T){if(R.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",R);switch(R.name){case"Infinity":T.push("Infinity");break;default:this.constants&&this.constants.hasOwnProperty(R.name)?T.push("constants_"+R.name):T.push("user_"+R.name)}return T}astForStatement(R,T){if(R.type!=="ForStatement")throw this.astErrorOutput("Invalid for statement",R);const $=[],x=[],S=[],j=[];let re=null;if(R.init){this.pushState("in-for-loop-init"),this.astGeneric(R.init,$);for(let Ce=0;Ce<$.length;Ce++)$[Ce].includes&&$[Ce].includes(",")&&(re=!1);this.popState("in-for-loop-init")}else re=!1;if(R.test?this.astGeneric(R.test,x):re=!1,R.update?this.astGeneric(R.update,S):re=!1,R.body&&(this.pushState("loop-body"),this.astGeneric(R.body,j),this.popState("loop-body")),re===null&&(re=this.isSafe(R.init)&&this.isSafe(R.test)),re)T.push(`for (${$.join("")};${x.join("")};${S.join("")}){
`),T.push(j.join("")),T.push(`}
`);else{const Ce=this.getInternalVariableName("safeI");$.length>0&&T.push($.join(""),`;
`),T.push(`for (let ${Ce}=0;${Ce}<LOOP_MAX;${Ce}++){
`),x.length>0&&T.push(`if (!${x.join("")}) break;
`),T.push(j.join("")),T.push(`
${S.join("")};`),T.push(`}
`)}return T}astWhileStatement(R,T){if(R.type!=="WhileStatement")throw this.astErrorOutput("Invalid while statement",R);return T.push("for (let i = 0; i < LOOP_MAX; i++) {"),T.push("if ("),this.astGeneric(R.test,T),T.push(`) {
`),this.astGeneric(R.body,T),T.push(`} else {
`),T.push(`break;
`),T.push(`}
`),T.push(`}
`),T}astDoWhileStatement(R,T){if(R.type!=="DoWhileStatement")throw this.astErrorOutput("Invalid while statement",R);return T.push("for (let i = 0; i < LOOP_MAX; i++) {"),this.astGeneric(R.body,T),T.push("if (!"),this.astGeneric(R.test,T),T.push(`) {
`),T.push(`break;
`),T.push(`}
`),T.push(`}
`),T}astAssignmentExpression(R,T){const $=this.getDeclaration(R.left);if($&&!$.assignable)throw this.astErrorOutput(`Variable ${R.left.name} is not assignable here`,R);return this.astGeneric(R.left,T),T.push(R.operator),this.astGeneric(R.right,T),T}astBlockStatement(R,T){if(this.isState("loop-body")){this.pushState("block-body");for(let $=0;$<R.body.length;$++)this.astGeneric(R.body[$],T);this.popState("block-body")}else{T.push(`{
`);for(let $=0;$<R.body.length;$++)this.astGeneric(R.body[$],T);T.push(`}
`)}return T}astVariableDeclaration(R,T){T.push(`${R.kind} `);const{declarations:$}=R;for(let x=0;x<$.length;x++){x>0&&T.push(",");const S=$[x],j=this.getDeclaration(S.id);j.valueType||(j.valueType=this.getType(S.init)),this.astGeneric(S,T)}return this.isState("in-for-loop-init")||T.push(";"),T}astIfStatement(R,T){return T.push("if ("),this.astGeneric(R.test,T),T.push(")"),R.consequent.type==="BlockStatement"?this.astGeneric(R.consequent,T):(T.push(` {
`),this.astGeneric(R.consequent,T),T.push(`
}
`)),R.alternate&&(T.push("else "),R.alternate.type==="BlockStatement"||R.alternate.type==="IfStatement"?this.astGeneric(R.alternate,T):(T.push(` {
`),this.astGeneric(R.alternate,T),T.push(`
}
`))),T}astSwitchStatement(R,T){const{discriminant:$,cases:x}=R;T.push("switch ("),this.astGeneric($,T),T.push(`) {
`);for(let S=0;S<x.length;S++){if(x[S].test===null){T.push(`default:
`),this.astGeneric(x[S].consequent,T),x[S].consequent&&x[S].consequent.length>0&&T.push(`break;
`);continue}T.push("case "),this.astGeneric(x[S].test,T),T.push(`:
`),x[S].consequent&&x[S].consequent.length>0&&(this.astGeneric(x[S].consequent,T),T.push(`break;
`))}T.push(`
}`)}astThisExpression(R,T){return T.push("_this"),T}astMemberExpression(R,T){const{signature:$,type:x,property:S,xProperty:j,yProperty:re,zProperty:Ce,name:se,origin:me}=this.getMemberExpressionDetails(R);switch($){case"this.thread.value":return T.push(`_this.thread.${se}`),T;case"this.output.value":switch(se){case"x":T.push("outputX");break;case"y":T.push("outputY");break;case"z":T.push("outputZ");break;default:throw this.astErrorOutput("Unexpected expression",R)}return T;case"value":throw this.astErrorOutput("Unexpected expression",R);case"value[]":case"value[][]":case"value[][][]":case"value.value":if(me==="Math")return T.push(Math[se]),T;switch(S){case"r":return T.push(`user_${se}[0]`),T;case"g":return T.push(`user_${se}[1]`),T;case"b":return T.push(`user_${se}[2]`),T;case"a":return T.push(`user_${se}[3]`),T}break;case"this.constants.value":case"this.constants.value[]":case"this.constants.value[][]":case"this.constants.value[][][]":break;case"fn()[]":return this.astGeneric(R.object,T),T.push("["),this.astGeneric(R.property,T),T.push("]"),T;case"fn()[][]":return this.astGeneric(R.object.object,T),T.push("["),this.astGeneric(R.object.property,T),T.push("]"),T.push("["),this.astGeneric(R.property,T),T.push("]"),T;default:throw this.astErrorOutput("Unexpected expression",R)}if(!R.computed)switch(x){case"Number":case"Integer":case"Float":case"Boolean":return T.push(`${me}_${se}`),T}const X=`${me}_${se}`;switch(x){case"Array(2)":case"Array(3)":case"Array(4)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":case"HTMLImageArray":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"HTMLImage":default:let ie,we;if(me==="constants"){const Te=this.constants[se];we=this.constantTypes[se]==="Input",ie=we?Te.size:null}else we=this.isInput(se),ie=we?this.argumentSizes[this.argumentNames.indexOf(se)]:null;T.push(`${X}`),Ce&&re?we?(T.push("[("),this.astGeneric(Ce,T),T.push(`*${this.dynamicArguments?"(outputY * outputX)":ie[1]*ie[0]})+(`),this.astGeneric(re,T),T.push(`*${this.dynamicArguments?"outputX":ie[0]})+`),this.astGeneric(j,T),T.push("]")):(T.push("["),this.astGeneric(Ce,T),T.push("]"),T.push("["),this.astGeneric(re,T),T.push("]"),T.push("["),this.astGeneric(j,T),T.push("]")):re?we?(T.push("[("),this.astGeneric(re,T),T.push(`*${this.dynamicArguments?"outputX":ie[0]})+`),this.astGeneric(j,T),T.push("]")):(T.push("["),this.astGeneric(re,T),T.push("]"),T.push("["),this.astGeneric(j,T),T.push("]")):typeof j<"u"&&(T.push("["),this.astGeneric(j,T),T.push("]"))}return T}astCallExpression(R,T){if(R.type!=="CallExpression")throw this.astErrorOutput("Unknown CallExpression",R);let $=this.astMemberExpressionUnroll(R.callee);this.calledFunctions.indexOf($)<0&&this.calledFunctions.push($),this.isAstMathFunction(R),this.onFunctionCall&&this.onFunctionCall(this.name,$,R.arguments),T.push($),T.push("(");const x=this.lookupFunctionArgumentTypes($)||[];for(let S=0;S<R.arguments.length;++S){const j=R.arguments[S];let re=this.getType(j);x[S]||this.triggerImplyArgumentType($,S,re,this),S>0&&T.push(", "),this.astGeneric(j,T)}return T.push(")"),T}astArrayExpression(R,T){const $=this.getType(R),x=R.elements.length,S=[];for(let j=0;j<x;++j){const re=[];this.astGeneric(R.elements[j],re),S.push(re.join(""))}switch($){case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":T.push(`[${S.join(", ")}]`);break;default:T.push(`new Float32Array([${S.join(", ")}])`)}return T}astDebuggerStatement(R,T){return T.push("debugger;"),T}}m.exports={CPUFunctionNode:P}},{"../function-node":10}],7:[function(h,m,O){const{utils:I}=h("../../utils");function P(R,T){const $=[];for(const x in T){if(!T.hasOwnProperty(x))continue;const S=T[x],j=R[x];switch(S){case"Number":case"Integer":case"Float":case"Boolean":$.push(`${x}:${j}`);break;case"Array(2)":case"Array(3)":case"Array(4)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":$.push(`${x}:new ${j.constructor.name}(${JSON.stringify(Array.from(j))})`);break}}return`{ ${$.join()} }`}function z(R,T){const $=[],x=[],S=[],j=!/^function/.test(R.color.toString());if($.push("  const { context, canvas, constants: incomingConstants } = settings;",`  const output = new Int32Array(${JSON.stringify(Array.from(R.output))});`,`  const _constantTypes = ${JSON.stringify(R.constantTypes)};`,`  const _constants = ${P(R.constants,R.constantTypes)};`),x.push("    constants: _constants,","    context,","    output,","    thread: {x: 0, y: 0, z: 0},"),R.graphical){$.push(`  const _imageData = context.createImageData(${R.output[0]}, ${R.output[1]});`),$.push(`  const _colorData = new Uint8ClampedArray(${R.output[0]} * ${R.output[1]} * 4);`);const se=I.flattenFunctionToString((j?"function ":"")+R.color.toString(),{thisLookup:X=>{switch(X){case"_colorData":return"_colorData";case"_imageData":return"_imageData";case"output":return"output";case"thread":return"this.thread"}return JSON.stringify(R[X])},findDependency:(X,ie)=>null}),me=I.flattenFunctionToString((j?"function ":"")+R.getPixels.toString(),{thisLookup:X=>{switch(X){case"_colorData":return"_colorData";case"_imageData":return"_imageData";case"output":return"output";case"thread":return"this.thread"}return JSON.stringify(R[X])},findDependency:()=>null});x.push("    _imageData,","    _colorData,",`    color: ${se},`),S.push(`  kernel.getPixels = ${me};`)}const re=[],Ce=Object.keys(R.constantTypes);for(let se=0;se<Ce.length;se++)re.push(R.constantTypes[Ce]);if(R.argumentTypes.indexOf("HTMLImageArray")!==-1||re.indexOf("HTMLImageArray")!==-1){const se=I.flattenFunctionToString((j?"function ":"")+R._imageTo3DArray.toString(),{doNotDefine:["canvas"],findDependency:(me,X)=>me==="this"?(j?"function ":"")+R[X].toString():null,thisLookup:me=>{switch(me){case"canvas":return;case"context":return"context"}}});S.push(se),x.push("    _mediaTo2DArray,"),x.push("    _imageTo3DArray,")}else if(R.argumentTypes.indexOf("HTMLImage")!==-1||re.indexOf("HTMLImage")!==-1){const se=I.flattenFunctionToString((j?"function ":"")+R._mediaTo2DArray.toString(),{findDependency:(me,X)=>null,thisLookup:me=>{switch(me){case"canvas":return"settings.canvas";case"context":return"settings.context"}throw new Error("unhandled thisLookup")}});S.push(se),x.push("    _mediaTo2DArray,")}return`function(settings) {
${$.join(`
`)}
  for (const p in _constantTypes) {
    if (!_constantTypes.hasOwnProperty(p)) continue;
    const type = _constantTypes[p];
    switch (type) {
      case 'Number':
      case 'Integer':
      case 'Float':
      case 'Boolean':
      case 'Array(2)':
      case 'Array(3)':
      case 'Array(4)':
      case 'Matrix(2)':
      case 'Matrix(3)':
      case 'Matrix(4)':
        if (incomingConstants.hasOwnProperty(p)) {
          console.warn('constant ' + p + ' of type ' + type + ' cannot be resigned');
        }
        continue;
    }
    if (!incomingConstants.hasOwnProperty(p)) {
      throw new Error('constant ' + p + ' not found');
    }
    _constants[p] = incomingConstants[p];
  }
  const kernel = (function() {
${R._kernelString}
  })
    .apply({ ${x.join(`
`)} });
  ${S.join(`
`)}
  return kernel;
}`}m.exports={cpuKernelString:z}},{"../../utils":114}],8:[function(h,m,O){const{Kernel:I}=h("../kernel"),{FunctionBuilder:P}=h("../function-builder"),{CPUFunctionNode:z}=h("./function-node"),{utils:R}=h("../../utils"),{cpuKernelString:T}=h("./kernel-string");class $ extends I{static getFeatures(){return this.features}static get features(){return Object.freeze({kernelMap:!0,isIntegerDivisionAccurate:!0})}static get isSupported(){return!0}static isContextMatch(S){return!1}static get mode(){return"cpu"}static nativeFunctionArguments(){return null}static nativeFunctionReturnType(){throw new Error(`Looking up native function return type not supported on ${this.name}`)}static combineKernels(S){return S}static getSignature(S,j){return"cpu"+(j.length>0?":"+j.join(","):"")}constructor(S,j){super(S,j),this.mergeSettings(S.settings||j),this._imageData=null,this._colorData=null,this._kernelString=null,this._prependedString=[],this.thread={x:0,y:0,z:0},this.translatedSources=null}initCanvas(){if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(0,0)}initContext(){return this.canvas?this.canvas.getContext("2d"):null}initPlugins(S){return[]}validateSettings(S){if(!this.output||this.output.length===0){if(S.length!==1)throw new Error("Auto output only supported for kernels with only one input");const j=R.getVariableType(S[0],this.strictIntegers);if(j==="Array")this.output=R.getDimensions(j);else if(j==="NumberTexture"||j==="ArrayTexture(4)")this.output=S[0].output;else throw new Error("Auto output not supported for input type: "+j)}if(this.graphical&&this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.checkOutput()}translateSource(){if(this.leadingReturnStatement=this.output.length>1?"resultX[x] = ":"result[x] = ",this.subKernels){const j=[];for(let re=0;re<this.subKernels.length;re++){const{name:Ce}=this.subKernels[re];j.push(this.output.length>1?`resultX_${Ce}[x] = subKernelResult_${Ce};
`:`result_${Ce}[x] = subKernelResult_${Ce};
`)}this.followingReturnStatement=j.join("")}const S=P.fromKernel(this,z);this.translatedSources=S.getPrototypes("kernel"),!this.graphical&&!this.returnType&&(this.returnType=S.getKernelResultType())}build(){if(this.built)return;if(this.setupConstants(),this.setupArguments(arguments),this.validateSettings(arguments),this.translateSource(),this.graphical){const{canvas:j,output:re}=this;if(!j)throw new Error("no canvas available for using graphical output");const Ce=re[0],se=re[1]||1;j.width=Ce,j.height=se,this._imageData=this.context.createImageData(Ce,se),this._colorData=new Uint8ClampedArray(Ce*se*4)}const S=this.getKernelString();this.kernelString=S,this.debug&&(console.log("Function output:"),console.log(S));try{this.run=new Function([],S).bind(this)()}catch(j){console.error("An error occurred compiling the javascript: ",j)}this.buildSignature(arguments),this.built=!0}color(S,j,re,Ce){typeof Ce>"u"&&(Ce=1),S=Math.floor(S*255),j=Math.floor(j*255),re=Math.floor(re*255),Ce=Math.floor(Ce*255);const se=this.output[0],me=this.output[1],X=this.thread.x,ie=me-this.thread.y-1,we=X+ie*se;this._colorData[we*4+0]=S,this._colorData[we*4+1]=j,this._colorData[we*4+2]=re,this._colorData[we*4+3]=Ce}getKernelString(){if(this._kernelString!==null)return this._kernelString;let S=null,{translatedSources:j}=this;return j.length>1?j=j.filter(re=>/^function/.test(re)?re:(S=re,!1)):S=j.shift(),this._kernelString=`  const LOOP_MAX = ${this._getLoopMaxString()};
  ${this.injectedNative||""}
  const _this = this;
  ${this._resultKernelHeader()}
  ${this._processConstants()}
  return (${this.argumentNames.map(re=>"user_"+re).join(", ")}) => {
    ${this._prependedString.join("")}
    ${this._earlyThrows()}
    ${this._processArguments()}
    ${this.graphical?this._graphicalKernelBody(S):this._resultKernelBody(S)}
    ${j.length>0?j.join(`
`):""}
  };`}toString(){return T(this)}_getLoopMaxString(){return this.loopMaxIterations?` ${parseInt(this.loopMaxIterations)};`:" 1000;"}_processConstants(){if(!this.constants)return"";const S=[];for(let j in this.constants)switch(this.constantTypes[j]){case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":S.push(`    const constants_${j} = this._mediaTo2DArray(this.constants.${j});
`);break;case"HTMLImageArray":S.push(`    const constants_${j} = this._imageTo3DArray(this.constants.${j});
`);break;case"Input":S.push(`    const constants_${j} = this.constants.${j}.value;
`);break;default:S.push(`    const constants_${j} = this.constants.${j};
`)}return S.join("")}_earlyThrows(){if(this.graphical||this.immutable||!this.pipeline)return"";const S=[];for(let re=0;re<this.argumentTypes.length;re++)this.argumentTypes[re]==="Array"&&S.push(this.argumentNames[re]);if(S.length===0)return"";const j=[];for(let re=0;re<S.length;re++){const Ce=S[re],se=this._mapSubKernels(me=>`user_${Ce} === result_${me.name}`).join(" || ");j.push(`user_${Ce} === result${se?` || ${se}`:""}`)}return`if (${j.join(" || ")}) throw new Error('Source and destination arrays are the same.  Use immutable = true');`}_processArguments(){const S=[];for(let j=0;j<this.argumentTypes.length;j++){const re=`user_${this.argumentNames[j]}`;switch(this.argumentTypes[j]){case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":S.push(`    ${re} = this._mediaTo2DArray(${re});
`);break;case"HTMLImageArray":S.push(`    ${re} = this._imageTo3DArray(${re});
`);break;case"Input":S.push(`    ${re} = ${re}.value;
`);break;case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"NumberTexture":case"MemoryOptimizedNumberTexture":S.push(`
    if (${re}.toArray) {
      if (!_this.textureCache) {
        _this.textureCache = [];
        _this.arrayCache = [];
      }
      const textureIndex = _this.textureCache.indexOf(${re});
      if (textureIndex !== -1) {
        ${re} = _this.arrayCache[textureIndex];
      } else {
        _this.textureCache.push(${re});
        ${re} = ${re}.toArray();
        _this.arrayCache.push(${re});
      }
    }`);break}}return S.join("")}_mediaTo2DArray(S){const j=this.canvas,re=S.width>0?S.width:S.videoWidth,Ce=S.height>0?S.height:S.videoHeight;j.width<re&&(j.width=re),j.height<Ce&&(j.height=Ce);const se=this.context;let me;S.constructor===ImageData?me=S.data:(se.drawImage(S,0,0,re,Ce),me=se.getImageData(0,0,re,Ce).data);const X=new Array(Ce);let ie=0;for(let we=Ce-1;we>=0;we--){const Te=X[we]=new Array(re);for(let tt=0;tt<re;tt++){const ft=new Float32Array(4);ft[0]=me[ie++]/255,ft[1]=me[ie++]/255,ft[2]=me[ie++]/255,ft[3]=me[ie++]/255,Te[tt]=ft}}return X}getPixels(S){const[j,re]=this.output;return S?R.flipPixels(this._imageData.data,j,re):this._imageData.data.slice(0)}_imageTo3DArray(S){const j=new Array(S.length);for(let re=0;re<S.length;re++)j[re]=this._mediaTo2DArray(S[re]);return j}_resultKernelHeader(){if(this.graphical||this.immutable||!this.pipeline)return"";switch(this.output.length){case 1:return this._mutableKernel1DResults();case 2:return this._mutableKernel2DResults();case 3:return this._mutableKernel3DResults()}}_resultKernelBody(S){switch(this.output.length){case 1:return(!this.immutable&&this.pipeline?this._resultMutableKernel1DLoop(S):this._resultImmutableKernel1DLoop(S))+this._kernelOutput();case 2:return(!this.immutable&&this.pipeline?this._resultMutableKernel2DLoop(S):this._resultImmutableKernel2DLoop(S))+this._kernelOutput();case 3:return(!this.immutable&&this.pipeline?this._resultMutableKernel3DLoop(S):this._resultImmutableKernel3DLoop(S))+this._kernelOutput();default:throw new Error("unsupported size kernel")}}_graphicalKernelBody(S){switch(this.output.length){case 2:return this._graphicalKernel2DLoop(S)+this._graphicalOutput();default:throw new Error("unsupported size kernel")}}_graphicalOutput(){return`
    this._imageData.data.set(this._colorData);
    this.context.putImageData(this._imageData, 0, 0);
    return;`}_getKernelResultTypeConstructorString(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return"Float32Array";case"Array(2)":case"Array(3)":case"Array(4)":return"Array";default:if(this.graphical)return"Float32Array";throw new Error(`unhandled returnType ${this.returnType}`)}}_resultImmutableKernel1DLoop(S){const j=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const result = new ${j}(outputX);
    ${this._mapSubKernels(re=>`const result_${re.name} = new ${j}(outputX);
`).join("    ")}
    ${this._mapSubKernels(re=>`let subKernelResult_${re.name};
`).join("    ")}
    for (let x = 0; x < outputX; x++) {
      this.thread.x = x;
      this.thread.y = 0;
      this.thread.z = 0;
      ${S}
    }`}_mutableKernel1DResults(){const S=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const result = new ${S}(outputX);
    ${this._mapSubKernels(j=>`const result_${j.name} = new ${S}(outputX);
`).join("    ")}
    ${this._mapSubKernels(j=>`let subKernelResult_${j.name};
`).join("    ")}`}_resultMutableKernel1DLoop(S){return`  const outputX = _this.output[0];
    for (let x = 0; x < outputX; x++) {
      this.thread.x = x;
      this.thread.y = 0;
      this.thread.z = 0;
      ${S}
    }`}_resultImmutableKernel2DLoop(S){const j=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const result = new Array(outputY);
    ${this._mapSubKernels(re=>`const result_${re.name} = new Array(outputY);
`).join("    ")}
    ${this._mapSubKernels(re=>`let subKernelResult_${re.name};
`).join("    ")}
    for (let y = 0; y < outputY; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      const resultX = result[y] = new ${j}(outputX);
      ${this._mapSubKernels(re=>`const resultX_${re.name} = result_${re.name}[y] = new ${j}(outputX);
`).join("")}
      for (let x = 0; x < outputX; x++) {
        this.thread.x = x;
        ${S}
      }
    }`}_mutableKernel2DResults(){const S=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const result = new Array(outputY);
    ${this._mapSubKernels(j=>`const result_${j.name} = new Array(outputY);
`).join("    ")}
    ${this._mapSubKernels(j=>`let subKernelResult_${j.name};
`).join("    ")}
    for (let y = 0; y < outputY; y++) {
      const resultX = result[y] = new ${S}(outputX);
      ${this._mapSubKernels(j=>`const resultX_${j.name} = result_${j.name}[y] = new ${S}(outputX);
`).join("")}
    }`}_resultMutableKernel2DLoop(S){const j=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    for (let y = 0; y < outputY; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      const resultX = result[y];
      ${this._mapSubKernels(re=>`const resultX_${re.name} = result_${re.name}[y] = new ${j}(outputX);
`).join("")}
      for (let x = 0; x < outputX; x++) {
        this.thread.x = x;
        ${S}
      }
    }`}_graphicalKernel2DLoop(S){return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    for (let y = 0; y < outputY; y++) {
      this.thread.z = 0;
      this.thread.y = y;
      for (let x = 0; x < outputX; x++) {
        this.thread.x = x;
        ${S}
      }
    }`}_resultImmutableKernel3DLoop(S){const j=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const outputZ = _this.output[2];
    const result = new Array(outputZ);
    ${this._mapSubKernels(re=>`const result_${re.name} = new Array(outputZ);
`).join("    ")}
    ${this._mapSubKernels(re=>`let subKernelResult_${re.name};
`).join("    ")}
    for (let z = 0; z < outputZ; z++) {
      this.thread.z = z;
      const resultY = result[z] = new Array(outputY);
      ${this._mapSubKernels(re=>`const resultY_${re.name} = result_${re.name}[z] = new Array(outputY);
`).join("      ")}
      for (let y = 0; y < outputY; y++) {
        this.thread.y = y;
        const resultX = resultY[y] = new ${j}(outputX);
        ${this._mapSubKernels(re=>`const resultX_${re.name} = resultY_${re.name}[y] = new ${j}(outputX);
`).join("        ")}
        for (let x = 0; x < outputX; x++) {
          this.thread.x = x;
          ${S}
        }
      }
    }`}_mutableKernel3DResults(){const S=this._getKernelResultTypeConstructorString();return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const outputZ = _this.output[2];
    const result = new Array(outputZ);
    ${this._mapSubKernels(j=>`const result_${j.name} = new Array(outputZ);
`).join("    ")}
    ${this._mapSubKernels(j=>`let subKernelResult_${j.name};
`).join("    ")}
    for (let z = 0; z < outputZ; z++) {
      const resultY = result[z] = new Array(outputY);
      ${this._mapSubKernels(j=>`const resultY_${j.name} = result_${j.name}[z] = new Array(outputY);
`).join("      ")}
      for (let y = 0; y < outputY; y++) {
        const resultX = resultY[y] = new ${S}(outputX);
        ${this._mapSubKernels(j=>`const resultX_${j.name} = resultY_${j.name}[y] = new ${S}(outputX);
`).join("        ")}
      }
    }`}_resultMutableKernel3DLoop(S){return`  const outputX = _this.output[0];
    const outputY = _this.output[1];
    const outputZ = _this.output[2];
    for (let z = 0; z < outputZ; z++) {
      this.thread.z = z;
      const resultY = result[z];
      for (let y = 0; y < outputY; y++) {
        this.thread.y = y;
        const resultX = resultY[y];
        for (let x = 0; x < outputX; x++) {
          this.thread.x = x;
          ${S}
        }
      }
    }`}_kernelOutput(){return this.subKernels?`
    return {
      result: result,
      ${this.subKernels.map(S=>`${S.property}: result_${S.name}`).join(`,
      `)}
    };`:`
    return result;`}_mapSubKernels(S){return this.subKernels===null?[""]:this.subKernels.map(S)}destroy(S){S&&delete this.canvas}static destroyContext(S){}toJSON(){const S=super.toJSON();return S.functionNodes=P.fromKernel(this,z).toJSON(),S}setOutput(S){super.setOutput(S);const[j,re]=this.output;this.graphical&&(this._imageData=this.context.createImageData(j,re),this._colorData=new Uint8ClampedArray(j*re*4))}prependString(S){if(this._kernelString)throw new Error("Kernel already built");this._prependedString.push(S)}hasPrependString(S){return this._prependedString.indexOf(S)>-1}}m.exports={CPUKernel:$}},{"../../utils":114,"../function-builder":9,"../kernel":36,"./function-node":6,"./kernel-string":7}],9:[function(h,m,O){class I{static fromKernel(z,R,T){const{kernelArguments:$,kernelConstants:x,argumentNames:S,argumentSizes:j,argumentBitRatios:re,constants:Ce,constantBitRatios:se,debug:me,loopMaxIterations:X,nativeFunctions:ie,output:we,optimizeFloatMemory:Te,precision:tt,plugins:ft,source:te,subKernels:B,functions:Me,leadingReturnStatement:De,followingReturnStatement:pt,dynamicArguments:Je,dynamicOutput:ut}=z,kt=new Array($.length),Ot={};for(let bn=0;bn<$.length;bn++)kt[bn]=$[bn].type;for(let bn=0;bn<x.length;bn++){const er=x[bn];Ot[er.name]=er.type}const fn=(bn,er)=>jr.needsArgumentType(bn,er),sn=(bn,er,Tr)=>{jr.assignArgumentType(bn,er,Tr)},Vt=(bn,er,Tr)=>jr.lookupReturnType(bn,er,Tr),hn=bn=>jr.lookupFunctionArgumentTypes(bn),vn=(bn,er)=>jr.lookupFunctionArgumentName(bn,er),$n=(bn,er)=>jr.lookupFunctionArgumentBitRatio(bn,er),on=(bn,er,Tr,Cs)=>{jr.assignArgumentType(bn,er,Tr,Cs)},ln=(bn,er,Tr,Cs)=>{jr.assignArgumentBitRatio(bn,er,Tr,Cs)},Zt=(bn,er,Tr)=>{jr.trackFunctionCall(bn,er,Tr)},Rn=(bn,er)=>{const Tr=[];for(let Fi=0;Fi<bn.params.length;Fi++)Tr.push(bn.params[Fi].name);const Cs=new R(er,Object.assign({},_r,{returnType:null,ast:bn,name:bn.id.name,argumentNames:Tr,lookupReturnType:Vt,lookupFunctionArgumentTypes:hn,lookupFunctionArgumentName:vn,lookupFunctionArgumentBitRatio:$n,needsArgumentType:fn,assignArgumentType:sn,triggerImplyArgumentType:on,triggerImplyArgumentBitRatio:ln,onFunctionCall:Zt}));Cs.traceFunctionAST(bn),jr.addFunctionNode(Cs)},_r=Object.assign({isRootKernel:!1,onNestedFunction:Rn,lookupReturnType:Vt,lookupFunctionArgumentTypes:hn,lookupFunctionArgumentName:vn,lookupFunctionArgumentBitRatio:$n,needsArgumentType:fn,assignArgumentType:sn,triggerImplyArgumentType:on,triggerImplyArgumentBitRatio:ln,onFunctionCall:Zt,optimizeFloatMemory:Te,precision:tt,constants:Ce,constantTypes:Ot,constantBitRatios:se,debug:me,loopMaxIterations:X,output:we,plugins:ft,dynamicArguments:Je,dynamicOutput:ut},T||{}),Cn=Object.assign({},_r,{isRootKernel:!0,name:"kernel",argumentNames:S,argumentTypes:kt,argumentSizes:j,argumentBitRatios:re,leadingReturnStatement:De,followingReturnStatement:pt});if(typeof te=="object"&&te.functionNodes)return new I().fromJSON(te.functionNodes,R);const Gn=new R(te,Cn);let ur=null;Me&&(ur=Me.map(bn=>new R(bn.source,{returnType:bn.returnType,argumentTypes:bn.argumentTypes,output:we,plugins:ft,constants:Ce,constantTypes:Ot,constantBitRatios:se,optimizeFloatMemory:Te,precision:tt,lookupReturnType:Vt,lookupFunctionArgumentTypes:hn,lookupFunctionArgumentName:vn,lookupFunctionArgumentBitRatio:$n,needsArgumentType:fn,assignArgumentType:sn,triggerImplyArgumentType:on,triggerImplyArgumentBitRatio:ln,onFunctionCall:Zt,onNestedFunction:Rn})));let es=null;B&&(es=B.map(bn=>{const{name:er,source:Tr}=bn;return new R(Tr,Object.assign({},_r,{name:er,isSubKernel:!0,isRootKernel:!1}))}));const jr=new I({kernel:z,rootNode:Gn,functionNodes:ur,nativeFunctions:ie,subKernelNodes:es});return jr}constructor(z){if(z=z||{},this.kernel=z.kernel,this.rootNode=z.rootNode,this.functionNodes=z.functionNodes||[],this.subKernelNodes=z.subKernelNodes||[],this.nativeFunctions=z.nativeFunctions||[],this.functionMap={},this.nativeFunctionNames=[],this.lookupChain=[],this.functionNodeDependencies={},this.functionCalls={},this.rootNode&&(this.functionMap.kernel=this.rootNode),this.functionNodes)for(let R=0;R<this.functionNodes.length;R++)this.functionMap[this.functionNodes[R].name]=this.functionNodes[R];if(this.subKernelNodes)for(let R=0;R<this.subKernelNodes.length;R++)this.functionMap[this.subKernelNodes[R].name]=this.subKernelNodes[R];if(this.nativeFunctions)for(let R=0;R<this.nativeFunctions.length;R++){const T=this.nativeFunctions[R];this.nativeFunctionNames.push(T.name)}}addFunctionNode(z){if(!z.name)throw new Error("functionNode.name needs set");this.functionMap[z.name]=z,z.isRootKernel&&(this.rootNode=z)}traceFunctionCalls(z,R){if(z=z||"kernel",R=R||[],this.nativeFunctionNames.indexOf(z)>-1){const $=R.indexOf(z);if($===-1)R.push(z);else{const x=R.splice($,1)[0];R.push(x)}return R}const T=this.functionMap[z];if(T){const $=R.indexOf(z);if($===-1){R.push(z),T.toString();for(let x=0;x<T.calledFunctions.length;++x)this.traceFunctionCalls(T.calledFunctions[x],R)}else{const x=R.splice($,1)[0];R.push(x)}}return R}getPrototypeString(z){return this.getPrototypes(z).join(`
`)}getPrototypes(z){return this.rootNode&&this.rootNode.toString(),z?this.getPrototypesFromFunctionNames(this.traceFunctionCalls(z,[]).reverse()):this.getPrototypesFromFunctionNames(Object.keys(this.functionMap))}getStringFromFunctionNames(z){const R=[];for(let T=0;T<z.length;++T)this.functionMap[z[T]]&&R.push(this.functionMap[z[T]].toString());return R.join(`
`)}getPrototypesFromFunctionNames(z){const R=[];for(let T=0;T<z.length;++T){const $=z[T],x=this.nativeFunctionNames.indexOf($);if(x>-1){R.push(this.nativeFunctions[x].source);continue}const S=this.functionMap[$];S&&R.push(S.toString())}return R}toJSON(){return this.traceFunctionCalls(this.rootNode.name).reverse().map(z=>{const R=this.nativeFunctions.indexOf(z);if(R>-1)return{name:z,source:this.nativeFunctions[R].source};if(this.functionMap[z])return this.functionMap[z].toJSON();throw new Error(`function ${z} not found`)})}fromJSON(z,R){this.functionMap={};for(let T=0;T<z.length;T++){const $=z[T];this.functionMap[$.settings.name]=new R($.ast,$.settings)}return this}getString(z){return z?this.getStringFromFunctionNames(this.traceFunctionCalls(z).reverse()):this.getStringFromFunctionNames(Object.keys(this.functionMap))}lookupReturnType(z,R,T){if(R.type!=="CallExpression")throw new Error(`expected ast type of "CallExpression", but is ${R.type}`);if(this._isNativeFunction(z))return this._lookupNativeFunctionReturnType(z);if(this._isFunction(z)){const $=this._getFunction(z);if($.returnType)return $.returnType;{for(let S=0;S<this.lookupChain.length;S++)if(this.lookupChain[S].ast===R){if($.argumentTypes.length===0&&R.arguments.length>0){const j=R.arguments;for(let re=0;re<j.length;re++)this.lookupChain.push({name:T.name,ast:j[S],requestingNode:T}),$.argumentTypes[re]=T.getType(j[re]),this.lookupChain.pop();return $.returnType=$.getType($.getJsAST())}throw new Error("circlical logic detected!")}this.lookupChain.push({name:T.name,ast:R,requestingNode:T});const x=$.getType($.getJsAST());return this.lookupChain.pop(),$.returnType=x}}return null}_getFunction(z){return this._isFunction(z),this.functionMap[z]}_isFunction(z){return!!this.functionMap[z]}_getNativeFunction(z){for(let R=0;R<this.nativeFunctions.length;R++)if(this.nativeFunctions[R].name===z)return this.nativeFunctions[R];return null}_isNativeFunction(z){return!!this._getNativeFunction(z)}_lookupNativeFunctionReturnType(z){let R=this._getNativeFunction(z);if(R)return R.returnType;throw new Error(`Native function ${z} not found`)}lookupFunctionArgumentTypes(z){return this._isNativeFunction(z)?this._getNativeFunction(z).argumentTypes:this._isFunction(z)?this._getFunction(z).argumentTypes:null}lookupFunctionArgumentName(z,R){return this._getFunction(z).argumentNames[R]}lookupFunctionArgumentBitRatio(z,R){if(!this._isFunction(z))throw new Error("function not found");if(this.rootNode.name===z){const S=this.rootNode.argumentNames.indexOf(R);if(S!==-1)return this.rootNode.argumentBitRatios[S]}const T=this._getFunction(z),$=T.argumentNames.indexOf(R);if($===-1)throw new Error("argument not found");const x=T.argumentBitRatios[$];if(typeof x!="number")throw new Error("argument bit ratio not found");return x}needsArgumentType(z,R){return this._isFunction(z)?!this._getFunction(z).argumentTypes[R]:!1}assignArgumentType(z,R,T,$){if(!this._isFunction(z))return;const x=this._getFunction(z);x.argumentTypes[R]||(x.argumentTypes[R]=T)}assignArgumentBitRatio(z,R,T,$){const x=this._getFunction(z);if(this._isNativeFunction(T))return null;const S=this._getFunction(T),j=x.argumentNames.indexOf(R);if(j===-1)throw new Error(`Argument ${R} not found in arguments from function ${z}`);const re=x.argumentBitRatios[j];if(typeof re!="number")throw new Error(`Bit ratio for argument ${R} not found in function ${z}`);S.argumentBitRatios||(S.argumentBitRatios=new Array(S.argumentNames.length));const Ce=S.argumentBitRatios[j];if(typeof Ce=="number"){if(Ce!==re)throw new Error(`Incompatible bit ratio found at function ${z} at argument ${R}`);return Ce}return S.argumentBitRatios[j]=re,re}trackFunctionCall(z,R,T){this.functionNodeDependencies[z]||(this.functionNodeDependencies[z]=new Set,this.functionCalls[z]=[]),this.functionNodeDependencies[z].add(R),this.functionCalls[z].push(T)}getKernelResultType(){return this.rootNode.returnType||this.rootNode.getType(this.rootNode.ast)}getSubKernelResultType(z){const R=this.subKernelNodes[z];let T=!1;for(let $=0;$<this.rootNode.functionCalls.length;$++)this.rootNode.functionCalls[$].ast.callee.name===R.name&&(T=!0);if(!T)throw new Error(`SubKernel ${R.name} never called by kernel`);return R.returnType||R.getType(R.getJsAST())}getReturnTypes(){const z={[this.rootNode.name]:this.rootNode.getType(this.rootNode.ast)},R=this.traceFunctionCalls(this.rootNode.name);for(let T=0;T<R.length;T++){const $=R[T],x=this.functionMap[$];z[$]=x.getType(x.ast)}return z}}m.exports={FunctionBuilder:I}},{}],10:[function(h,m,O){const I=h("acorn"),{utils:P}=h("../utils"),{FunctionTracer:z}=h("./function-tracer");class R{constructor(x,S){if(!x&&!S.ast)throw new Error("source parameter is missing");if(S=S||{},this.source=x,this.ast=null,this.name=typeof x=="string"?S.isRootKernel?"kernel":S.name||P.getFunctionNameFromString(x):null,this.calledFunctions=[],this.constants={},this.constantTypes={},this.constantBitRatios={},this.isRootKernel=!1,this.isSubKernel=!1,this.debug=null,this.functions=null,this.identifiers=null,this.contexts=null,this.functionCalls=null,this.states=[],this.needsArgumentType=null,this.assignArgumentType=null,this.lookupReturnType=null,this.lookupFunctionArgumentTypes=null,this.lookupFunctionArgumentBitRatio=null,this.triggerImplyArgumentType=null,this.triggerImplyArgumentBitRatio=null,this.onNestedFunction=null,this.onFunctionCall=null,this.optimizeFloatMemory=null,this.precision=null,this.loopMaxIterations=null,this.argumentNames=typeof this.source=="string"?P.getArgumentNamesFromString(this.source):null,this.argumentTypes=[],this.argumentSizes=[],this.argumentBitRatios=null,this.returnType=null,this.output=[],this.plugins=null,this.leadingReturnStatement=null,this.followingReturnStatement=null,this.dynamicOutput=null,this.dynamicArguments=null,this.strictTypingChecking=!1,this.fixIntegerDivisionAccuracy=null,S)for(const j in S)S.hasOwnProperty(j)&&this.hasOwnProperty(j)&&(this[j]=S[j]);this.literalTypes={},this.validate(),this._string=null,this._internalVariableNames={}}validate(){if(typeof this.source!="string"&&!this.ast)throw new Error("this.source not a string");if(!this.ast&&!P.isFunctionString(this.source))throw new Error("this.source not a function string");if(!this.name)throw new Error("this.name could not be set");if(this.argumentTypes.length>0&&this.argumentTypes.length!==this.argumentNames.length)throw new Error(`argumentTypes count of ${this.argumentTypes.length} exceeds ${this.argumentNames.length}`);if(this.output.length<1)throw new Error("this.output is not big enough")}isIdentifierConstant(x){return this.constants?this.constants.hasOwnProperty(x):!1}isInput(x){return this.argumentTypes[this.argumentNames.indexOf(x)]==="Input"}pushState(x){this.states.push(x)}popState(x){if(this.state!==x)throw new Error(`Cannot popState ${x} when in ${this.state}`);this.states.pop()}isState(x){return this.state===x}get state(){return this.states[this.states.length-1]}astMemberExpressionUnroll(x){if(x.type==="Identifier")return x.name;if(x.type==="ThisExpression")return"this";if(x.type==="MemberExpression"&&x.object&&x.property)return x.object.hasOwnProperty("name")&&x.object.name!=="Math"?this.astMemberExpressionUnroll(x.property):this.astMemberExpressionUnroll(x.object)+"."+this.astMemberExpressionUnroll(x.property);if(x.hasOwnProperty("expressions")){const S=x.expressions[0];if(S.type==="Literal"&&S.value===0&&x.expressions.length===2)return this.astMemberExpressionUnroll(x.expressions[1])}throw this.astErrorOutput("Unknown astMemberExpressionUnroll",x)}getJsAST(x){if(this.ast)return this.ast;if(typeof this.source=="object")return this.traceFunctionAST(this.source),this.ast=this.source;if(x=x||I,x===null)throw new Error("Missing JS to AST parser");const S=Object.freeze(x.parse(`const parser_${this.name} = ${this.source};`,{locations:!0})),j=S.body[0].declarations[0].init;if(this.traceFunctionAST(j),!S)throw new Error("Failed to parse JS code");return this.ast=j}traceFunctionAST(x){const{contexts:S,declarations:j,functions:re,identifiers:Ce,functionCalls:se}=new z(x);this.contexts=S,this.identifiers=Ce,this.functionCalls=se,this.functions=re;for(let me=0;me<j.length;me++){const X=j[me],{ast:ie,inForLoopInit:we,inForLoopTest:Te}=X,{init:tt}=ie,ft=this.getDependencies(tt);let te=null;if(we&&Te)te="Integer";else if(tt){const B=this.getType(tt);switch(B){case"Integer":case"Float":case"Number":tt.type==="MemberExpression"?te=B:te="Number";break;case"LiteralInteger":te="Number";break;default:te=B}}X.valueType=te,X.dependencies=ft,X.isSafe=this.isSafeDependencies(ft)}for(let me=0;me<re.length;me++)this.onNestedFunction(re[me],this.source)}getDeclaration(x){for(let S=0;S<this.identifiers.length;S++){const j=this.identifiers[S];if(x===j.ast)return j.declaration}return null}getVariableType(x){if(x.type!=="Identifier")throw new Error(`ast of ${x.type} not "Identifier"`);let S=null;const j=this.argumentNames.indexOf(x.name);if(j===-1){const re=this.getDeclaration(x);if(re)return re.valueType}else{const re=this.argumentTypes[j];re&&(S=re)}if(!S&&this.strictTypingChecking)throw new Error(`Declaration of ${name} not found`);return S}getLookupType(x){if(!T.hasOwnProperty(x))throw new Error(`unknown typeLookupMap ${x}`);return T[x]}getConstantType(x){if(this.constantTypes[x]){const S=this.constantTypes[x];return S==="Float"?"Number":S}throw new Error(`Type for constant "${x}" not declared`)}toString(){return this._string?this._string:this._string=this.astGeneric(this.getJsAST(),[]).join("").trim()}toJSON(){const x={source:this.source,name:this.name,constants:this.constants,constantTypes:this.constantTypes,isRootKernel:this.isRootKernel,isSubKernel:this.isSubKernel,debug:this.debug,output:this.output,loopMaxIterations:this.loopMaxIterations,argumentNames:this.argumentNames,argumentTypes:this.argumentTypes,argumentSizes:this.argumentSizes,returnType:this.returnType,leadingReturnStatement:this.leadingReturnStatement,followingReturnStatement:this.followingReturnStatement};return{ast:this.ast,settings:x}}getType(x){if(Array.isArray(x))return this.getType(x[x.length-1]);switch(x.type){case"BlockStatement":return this.getType(x.body);case"ArrayExpression":switch(this.getType(x.elements[0])){case"Array(2)":case"Array(3)":case"Array(4)":return`Matrix(${x.elements.length})`}return`Array(${x.elements.length})`;case"Literal":const j=this.astKey(x);return this.literalTypes[j]?this.literalTypes[j]:Number.isInteger(x.value)?"LiteralInteger":x.value===!0||x.value===!1?"Boolean":"Number";case"AssignmentExpression":return this.getType(x.left);case"CallExpression":if(this.isAstMathFunction(x))return"Number";if(!x.callee||!x.callee.name){if(x.callee.type==="SequenceExpression"&&x.callee.expressions[x.callee.expressions.length-1].property.name){const X=x.callee.expressions[x.callee.expressions.length-1].property.name;return this.inferArgumentTypesIfNeeded(X,x.arguments),this.lookupReturnType(X,x,this)}if(this.getVariableSignature(x.callee,!0)==="this.color")return null;if(x.callee.type==="MemberExpression"&&x.callee.object&&x.callee.property&&x.callee.property.name&&x.arguments){const X=x.callee.property.name;return this.inferArgumentTypesIfNeeded(X,x.arguments),this.lookupReturnType(X,x,this)}throw this.astErrorOutput("Unknown call expression",x)}if(x.callee&&x.callee.name){const X=x.callee.name;return this.inferArgumentTypesIfNeeded(X,x.arguments),this.lookupReturnType(X,x,this)}throw this.astErrorOutput(`Unhandled getType Type "${x.type}"`,x);case"LogicalExpression":return"Boolean";case"BinaryExpression":switch(x.operator){case"%":case"/":if(this.fixIntegerDivisionAccuracy)return"Number";break;case">":case"<":return"Boolean";case"&":case"|":case"^":case"<<":case">>":case">>>":return"Integer"}const re=this.getType(x.left);if(this.isState("skip-literal-correction"))return re;if(re==="LiteralInteger"){const X=this.getType(x.right);return X==="LiteralInteger"?x.left.value%1===0?"Integer":"Float":X}return T[re]||re;case"UpdateExpression":return this.getType(x.argument);case"UnaryExpression":return x.operator==="~"?"Integer":this.getType(x.argument);case"VariableDeclaration":{const X=x.declarations;let ie;for(let we=0;we<X.length;we++){const Te=X[we];ie=this.getType(Te)}if(!ie)throw this.astErrorOutput("Unable to find type for declaration",x);return ie}case"VariableDeclarator":const Ce=this.getDeclaration(x.id);if(!Ce)throw this.astErrorOutput("Unable to find declarator",x);if(!Ce.valueType)throw this.astErrorOutput("Unable to find declarator valueType",x);return Ce.valueType;case"Identifier":if(x.name==="Infinity")return"Number";if(this.isAstVariable(x)&&this.getVariableSignature(x)==="value")return this.getCheckVariableType(x);const se=this.findIdentifierOrigin(x);return se&&se.init?this.getType(se.init):null;case"ReturnStatement":return this.getType(x.argument);case"MemberExpression":if(this.isAstMathFunction(x)){switch(x.property.name){case"ceil":return"Integer";case"floor":return"Integer";case"round":return"Integer"}return"Number"}if(this.isAstVariable(x)){switch(this.getVariableSignature(x)){case"value[]":return this.getLookupType(this.getCheckVariableType(x.object));case"value[][]":return this.getLookupType(this.getCheckVariableType(x.object.object));case"value[][][]":return this.getLookupType(this.getCheckVariableType(x.object.object.object));case"value[][][][]":return this.getLookupType(this.getCheckVariableType(x.object.object.object.object));case"value.thread.value":case"this.thread.value":return"Integer";case"this.output.value":return this.dynamicOutput?"Integer":"LiteralInteger";case"this.constants.value":return this.getConstantType(x.property.name);case"this.constants.value[]":return this.getLookupType(this.getConstantType(x.object.property.name));case"this.constants.value[][]":return this.getLookupType(this.getConstantType(x.object.object.property.name));case"this.constants.value[][][]":return this.getLookupType(this.getConstantType(x.object.object.object.property.name));case"this.constants.value[][][][]":return this.getLookupType(this.getConstantType(x.object.object.object.object.property.name));case"fn()[]":case"fn()[][]":case"fn()[][][]":return this.getLookupType(this.getType(x.object));case"value.value":if(this.isAstMathVariable(x))return"Number";switch(x.property.name){case"r":case"g":case"b":case"a":return this.getLookupType(this.getCheckVariableType(x.object))}case"[][]":return"Number"}throw this.astErrorOutput("Unhandled getType MemberExpression",x)}throw this.astErrorOutput("Unhandled getType MemberExpression",x);case"ConditionalExpression":return this.getType(x.consequent);case"FunctionDeclaration":case"FunctionExpression":const me=this.findLastReturn(x.body);return me?this.getType(me):null;case"IfStatement":return this.getType(x.consequent);case"SequenceExpression":return this.getType(x.expressions[x.expressions.length-1]);default:throw this.astErrorOutput(`Unhandled getType Type "${x.type}"`,x)}}getCheckVariableType(x){const S=this.getVariableType(x);if(!S)throw this.astErrorOutput(`${x.type} is not defined`,x);return S}inferArgumentTypesIfNeeded(x,S){for(let j=0;j<S.length;j++){if(!this.needsArgumentType(x,j))continue;const re=this.getType(S[j]);if(!re)throw this.astErrorOutput(`Unable to infer argument ${j}`,S[j]);this.assignArgumentType(x,j,re)}}isAstMathVariable(x){const S=["E","PI","SQRT2","SQRT1_2","LN2","LN10","LOG2E","LOG10E"];return x.type==="MemberExpression"&&x.object&&x.object.type==="Identifier"&&x.object.name==="Math"&&x.property&&x.property.type==="Identifier"&&S.indexOf(x.property.name)>-1}isAstMathFunction(x){const S=["abs","acos","acosh","asin","asinh","atan","atan2","atanh","cbrt","ceil","clz32","cos","cosh","expm1","exp","floor","fround","imul","log","log2","log10","log1p","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc"];return x.type==="CallExpression"&&x.callee&&x.callee.type==="MemberExpression"&&x.callee.object&&x.callee.object.type==="Identifier"&&x.callee.object.name==="Math"&&x.callee.property&&x.callee.property.type==="Identifier"&&S.indexOf(x.callee.property.name)>-1}isAstVariable(x){return x.type==="Identifier"||x.type==="MemberExpression"}isSafe(x){return this.isSafeDependencies(this.getDependencies(x))}isSafeDependencies(x){return x&&x.every?x.every(S=>S.isSafe):!0}getDependencies(x,S,j){if(S||(S=[]),!x)return null;if(Array.isArray(x)){for(let re=0;re<x.length;re++)this.getDependencies(x[re],S,j);return S}switch(x.type){case"AssignmentExpression":return this.getDependencies(x.left,S,j),this.getDependencies(x.right,S,j),S;case"ConditionalExpression":return this.getDependencies(x.test,S,j),this.getDependencies(x.alternate,S,j),this.getDependencies(x.consequent,S,j),S;case"Literal":S.push({origin:"literal",value:x.value,isSafe:j===!0?!1:x.value>-1/0&&x.value<1/0&&!isNaN(x.value)});break;case"VariableDeclarator":return this.getDependencies(x.init,S,j);case"Identifier":const re=this.getDeclaration(x);if(re)S.push({name:x.name,origin:"declaration",isSafe:j?!1:this.isSafeDependencies(re.dependencies)});else if(this.argumentNames.indexOf(x.name)>-1)S.push({name:x.name,origin:"argument",isSafe:!1});else if(this.strictTypingChecking)throw new Error(`Cannot find identifier origin "${x.name}"`);break;case"FunctionDeclaration":return this.getDependencies(x.body.body[x.body.body.length-1],S,j);case"ReturnStatement":return this.getDependencies(x.argument,S);case"BinaryExpression":case"LogicalExpression":return j=x.operator==="/"||x.operator==="*",this.getDependencies(x.left,S,j),this.getDependencies(x.right,S,j),S;case"UnaryExpression":case"UpdateExpression":return this.getDependencies(x.argument,S,j);case"VariableDeclaration":return this.getDependencies(x.declarations,S,j);case"ArrayExpression":return S.push({origin:"declaration",isSafe:!0}),S;case"CallExpression":return S.push({origin:"function",isSafe:!0}),S;case"MemberExpression":const Ce=this.getMemberExpressionDetails(x);switch(Ce.signature){case"value[]":this.getDependencies(x.object,S,j);break;case"value[][]":this.getDependencies(x.object.object,S,j);break;case"value[][][]":this.getDependencies(x.object.object.object,S,j);break;case"this.output.value":this.dynamicOutput&&S.push({name:Ce.name,origin:"output",isSafe:!1});break}if(Ce)return Ce.property&&this.getDependencies(Ce.property,S,j),Ce.xProperty&&this.getDependencies(Ce.xProperty,S,j),Ce.yProperty&&this.getDependencies(Ce.yProperty,S,j),Ce.zProperty&&this.getDependencies(Ce.zProperty,S,j),S;case"SequenceExpression":return this.getDependencies(x.expressions,S,j);default:throw this.astErrorOutput(`Unhandled type ${x.type} in getDependencies`,x)}return S}getVariableSignature(x,S){if(!this.isAstVariable(x))throw new Error(`ast of type "${x.type}" is not a variable signature`);if(x.type==="Identifier")return"value";const j=[];for(;x;)x.computed?j.push("[]"):x.type==="ThisExpression"?j.unshift("this"):x.property&&x.property.name?x.property.name==="x"||x.property.name==="y"||x.property.name==="z"?j.unshift(S?"."+x.property.name:".value"):x.property.name==="constants"||x.property.name==="thread"||x.property.name==="output"?j.unshift("."+x.property.name):j.unshift(S?"."+x.property.name:".value"):x.name?j.unshift(S?x.name:"value"):x.callee&&x.callee.name?j.unshift(S?x.callee.name+"()":"fn()"):x.elements?j.unshift("[]"):j.unshift("unknown"),x=x.object;const re=j.join("");return S||["value","value[]","value[][]","value[][][]","value[][][][]","value.value","value.thread.value","this.thread.value","this.output.value","this.constants.value","this.constants.value[]","this.constants.value[][]","this.constants.value[][][]","this.constants.value[][][][]","fn()[]","fn()[][]","fn()[][][]","[][]"].indexOf(re)>-1?re:null}build(){return this.toString().length>0}astGeneric(x,S){if(x===null)throw this.astErrorOutput("NULL ast",x);if(Array.isArray(x)){for(let j=0;j<x.length;j++)this.astGeneric(x[j],S);return S}switch(x.type){case"FunctionDeclaration":return this.astFunctionDeclaration(x,S);case"FunctionExpression":return this.astFunctionExpression(x,S);case"ReturnStatement":return this.astReturnStatement(x,S);case"Literal":return this.astLiteral(x,S);case"BinaryExpression":return this.astBinaryExpression(x,S);case"Identifier":return this.astIdentifierExpression(x,S);case"AssignmentExpression":return this.astAssignmentExpression(x,S);case"ExpressionStatement":return this.astExpressionStatement(x,S);case"EmptyStatement":return this.astEmptyStatement(x,S);case"BlockStatement":return this.astBlockStatement(x,S);case"IfStatement":return this.astIfStatement(x,S);case"SwitchStatement":return this.astSwitchStatement(x,S);case"BreakStatement":return this.astBreakStatement(x,S);case"ContinueStatement":return this.astContinueStatement(x,S);case"ForStatement":return this.astForStatement(x,S);case"WhileStatement":return this.astWhileStatement(x,S);case"DoWhileStatement":return this.astDoWhileStatement(x,S);case"VariableDeclaration":return this.astVariableDeclaration(x,S);case"VariableDeclarator":return this.astVariableDeclarator(x,S);case"ThisExpression":return this.astThisExpression(x,S);case"SequenceExpression":return this.astSequenceExpression(x,S);case"UnaryExpression":return this.astUnaryExpression(x,S);case"UpdateExpression":return this.astUpdateExpression(x,S);case"LogicalExpression":return this.astLogicalExpression(x,S);case"MemberExpression":return this.astMemberExpression(x,S);case"CallExpression":return this.astCallExpression(x,S);case"ArrayExpression":return this.astArrayExpression(x,S);case"DebuggerStatement":return this.astDebuggerStatement(x,S);case"ConditionalExpression":return this.astConditionalExpression(x,S)}throw this.astErrorOutput("Unknown ast type : "+x.type,x)}astErrorOutput(x,S){if(typeof this.source!="string")return new Error(x);const j=P.getAstString(this.source,S),Ce=this.source.substr(S.start).split(/\n/),se=Ce.length>0?Ce[Ce.length-1]:0;return new Error(`${x} on line ${Ce.length}, position ${se.length}:
 ${j}`)}astDebuggerStatement(x,S){return S}astConditionalExpression(x,S){if(x.type!=="ConditionalExpression")throw this.astErrorOutput("Not a conditional expression",x);return S.push("("),this.astGeneric(x.test,S),S.push("?"),this.astGeneric(x.consequent,S),S.push(":"),this.astGeneric(x.alternate,S),S.push(")"),S}astFunction(x,S){throw new Error(`"astFunction" not defined on ${this.constructor.name}`)}astFunctionDeclaration(x,S){return this.isChildFunction(x)?S:this.astFunction(x,S)}astFunctionExpression(x,S){return this.isChildFunction(x)?S:this.astFunction(x,S)}isChildFunction(x){for(let S=0;S<this.functions.length;S++)if(this.functions[S]===x)return!0;return!1}astReturnStatement(x,S){return S}astLiteral(x,S){return this.literalTypes[this.astKey(x)]="Number",S}astBinaryExpression(x,S){return S}astIdentifierExpression(x,S){return S}astAssignmentExpression(x,S){return S}astExpressionStatement(x,S){return this.astGeneric(x.expression,S),S.push(";"),S}astEmptyStatement(x,S){return S}astBlockStatement(x,S){return S}astIfStatement(x,S){return S}astSwitchStatement(x,S){return S}astBreakStatement(x,S){return S.push("break;"),S}astContinueStatement(x,S){return S.push(`continue;
`),S}astForStatement(x,S){return S}astWhileStatement(x,S){return S}astDoWhileStatement(x,S){return S}astVariableDeclarator(x,S){return this.astGeneric(x.id,S),x.init!==null&&(S.push("="),this.astGeneric(x.init,S)),S}astThisExpression(x,S){return S}astSequenceExpression(x,S){const{expressions:j}=x,re=[];for(let Ce=0;Ce<j.length;Ce++){const se=j[Ce],me=[];this.astGeneric(se,me),re.push(me.join(""))}return re.length>1?S.push("(",re.join(","),")"):S.push(re[0]),S}astUnaryExpression(x,S){return this.checkAndUpconvertBitwiseUnary(x,S)||(x.prefix?(S.push(x.operator),this.astGeneric(x.argument,S)):(this.astGeneric(x.argument,S),S.push(x.operator))),S}checkAndUpconvertBitwiseUnary(x,S){}astUpdateExpression(x,S){return x.prefix?(S.push(x.operator),this.astGeneric(x.argument,S)):(this.astGeneric(x.argument,S),S.push(x.operator)),S}astLogicalExpression(x,S){return S.push("("),this.astGeneric(x.left,S),S.push(x.operator),this.astGeneric(x.right,S),S.push(")"),S}astMemberExpression(x,S){return S}astCallExpression(x,S){return S}astArrayExpression(x,S){return S}getMemberExpressionDetails(x){if(x.type!=="MemberExpression")throw this.astErrorOutput(`Expression ${x.type} not a MemberExpression`,x);let S=null,j=null;const re=this.getVariableSignature(x);switch(re){case"value":return null;case"value.thread.value":case"this.thread.value":case"this.output.value":return{signature:re,type:"Integer",name:x.property.name};case"value[]":if(typeof x.object.name!="string")throw this.astErrorOutput("Unexpected expression",x);return S=x.object.name,{name:S,origin:"user",signature:re,type:this.getVariableType(x.object),xProperty:x.property};case"value[][]":if(typeof x.object.object.name!="string")throw this.astErrorOutput("Unexpected expression",x);return S=x.object.object.name,{name:S,origin:"user",signature:re,type:this.getVariableType(x.object.object),yProperty:x.object.property,xProperty:x.property};case"value[][][]":if(typeof x.object.object.object.name!="string")throw this.astErrorOutput("Unexpected expression",x);return S=x.object.object.object.name,{name:S,origin:"user",signature:re,type:this.getVariableType(x.object.object.object),zProperty:x.object.object.property,yProperty:x.object.property,xProperty:x.property};case"value[][][][]":if(typeof x.object.object.object.object.name!="string")throw this.astErrorOutput("Unexpected expression",x);return S=x.object.object.object.object.name,{name:S,origin:"user",signature:re,type:this.getVariableType(x.object.object.object.object),zProperty:x.object.object.property,yProperty:x.object.property,xProperty:x.property};case"value.value":if(typeof x.property.name!="string")throw this.astErrorOutput("Unexpected expression",x);if(this.isAstMathVariable(x))return S=x.property.name,{name:S,origin:"Math",type:"Number",signature:re};switch(x.property.name){case"r":case"g":case"b":case"a":return S=x.object.name,{name:S,property:x.property.name,origin:"user",signature:re,type:"Number"};default:throw this.astErrorOutput("Unexpected expression",x)}case"this.constants.value":if(typeof x.property.name!="string")throw this.astErrorOutput("Unexpected expression",x);if(S=x.property.name,j=this.getConstantType(S),!j)throw this.astErrorOutput("Constant has no type",x);return{name:S,type:j,origin:"constants",signature:re};case"this.constants.value[]":if(typeof x.object.property.name!="string")throw this.astErrorOutput("Unexpected expression",x);if(S=x.object.property.name,j=this.getConstantType(S),!j)throw this.astErrorOutput("Constant has no type",x);return{name:S,type:j,origin:"constants",signature:re,xProperty:x.property};case"this.constants.value[][]":{if(typeof x.object.object.property.name!="string")throw this.astErrorOutput("Unexpected expression",x);if(S=x.object.object.property.name,j=this.getConstantType(S),!j)throw this.astErrorOutput("Constant has no type",x);return{name:S,type:j,origin:"constants",signature:re,yProperty:x.object.property,xProperty:x.property}}case"this.constants.value[][][]":{if(typeof x.object.object.object.property.name!="string")throw this.astErrorOutput("Unexpected expression",x);if(S=x.object.object.object.property.name,j=this.getConstantType(S),!j)throw this.astErrorOutput("Constant has no type",x);return{name:S,type:j,origin:"constants",signature:re,zProperty:x.object.object.property,yProperty:x.object.property,xProperty:x.property}}case"fn()[]":case"fn()[][]":case"[][]":return{signature:re,property:x.property};default:throw this.astErrorOutput("Unexpected expression",x)}}findIdentifierOrigin(x){const S=[this.ast];for(;S.length>0;){const j=S[0];if(j.type==="VariableDeclarator"&&j.id&&j.id.name&&j.id.name===x.name)return j;if(S.shift(),j.argument)S.push(j.argument);else if(j.body)S.push(j.body);else if(j.declarations)S.push(j.declarations);else if(Array.isArray(j))for(let re=0;re<j.length;re++)S.push(j[re])}return null}findLastReturn(x){const S=[x||this.ast];for(;S.length>0;){const j=S.pop();if(j.type==="ReturnStatement")return j;if(j.type!=="FunctionDeclaration")if(j.argument)S.push(j.argument);else if(j.body)S.push(j.body);else if(j.declarations)S.push(j.declarations);else if(Array.isArray(j))for(let re=0;re<j.length;re++)S.push(j[re]);else j.consequent?S.push(j.consequent):j.cases&&S.push(j.cases)}return null}getInternalVariableName(x){return this._internalVariableNames.hasOwnProperty(x)||(this._internalVariableNames[x]=0),this._internalVariableNames[x]++,this._internalVariableNames[x]===1?x:x+this._internalVariableNames[x]}astKey(x,S=","){if(!x.start||!x.end)throw new Error("AST start and end needed");return`${x.start}${S}${x.end}`}}const T={Number:"Number",Float:"Float",Integer:"Integer",Array:"Number","Array(2)":"Number","Array(3)":"Number","Array(4)":"Number","Matrix(2)":"Number","Matrix(3)":"Number","Matrix(4)":"Number",Array2D:"Number",Array3D:"Number",Input:"Number",HTMLCanvas:"Array(4)",OffscreenCanvas:"Array(4)",HTMLImage:"Array(4)",ImageBitmap:"Array(4)",ImageData:"Array(4)",HTMLVideo:"Array(4)",HTMLImageArray:"Array(4)",NumberTexture:"Number",MemoryOptimizedNumberTexture:"Number","Array1D(2)":"Array(2)","Array1D(3)":"Array(3)","Array1D(4)":"Array(4)","Array2D(2)":"Array(2)","Array2D(3)":"Array(3)","Array2D(4)":"Array(4)","Array3D(2)":"Array(2)","Array3D(3)":"Array(3)","Array3D(4)":"Array(4)","ArrayTexture(1)":"Number","ArrayTexture(2)":"Array(2)","ArrayTexture(3)":"Array(3)","ArrayTexture(4)":"Array(4)"};m.exports={FunctionNode:R}},{"../utils":114,"./function-tracer":11,acorn:1}],11:[function(h,m,O){const{utils:I}=h("../utils");function P(T){return T.length>0?T[T.length-1]:null}const z={trackIdentifiers:"trackIdentifiers",memberExpression:"memberExpression",inForLoopInit:"inForLoopInit"};class R{constructor($){this.runningContexts=[],this.functionContexts=[],this.contexts=[],this.functionCalls=[],this.declarations=[],this.identifiers=[],this.functions=[],this.returnStatements=[],this.trackedIdentifiers=null,this.states=[],this.newFunctionContext(),this.scan($)}isState($){return this.states[this.states.length-1]===$}hasState($){return this.states.indexOf($)>-1}pushState($){this.states.push($)}popState($){if(this.isState($))this.states.pop();else throw new Error(`Cannot pop the non-active state "${$}"`)}get currentFunctionContext(){return P(this.functionContexts)}get currentContext(){return P(this.runningContexts)}newFunctionContext(){const $={"@contextType":"function"};this.contexts.push($),this.functionContexts.push($)}newContext($){const x=Object.assign({"@contextType":"const/let"},this.currentContext);this.contexts.push(x),this.runningContexts.push(x),$();const{currentFunctionContext:S}=this;for(const j in S)!S.hasOwnProperty(j)||x.hasOwnProperty(j)||(x[j]=S[j]);return this.runningContexts.pop(),x}useFunctionContext($){const x=P(this.functionContexts);this.runningContexts.push(x),$(),this.runningContexts.pop()}getIdentifiers($){const x=this.trackedIdentifiers=[];return this.pushState(z.trackIdentifiers),$(),this.trackedIdentifiers=null,this.popState(z.trackIdentifiers),x}getDeclaration($){const{currentContext:x,currentFunctionContext:S,runningContexts:j}=this,re=x[$]||S[$]||null;if(!re&&x===S&&j.length>0){const Ce=j[j.length-2];if(Ce[$])return Ce[$]}return re}scan($){if($){if(Array.isArray($)){for(let x=0;x<$.length;x++)this.scan($[x]);return}switch($.type){case"Program":this.useFunctionContext(()=>{this.scan($.body)});break;case"BlockStatement":this.newContext(()=>{this.scan($.body)});break;case"AssignmentExpression":case"LogicalExpression":this.scan($.left),this.scan($.right);break;case"BinaryExpression":this.scan($.left),this.scan($.right);break;case"UpdateExpression":if($.operator==="++"){const x=this.getDeclaration($.argument.name);x&&(x.suggestedType="Integer")}this.scan($.argument);break;case"UnaryExpression":this.scan($.argument);break;case"VariableDeclaration":$.kind==="var"?this.useFunctionContext(()=>{$.declarations=I.normalizeDeclarations($),this.scan($.declarations)}):($.declarations=I.normalizeDeclarations($),this.scan($.declarations));break;case"VariableDeclarator":{const{currentContext:x}=this,S=this.hasState(z.inForLoopInit),j={ast:$,context:x,name:$.id.name,origin:"declaration",inForLoopInit:S,inForLoopTest:null,assignable:x===this.currentFunctionContext||!S&&!x.hasOwnProperty($.id.name),suggestedType:null,valueType:null,dependencies:null,isSafe:null};x[$.id.name]||(x[$.id.name]=j),this.declarations.push(j),this.scan($.id),this.scan($.init);break}case"FunctionExpression":case"FunctionDeclaration":this.runningContexts.length===0?this.scan($.body):this.functions.push($);break;case"IfStatement":this.scan($.test),this.scan($.consequent),$.alternate&&this.scan($.alternate);break;case"ForStatement":{let x;const S=this.newContext(()=>{this.pushState(z.inForLoopInit),this.scan($.init),this.popState(z.inForLoopInit),x=this.getIdentifiers(()=>{this.scan($.test)}),this.scan($.update),this.newContext(()=>{this.scan($.body)})});if(x)for(const j in S)j!=="@contextType"&&x.indexOf(j)>-1&&(S[j].inForLoopTest=!0);break}case"DoWhileStatement":case"WhileStatement":this.newContext(()=>{this.scan($.body),this.scan($.test)});break;case"Identifier":{this.isState(z.trackIdentifiers)&&this.trackedIdentifiers.push($.name),this.identifiers.push({context:this.currentContext,declaration:this.getDeclaration($.name),ast:$});break}case"ReturnStatement":this.returnStatements.push($),this.scan($.argument);break;case"MemberExpression":this.pushState(z.memberExpression),this.scan($.object),this.scan($.property),this.popState(z.memberExpression);break;case"ExpressionStatement":this.scan($.expression);break;case"SequenceExpression":this.scan($.expressions);break;case"CallExpression":this.functionCalls.push({context:this.currentContext,ast:$}),this.scan($.arguments);break;case"ArrayExpression":this.scan($.elements);break;case"ConditionalExpression":this.scan($.test),this.scan($.alternate),this.scan($.consequent);break;case"SwitchStatement":this.scan($.discriminant),this.scan($.cases);break;case"SwitchCase":this.scan($.test),this.scan($.consequent);break;case"ThisExpression":case"Literal":case"DebuggerStatement":case"EmptyStatement":case"BreakStatement":case"ContinueStatement":break;default:throw new Error(`unhandled type "${$.type}"`)}}}}m.exports={FunctionTracer:R}},{"../utils":114}],12:[function(h,m,O){const{glWiretap:I}=h("gl-wiretap"),{utils:P}=h("../../utils");function z(j){return j.toString().replace("=>","").replace(/^function /,"").replace(/utils[.]/g,"/*utils.*/")}function R(j,re,Ce,se,me){Ce.built||Ce.build.apply(Ce,re),re=re?Array.from(re).map(Cn=>{switch(typeof Cn){case"boolean":return new Boolean(Cn);case"number":return new Number(Cn);default:return Cn}}):null;const X=[],ie=I(Ce.context,{useTrackablePrimitives:!0,onReadPixels:Cn=>{if(Zt.subKernels){if(!we)X.push(`    const result = { result: ${T(Cn,Zt)} };`),we=!0;else{const Gn=Zt.subKernels[Te++].property;X.push(`    result${isNaN(Gn)?"."+Gn:`[${Gn}]`} = ${T(Cn,Zt)};`)}Te===Zt.subKernels.length&&X.push("    return result;");return}Cn?X.push(`    return ${T(Cn,Zt)};`):X.push("    return null;")},onUnrecognizedArgumentLookup:Cn=>{const Gn=S(Cn,Zt.kernelArguments,[],ie);if(Gn)return Gn;const ur=S(Cn,Zt.kernelConstants,pt?Object.keys(pt).map(es=>pt[es]):[],ie);return ur||null}});let we=!1,Te=0;const{source:tt,canvas:ft,output:te,pipeline:B,graphical:Me,loopMaxIterations:De,constants:pt,optimizeFloatMemory:Je,precision:ut,fixIntegerDivisionAccuracy:kt,functions:Ot,nativeFunctions:fn,subKernels:sn,immutable:Vt,argumentTypes:hn,constantTypes:vn,kernelArguments:$n,kernelConstants:on,tactic:ln}=Ce,Zt=new j(tt,{canvas:ft,context:ie,checkContext:!1,output:te,pipeline:B,graphical:Me,loopMaxIterations:De,constants:pt,optimizeFloatMemory:Je,precision:ut,fixIntegerDivisionAccuracy:kt,functions:Ot,nativeFunctions:fn,subKernels:sn,immutable:Vt,argumentTypes:hn,constantTypes:vn,tactic:ln});let Rn=[];if(ie.setIndent(2),Zt.build.apply(Zt,re),Rn.push(ie.toString()),ie.reset(),Zt.kernelArguments.forEach((Cn,Gn)=>{switch(Cn.type){case"Integer":case"Boolean":case"Number":case"Float":case"Array":case"Array(2)":case"Array(3)":case"Array(4)":case"HTMLCanvas":case"HTMLImage":case"HTMLVideo":ie.insertVariable(`uploadValue_${Cn.name}`,Cn.uploadValue);break;case"HTMLImageArray":for(let ur=0;ur<re[Gn].length;ur++){const es=re[Gn];ie.insertVariable(`uploadValue_${Cn.name}[${ur}]`,es[ur])}break;case"Input":ie.insertVariable(`uploadValue_${Cn.name}`,Cn.uploadValue);break;case"MemoryOptimizedNumberTexture":case"NumberTexture":case"Array1D(2)":case"Array1D(3)":case"Array1D(4)":case"Array2D(2)":case"Array2D(3)":case"Array2D(4)":case"Array3D(2)":case"Array3D(3)":case"Array3D(4)":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":ie.insertVariable(`uploadValue_${Cn.name}`,re[Gn].texture);break;default:throw new Error(`unhandled kernelArgumentType insertion for glWiretap of type ${Cn.type}`)}}),Rn.push("/** start of injected functions **/"),Rn.push(`function ${z(P.flattenTo)}`),Rn.push(`function ${z(P.flatten2dArrayTo)}`),Rn.push(`function ${z(P.flatten3dArrayTo)}`),Rn.push(`function ${z(P.flatten4dArrayTo)}`),Rn.push(`function ${z(P.isArray)}`),Zt.renderOutput!==Zt.renderTexture&&Zt.formatValues&&Rn.push(`  const renderOutput = function ${z(Zt.formatValues)};`),Rn.push("/** end of injected functions **/"),Rn.push(`  const innerKernel = function (${Zt.kernelArguments.map(Cn=>Cn.varName).join(", ")}) {`),ie.setIndent(4),Zt.run.apply(Zt,re),Zt.renderKernels?Zt.renderKernels():Zt.renderOutput&&Zt.renderOutput(),Rn.push("    /** start setup uploads for kernel values **/"),Zt.kernelArguments.forEach(Cn=>{Rn.push("    "+Cn.getStringValueHandler().split(`
`).join(`
    `))}),Rn.push("    /** end setup uploads for kernel values **/"),Rn.push(ie.toString()),Zt.renderOutput===Zt.renderTexture){ie.reset();const Cn=ie.getContextVariableName(Zt.framebuffer);if(Zt.renderKernels){const Gn=Zt.renderKernels(),ur=ie.getContextVariableName(Zt.texture.texture);Rn.push(`    return {
      result: {
        texture: ${ur},
        type: '${Gn.result.type}',
        toArray: ${x(Gn.result,ur,Cn)}
      },`);const{subKernels:es,mappedTextures:jr}=Zt;for(let bn=0;bn<es.length;bn++){const er=jr[bn],Tr=es[bn],Cs=Gn[Tr.property],Fi=ie.getContextVariableName(er.texture);Rn.push(`
      ${Tr.property}: {
        texture: ${Fi},
        type: '${Cs.type}',
        toArray: ${x(Cs,Fi,Cn)}
      },`)}Rn.push("    };")}else{const Gn=Zt.renderOutput(),ur=ie.getContextVariableName(Zt.texture.texture);Rn.push(`    return {
        texture: ${ur},
        type: '${Gn.type}',
        toArray: ${x(Gn,ur,Cn)}
      };`)}}Rn.push(`    ${me?`
`+me+"    ":""}`),Rn.push(X.join(`
`)),Rn.push("  };"),Zt.graphical&&(Rn.push($(Zt)),Rn.push("  innerKernel.getPixels = getPixels;")),Rn.push("  return innerKernel;");let _r=[];return on.forEach(Cn=>{_r.push(`${Cn.getStringValueHandler()}`)}),`function kernel(settings) {
  const { context, constants } = settings;
  ${_r.join("")}
  ${se||""}
${Rn.join(`
`)}
}`}function T(j,re){const Ce=re.precision==="single"?j:`new Float32Array(${j}.buffer)`;return re.output[2]?`renderOutput(${Ce}, ${re.output[0]}, ${re.output[1]}, ${re.output[2]})`:re.output[1]?`renderOutput(${Ce}, ${re.output[0]}, ${re.output[1]})`:`renderOutput(${Ce}, ${re.output[0]})`}function $(j){const re=j.getPixels.toString(),Ce=!/^function/.test(re);return P.flattenFunctionToString(`${Ce?"function ":""}${re}`,{findDependency:(se,me)=>se==="utils"?`const ${me} = ${P[me].toString()};`:null,thisLookup:se=>{if(se==="context")return null;if(j.hasOwnProperty(se))return JSON.stringify(j[se]);throw new Error(`unhandled thisLookup ${se}`)}})}function x(j,re,Ce){const se=j.toArray.toString(),me=!/^function/.test(se),X=P.flattenFunctionToString(`${me?"function ":""}${se}`,{findDependency:(ie,we)=>{if(ie==="utils")return`const ${we} = ${P[we].toString()};`;if(ie==="this")return we==="framebuffer"?"":`${me?"function ":""}${j[we].toString()}`;throw new Error("unhandled fromObject")},thisLookup:(ie,we)=>{if(ie==="texture")return re;if(ie==="context")return we?null:"gl";if(j.hasOwnProperty(ie))return JSON.stringify(j[ie]);throw new Error(`unhandled thisLookup ${ie}`)}});return`() => {
  function framebuffer() { return ${Ce}; };
  ${X}
  return toArray();
  }`}function S(j,re,Ce,se,me){if(j===null||re===null)return null;switch(typeof j){case"boolean":case"number":return null}if(typeof HTMLImageElement<"u"&&j instanceof HTMLImageElement)for(let X=0;X<re.length;X++){const ie=re[X];if(ie.type!=="HTMLImageArray"&&ie||ie.uploadValue!==j)continue;const we=Ce[X].indexOf(j);if(we===-1)continue;const Te=`uploadValue_${ie.name}[${we}]`;return se.insertVariable(Te,j),Te}for(let X=0;X<re.length;X++){const ie=re[X];if(j!==ie.uploadValue)continue;const we=`uploadValue_${ie.name}`;return se.insertVariable(we,ie),we}return null}m.exports={glKernelString:R}},{"../../utils":114,"gl-wiretap":3}],13:[function(h,m,O){const{Kernel:I}=h("../kernel"),{utils:P}=h("../../utils"),{GLTextureArray2Float:z}=h("./texture/array-2-float"),{GLTextureArray2Float2D:R}=h("./texture/array-2-float-2d"),{GLTextureArray2Float3D:T}=h("./texture/array-2-float-3d"),{GLTextureArray3Float:$}=h("./texture/array-3-float"),{GLTextureArray3Float2D:x}=h("./texture/array-3-float-2d"),{GLTextureArray3Float3D:S}=h("./texture/array-3-float-3d"),{GLTextureArray4Float:j}=h("./texture/array-4-float"),{GLTextureArray4Float2D:re}=h("./texture/array-4-float-2d"),{GLTextureArray4Float3D:Ce}=h("./texture/array-4-float-3d"),{GLTextureFloat:se}=h("./texture/float"),{GLTextureFloat2D:me}=h("./texture/float-2d"),{GLTextureFloat3D:X}=h("./texture/float-3d"),{GLTextureMemoryOptimized:ie}=h("./texture/memory-optimized"),{GLTextureMemoryOptimized2D:we}=h("./texture/memory-optimized-2d"),{GLTextureMemoryOptimized3D:Te}=h("./texture/memory-optimized-3d"),{GLTextureUnsigned:tt}=h("./texture/unsigned"),{GLTextureUnsigned2D:ft}=h("./texture/unsigned-2d"),{GLTextureUnsigned3D:te}=h("./texture/unsigned-3d"),{GLTextureGraphical:B}=h("./texture/graphical");class Me extends I{static get mode(){return"gpu"}static getIsFloatRead(){const Je=`function kernelFunction() {
      return 1;
    }`,ut=new this(Je,{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[1],precision:"single",returnType:"Number",tactic:"speed"});ut.build(),ut.run();const kt=ut.renderOutput();return ut.destroy(!0),kt[0]===1}static getIsIntegerDivisionAccurate(){function Je(fn,sn){return fn[this.thread.x]/sn[this.thread.x]}const ut=new this(Je.toString(),{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[2],returnType:"Number",precision:"unsigned",tactic:"speed"}),kt=[[6,6030401],[3,3991]];ut.build.apply(ut,kt),ut.run.apply(ut,kt);const Ot=ut.renderOutput();return ut.destroy(!0),Ot[0]===2&&Ot[1]===1511}static getIsSpeedTacticSupported(){function Je(fn){return fn[this.thread.x]}const ut=new this(Je.toString(),{context:this.testContext,canvas:this.testCanvas,validate:!1,output:[4],returnType:"Number",precision:"unsigned",tactic:"speed"}),kt=[[0,1,2,3]];ut.build.apply(ut,kt),ut.run.apply(ut,kt);const Ot=ut.renderOutput();return ut.destroy(!0),Math.round(Ot[0])===0&&Math.round(Ot[1])===1&&Math.round(Ot[2])===2&&Math.round(Ot[3])===3}static get testCanvas(){throw new Error(`"testCanvas" not defined on ${this.name}`)}static get testContext(){throw new Error(`"testContext" not defined on ${this.name}`)}static getFeatures(){const Je=this.testContext,ut=this.getIsDrawBuffers();return Object.freeze({isFloatRead:this.getIsFloatRead(),isIntegerDivisionAccurate:this.getIsIntegerDivisionAccurate(),isSpeedTacticSupported:this.getIsSpeedTacticSupported(),isTextureFloat:this.getIsTextureFloat(),isDrawBuffers:ut,kernelMap:ut,channelCount:this.getChannelCount(),maxTextureSize:this.getMaxTextureSize(),lowIntPrecision:Je.getShaderPrecisionFormat(Je.FRAGMENT_SHADER,Je.LOW_INT),lowFloatPrecision:Je.getShaderPrecisionFormat(Je.FRAGMENT_SHADER,Je.LOW_FLOAT),mediumIntPrecision:Je.getShaderPrecisionFormat(Je.FRAGMENT_SHADER,Je.MEDIUM_INT),mediumFloatPrecision:Je.getShaderPrecisionFormat(Je.FRAGMENT_SHADER,Je.MEDIUM_FLOAT),highIntPrecision:Je.getShaderPrecisionFormat(Je.FRAGMENT_SHADER,Je.HIGH_INT),highFloatPrecision:Je.getShaderPrecisionFormat(Je.FRAGMENT_SHADER,Je.HIGH_FLOAT)})}static setupFeatureChecks(){throw new Error(`"setupFeatureChecks" not defined on ${this.name}`)}static getSignature(Je,ut){return Je.getVariablePrecisionString()+(ut.length>0?":"+ut.join(","):"")}setFixIntegerDivisionAccuracy(Je){return this.fixIntegerDivisionAccuracy=Je,this}setPrecision(Je){return this.precision=Je,this}setFloatTextures(Je){return P.warnDeprecated("method","setFloatTextures","setOptimizeFloatMemory"),this.floatTextures=Je,this}static nativeFunctionArguments(Je){const ut=[],kt=[],Ot=[],fn=/^[a-zA-Z_]/,sn=/[a-zA-Z_0-9]/;let Vt=0,hn=null,vn=null;for(;Vt<Je.length;){const $n=Je[Vt],on=Je[Vt+1],ln=Ot.length>0?Ot[Ot.length-1]:null;if(ln==="FUNCTION_ARGUMENTS"&&$n==="/"&&on==="*"){Ot.push("MULTI_LINE_COMMENT"),Vt+=2;continue}else if(ln==="MULTI_LINE_COMMENT"&&$n==="*"&&on==="/"){Ot.pop(),Vt+=2;continue}else if(ln==="FUNCTION_ARGUMENTS"&&$n==="/"&&on==="/"){Ot.push("COMMENT"),Vt+=2;continue}else if(ln==="COMMENT"&&$n===`
`){Ot.pop(),Vt++;continue}else if(ln===null&&$n==="("){Ot.push("FUNCTION_ARGUMENTS"),Vt++;continue}else if(ln==="FUNCTION_ARGUMENTS"){if($n===")"){Ot.pop();break}if($n==="f"&&on==="l"&&Je[Vt+2]==="o"&&Je[Vt+3]==="a"&&Je[Vt+4]==="t"&&Je[Vt+5]===" "){Ot.push("DECLARE_VARIABLE"),vn="float",hn="",Vt+=6;continue}else if($n==="i"&&on==="n"&&Je[Vt+2]==="t"&&Je[Vt+3]===" "){Ot.push("DECLARE_VARIABLE"),vn="int",hn="",Vt+=4;continue}else if($n==="v"&&on==="e"&&Je[Vt+2]==="c"&&Je[Vt+3]==="2"&&Je[Vt+4]===" "){Ot.push("DECLARE_VARIABLE"),vn="vec2",hn="",Vt+=5;continue}else if($n==="v"&&on==="e"&&Je[Vt+2]==="c"&&Je[Vt+3]==="3"&&Je[Vt+4]===" "){Ot.push("DECLARE_VARIABLE"),vn="vec3",hn="",Vt+=5;continue}else if($n==="v"&&on==="e"&&Je[Vt+2]==="c"&&Je[Vt+3]==="4"&&Je[Vt+4]===" "){Ot.push("DECLARE_VARIABLE"),vn="vec4",hn="",Vt+=5;continue}}else if(ln==="DECLARE_VARIABLE"){if(hn===""){if($n===" "){Vt++;continue}if(!fn.test($n))throw new Error("variable name is not expected string")}hn+=$n,sn.test(on)||(Ot.pop(),kt.push(hn),ut.push(De[vn]))}Vt++}if(Ot.length>0)throw new Error("GLSL function was not parsable");return{argumentNames:kt,argumentTypes:ut}}static nativeFunctionReturnType(Je){return De[Je.match(/int|float|vec[2-4]/)[0]]}static combineKernels(Je,ut){Je.apply(null,arguments);const{texSize:kt,context:Ot,threadDim:fn}=ut.texSize;let sn;if(ut.precision==="single"){const Vt=kt[0],hn=Math.ceil(kt[1]/4);sn=new Float32Array(Vt*hn*4*4),Ot.readPixels(0,0,Vt,hn*4,Ot.RGBA,Ot.FLOAT,sn)}else{const Vt=new Uint8Array(kt[0]*kt[1]*4);Ot.readPixels(0,0,kt[0],kt[1],Ot.RGBA,Ot.UNSIGNED_BYTE,Vt),sn=new Float32Array(Vt.buffer)}if(sn=sn.subarray(0,fn[0]*fn[1]*fn[2]),ut.output.length===1)return sn;if(ut.output.length===2)return P.splitArray(sn,ut.output[0]);if(ut.output.length===3)return P.splitArray(sn,ut.output[0]*ut.output[1]).map(function(hn){return P.splitArray(hn,ut.output[0])})}constructor(Je,ut){super(Je,ut),this.transferValues=null,this.formatValues=null,this.TextureConstructor=null,this.renderOutput=null,this.renderRawOutput=null,this.texSize=null,this.translatedSource=null,this.compiledFragmentShader=null,this.compiledVertexShader=null,this.switchingKernels=null,this._textureSwitched=null,this._mappedTextureSwitched=null}checkTextureSize(){const{features:Je}=this.constructor;if(this.texSize[0]>Je.maxTextureSize||this.texSize[1]>Je.maxTextureSize)throw new Error(`Texture size [${this.texSize[0]},${this.texSize[1]}] generated by kernel is larger than supported size [${Je.maxTextureSize},${Je.maxTextureSize}]`)}translateSource(){throw new Error(`"translateSource" not defined on ${this.constructor.name}`)}pickRenderStrategy(Je){if(this.graphical)return this.renderRawOutput=this.readPackedPixelsToUint8Array,this.transferValues=ut=>ut,this.TextureConstructor=B,null;if(this.precision==="unsigned")if(this.renderRawOutput=this.readPackedPixelsToUint8Array,this.transferValues=this.readPackedPixelsToFloat32Array,this.pipeline)switch(this.renderOutput=this.renderTexture,this.subKernels!==null&&(this.renderKernels=this.renderKernelsToTextures),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=te,null):this.output[1]>0?(this.TextureConstructor=ft,null):(this.TextureConstructor=tt,null);case"Array(2)":case"Array(3)":case"Array(4)":return this.requestFallback(Je)}else switch(this.subKernels!==null&&(this.renderKernels=this.renderKernelsToArrays),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.renderOutput=this.renderValues,this.output[2]>0?(this.TextureConstructor=te,this.formatValues=P.erect3DPackedFloat,null):this.output[1]>0?(this.TextureConstructor=ft,this.formatValues=P.erect2DPackedFloat,null):(this.TextureConstructor=tt,this.formatValues=P.erectPackedFloat,null);case"Array(2)":case"Array(3)":case"Array(4)":return this.requestFallback(Je)}else if(this.precision==="single"){if(this.renderRawOutput=this.readFloatPixelsToFloat32Array,this.transferValues=this.readFloatPixelsToFloat32Array,this.pipeline)switch(this.renderOutput=this.renderTexture,this.subKernels!==null&&(this.renderKernels=this.renderKernelsToTextures),this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.optimizeFloatMemory?this.output[2]>0?(this.TextureConstructor=Te,null):this.output[1]>0?(this.TextureConstructor=we,null):(this.TextureConstructor=ie,null):this.output[2]>0?(this.TextureConstructor=X,null):this.output[1]>0?(this.TextureConstructor=me,null):(this.TextureConstructor=se,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=T,null):this.output[1]>0?(this.TextureConstructor=R,null):(this.TextureConstructor=z,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=S,null):this.output[1]>0?(this.TextureConstructor=x,null):(this.TextureConstructor=$,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=Ce,null):this.output[1]>0?(this.TextureConstructor=re,null):(this.TextureConstructor=j,null)}if(this.renderOutput=this.renderValues,this.subKernels!==null&&(this.renderKernels=this.renderKernelsToArrays),this.optimizeFloatMemory)switch(this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=Te,this.formatValues=P.erectMemoryOptimized3DFloat,null):this.output[1]>0?(this.TextureConstructor=we,this.formatValues=P.erectMemoryOptimized2DFloat,null):(this.TextureConstructor=ie,this.formatValues=P.erectMemoryOptimizedFloat,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=T,this.formatValues=P.erect3DArray2,null):this.output[1]>0?(this.TextureConstructor=R,this.formatValues=P.erect2DArray2,null):(this.TextureConstructor=z,this.formatValues=P.erectArray2,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=S,this.formatValues=P.erect3DArray3,null):this.output[1]>0?(this.TextureConstructor=x,this.formatValues=P.erect2DArray3,null):(this.TextureConstructor=$,this.formatValues=P.erectArray3,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=Ce,this.formatValues=P.erect3DArray4,null):this.output[1]>0?(this.TextureConstructor=re,this.formatValues=P.erect2DArray4,null):(this.TextureConstructor=j,this.formatValues=P.erectArray4,null)}else switch(this.returnType){case"LiteralInteger":case"Float":case"Number":case"Integer":return this.output[2]>0?(this.TextureConstructor=X,this.formatValues=P.erect3DFloat,null):this.output[1]>0?(this.TextureConstructor=me,this.formatValues=P.erect2DFloat,null):(this.TextureConstructor=se,this.formatValues=P.erectFloat,null);case"Array(2)":return this.output[2]>0?(this.TextureConstructor=T,this.formatValues=P.erect3DArray2,null):this.output[1]>0?(this.TextureConstructor=R,this.formatValues=P.erect2DArray2,null):(this.TextureConstructor=z,this.formatValues=P.erectArray2,null);case"Array(3)":return this.output[2]>0?(this.TextureConstructor=S,this.formatValues=P.erect3DArray3,null):this.output[1]>0?(this.TextureConstructor=x,this.formatValues=P.erect2DArray3,null):(this.TextureConstructor=$,this.formatValues=P.erectArray3,null);case"Array(4)":return this.output[2]>0?(this.TextureConstructor=Ce,this.formatValues=P.erect3DArray4,null):this.output[1]>0?(this.TextureConstructor=re,this.formatValues=P.erect2DArray4,null):(this.TextureConstructor=j,this.formatValues=P.erectArray4,null)}}else throw new Error(`unhandled precision of "${this.precision}"`);throw new Error(`unhandled return type "${this.returnType}"`)}getKernelString(){throw new Error("abstract method call")}getMainResultTexture(){switch(this.returnType){case"LiteralInteger":case"Float":case"Integer":case"Number":return this.getMainResultNumberTexture();case"Array(2)":return this.getMainResultArray2Texture();case"Array(3)":return this.getMainResultArray3Texture();case"Array(4)":return this.getMainResultArray4Texture();default:throw new Error(`unhandled returnType type ${this.returnType}`)}}getMainResultKernelNumberTexture(){throw new Error("abstract method call")}getMainResultSubKernelNumberTexture(){throw new Error("abstract method call")}getMainResultKernelArray2Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray2Texture(){throw new Error("abstract method call")}getMainResultKernelArray3Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray3Texture(){throw new Error("abstract method call")}getMainResultKernelArray4Texture(){throw new Error("abstract method call")}getMainResultSubKernelArray4Texture(){throw new Error("abstract method call")}getMainResultGraphical(){throw new Error("abstract method call")}getMainResultMemoryOptimizedFloats(){throw new Error("abstract method call")}getMainResultPackedPixels(){throw new Error("abstract method call")}getMainResultString(){return this.graphical?this.getMainResultGraphical():this.precision==="single"?this.optimizeFloatMemory?this.getMainResultMemoryOptimizedFloats():this.getMainResultTexture():this.getMainResultPackedPixels()}getMainResultNumberTexture(){return P.linesToString(this.getMainResultKernelNumberTexture())+P.linesToString(this.getMainResultSubKernelNumberTexture())}getMainResultArray2Texture(){return P.linesToString(this.getMainResultKernelArray2Texture())+P.linesToString(this.getMainResultSubKernelArray2Texture())}getMainResultArray3Texture(){return P.linesToString(this.getMainResultKernelArray3Texture())+P.linesToString(this.getMainResultSubKernelArray3Texture())}getMainResultArray4Texture(){return P.linesToString(this.getMainResultKernelArray4Texture())+P.linesToString(this.getMainResultSubKernelArray4Texture())}getFloatTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} float;
`}getIntTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic,!0)} int;
`}getSampler2DTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} sampler2D;
`}getSampler2DArrayTacticDeclaration(){return`precision ${this.getVariablePrecisionString(this.texSize,this.tactic)} sampler2DArray;
`}renderTexture(){return this.immutable?this.texture.clone():this.texture}readPackedPixelsToUint8Array(){if(this.precision!=="unsigned")throw new Error('Requires this.precision to be "unsigned"');const{texSize:Je,context:ut}=this,kt=new Uint8Array(Je[0]*Je[1]*4);return ut.readPixels(0,0,Je[0],Je[1],ut.RGBA,ut.UNSIGNED_BYTE,kt),kt}readPackedPixelsToFloat32Array(){return new Float32Array(this.readPackedPixelsToUint8Array().buffer)}readFloatPixelsToFloat32Array(){if(this.precision!=="single")throw new Error('Requires this.precision to be "single"');const{texSize:Je,context:ut}=this,kt=Je[0],Ot=Je[1],fn=new Float32Array(kt*Ot*4);return ut.readPixels(0,0,kt,Ot,ut.RGBA,ut.FLOAT,fn),fn}getPixels(Je){const{context:ut,output:kt}=this,[Ot,fn]=kt,sn=new Uint8Array(Ot*fn*4);return ut.readPixels(0,0,Ot,fn,ut.RGBA,ut.UNSIGNED_BYTE,sn),new Uint8ClampedArray((Je?sn:P.flipPixels(sn,Ot,fn)).buffer)}renderKernelsToArrays(){const Je={result:this.renderOutput()};for(let ut=0;ut<this.subKernels.length;ut++)Je[this.subKernels[ut].property]=this.mappedTextures[ut].toArray();return Je}renderKernelsToTextures(){const Je={result:this.renderOutput()};if(this.immutable)for(let ut=0;ut<this.subKernels.length;ut++)Je[this.subKernels[ut].property]=this.mappedTextures[ut].clone();else for(let ut=0;ut<this.subKernels.length;ut++)Je[this.subKernels[ut].property]=this.mappedTextures[ut];return Je}resetSwitchingKernels(){const Je=this.switchingKernels;return this.switchingKernels=null,Je}setOutput(Je){const ut=this.toKernelOutput(Je);if(this.program){if(!this.dynamicOutput)throw new Error("Resizing a kernel with dynamicOutput: false is not possible");const kt=[ut[0],ut[1]||1,ut[2]||1],Ot=P.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},kt),fn=this.texSize;if(fn){const Vt=this.getVariablePrecisionString(fn,this.tactic),hn=this.getVariablePrecisionString(Ot,this.tactic);if(Vt!==hn){this.debug&&console.warn("Precision requirement changed, asking GPU instance to recompile"),this.switchKernels({type:"outputPrecisionMismatch",precision:hn,needed:Je});return}}this.output=ut,this.threadDim=kt,this.texSize=Ot;const{context:sn}=this;if(sn.bindFramebuffer(sn.FRAMEBUFFER,this.framebuffer),this.updateMaxTexSize(),this.framebuffer.width=this.texSize[0],this.framebuffer.height=this.texSize[1],sn.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),this.canvas.width=this.maxTexSize[0],this.canvas.height=this.maxTexSize[1],this.texture&&this.texture.delete(),this.texture=null,this._setupOutputTexture(),this.mappedTextures&&this.mappedTextures.length>0){for(let Vt=0;Vt<this.mappedTextures.length;Vt++)this.mappedTextures[Vt].delete();this.mappedTextures=null,this._setupSubOutputTextures()}}else this.output=ut;return this}renderValues(){return this.formatValues(this.transferValues(),this.output[0],this.output[1],this.output[2])}switchKernels(Je){this.switchingKernels?this.switchingKernels.push(Je):this.switchingKernels=[Je]}getVariablePrecisionString(Je=this.texSize,ut=this.tactic,kt=!1){if(!ut){if(!this.constructor.features.isSpeedTacticSupported)return"highp";const Ot=this.constructor.features[kt?"lowIntPrecision":"lowFloatPrecision"],fn=this.constructor.features[kt?"mediumIntPrecision":"mediumFloatPrecision"],sn=this.constructor.features[kt?"highIntPrecision":"highFloatPrecision"],Vt=Math.log2(Je[0]*Je[1]);if(Vt<=Ot.rangeMax)return"lowp";if(Vt<=fn.rangeMax)return"mediump";if(Vt<=sn.rangeMax)return"highp";throw new Error("The required size exceeds that of the ability of your system")}switch(ut){case"speed":return"lowp";case"balanced":return"mediump";case"precision":return"highp";default:throw new Error(`Unknown tactic "${ut}" use "speed", "balanced", "precision", or empty for auto`)}}updateTextureArgumentRefs(Je,ut){if(this.immutable){if(this.texture.texture===ut.texture){const{prevArg:kt}=Je;kt&&(kt.texture._refs===1&&(this.texture.delete(),this.texture=kt.clone(),this._textureSwitched=!0),kt.delete()),Je.prevArg=ut.clone()}else if(this.mappedTextures&&this.mappedTextures.length>0){const{mappedTextures:kt}=this;for(let Ot=0;Ot<kt.length;Ot++){const fn=kt[Ot];if(fn.texture===ut.texture){const{prevArg:sn}=Je;sn&&(sn.texture._refs===1&&(fn.delete(),kt[Ot]=sn.clone(),this._mappedTextureSwitched[Ot]=!0),sn.delete()),Je.prevArg=ut.clone();return}}}}}onActivate(Je){if(this._textureSwitched=!0,this.texture=Je.texture,this.mappedTextures){for(let ut=0;ut<this.mappedTextures.length;ut++)this._mappedTextureSwitched[ut]=!0;this.mappedTextures=Je.mappedTextures}}initCanvas(){}}const De={int:"Integer",float:"Number",vec2:"Array(2)",vec3:"Array(3)",vec4:"Array(4)"};m.exports={GLKernel:Me}},{"../../utils":114,"../kernel":36,"./texture/array-2-float":16,"./texture/array-2-float-2d":14,"./texture/array-2-float-3d":15,"./texture/array-3-float":19,"./texture/array-3-float-2d":17,"./texture/array-3-float-3d":18,"./texture/array-4-float":22,"./texture/array-4-float-2d":20,"./texture/array-4-float-3d":21,"./texture/float":25,"./texture/float-2d":23,"./texture/float-3d":24,"./texture/graphical":26,"./texture/memory-optimized":30,"./texture/memory-optimized-2d":28,"./texture/memory-optimized-3d":29,"./texture/unsigned":33,"./texture/unsigned-2d":31,"./texture/unsigned-3d":32}],14:[function(h,m,O){const{utils:I}=h("../../../utils"),{GLTextureFloat:P}=h("./float");class z extends P{constructor(T){super(T),this.type="ArrayTexture(2)"}toArray(){return I.erect2DArray2(this.renderValues(),this.output[0],this.output[1])}}m.exports={GLTextureArray2Float2D:z}},{"../../../utils":114,"./float":25}],15:[function(h,m,O){const{utils:I}=h("../../../utils"),{GLTextureFloat:P}=h("./float");class z extends P{constructor(T){super(T),this.type="ArrayTexture(2)"}toArray(){return I.erect3DArray2(this.renderValues(),this.output[0],this.output[1],this.output[2])}}m.exports={GLTextureArray2Float3D:z}},{"../../../utils":114,"./float":25}],16:[function(h,m,O){const{utils:I}=h("../../../utils"),{GLTextureFloat:P}=h("./float");class z extends P{constructor(T){super(T),this.type="ArrayTexture(2)"}toArray(){return I.erectArray2(this.renderValues(),this.output[0],this.output[1])}}m.exports={GLTextureArray2Float:z}},{"../../../utils":114,"./float":25}],17:[function(h,m,O){const{utils:I}=h("../../../utils"),{GLTextureFloat:P}=h("./float");class z extends P{constructor(T){super(T),this.type="ArrayTexture(3)"}toArray(){return I.erect2DArray3(this.renderValues(),this.output[0],this.output[1])}}m.exports={GLTextureArray3Float2D:z}},{"../../../utils":114,"./float":25}],18:[function(h,m,O){const{utils:I}=h("../../../utils"),{GLTextureFloat:P}=h("./float");class z extends P{constructor(T){super(T),this.type="ArrayTexture(3)"}toArray(){return I.erect3DArray3(this.renderValues(),this.output[0],this.output[1],this.output[2])}}m.exports={GLTextureArray3Float3D:z}},{"../../../utils":114,"./float":25}],19:[function(h,m,O){const{utils:I}=h("../../../utils"),{GLTextureFloat:P}=h("./float");class z extends P{constructor(T){super(T),this.type="ArrayTexture(3)"}toArray(){return I.erectArray3(this.renderValues(),this.output[0])}}m.exports={GLTextureArray3Float:z}},{"../../../utils":114,"./float":25}],20:[function(h,m,O){const{utils:I}=h("../../../utils"),{GLTextureFloat:P}=h("./float");class z extends P{constructor(T){super(T),this.type="ArrayTexture(4)"}toArray(){return I.erect2DArray4(this.renderValues(),this.output[0],this.output[1])}}m.exports={GLTextureArray4Float2D:z}},{"../../../utils":114,"./float":25}],21:[function(h,m,O){const{utils:I}=h("../../../utils"),{GLTextureFloat:P}=h("./float");class z extends P{constructor(T){super(T),this.type="ArrayTexture(4)"}toArray(){return I.erect3DArray4(this.renderValues(),this.output[0],this.output[1],this.output[2])}}m.exports={GLTextureArray4Float3D:z}},{"../../../utils":114,"./float":25}],22:[function(h,m,O){const{utils:I}=h("../../../utils"),{GLTextureFloat:P}=h("./float");class z extends P{constructor(T){super(T),this.type="ArrayTexture(4)"}toArray(){return I.erectArray4(this.renderValues(),this.output[0])}}m.exports={GLTextureArray4Float:z}},{"../../../utils":114,"./float":25}],23:[function(h,m,O){const{utils:I}=h("../../../utils"),{GLTextureFloat:P}=h("./float");class z extends P{constructor(T){super(T),this.type="ArrayTexture(1)"}toArray(){return I.erect2DFloat(this.renderValues(),this.output[0],this.output[1])}}m.exports={GLTextureFloat2D:z}},{"../../../utils":114,"./float":25}],24:[function(h,m,O){const{utils:I}=h("../../../utils"),{GLTextureFloat:P}=h("./float");class z extends P{constructor(T){super(T),this.type="ArrayTexture(1)"}toArray(){return I.erect3DFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}m.exports={GLTextureFloat3D:z}},{"../../../utils":114,"./float":25}],25:[function(h,m,O){const{utils:I}=h("../../../utils"),{GLTexture:P}=h("./index");class z extends P{get textureType(){return this.context.FLOAT}constructor(T){super(T),this.type="ArrayTexture(1)"}renderRawOutput(){const T=this.context,$=this.size;T.bindFramebuffer(T.FRAMEBUFFER,this.framebuffer()),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,this.texture,0);const x=new Float32Array($[0]*$[1]*4);return T.readPixels(0,0,$[0],$[1],T.RGBA,T.FLOAT,x),x}renderValues(){return this._deleted?null:this.renderRawOutput()}toArray(){return I.erectFloat(this.renderValues(),this.output[0])}}m.exports={GLTextureFloat:z}},{"../../../utils":114,"./index":27}],26:[function(h,m,O){const{GLTextureUnsigned:I}=h("./unsigned");class P extends I{constructor(R){super(R),this.type="ArrayTexture(4)"}toArray(){return this.renderValues()}}m.exports={GLTextureGraphical:P}},{"./unsigned":33}],27:[function(h,m,O){const{Texture:I}=h("../../../texture");class P extends I{get textureType(){throw new Error(`"textureType" not implemented on ${this.name}`)}clone(){return new this.constructor(this)}beforeMutate(){return this.texture._refs>1?(this.newTexture(),!0):!1}cloneTexture(){this.texture._refs--;const{context:T,size:$,texture:x,kernel:S}=this;S.debug&&console.warn("cloning internal texture"),T.bindFramebuffer(T.FRAMEBUFFER,this.framebuffer()),z(T,x),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,x,0);const j=T.createTexture();z(T,j),T.texImage2D(T.TEXTURE_2D,0,this.internalFormat,$[0],$[1],0,this.textureFormat,this.textureType,null),T.copyTexSubImage2D(T.TEXTURE_2D,0,0,0,0,0,$[0],$[1]),j._refs=1,this.texture=j}newTexture(){this.texture._refs--;const T=this.context,$=this.size;this.kernel.debug&&console.warn("new internal texture");const S=T.createTexture();z(T,S),T.texImage2D(T.TEXTURE_2D,0,this.internalFormat,$[0],$[1],0,this.textureFormat,this.textureType,null),S._refs=1,this.texture=S}clear(){if(this.texture._refs){this.texture._refs--;const x=this.context,S=this.texture=x.createTexture();z(x,S);const j=this.size;S._refs=1,x.texImage2D(x.TEXTURE_2D,0,this.internalFormat,j[0],j[1],0,this.textureFormat,this.textureType,null)}const{context:T,texture:$}=this;T.bindFramebuffer(T.FRAMEBUFFER,this.framebuffer()),T.bindTexture(T.TEXTURE_2D,$),z(T,$),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,$,0),T.clearColor(0,0,0,0),T.clear(T.COLOR_BUFFER_BIT|T.DEPTH_BUFFER_BIT)}delete(){this._deleted||(this._deleted=!0,!(this.texture._refs&&(this.texture._refs--,this.texture._refs))&&this.context.deleteTexture(this.texture))}framebuffer(){return this._framebuffer||(this._framebuffer=this.kernel.getRawValueFramebuffer(this.size[0],this.size[1])),this._framebuffer}}function z(R,T){R.activeTexture(R.TEXTURE15),R.bindTexture(R.TEXTURE_2D,T),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_S,R.CLAMP_TO_EDGE),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_T,R.CLAMP_TO_EDGE),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MIN_FILTER,R.NEAREST),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MAG_FILTER,R.NEAREST)}m.exports={GLTexture:P}},{"../../../texture":113}],28:[function(h,m,O){const{utils:I}=h("../../../utils"),{GLTextureFloat:P}=h("./float");class z extends P{constructor(T){super(T),this.type="MemoryOptimizedNumberTexture"}toArray(){return I.erectMemoryOptimized2DFloat(this.renderValues(),this.output[0],this.output[1])}}m.exports={GLTextureMemoryOptimized2D:z}},{"../../../utils":114,"./float":25}],29:[function(h,m,O){const{utils:I}=h("../../../utils"),{GLTextureFloat:P}=h("./float");class z extends P{constructor(T){super(T),this.type="MemoryOptimizedNumberTexture"}toArray(){return I.erectMemoryOptimized3DFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}m.exports={GLTextureMemoryOptimized3D:z}},{"../../../utils":114,"./float":25}],30:[function(h,m,O){const{utils:I}=h("../../../utils"),{GLTextureFloat:P}=h("./float");class z extends P{constructor(T){super(T),this.type="MemoryOptimizedNumberTexture"}toArray(){return I.erectMemoryOptimizedFloat(this.renderValues(),this.output[0])}}m.exports={GLTextureMemoryOptimized:z}},{"../../../utils":114,"./float":25}],31:[function(h,m,O){const{utils:I}=h("../../../utils"),{GLTextureUnsigned:P}=h("./unsigned");class z extends P{constructor(T){super(T),this.type="NumberTexture"}toArray(){return I.erect2DPackedFloat(this.renderValues(),this.output[0],this.output[1])}}m.exports={GLTextureUnsigned2D:z}},{"../../../utils":114,"./unsigned":33}],32:[function(h,m,O){const{utils:I}=h("../../../utils"),{GLTextureUnsigned:P}=h("./unsigned");class z extends P{constructor(T){super(T),this.type="NumberTexture"}toArray(){return I.erect3DPackedFloat(this.renderValues(),this.output[0],this.output[1],this.output[2])}}m.exports={GLTextureUnsigned3D:z}},{"../../../utils":114,"./unsigned":33}],33:[function(h,m,O){const{utils:I}=h("../../../utils"),{GLTexture:P}=h("./index");class z extends P{get textureType(){return this.context.UNSIGNED_BYTE}constructor(T){super(T),this.type="NumberTexture"}renderRawOutput(){const{context:T}=this;T.bindFramebuffer(T.FRAMEBUFFER,this.framebuffer()),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,this.texture,0);const $=new Uint8Array(this.size[0]*this.size[1]*4);return T.readPixels(0,0,this.size[0],this.size[1],T.RGBA,T.UNSIGNED_BYTE,$),$}renderValues(){return this._deleted?null:new Float32Array(this.renderRawOutput().buffer)}toArray(){return I.erectPackedFloat(this.renderValues(),this.output[0])}}m.exports={GLTextureUnsigned:z}},{"../../../utils":114,"./index":27}],34:[function(h,m,O){const I=h("gl"),{WebGLKernel:P}=h("../web-gl/kernel"),{glKernelString:z}=h("../gl/kernel-string");let R=null,T=null,$=null,x=null,S=null;class j extends P{static get isSupported(){return R!==null||(this.setupFeatureChecks(),R=$!==null),R}static setupFeatureChecks(){if(T=null,x=null,typeof I=="function")try{if($=I(2,2,{preserveDrawingBuffer:!0}),!$||!$.getExtension)return;x={STACKGL_resize_drawingbuffer:$.getExtension("STACKGL_resize_drawingbuffer"),STACKGL_destroy_context:$.getExtension("STACKGL_destroy_context"),OES_texture_float:$.getExtension("OES_texture_float"),OES_texture_float_linear:$.getExtension("OES_texture_float_linear"),OES_element_index_uint:$.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:$.getExtension("WEBGL_draw_buffers"),WEBGL_color_buffer_float:$.getExtension("WEBGL_color_buffer_float")},S=this.getFeatures()}catch(Ce){console.warn(Ce)}}static isContextMatch(Ce){try{return Ce.getParameter(Ce.RENDERER)==="ANGLE"}catch{return!1}}static getIsTextureFloat(){return!!x.OES_texture_float}static getIsDrawBuffers(){return!!x.WEBGL_draw_buffers}static getChannelCount(){return x.WEBGL_draw_buffers?$.getParameter(x.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL):1}static getMaxTextureSize(){return $.getParameter($.MAX_TEXTURE_SIZE)}static get testCanvas(){return T}static get testContext(){return $}static get features(){return S}initCanvas(){return{}}initContext(){return I(2,2,{preserveDrawingBuffer:!0})}initExtensions(){this.extensions={STACKGL_resize_drawingbuffer:this.context.getExtension("STACKGL_resize_drawingbuffer"),STACKGL_destroy_context:this.context.getExtension("STACKGL_destroy_context"),OES_texture_float:this.context.getExtension("OES_texture_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear"),OES_element_index_uint:this.context.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:this.context.getExtension("WEBGL_draw_buffers")}}build(){super.build.apply(this,arguments),this.fallbackRequested||this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0],this.maxTexSize[1])}destroyExtensions(){this.extensions.STACKGL_resize_drawingbuffer=null,this.extensions.STACKGL_destroy_context=null,this.extensions.OES_texture_float=null,this.extensions.OES_texture_float_linear=null,this.extensions.OES_element_index_uint=null,this.extensions.WEBGL_draw_buffers=null}static destroyContext(Ce){const se=Ce.getExtension("STACKGL_destroy_context");se&&se.destroy&&se.destroy()}toString(){return z(this.constructor,arguments,this,`const gl = context || require('gl')(1, 1);
`,`    if (!context) { gl.getExtension('STACKGL_destroy_context').destroy(); }
`)}setOutput(Ce){return super.setOutput(Ce),this.graphical&&this.extensions.STACKGL_resize_drawingbuffer&&this.extensions.STACKGL_resize_drawingbuffer.resize(this.maxTexSize[0],this.maxTexSize[1]),this}}m.exports={HeadlessGLKernel:j}},{"../gl/kernel-string":12,"../web-gl/kernel":70,gl:2}],35:[function(h,m,O){class I{constructor(z,R){const{name:T,kernel:$,context:x,checkContext:S,onRequestContextHandle:j,onUpdateValueMismatch:re,origin:Ce,strictIntegers:se,type:me,tactic:X}=R;if(!T)throw new Error("name not set");if(!me)throw new Error("type not set");if(!Ce)throw new Error("origin not set");if(Ce!=="user"&&Ce!=="constants")throw new Error(`origin must be "user" or "constants" value is "${Ce}"`);if(!j)throw new Error("onRequestContextHandle is not set");this.name=T,this.origin=Ce,this.tactic=X,this.varName=Ce==="constants"?`constants.${T}`:T,this.kernel=$,this.strictIntegers=se,this.type=z.type||me,this.size=z.size||null,this.index=null,this.context=x,this.checkContext=S??!0,this.contextHandle=null,this.onRequestContextHandle=j,this.onUpdateValueMismatch=re,this.forceUploadEachRun=null}get id(){return`${this.origin}_${name}`}getSource(){throw new Error(`"getSource" not defined on ${this.constructor.name}`)}updateValue(z){throw new Error(`"updateValue" not defined on ${this.constructor.name}`)}}m.exports={KernelValue:I}},{}],36:[function(h,m,O){const{utils:I}=h("../utils"),{Input:P}=h("../input");class z{static get isSupported(){throw new Error(`"isSupported" not implemented on ${this.name}`)}static isContextMatch($){throw new Error(`"isContextMatch" not implemented on ${this.name}`)}static getFeatures(){throw new Error(`"getFeatures" not implemented on ${this.name}`)}static destroyContext($){throw new Error(`"destroyContext" called on ${this.name}`)}static nativeFunctionArguments(){throw new Error(`"nativeFunctionArguments" called on ${this.name}`)}static nativeFunctionReturnType(){throw new Error(`"nativeFunctionReturnType" called on ${this.name}`)}static combineKernels(){throw new Error(`"combineKernels" called on ${this.name}`)}constructor($,x){if(typeof $!="object"){if(typeof $!="string")throw new Error("source not a string");if(!I.isFunctionString($))throw new Error("source not a function string")}this.useLegacyEncoder=!1,this.fallbackRequested=!1,this.onRequestFallback=null,this.argumentNames=typeof $=="string"?I.getArgumentNamesFromString($):null,this.argumentTypes=null,this.argumentSizes=null,this.argumentBitRatios=null,this.kernelArguments=null,this.kernelConstants=null,this.forceUploadKernelConstants=null,this.source=$,this.output=null,this.debug=!1,this.graphical=!1,this.loopMaxIterations=0,this.constants=null,this.constantTypes=null,this.constantBitRatios=null,this.dynamicArguments=!1,this.dynamicOutput=!1,this.canvas=null,this.context=null,this.checkContext=null,this.gpu=null,this.functions=null,this.nativeFunctions=null,this.injectedNative=null,this.subKernels=null,this.validate=!0,this.immutable=!1,this.pipeline=!1,this.precision=null,this.tactic=null,this.plugins=null,this.returnType=null,this.leadingReturnStatement=null,this.followingReturnStatement=null,this.optimizeFloatMemory=null,this.strictIntegers=!1,this.fixIntegerDivisionAccuracy=null,this.built=!1,this.signature=null}mergeSettings($){for(let x in $)if(!(!$.hasOwnProperty(x)||!this.hasOwnProperty(x))){switch(x){case"output":if(!Array.isArray($.output)){this.setOutput($.output);continue}break;case"functions":this.functions=[];for(let S=0;S<$.functions.length;S++)this.addFunction($.functions[S]);continue;case"graphical":$[x]&&!$.hasOwnProperty("precision")&&(this.precision="unsigned"),this[x]=$[x];continue;case"nativeFunctions":if(!$.nativeFunctions)continue;this.nativeFunctions=[];for(let S=0;S<$.nativeFunctions.length;S++){const j=$.nativeFunctions[S],{name:re,source:Ce}=j;this.addNativeFunction(re,Ce,j)}continue}this[x]=$[x]}this.canvas||(this.canvas=this.initCanvas()),this.context||(this.context=this.initContext()),this.plugins||(this.plugins=this.initPlugins($))}build(){throw new Error(`"build" not defined on ${this.constructor.name}`)}run(){throw new Error(`"run" not defined on ${this.constructor.name}`)}initCanvas(){throw new Error(`"initCanvas" not defined on ${this.constructor.name}`)}initContext(){throw new Error(`"initContext" not defined on ${this.constructor.name}`)}initPlugins($){throw new Error(`"initPlugins" not defined on ${this.constructor.name}`)}addFunction($,x={}){if($.name&&$.source&&$.argumentTypes&&"returnType"in $)this.functions.push($);else if("settings"in $&&"source"in $)this.functions.push(this.functionToIGPUFunction($.source,$.settings));else if(typeof $=="string"||typeof $=="function")this.functions.push(this.functionToIGPUFunction($,x));else throw new Error("function not properly defined");return this}addNativeFunction($,x,S={}){const{argumentTypes:j,argumentNames:re}=S.argumentTypes?R(S.argumentTypes):this.constructor.nativeFunctionArguments(x)||{};return this.nativeFunctions.push({name:$,source:x,settings:S,argumentTypes:j,argumentNames:re,returnType:S.returnType||this.constructor.nativeFunctionReturnType(x)}),this}setupArguments($){if(this.kernelArguments=[],this.argumentTypes)for(let x=0;x<this.argumentTypes.length;x++)this.kernelArguments.push({type:this.argumentTypes[x]});else if(!this.argumentTypes){this.argumentTypes=[];for(let x=0;x<$.length;x++){const S=I.getVariableType($[x],this.strictIntegers),j=S==="Integer"?"Number":S;this.argumentTypes.push(j),this.kernelArguments.push({type:j})}}this.argumentSizes=new Array($.length),this.argumentBitRatios=new Int32Array($.length);for(let x=0;x<$.length;x++){const S=$[x];this.argumentSizes[x]=S.constructor===P?S.size:null,this.argumentBitRatios[x]=this.getBitRatio(S)}if(this.argumentNames.length!==$.length)throw new Error("arguments are miss-aligned")}setupConstants(){this.kernelConstants=[];let $=this.constantTypes===null;if($&&(this.constantTypes={}),this.constantBitRatios={},this.constants)for(let x in this.constants){if($){const S=I.getVariableType(this.constants[x],this.strictIntegers);this.constantTypes[x]=S,this.kernelConstants.push({name:x,type:S})}else this.kernelConstants.push({name:x,type:this.constantTypes[x]});this.constantBitRatios[x]=this.getBitRatio(this.constants[x])}}setOptimizeFloatMemory($){return this.optimizeFloatMemory=$,this}toKernelOutput($){return $.hasOwnProperty("x")?$.hasOwnProperty("y")?$.hasOwnProperty("z")?[$.x,$.y,$.z]:[$.x,$.y]:[$.x]:$}setOutput($){return this.output=this.toKernelOutput($),this}setDebug($){return this.debug=$,this}setGraphical($){return this.graphical=$,this.precision="unsigned",this}setLoopMaxIterations($){return this.loopMaxIterations=$,this}setConstants($){return this.constants=$,this}setConstantTypes($){return this.constantTypes=$,this}setFunctions($){for(let x=0;x<$.length;x++)this.addFunction($[x]);return this}setNativeFunctions($){for(let x=0;x<$.length;x++){const S=$[x],{name:j,source:re}=S;this.addNativeFunction(j,re,S)}return this}setInjectedNative($){return this.injectedNative=$,this}setPipeline($){return this.pipeline=$,this}setPrecision($){return this.precision=$,this}setDimensions($){return I.warnDeprecated("method","setDimensions","setOutput"),this.output=$,this}setOutputToTexture($){return I.warnDeprecated("method","setOutputToTexture","setPipeline"),this.pipeline=$,this}setImmutable($){return this.immutable=$,this}setCanvas($){return this.canvas=$,this}setStrictIntegers($){return this.strictIntegers=$,this}setDynamicOutput($){return this.dynamicOutput=$,this}setHardcodeConstants($){return I.warnDeprecated("method","setHardcodeConstants"),this.setDynamicOutput($),this.setDynamicArguments($),this}setDynamicArguments($){return this.dynamicArguments=$,this}setUseLegacyEncoder($){return this.useLegacyEncoder=$,this}setWarnVarUsage($){return I.warnDeprecated("method","setWarnVarUsage"),this}getCanvas(){return I.warnDeprecated("method","getCanvas"),this.canvas}getWebGl(){return I.warnDeprecated("method","getWebGl"),this.context}setContext($){return this.context=$,this}setArgumentTypes($){if(Array.isArray($))this.argumentTypes=$;else{this.argumentTypes=[];for(const x in $){if(!$.hasOwnProperty(x))continue;const S=this.argumentNames.indexOf(x);if(S===-1)throw new Error(`unable to find argument ${x}`);this.argumentTypes[S]=$[x]}}return this}setTactic($){return this.tactic=$,this}requestFallback($){if(!this.onRequestFallback)throw new Error(`"onRequestFallback" not defined on ${this.constructor.name}`);return this.fallbackRequested=!0,this.onRequestFallback($)}validateSettings(){throw new Error(`"validateSettings" not defined on ${this.constructor.name}`)}addSubKernel($){if(this.subKernels===null&&(this.subKernels=[]),!$.source)throw new Error('subKernel missing "source" property');if(!$.property&&isNaN($.property))throw new Error('subKernel missing "property" property');if(!$.name)throw new Error('subKernel missing "name" property');return this.subKernels.push($),this}destroy($){throw new Error(`"destroy" called on ${this.constructor.name}`)}getBitRatio($){if(this.precision==="single")return 4;if(Array.isArray($[0]))return this.getBitRatio($[0]);if($.constructor===P)return this.getBitRatio($.value);switch($.constructor){case Uint8ClampedArray:case Uint8Array:case Int8Array:return 1;case Uint16Array:case Int16Array:return 2;case Float32Array:case Int32Array:default:return 4}}getPixels($){throw new Error(`"getPixels" called on ${this.constructor.name}`)}checkOutput(){if(!this.output||!I.isArray(this.output))throw new Error("kernel.output not an array");if(this.output.length<1)throw new Error("kernel.output is empty, needs at least 1 value");for(let $=0;$<this.output.length;$++)if(isNaN(this.output[$])||this.output[$]<1)throw new Error(`${this.constructor.name}.output[${$}] incorrectly defined as \`${this.output[$]}\`, needs to be numeric, and greater than 0`)}prependString($){throw new Error(`"prependString" called on ${this.constructor.name}`)}hasPrependString($){throw new Error(`"hasPrependString" called on ${this.constructor.name}`)}toJSON(){return{settings:{output:this.output,pipeline:this.pipeline,argumentNames:this.argumentNames,argumentsTypes:this.argumentTypes,constants:this.constants,pluginNames:this.plugins?this.plugins.map($=>$.name):null,returnType:this.returnType}}}buildSignature($){const x=this.constructor;this.signature=x.getSignature(this,x.getArgumentTypes(this,$))}static getArgumentTypes($,x){const S=new Array(x.length);for(let j=0;j<x.length;j++){const re=x[j],Ce=$.argumentTypes[j];if(re.type)S[j]=re.type;else switch(Ce){case"Number":case"Integer":case"Float":case"ArrayTexture(1)":S[j]=I.getVariableType(re);break;default:S[j]=Ce}}return S}static getSignature($,x){throw new Error(`"getSignature" not implemented on ${this.name}`)}functionToIGPUFunction($,x={}){if(typeof $!="string"&&typeof $!="function")throw new Error("source not a string or function");const S=typeof $=="string"?$:$.toString();let j=[];return Array.isArray(x.argumentTypes)?j=x.argumentTypes:typeof x.argumentTypes=="object"?j=I.getArgumentNamesFromString(S).map(re=>x.argumentTypes[re])||[]:j=x.argumentTypes||[],{name:I.getFunctionNameFromString(S)||null,source:S,argumentTypes:j,returnType:x.returnType||null}}onActivate($){}}function R(T){const $=Object.keys(T),x=[];for(let S=0;S<$.length;S++){const j=$[S];x.push(T[j])}return{argumentTypes:x,argumentNames:$}}m.exports={Kernel:z}},{"../input":110,"../utils":114}],37:[function(h,m,O){const I=`__HEADER__;
__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;

const int LOOP_MAX = __LOOP_MAX__;

__PLUGINS__;
__CONSTANTS__;

varying vec2 vTexCoord;

float acosh(float x) {
  return log(x + sqrt(x * x - 1.0));
}

float sinh(float x) {
  return (pow(${Math.E}, x) - pow(${Math.E}, -x)) / 2.0;
}

float asinh(float x) {
  return log(x + sqrt(x * x + 1.0));
}

float atan2(float v1, float v2) {
  if (v1 == 0.0 || v2 == 0.0) return 0.0;
  return atan(v1 / v2);
}

float atanh(float x) {
  x = (x + 1.0) / (x - 1.0);
  if (x < 0.0) {
    return 0.5 * log(-x);
  }
  return 0.5 * log(x);
}

float cbrt(float x) {
  if (x >= 0.0) {
    return pow(x, 1.0 / 3.0);
  } else {
    return -pow(x, 1.0 / 3.0);
  }
}

float cosh(float x) {
  return (pow(${Math.E}, x) + pow(${Math.E}, -x)) / 2.0; 
}

float expm1(float x) {
  return pow(${Math.E}, x) - 1.0; 
}

float fround(highp float x) {
  return x;
}

float imul(float v1, float v2) {
  return float(int(v1) * int(v2));
}

float log10(float x) {
  return log2(x) * (1.0 / log2(10.0));
}

float log1p(float x) {
  return log(1.0 + x);
}

float _pow(float v1, float v2) {
  if (v2 == 0.0) return 1.0;
  return pow(v1, v2);
}

float tanh(float x) {
  float e = exp(2.0 * x);
  return (e - 1.0) / (e + 1.0);
}

float trunc(float x) {
  if (x >= 0.0) {
    return floor(x); 
  } else {
    return ceil(x);
  }
}

vec4 _round(vec4 x) {
  return floor(x + 0.5);
}

float _round(float x) {
  return floor(x + 0.5);
}

const int BIT_COUNT = 32;
int modi(int x, int y) {
  return x - y * (x / y);
}

int bitwiseOr(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseXOR(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseAnd(int a, int b) {
  int result = 0;
  int n = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 && b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseNot(int a) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if (modi(a, 2) == 0) {
      result += n;    
    }
    a = a / 2;
    n = n * 2;
  }
  return result;
}
int bitwiseZeroFillLeftShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n *= 2;
  }

  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

int bitwiseSignedRightShift(int num, int shifts) {
  return int(floor(float(num) / pow(2.0, float(shifts))));
}

int bitwiseZeroFillRightShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n /= 2;
  }
  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

vec2 integerMod(vec2 x, float y) {
  vec2 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec3 integerMod(vec3 x, float y) {
  vec3 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec4 integerMod(vec4 x, vec4 y) {
  vec4 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

float integerMod(float x, float y) {
  float res = floor(mod(x, y));
  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);
}

int integerMod(int x, int y) {
  return x - (y * int(x / y));
}

__DIVIDE_WITH_INTEGER_CHECK__;

// Here be dragons!
// DO NOT OPTIMIZE THIS CODE
// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE
// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME
const vec2 MAGIC_VEC = vec2(1.0, -256.0);
const vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);
const vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536
float decode32(vec4 texel) {
  __DECODE32_ENDIANNESS__;
  texel *= 255.0;
  vec2 gte128;
  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;
  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;
  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);
  float res = exp2(_round(exponent));
  texel.b = texel.b - 128.0 * gte128.x;
  res = dot(texel, SCALE_FACTOR) * exp2(_round(exponent-23.0)) + res;
  res *= gte128.y * -2.0 + 1.0;
  return res;
}

float decode16(vec4 texel, int index) {
  int channel = integerMod(index, 2);
  if (channel == 0) return texel.r * 255.0 + texel.g * 65280.0;
  if (channel == 1) return texel.b * 255.0 + texel.a * 65280.0;
  return 0.0;
}

float decode8(vec4 texel, int index) {
  int channel = integerMod(index, 4);
  if (channel == 0) return texel.r * 255.0;
  if (channel == 1) return texel.g * 255.0;
  if (channel == 2) return texel.b * 255.0;
  if (channel == 3) return texel.a * 255.0;
  return 0.0;
}

vec4 legacyEncode32(float f) {
  float F = abs(f);
  float sign = f < 0.0 ? 1.0 : 0.0;
  float exponent = floor(log2(F));
  float mantissa = (exp2(-exponent) * F);
  // exponent += floor(log2(mantissa));
  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;
  texel.rg = integerMod(texel.rg, 256.0);
  texel.b = integerMod(texel.b, 128.0);
  texel.a = exponent*0.5 + 63.5;
  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;
  texel = floor(texel);
  texel *= 0.003921569; // 1/255
  __ENCODE32_ENDIANNESS__;
  return texel;
}

// https://github.com/gpujs/gpu.js/wiki/Encoder-details
vec4 encode32(float value) {
  if (value == 0.0) return vec4(0, 0, 0, 0);

  float exponent;
  float mantissa;
  vec4  result;
  float sgn;

  sgn = step(0.0, -value);
  value = abs(value);

  exponent = floor(log2(value));

  mantissa = value*pow(2.0, -exponent)-1.0;
  exponent = exponent+127.0;
  result   = vec4(0,0,0,0);

  result.a = floor(exponent/2.0);
  exponent = exponent - result.a*2.0;
  result.a = result.a + 128.0*sgn;

  result.b = floor(mantissa * 128.0);
  mantissa = mantissa - result.b / 128.0;
  result.b = result.b + exponent*128.0;

  result.g = floor(mantissa*32768.0);
  mantissa = mantissa - result.g/32768.0;

  result.r = floor(mantissa*8388608.0);
  return result/255.0;
}
// Dragons end here

int index;
ivec3 threadId;

ivec3 indexTo3D(int idx, ivec3 texDim) {
  int z = int(idx / (texDim.x * texDim.y));
  idx -= z * int(texDim.x * texDim.y);
  int y = int(idx / texDim.x);
  int x = int(integerMod(idx, texDim.x));
  return ivec3(x, y, z);
}

float get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  return decode32(texel);
}

float get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x * 2;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize.x * 2, texSize.y));
  return decode16(texel, index);
}

float get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x * 4;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize.x * 4, texSize.y));
  return decode8(texel, index);
}

float getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 4);
  index = index / 4;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  if (channel == 0) return texel.r;
  if (channel == 1) return texel.g;
  if (channel == 2) return texel.b;
  if (channel == 3) return texel.a;
  return 0.0;
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  return texture2D(tex, st / vec2(texSize));
}

float getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return result[0];
}

vec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec2(result[0], result[1]);
}

vec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int channel = integerMod(index, 2);
  index = index / 2;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  if (channel == 0) return vec2(texel.r, texel.g);
  if (channel == 1) return vec2(texel.b, texel.a);
  return vec2(0.0, 0.0);
}

vec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec3(result[0], result[1], result[2]);
}

vec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));
  int vectorIndex = fieldIndex / 4;
  int vectorOffset = fieldIndex - vectorIndex * 4;
  int readY = vectorIndex / texSize.x;
  int readX = vectorIndex - readY * texSize.x;
  vec4 tex1 = texture2D(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));
  
  if (vectorOffset == 0) {
    return tex1.xyz;
  } else if (vectorOffset == 1) {
    return tex1.yzw;
  } else {
    readX++;
    if (readX >= texSize.x) {
      readX = 0;
      readY++;
    }
    vec4 tex2 = texture2D(tex, vec2(readX, readY) / vec2(texSize));
    if (vectorOffset == 2) {
      return vec3(tex1.z, tex1.w, tex2.x);
    } else {
      return vec3(tex1.w, tex2.x, tex2.y);
    }
  }
}

vec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  return getImage2D(tex, texSize, texDim, z, y, x);
}

vec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 2);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture2D(tex, st / vec2(texSize));
  return vec4(texel.r, texel.g, texel.b, texel.a);
}

vec4 actualColor;
void color(float r, float g, float b, float a) {
  actualColor = vec4(r,g,b,a);
}

void color(float r, float g, float b) {
  color(r,g,b,1.0);
}

void color(sampler2D image) {
  actualColor = texture2D(image, vTexCoord);
}

float modulo(float number, float divisor) {
  if (number < 0.0) {
    number = abs(number);
    if (divisor < 0.0) {
      divisor = abs(divisor);
    }
    return -mod(number, divisor);
  }
  if (divisor < 0.0) {
    divisor = abs(divisor);
  }
  return mod(number, divisor);
}

__INJECTED_NATIVE__;
__MAIN_CONSTANTS__;
__MAIN_ARGUMENTS__;
__KERNEL__;

void main(void) {
  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;
  __MAIN_RESULT__;
}`;m.exports={fragmentShader:I}},{}],38:[function(h,m,O){const{utils:I}=h("../../utils"),{FunctionNode:P}=h("../function-node");class z extends P{constructor(x,S){super(x,S),S&&S.hasOwnProperty("fixIntegerDivisionAccuracy")&&(this.fixIntegerDivisionAccuracy=S.fixIntegerDivisionAccuracy)}astConditionalExpression(x,S){if(x.type!=="ConditionalExpression")throw this.astErrorOutput("Not a conditional expression",x);const j=this.getType(x.consequent),re=this.getType(x.alternate);return j===null&&re===null?(S.push("if ("),this.astGeneric(x.test,S),S.push(") {"),this.astGeneric(x.consequent,S),S.push(";"),S.push("} else {"),this.astGeneric(x.alternate,S),S.push(";"),S.push("}"),S):(S.push("("),this.astGeneric(x.test,S),S.push("?"),this.astGeneric(x.consequent,S),S.push(":"),this.astGeneric(x.alternate,S),S.push(")"),S)}astFunction(x,S){if(this.isRootKernel)S.push("void");else{this.returnType||this.findLastReturn()&&(this.returnType=this.getType(x.body),this.returnType==="LiteralInteger"&&(this.returnType="Number"));const{returnType:j}=this;if(!j)S.push("void");else{const re=R[j];if(!re)throw new Error(`unknown type ${j}`);S.push(re)}}if(S.push(" "),S.push(this.name),S.push("("),!this.isRootKernel)for(let j=0;j<this.argumentNames.length;++j){const re=this.argumentNames[j];j>0&&S.push(", ");let Ce=this.argumentTypes[this.argumentNames.indexOf(re)];if(!Ce)throw this.astErrorOutput(`Unknown argument ${re} type`,x);Ce==="LiteralInteger"&&(this.argumentTypes[j]=Ce="Number");const se=R[Ce];if(!se)throw this.astErrorOutput("Unexpected expression",x);const me=I.sanitizeName(re);se==="sampler2D"||se==="sampler2DArray"?S.push(`${se} user_${me},ivec2 user_${me}Size,ivec3 user_${me}Dim`):S.push(`${se} user_${me}`)}S.push(`) {
`);for(let j=0;j<x.body.body.length;++j)this.astGeneric(x.body.body[j],S),S.push(`
`);return S.push(`}
`),S}astReturnStatement(x,S){if(!x.argument)throw this.astErrorOutput("Unexpected return statement",x);this.pushState("skip-literal-correction");const j=this.getType(x.argument);this.popState("skip-literal-correction");const re=[];switch(this.returnType||(j==="LiteralInteger"||j==="Integer"?this.returnType="Number":this.returnType=j),this.returnType){case"LiteralInteger":case"Number":case"Float":switch(j){case"Integer":re.push("float("),this.astGeneric(x.argument,re),re.push(")");break;case"LiteralInteger":this.castLiteralToFloat(x.argument,re),this.getType(x)==="Integer"&&(re.unshift("float("),re.push(")"));break;default:this.astGeneric(x.argument,re)}break;case"Integer":switch(j){case"Float":case"Number":this.castValueToInteger(x.argument,re);break;case"LiteralInteger":this.castLiteralToInteger(x.argument,re);break;default:this.astGeneric(x.argument,re)}break;case"Array(4)":case"Array(3)":case"Array(2)":case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":case"Input":this.astGeneric(x.argument,re);break;default:throw this.astErrorOutput(`unhandled return type ${this.returnType}`,x)}return this.isRootKernel?(S.push(`kernelResult = ${re.join("")};`),S.push("return;")):this.isSubKernel?(S.push(`subKernelResult_${this.name} = ${re.join("")};`),S.push(`return subKernelResult_${this.name};`)):S.push(`return ${re.join("")};`),S}astLiteral(x,S){if(isNaN(x.value))throw this.astErrorOutput("Non-numeric literal not supported : "+x.value,x);const j=this.astKey(x);return Number.isInteger(x.value)?this.isState("casting-to-integer")||this.isState("building-integer")?(this.literalTypes[j]="Integer",S.push(`${x.value}`)):this.isState("casting-to-float")||this.isState("building-float")?(this.literalTypes[j]="Number",S.push(`${x.value}.0`)):(this.literalTypes[j]="Number",S.push(`${x.value}.0`)):this.isState("casting-to-integer")||this.isState("building-integer")?(this.literalTypes[j]="Integer",S.push(Math.round(x.value))):(this.literalTypes[j]="Number",S.push(`${x.value}`)),S}astBinaryExpression(x,S){if(this.checkAndUpconvertOperator(x,S))return S;if(this.fixIntegerDivisionAccuracy&&x.operator==="/"){switch(S.push("divWithIntCheck("),this.pushState("building-float"),this.getType(x.left)){case"Integer":this.castValueToFloat(x.left,S);break;case"LiteralInteger":this.castLiteralToFloat(x.left,S);break;default:this.astGeneric(x.left,S)}switch(S.push(", "),this.getType(x.right)){case"Integer":this.castValueToFloat(x.right,S);break;case"LiteralInteger":this.castLiteralToFloat(x.right,S);break;default:this.astGeneric(x.right,S)}return this.popState("building-float"),S.push(")"),S}S.push("(");const j=this.getType(x.left)||"Number",re=this.getType(x.right)||"Number",Ce=j+" & "+re;switch(Ce){case"Integer & Integer":this.pushState("building-integer"),this.astGeneric(x.left,S),S.push(T[x.operator]||x.operator),this.astGeneric(x.right,S),this.popState("building-integer");break;case"Number & Float":case"Float & Number":case"Float & Float":case"Number & Number":this.pushState("building-float"),this.astGeneric(x.left,S),S.push(T[x.operator]||x.operator),this.astGeneric(x.right,S),this.popState("building-float");break;case"LiteralInteger & LiteralInteger":this.isState("casting-to-integer")||this.isState("building-integer")?(this.pushState("building-integer"),this.astGeneric(x.left,S),S.push(T[x.operator]||x.operator),this.astGeneric(x.right,S),this.popState("building-integer")):(this.pushState("building-float"),this.castLiteralToFloat(x.left,S),S.push(T[x.operator]||x.operator),this.castLiteralToFloat(x.right,S),this.popState("building-float"));break;case"Integer & Float":case"Integer & Number":if((x.operator===">"||x.operator==="<"&&x.right.type==="Literal")&&!Number.isInteger(x.right.value)){this.pushState("building-float"),this.castValueToFloat(x.left,S),S.push(T[x.operator]||x.operator),this.astGeneric(x.right,S),this.popState("building-float");break}if(this.pushState("building-integer"),this.astGeneric(x.left,S),S.push(T[x.operator]||x.operator),this.pushState("casting-to-integer"),x.right.type==="Literal"){const se=[];if(this.astGeneric(x.right,se),this.getType(x.right)==="Integer")S.push(se.join(""));else throw this.astErrorOutput("Unhandled binary expression with literal",x)}else S.push("int("),this.astGeneric(x.right,S),S.push(")");this.popState("casting-to-integer"),this.popState("building-integer");break;case"Integer & LiteralInteger":this.pushState("building-integer"),this.astGeneric(x.left,S),S.push(T[x.operator]||x.operator),this.castLiteralToInteger(x.right,S),this.popState("building-integer");break;case"Number & Integer":this.pushState("building-float"),this.astGeneric(x.left,S),S.push(T[x.operator]||x.operator),this.castValueToFloat(x.right,S),this.popState("building-float");break;case"Float & LiteralInteger":case"Number & LiteralInteger":this.pushState("building-float"),this.astGeneric(x.left,S),S.push(T[x.operator]||x.operator),this.castLiteralToFloat(x.right,S),this.popState("building-float");break;case"LiteralInteger & Float":case"LiteralInteger & Number":this.isState("casting-to-integer")?(this.pushState("building-integer"),this.castLiteralToInteger(x.left,S),S.push(T[x.operator]||x.operator),this.castValueToInteger(x.right,S),this.popState("building-integer")):(this.pushState("building-float"),this.astGeneric(x.left,S),S.push(T[x.operator]||x.operator),this.pushState("casting-to-float"),this.astGeneric(x.right,S),this.popState("casting-to-float"),this.popState("building-float"));break;case"LiteralInteger & Integer":this.pushState("building-integer"),this.castLiteralToInteger(x.left,S),S.push(T[x.operator]||x.operator),this.astGeneric(x.right,S),this.popState("building-integer");break;case"Boolean & Boolean":this.pushState("building-boolean"),this.astGeneric(x.left,S),S.push(T[x.operator]||x.operator),this.astGeneric(x.right,S),this.popState("building-boolean");break;case"Float & Integer":this.pushState("building-float"),this.astGeneric(x.left,S),S.push(T[x.operator]||x.operator),this.castValueToFloat(x.right,S),this.popState("building-float");break;default:throw this.astErrorOutput(`Unhandled binary expression between ${Ce}`,x)}return S.push(")"),S}checkAndUpconvertOperator(x,S){const j=this.checkAndUpconvertBitwiseOperators(x,S);if(j)return j;const Ce={"%":this.fixIntegerDivisionAccuracy?"integerCorrectionModulo":"modulo","**":"pow"}[x.operator];if(!Ce)return null;switch(S.push(Ce),S.push("("),this.getType(x.left)){case"Integer":this.castValueToFloat(x.left,S);break;case"LiteralInteger":this.castLiteralToFloat(x.left,S);break;default:this.astGeneric(x.left,S)}switch(S.push(","),this.getType(x.right)){case"Integer":this.castValueToFloat(x.right,S);break;case"LiteralInteger":this.castLiteralToFloat(x.right,S);break;default:this.astGeneric(x.right,S)}return S.push(")"),S}checkAndUpconvertBitwiseOperators(x,S){const re={"&":"bitwiseAnd","|":"bitwiseOr","^":"bitwiseXOR","<<":"bitwiseZeroFillLeftShift",">>":"bitwiseSignedRightShift",">>>":"bitwiseZeroFillRightShift"}[x.operator];if(!re)return null;switch(S.push(re),S.push("("),this.getType(x.left)){case"Number":case"Float":this.castValueToInteger(x.left,S);break;case"LiteralInteger":this.castLiteralToInteger(x.left,S);break;default:this.astGeneric(x.left,S)}switch(S.push(","),this.getType(x.right)){case"Number":case"Float":this.castValueToInteger(x.right,S);break;case"LiteralInteger":this.castLiteralToInteger(x.right,S);break;default:this.astGeneric(x.right,S)}return S.push(")"),S}checkAndUpconvertBitwiseUnary(x,S){const re={"~":"bitwiseNot"}[x.operator];if(!re)return null;switch(S.push(re),S.push("("),this.getType(x.argument)){case"Number":case"Float":this.castValueToInteger(x.argument,S);break;case"LiteralInteger":this.castLiteralToInteger(x.argument,S);break;default:this.astGeneric(x.argument,S)}return S.push(")"),S}castLiteralToInteger(x,S){return this.pushState("casting-to-integer"),this.astGeneric(x,S),this.popState("casting-to-integer"),S}castLiteralToFloat(x,S){return this.pushState("casting-to-float"),this.astGeneric(x,S),this.popState("casting-to-float"),S}castValueToInteger(x,S){return this.pushState("casting-to-integer"),S.push("int("),this.astGeneric(x,S),S.push(")"),this.popState("casting-to-integer"),S}castValueToFloat(x,S){return this.pushState("casting-to-float"),S.push("float("),this.astGeneric(x,S),S.push(")"),this.popState("casting-to-float"),S}astIdentifierExpression(x,S){if(x.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",x);const j=this.getType(x),re=I.sanitizeName(x.name);return x.name==="Infinity"?S.push("3.402823466e+38"):j==="Boolean"?this.argumentNames.indexOf(re)>-1?S.push(`bool(user_${re})`):S.push(`user_${re}`):S.push(`user_${re}`),S}astForStatement(x,S){if(x.type!=="ForStatement")throw this.astErrorOutput("Invalid for statement",x);const j=[],re=[],Ce=[],se=[];let me=null;if(x.init){const{declarations:X}=x.init;X.length>1&&(me=!1),this.astGeneric(x.init,j);for(let ie=0;ie<X.length;ie++)X[ie].init&&X[ie].init.type!=="Literal"&&(me=!1)}else me=!1;if(x.test?this.astGeneric(x.test,re):me=!1,x.update?this.astGeneric(x.update,Ce):me=!1,x.body&&(this.pushState("loop-body"),this.astGeneric(x.body,se),this.popState("loop-body")),me===null&&(me=this.isSafe(x.init)&&this.isSafe(x.test)),me){const X=j.join(""),ie=X[X.length-1]!==";";S.push(`for (${X}${ie?";":""}${re.join("")};${Ce.join("")}){
`),S.push(se.join("")),S.push(`}
`)}else{const X=this.getInternalVariableName("safeI");j.length>0&&S.push(j.join(""),`
`),S.push(`for (int ${X}=0;${X}<LOOP_MAX;${X}++){
`),re.length>0&&S.push(`if (!${re.join("")}) break;
`),S.push(se.join("")),S.push(`
${Ce.join("")};`),S.push(`}
`)}return S}astWhileStatement(x,S){if(x.type!=="WhileStatement")throw this.astErrorOutput("Invalid while statement",x);const j=this.getInternalVariableName("safeI");return S.push(`for (int ${j}=0;${j}<LOOP_MAX;${j}++){
`),S.push("if (!"),this.astGeneric(x.test,S),S.push(`) break;
`),this.astGeneric(x.body,S),S.push(`}
`),S}astDoWhileStatement(x,S){if(x.type!=="DoWhileStatement")throw this.astErrorOutput("Invalid while statement",x);const j=this.getInternalVariableName("safeI");return S.push(`for (int ${j}=0;${j}<LOOP_MAX;${j}++){
`),this.astGeneric(x.body,S),S.push("if (!"),this.astGeneric(x.test,S),S.push(`) break;
`),S.push(`}
`),S}astAssignmentExpression(x,S){if(x.operator==="%=")this.astGeneric(x.left,S),S.push("="),S.push("mod("),this.astGeneric(x.left,S),S.push(","),this.astGeneric(x.right,S),S.push(")");else if(x.operator==="**=")this.astGeneric(x.left,S),S.push("="),S.push("pow("),this.astGeneric(x.left,S),S.push(","),this.astGeneric(x.right,S),S.push(")");else{const j=this.getType(x.left),re=this.getType(x.right);return this.astGeneric(x.left,S),S.push(x.operator),j!=="Integer"&&re==="Integer"?(S.push("float("),this.astGeneric(x.right,S),S.push(")")):this.astGeneric(x.right,S),S}}astBlockStatement(x,S){if(this.isState("loop-body")){this.pushState("block-body");for(let j=0;j<x.body.length;j++)this.astGeneric(x.body[j],S);this.popState("block-body")}else{S.push(`{
`);for(let j=0;j<x.body.length;j++)this.astGeneric(x.body[j],S);S.push(`}
`)}return S}astVariableDeclaration(x,S){const j=x.declarations;if(!j||!j[0]||!j[0].init)throw this.astErrorOutput("Unexpected expression",x);const re=[];let Ce=null;const se=[];let me=[];for(let X=0;X<j.length;X++){const ie=j[X],we=ie.init,Te=this.getDeclaration(ie.id),tt=this.getType(ie.init);let ft=tt;ft==="LiteralInteger"&&(Te.suggestedType==="Integer"?ft="Integer":ft="Number");const te=R[ft];if(!te)throw this.astErrorOutput(`Markup type ${ft} not handled`,x);const B=[];if(tt==="Integer"&&ft==="Integer"){if(Te.valueType="Number",X===0||Ce===null)B.push("float ");else if(ft!==Ce)throw new Error("Unhandled declaration");Ce=ft,B.push(`user_${I.sanitizeName(ie.id.name)}=`),B.push("float("),this.astGeneric(we,B),B.push(")")}else Te.valueType=ft,X===0||Ce===null?B.push(`${te} `):ft!==Ce&&(se.push(me.join(",")),me=[],B.push(`${te} `)),Ce=ft,B.push(`user_${I.sanitizeName(ie.id.name)}=`),tt==="Number"&&ft==="Integer"?we.left&&we.left.type==="Literal"?this.astGeneric(we,B):(B.push("int("),this.astGeneric(we,B),B.push(")")):tt==="LiteralInteger"&&ft==="Integer"?this.castLiteralToInteger(we,B):this.astGeneric(we,B);me.push(B.join(""))}return me.length>0&&se.push(me.join(",")),re.push(se.join(";")),S.push(re.join("")),S.push(";"),S}astIfStatement(x,S){return S.push("if ("),this.astGeneric(x.test,S),S.push(")"),x.consequent.type==="BlockStatement"?this.astGeneric(x.consequent,S):(S.push(` {
`),this.astGeneric(x.consequent,S),S.push(`
}
`)),x.alternate&&(S.push("else "),x.alternate.type==="BlockStatement"||x.alternate.type==="IfStatement"?this.astGeneric(x.alternate,S):(S.push(` {
`),this.astGeneric(x.alternate,S),S.push(`
}
`))),S}astSwitchStatement(x,S){if(x.type!=="SwitchStatement")throw this.astErrorOutput("Invalid switch statement",x);const{discriminant:j,cases:re}=x,Ce=this.getType(j),se=`switchDiscriminant${this.astKey(x,"_")}`;switch(Ce){case"Float":case"Number":S.push(`float ${se} = `),this.astGeneric(j,S),S.push(`;
`);break;case"Integer":S.push(`int ${se} = `),this.astGeneric(j,S),S.push(`;
`);break}if(re.length===1&&!re[0].test)return this.astGeneric(re[0].consequent,S),S;let me=!1,X=[],ie=!1,we=!1;for(let Te=0;Te<re.length;Te++){if(re[Te].test){if(Te===0||!we?(we=!0,S.push(`if (${se} == `)):me?(S.push(`${se} == `),me=!1):S.push(` else if (${se} == `),Ce==="Integer")switch(this.getType(re[Te].test)){case"Number":case"Float":this.castValueToInteger(re[Te].test,S);break;case"LiteralInteger":this.castLiteralToInteger(re[Te].test,S);break}else if(Ce==="Float")switch(this.getType(re[Te].test)){case"LiteralInteger":this.castLiteralToFloat(re[Te].test,S);break;case"Integer":this.castValueToFloat(re[Te].test,S);break}else throw new Error("unhanlded");if(!re[Te].consequent||re[Te].consequent.length===0){me=!0,S.push(" || ");continue}S.push(`) {
`)}else if(re.length>Te+1){ie=!0,this.astGeneric(re[Te].consequent,X);continue}else S.push(` else {
`);this.astGeneric(re[Te].consequent,S),S.push(`
}`)}return ie&&(S.push(" else {"),S.push(X.join("")),S.push("}")),S}astThisExpression(x,S){return S.push("this"),S}astMemberExpression(x,S){const{property:j,name:re,signature:Ce,origin:se,type:me,xProperty:X,yProperty:ie,zProperty:we}=this.getMemberExpressionDetails(x);switch(Ce){case"value.thread.value":case"this.thread.value":if(re!=="x"&&re!=="y"&&re!=="z")throw this.astErrorOutput("Unexpected expression, expected `this.thread.x`, `this.thread.y`, or `this.thread.z`",x);return S.push(`threadId.${re}`),S;case"this.output.value":if(this.dynamicOutput)switch(re){case"x":this.isState("casting-to-float")?S.push("float(uOutputDim.x)"):S.push("uOutputDim.x");break;case"y":this.isState("casting-to-float")?S.push("float(uOutputDim.y)"):S.push("uOutputDim.y");break;case"z":this.isState("casting-to-float")?S.push("float(uOutputDim.z)"):S.push("uOutputDim.z");break;default:throw this.astErrorOutput("Unexpected expression",x)}else switch(re){case"x":this.isState("casting-to-integer")?S.push(this.output[0]):S.push(this.output[0],".0");break;case"y":this.isState("casting-to-integer")?S.push(this.output[1]):S.push(this.output[1],".0");break;case"z":this.isState("casting-to-integer")?S.push(this.output[2]):S.push(this.output[2],".0");break;default:throw this.astErrorOutput("Unexpected expression",x)}return S;case"value":throw this.astErrorOutput("Unexpected expression",x);case"value[]":case"value[][]":case"value[][][]":case"value[][][][]":case"value.value":if(se==="Math")return S.push(Math[re]),S;const tt=I.sanitizeName(re);switch(j){case"r":return S.push(`user_${tt}.r`),S;case"g":return S.push(`user_${tt}.g`),S;case"b":return S.push(`user_${tt}.b`),S;case"a":return S.push(`user_${tt}.a`),S}break;case"this.constants.value":if(typeof X>"u")switch(me){case"Array(2)":case"Array(3)":case"Array(4)":return S.push(`constants_${I.sanitizeName(re)}`),S}case"this.constants.value[]":case"this.constants.value[][]":case"this.constants.value[][][]":case"this.constants.value[][][][]":break;case"fn()[]":return this.astCallExpression(x.object,S),S.push("["),S.push(this.memberExpressionPropertyMarkup(j)),S.push("]"),S;case"fn()[][]":return this.astCallExpression(x.object.object,S),S.push("["),S.push(this.memberExpressionPropertyMarkup(x.object.property)),S.push("]"),S.push("["),S.push(this.memberExpressionPropertyMarkup(x.property)),S.push("]"),S;case"[][]":return this.astArrayExpression(x.object,S),S.push("["),S.push(this.memberExpressionPropertyMarkup(j)),S.push("]"),S;default:throw this.astErrorOutput("Unexpected expression",x)}if(x.computed===!1)switch(me){case"Number":case"Integer":case"Float":case"Boolean":return S.push(`${se}_${I.sanitizeName(re)}`),S}const Te=`${se}_${I.sanitizeName(re)}`;switch(me){case"Array(2)":case"Array(3)":case"Array(4)":this.astGeneric(x.object,S),S.push("["),S.push(this.memberExpressionPropertyMarkup(X)),S.push("]");break;case"HTMLImageArray":S.push(`getImage3D(${Te}, ${Te}Size, ${Te}Dim, `),this.memberExpressionXYZ(X,ie,we,S),S.push(")");break;case"ArrayTexture(1)":S.push(`getFloatFromSampler2D(${Te}, ${Te}Size, ${Te}Dim, `),this.memberExpressionXYZ(X,ie,we,S),S.push(")");break;case"Array1D(2)":case"Array2D(2)":case"Array3D(2)":S.push(`getMemoryOptimizedVec2(${Te}, ${Te}Size, ${Te}Dim, `),this.memberExpressionXYZ(X,ie,we,S),S.push(")");break;case"ArrayTexture(2)":S.push(`getVec2FromSampler2D(${Te}, ${Te}Size, ${Te}Dim, `),this.memberExpressionXYZ(X,ie,we,S),S.push(")");break;case"Array1D(3)":case"Array2D(3)":case"Array3D(3)":S.push(`getMemoryOptimizedVec3(${Te}, ${Te}Size, ${Te}Dim, `),this.memberExpressionXYZ(X,ie,we,S),S.push(")");break;case"ArrayTexture(3)":S.push(`getVec3FromSampler2D(${Te}, ${Te}Size, ${Te}Dim, `),this.memberExpressionXYZ(X,ie,we,S),S.push(")");break;case"Array1D(4)":case"Array2D(4)":case"Array3D(4)":S.push(`getMemoryOptimizedVec4(${Te}, ${Te}Size, ${Te}Dim, `),this.memberExpressionXYZ(X,ie,we,S),S.push(")");break;case"ArrayTexture(4)":case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLVideo":S.push(`getVec4FromSampler2D(${Te}, ${Te}Size, ${Te}Dim, `),this.memberExpressionXYZ(X,ie,we,S),S.push(")");break;case"NumberTexture":case"Array":case"Array2D":case"Array3D":case"Array4D":case"Input":case"Number":case"Float":case"Integer":if(this.precision==="single")S.push(`getMemoryOptimized32(${Te}, ${Te}Size, ${Te}Dim, `),this.memberExpressionXYZ(X,ie,we,S),S.push(")");else{const tt=se==="user"?this.lookupFunctionArgumentBitRatio(this.name,re):this.constantBitRatios[re];switch(tt){case 1:S.push(`get8(${Te}, ${Te}Size, ${Te}Dim, `);break;case 2:S.push(`get16(${Te}, ${Te}Size, ${Te}Dim, `);break;case 4:case 0:S.push(`get32(${Te}, ${Te}Size, ${Te}Dim, `);break;default:throw new Error(`unhandled bit ratio of ${tt}`)}this.memberExpressionXYZ(X,ie,we,S),S.push(")")}break;case"MemoryOptimizedNumberTexture":S.push(`getMemoryOptimized32(${Te}, ${Te}Size, ${Te}Dim, `),this.memberExpressionXYZ(X,ie,we,S),S.push(")");break;case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":S.push(`${Te}[${this.memberExpressionPropertyMarkup(ie)}]`),ie&&S.push(`[${this.memberExpressionPropertyMarkup(X)}]`);break;default:throw new Error(`unhandled member expression "${me}"`)}return S}astCallExpression(x,S){if(!x.callee)throw this.astErrorOutput("Unknown CallExpression",x);let j=null;const re=this.isAstMathFunction(x);if(re||x.callee.object&&x.callee.object.type==="ThisExpression"?j=x.callee.property.name:x.callee.type==="SequenceExpression"&&x.callee.expressions[0].type==="Literal"&&!isNaN(x.callee.expressions[0].raw)?j=x.callee.expressions[1].property.name:j=x.callee.name,!j)throw this.astErrorOutput("Unhandled function, couldn't find name",x);switch(j){case"pow":j="_pow";break;case"round":j="_round";break}if(this.calledFunctions.indexOf(j)<0&&this.calledFunctions.push(j),j==="random"&&this.plugins&&this.plugins.length>0)for(let Ce=0;Ce<this.plugins.length;Ce++){const se=this.plugins[Ce];if(se.functionMatch==="Math.random()"&&se.functionReplace)return S.push(se.functionReplace),S}if(this.onFunctionCall&&this.onFunctionCall(this.name,j,x.arguments),S.push(j),S.push("("),re)for(let Ce=0;Ce<x.arguments.length;++Ce){const se=x.arguments[Ce],me=this.getType(se);switch(Ce>0&&S.push(", "),me){case"Integer":this.castValueToFloat(se,S);break;default:this.astGeneric(se,S);break}}else{const Ce=this.lookupFunctionArgumentTypes(j)||[];for(let se=0;se<x.arguments.length;++se){const me=x.arguments[se];let X=Ce[se];se>0&&S.push(", ");const ie=this.getType(me);switch(X||(this.triggerImplyArgumentType(j,se,ie,this),X=ie),ie){case"Boolean":this.astGeneric(me,S);continue;case"Number":case"Float":if(X==="Integer"){S.push("int("),this.astGeneric(me,S),S.push(")");continue}else if(X==="Number"||X==="Float"){this.astGeneric(me,S);continue}else if(X==="LiteralInteger"){this.castLiteralToFloat(me,S);continue}break;case"Integer":if(X==="Number"||X==="Float"){S.push("float("),this.astGeneric(me,S),S.push(")");continue}else if(X==="Integer"){this.astGeneric(me,S);continue}break;case"LiteralInteger":if(X==="Integer"){this.castLiteralToInteger(me,S);continue}else if(X==="Number"||X==="Float"){this.castLiteralToFloat(me,S);continue}else if(X==="LiteralInteger"){this.astGeneric(me,S);continue}break;case"Array(2)":case"Array(3)":case"Array(4)":if(X===ie){if(me.type==="Identifier")S.push(`user_${I.sanitizeName(me.name)}`);else if(me.type==="ArrayExpression"||me.type==="MemberExpression"||me.type==="CallExpression")this.astGeneric(me,S);else throw this.astErrorOutput(`Unhandled argument type ${me.type}`,x);continue}break;case"HTMLCanvas":case"OffscreenCanvas":case"HTMLImage":case"ImageBitmap":case"ImageData":case"HTMLImageArray":case"HTMLVideo":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":case"Array":case"Input":if(X===ie){if(me.type!=="Identifier")throw this.astErrorOutput(`Unhandled argument type ${me.type}`,x);this.triggerImplyArgumentBitRatio(this.name,me.name,j,se);const we=I.sanitizeName(me.name);S.push(`user_${we},user_${we}Size,user_${we}Dim`);continue}break}throw this.astErrorOutput(`Unhandled argument combination of ${ie} and ${X} for argument named "${me.name}"`,x)}}return S.push(")"),S}astArrayExpression(x,S){const j=this.getType(x),re=x.elements.length;switch(j){case"Matrix(2)":case"Matrix(3)":case"Matrix(4)":S.push(`mat${re}(`);break;default:S.push(`vec${re}(`)}for(let Ce=0;Ce<re;++Ce){Ce>0&&S.push(", ");const se=x.elements[Ce];this.astGeneric(se,S)}return S.push(")"),S}memberExpressionXYZ(x,S,j,re){return j?re.push(this.memberExpressionPropertyMarkup(j),", "):re.push("0, "),S?re.push(this.memberExpressionPropertyMarkup(S),", "):re.push("0, "),re.push(this.memberExpressionPropertyMarkup(x)),re}memberExpressionPropertyMarkup(x){if(!x)throw new Error("Property not set");const S=this.getType(x),j=[];switch(S){case"Number":case"Float":this.castValueToInteger(x,j);break;case"LiteralInteger":this.castLiteralToInteger(x,j);break;default:this.astGeneric(x,j)}return j.join("")}}const R={Array:"sampler2D","Array(2)":"vec2","Array(3)":"vec3","Array(4)":"vec4","Matrix(2)":"mat2","Matrix(3)":"mat3","Matrix(4)":"mat4",Array2D:"sampler2D",Array3D:"sampler2D",Boolean:"bool",Float:"float",Input:"sampler2D",Integer:"int",Number:"float",LiteralInteger:"float",NumberTexture:"sampler2D",MemoryOptimizedNumberTexture:"sampler2D","ArrayTexture(1)":"sampler2D","ArrayTexture(2)":"sampler2D","ArrayTexture(3)":"sampler2D","ArrayTexture(4)":"sampler2D",HTMLVideo:"sampler2D",HTMLCanvas:"sampler2D",OffscreenCanvas:"sampler2D",HTMLImage:"sampler2D",ImageBitmap:"sampler2D",ImageData:"sampler2D",HTMLImageArray:"sampler2DArray"},T={"===":"==","!==":"!="};m.exports={WebGLFunctionNode:z}},{"../../utils":114,"../function-node":10}],39:[function(h,m,O){const{WebGLKernelValueBoolean:I}=h("./kernel-value/boolean"),{WebGLKernelValueFloat:P}=h("./kernel-value/float"),{WebGLKernelValueInteger:z}=h("./kernel-value/integer"),{WebGLKernelValueHTMLImage:R}=h("./kernel-value/html-image"),{WebGLKernelValueDynamicHTMLImage:T}=h("./kernel-value/dynamic-html-image"),{WebGLKernelValueHTMLVideo:$}=h("./kernel-value/html-video"),{WebGLKernelValueDynamicHTMLVideo:x}=h("./kernel-value/dynamic-html-video"),{WebGLKernelValueSingleInput:S}=h("./kernel-value/single-input"),{WebGLKernelValueDynamicSingleInput:j}=h("./kernel-value/dynamic-single-input"),{WebGLKernelValueUnsignedInput:re}=h("./kernel-value/unsigned-input"),{WebGLKernelValueDynamicUnsignedInput:Ce}=h("./kernel-value/dynamic-unsigned-input"),{WebGLKernelValueMemoryOptimizedNumberTexture:se}=h("./kernel-value/memory-optimized-number-texture"),{WebGLKernelValueDynamicMemoryOptimizedNumberTexture:me}=h("./kernel-value/dynamic-memory-optimized-number-texture"),{WebGLKernelValueNumberTexture:X}=h("./kernel-value/number-texture"),{WebGLKernelValueDynamicNumberTexture:ie}=h("./kernel-value/dynamic-number-texture"),{WebGLKernelValueSingleArray:we}=h("./kernel-value/single-array"),{WebGLKernelValueDynamicSingleArray:Te}=h("./kernel-value/dynamic-single-array"),{WebGLKernelValueSingleArray1DI:tt}=h("./kernel-value/single-array1d-i"),{WebGLKernelValueDynamicSingleArray1DI:ft}=h("./kernel-value/dynamic-single-array1d-i"),{WebGLKernelValueSingleArray2DI:te}=h("./kernel-value/single-array2d-i"),{WebGLKernelValueDynamicSingleArray2DI:B}=h("./kernel-value/dynamic-single-array2d-i"),{WebGLKernelValueSingleArray3DI:Me}=h("./kernel-value/single-array3d-i"),{WebGLKernelValueDynamicSingleArray3DI:De}=h("./kernel-value/dynamic-single-array3d-i"),{WebGLKernelValueArray2:pt}=h("./kernel-value/array2"),{WebGLKernelValueArray3:Je}=h("./kernel-value/array3"),{WebGLKernelValueArray4:ut}=h("./kernel-value/array4"),{WebGLKernelValueUnsignedArray:kt}=h("./kernel-value/unsigned-array"),{WebGLKernelValueDynamicUnsignedArray:Ot}=h("./kernel-value/dynamic-unsigned-array"),fn={unsigned:{dynamic:{Boolean:I,Integer:z,Float:P,Array:Ot,"Array(2)":pt,"Array(3)":Je,"Array(4)":ut,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:Ce,NumberTexture:ie,"ArrayTexture(1)":ie,"ArrayTexture(2)":ie,"ArrayTexture(3)":ie,"ArrayTexture(4)":ie,MemoryOptimizedNumberTexture:me,HTMLCanvas:T,OffscreenCanvas:T,HTMLImage:T,ImageBitmap:T,ImageData:T,HTMLImageArray:!1,HTMLVideo:x},static:{Boolean:I,Float:P,Integer:z,Array:kt,"Array(2)":pt,"Array(3)":Je,"Array(4)":ut,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:re,NumberTexture:X,"ArrayTexture(1)":X,"ArrayTexture(2)":X,"ArrayTexture(3)":X,"ArrayTexture(4)":X,MemoryOptimizedNumberTexture:se,HTMLCanvas:R,OffscreenCanvas:R,HTMLImage:R,ImageBitmap:R,ImageData:R,HTMLImageArray:!1,HTMLVideo:$}},single:{dynamic:{Boolean:I,Integer:z,Float:P,Array:Te,"Array(2)":pt,"Array(3)":Je,"Array(4)":ut,"Array1D(2)":ft,"Array1D(3)":ft,"Array1D(4)":ft,"Array2D(2)":B,"Array2D(3)":B,"Array2D(4)":B,"Array3D(2)":De,"Array3D(3)":De,"Array3D(4)":De,Input:j,NumberTexture:ie,"ArrayTexture(1)":ie,"ArrayTexture(2)":ie,"ArrayTexture(3)":ie,"ArrayTexture(4)":ie,MemoryOptimizedNumberTexture:me,HTMLCanvas:T,OffscreenCanvas:T,HTMLImage:T,ImageBitmap:T,ImageData:T,HTMLImageArray:!1,HTMLVideo:x},static:{Boolean:I,Float:P,Integer:z,Array:we,"Array(2)":pt,"Array(3)":Je,"Array(4)":ut,"Array1D(2)":tt,"Array1D(3)":tt,"Array1D(4)":tt,"Array2D(2)":te,"Array2D(3)":te,"Array2D(4)":te,"Array3D(2)":Me,"Array3D(3)":Me,"Array3D(4)":Me,Input:S,NumberTexture:X,"ArrayTexture(1)":X,"ArrayTexture(2)":X,"ArrayTexture(3)":X,"ArrayTexture(4)":X,MemoryOptimizedNumberTexture:se,HTMLCanvas:R,OffscreenCanvas:R,HTMLImage:R,ImageBitmap:R,ImageData:R,HTMLImageArray:!1,HTMLVideo:$}}};function sn(Vt,hn,vn,$n){if(!Vt)throw new Error("type missing");if(!hn)throw new Error("dynamic missing");if(!vn)throw new Error("precision missing");$n.type&&(Vt=$n.type);const on=fn[vn][hn];if(on[Vt]===!1)return null;if(on[Vt]===void 0)throw new Error(`Could not find a KernelValue for ${Vt}`);return on[Vt]}m.exports={lookupKernelValueType:sn,kernelValueMaps:fn}},{"./kernel-value/array2":41,"./kernel-value/array3":42,"./kernel-value/array4":43,"./kernel-value/boolean":44,"./kernel-value/dynamic-html-image":45,"./kernel-value/dynamic-html-video":46,"./kernel-value/dynamic-memory-optimized-number-texture":47,"./kernel-value/dynamic-number-texture":48,"./kernel-value/dynamic-single-array":49,"./kernel-value/dynamic-single-array1d-i":50,"./kernel-value/dynamic-single-array2d-i":51,"./kernel-value/dynamic-single-array3d-i":52,"./kernel-value/dynamic-single-input":53,"./kernel-value/dynamic-unsigned-array":54,"./kernel-value/dynamic-unsigned-input":55,"./kernel-value/float":56,"./kernel-value/html-image":57,"./kernel-value/html-video":58,"./kernel-value/integer":60,"./kernel-value/memory-optimized-number-texture":61,"./kernel-value/number-texture":62,"./kernel-value/single-array":63,"./kernel-value/single-array1d-i":64,"./kernel-value/single-array2d-i":65,"./kernel-value/single-array3d-i":66,"./kernel-value/single-input":67,"./kernel-value/unsigned-array":68,"./kernel-value/unsigned-input":69}],40:[function(h,m,O){const{WebGLKernelValue:I}=h("./index"),{Input:P}=h("../../../input");class z extends I{checkSize(T,$){if(!this.kernel.validate)return;const{maxTextureSize:x}=this.kernel.constructor.features;if(T>x||$>x)throw T>$?new Error(`Argument texture width of ${T} larger than maximum size of ${x} for your GPU`):T<$?new Error(`Argument texture height of ${$} larger than maximum size of ${x} for your GPU`):new Error(`Argument texture height and width of ${$} larger than maximum size of ${x} for your GPU`)}setup(){this.requestTexture(),this.setupTexture(),this.defineTexture()}requestTexture(){this.texture=this.onRequestTexture()}defineTexture(){const{context:T}=this;T.activeTexture(this.contextHandle),T.bindTexture(T.TEXTURE_2D,this.texture),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_S,T.CLAMP_TO_EDGE),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_T,T.CLAMP_TO_EDGE),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,T.NEAREST),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,T.NEAREST)}setupTexture(){this.contextHandle=this.onRequestContextHandle(),this.index=this.onRequestIndex(),this.dimensionsId=this.id+"Dim",this.sizeId=this.id+"Size"}getBitRatio(T){if(Array.isArray(T[0]))return this.getBitRatio(T[0]);if(T.constructor===P)return this.getBitRatio(T.value);switch(T.constructor){case Uint8ClampedArray:case Uint8Array:case Int8Array:return 1;case Uint16Array:case Int16Array:return 2;case Float32Array:case Int32Array:default:return 4}}destroy(){this.prevArg&&this.prevArg.delete(),this.context.deleteTexture(this.texture)}}m.exports={WebGLKernelArray:z}},{"../../../input":110,"./index":59}],41:[function(h,m,O){const{WebGLKernelValue:I}=h("./index");class P extends I{constructor(R,T){super(R,T),this.uploadValue=R}getSource(R){return this.origin==="constants"?`const vec2 ${this.id} = vec2(${R[0]},${R[1]});
`:`uniform vec2 ${this.id};
`}getStringValueHandler(){return this.origin==="constants"?"":`const uploadValue_${this.name} = ${this.varName};
`}updateValue(R){this.origin!=="constants"&&this.kernel.setUniform2fv(this.id,this.uploadValue=R)}}m.exports={WebGLKernelValueArray2:P}},{"./index":59}],42:[function(h,m,O){const{WebGLKernelValue:I}=h("./index");class P extends I{constructor(R,T){super(R,T),this.uploadValue=R}getSource(R){return this.origin==="constants"?`const vec3 ${this.id} = vec3(${R[0]},${R[1]},${R[2]});
`:`uniform vec3 ${this.id};
`}getStringValueHandler(){return this.origin==="constants"?"":`const uploadValue_${this.name} = ${this.varName};
`}updateValue(R){this.origin!=="constants"&&this.kernel.setUniform3fv(this.id,this.uploadValue=R)}}m.exports={WebGLKernelValueArray3:P}},{"./index":59}],43:[function(h,m,O){const{WebGLKernelValue:I}=h("./index");class P extends I{constructor(R,T){super(R,T),this.uploadValue=R}getSource(R){return this.origin==="constants"?`const vec4 ${this.id} = vec4(${R[0]},${R[1]},${R[2]},${R[3]});
`:`uniform vec4 ${this.id};
`}getStringValueHandler(){return this.origin==="constants"?"":`const uploadValue_${this.name} = ${this.varName};
`}updateValue(R){this.origin!=="constants"&&this.kernel.setUniform4fv(this.id,this.uploadValue=R)}}m.exports={WebGLKernelValueArray4:P}},{"./index":59}],44:[function(h,m,O){h("../../../utils");const{WebGLKernelValue:I}=h("./index");class P extends I{constructor(R,T){super(R,T),this.uploadValue=R}getSource(R){return this.origin==="constants"?`const bool ${this.id} = ${R};
`:`uniform bool ${this.id};
`}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}updateValue(R){this.origin!=="constants"&&this.kernel.setUniform1i(this.id,this.uploadValue=R)}}m.exports={WebGLKernelValueBoolean:P}},{"../../../utils":114,"./index":59}],45:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelValueHTMLImage:P}=h("./html-image");class z extends P{getSource(){return I.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(T){const{width:$,height:x}=T;this.checkSize($,x),this.dimensions=[$,x,1],this.textureSize=[$,x],this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(T)}}m.exports={WebGLKernelValueDynamicHTMLImage:z}},{"../../../utils":114,"./html-image":57}],46:[function(h,m,O){const{WebGLKernelValueDynamicHTMLImage:I}=h("./dynamic-html-image");class P extends I{}m.exports={WebGLKernelValueDynamicHTMLVideo:P}},{"./dynamic-html-image":45}],47:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelValueMemoryOptimizedNumberTexture:P}=h("./memory-optimized-number-texture");class z extends P{getSource(){return I.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(T){this.dimensions=T.dimensions,this.checkSize(T.size[0],T.size[1]),this.textureSize=T.size,this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(T)}}m.exports={WebGLKernelValueDynamicMemoryOptimizedNumberTexture:z}},{"../../../utils":114,"./memory-optimized-number-texture":61}],48:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelValueNumberTexture:P}=h("./number-texture");class z extends P{getSource(){return I.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(T){this.dimensions=T.dimensions,this.checkSize(T.size[0],T.size[1]),this.textureSize=T.size,this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(T)}}m.exports={WebGLKernelValueDynamicNumberTexture:z}},{"../../../utils":114,"./number-texture":62}],49:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelValueSingleArray:P}=h("./single-array");class z extends P{getSource(){return I.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(T){this.dimensions=I.getDimensions(T,!0),this.textureSize=I.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(T)}}m.exports={WebGLKernelValueDynamicSingleArray:z}},{"../../../utils":114,"./single-array":63}],50:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelValueSingleArray1DI:P}=h("./single-array1d-i");class z extends P{getSource(){return I.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(T){this.setShape(T),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(T)}}m.exports={WebGLKernelValueDynamicSingleArray1DI:z}},{"../../../utils":114,"./single-array1d-i":64}],51:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelValueSingleArray2DI:P}=h("./single-array2d-i");class z extends P{getSource(){return I.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(T){this.setShape(T),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(T)}}m.exports={WebGLKernelValueDynamicSingleArray2DI:z}},{"../../../utils":114,"./single-array2d-i":65}],52:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelValueSingleArray3DI:P}=h("./single-array3d-i");class z extends P{getSource(){return I.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(T){this.setShape(T),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(T)}}m.exports={WebGLKernelValueDynamicSingleArray3DI:z}},{"../../../utils":114,"./single-array3d-i":66}],53:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelValueSingleInput:P}=h("./single-input");class z extends P{getSource(){return I.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(T){let[$,x,S]=T.size;this.dimensions=new Int32Array([$||1,x||1,S||1]),this.textureSize=I.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(T)}}m.exports={WebGLKernelValueDynamicSingleInput:z}},{"../../../utils":114,"./single-input":67}],54:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelValueUnsignedArray:P}=h("./unsigned-array");class z extends P{getSource(){return I.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(T){this.dimensions=I.getDimensions(T,!0),this.textureSize=I.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]);const $=this.getTransferArrayType(T);this.preUploadValue=new $(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(T)}}m.exports={WebGLKernelValueDynamicUnsignedArray:z}},{"../../../utils":114,"./unsigned-array":68}],55:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelValueUnsignedInput:P}=h("./unsigned-input");class z extends P{getSource(){return I.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}updateValue(T){let[$,x,S]=T.size;this.dimensions=new Int32Array([$||1,x||1,S||1]),this.textureSize=I.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]);const j=this.getTransferArrayType(T.value);this.preUploadValue=new j(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(T)}}m.exports={WebGLKernelValueDynamicUnsignedInput:z}},{"../../../utils":114,"./unsigned-input":69}],56:[function(h,m,O){h("../../../utils");const{WebGLKernelValue:I}=h("./index");class P extends I{constructor(R,T){super(R,T),this.uploadValue=R}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(R){return this.origin==="constants"?Number.isInteger(R)?`const float ${this.id} = ${R}.0;
`:`const float ${this.id} = ${R};
`:`uniform float ${this.id};
`}updateValue(R){this.origin!=="constants"&&this.kernel.setUniform1f(this.id,this.uploadValue=R)}}m.exports={WebGLKernelValueFloat:P}},{"../../../utils":114,"./index":59}],57:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelArray:P}=h("./array");class z extends P{constructor(T,$){super(T,$);const{width:x,height:S}=T;this.checkSize(x,S),this.dimensions=[x,S,1],this.textureSize=[x,S],this.uploadValue=T}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(){return I.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(T){if(T.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(T.constructor);return}const{context:$}=this;$.activeTexture(this.contextHandle),$.bindTexture($.TEXTURE_2D,this.texture),$.pixelStorei($.UNPACK_FLIP_Y_WEBGL,!0),$.texImage2D($.TEXTURE_2D,0,$.RGBA,$.RGBA,$.UNSIGNED_BYTE,this.uploadValue=T),this.kernel.setUniform1i(this.id,this.index)}}m.exports={WebGLKernelValueHTMLImage:z}},{"../../../utils":114,"./array":40}],58:[function(h,m,O){const{WebGLKernelValueHTMLImage:I}=h("./html-image");class P extends I{}m.exports={WebGLKernelValueHTMLVideo:P}},{"./html-image":57}],59:[function(h,m,O){const{utils:I}=h("../../../utils"),{KernelValue:P}=h("../../kernel-value");class z extends P{constructor(T,$){super(T,$),this.dimensionsId=null,this.sizeId=null,this.initialValueConstructor=T.constructor,this.onRequestTexture=$.onRequestTexture,this.onRequestIndex=$.onRequestIndex,this.uploadValue=null,this.textureSize=null,this.bitRatio=null,this.prevArg=null}get id(){return`${this.origin}_${I.sanitizeName(this.name)}`}setup(){}getTransferArrayType(T){if(Array.isArray(T[0]))return this.getTransferArrayType(T[0]);switch(T.constructor){case Array:case Int32Array:case Int16Array:case Int8Array:return Float32Array;case Uint8ClampedArray:case Uint8Array:case Uint16Array:case Uint32Array:case Float32Array:case Float64Array:return T.constructor}return console.warn("Unfamiliar constructor type.  Will go ahead and use, but likley this may result in a transfer of zeros"),T.constructor}getStringValueHandler(){throw new Error(`"getStringValueHandler" not implemented on ${this.constructor.name}`)}getVariablePrecisionString(){return this.kernel.getVariablePrecisionString(this.textureSize||void 0,this.tactic||void 0)}destroy(){}}m.exports={WebGLKernelValue:z}},{"../../../utils":114,"../../kernel-value":35}],60:[function(h,m,O){h("../../../utils");const{WebGLKernelValue:I}=h("./index");class P extends I{constructor(R,T){super(R,T),this.uploadValue=R}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(R){return this.origin==="constants"?`const int ${this.id} = ${parseInt(R)};
`:`uniform int ${this.id};
`}updateValue(R){this.origin!=="constants"&&this.kernel.setUniform1i(this.id,this.uploadValue=R)}}m.exports={WebGLKernelValueInteger:P}},{"../../../utils":114,"./index":59}],61:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelArray:P}=h("./array"),z="Source and destination textures are the same.  Use immutable = true and manually cleanup kernel output texture memory with texture.delete()";class R extends P{constructor($,x){super($,x);const[S,j]=$.size;this.checkSize(S,j),this.dimensions=$.dimensions,this.textureSize=$.size,this.uploadValue=$.texture,this.forceUploadEachRun=!0}setup(){this.setupTexture()}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName}.texture;
`}getSource(){return I.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue($){if($.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch($.constructor);return}if(this.checkContext&&$.context!==this.context)throw new Error(`Value ${this.name} (${this.type}) must be from same context`);const{kernel:x,context:S}=this;if(x.pipeline)if(x.immutable)x.updateTextureArgumentRefs(this,$);else{if(x.texture&&x.texture.texture===$.texture)throw new Error(z);if(x.mappedTextures){const{mappedTextures:j}=x;for(let re=0;re<j.length;re++)if(j[re].texture===$.texture)throw new Error(z)}}S.activeTexture(this.contextHandle),S.bindTexture(S.TEXTURE_2D,this.uploadValue=$.texture),this.kernel.setUniform1i(this.id,this.index)}}m.exports={WebGLKernelValueMemoryOptimizedNumberTexture:R,sameError:z}},{"../../../utils":114,"./array":40}],62:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelArray:P}=h("./array"),{sameError:z}=h("./memory-optimized-number-texture");class R extends P{constructor($,x){super($,x);const[S,j]=$.size;this.checkSize(S,j);const{size:re,dimensions:Ce}=$;this.bitRatio=this.getBitRatio($),this.dimensions=Ce,this.textureSize=re,this.uploadValue=$.texture,this.forceUploadEachRun=!0}setup(){this.setupTexture()}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName}.texture;
`}getSource(){return I.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue($){if($.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch($.constructor);return}if(this.checkContext&&$.context!==this.context)throw new Error(`Value ${this.name} (${this.type}) must be from same context`);const{kernel:x,context:S}=this;if(x.pipeline)if(x.immutable)x.updateTextureArgumentRefs(this,$);else{if(x.texture&&x.texture.texture===$.texture)throw new Error(z);if(x.mappedTextures){const{mappedTextures:j}=x;for(let re=0;re<j.length;re++)if(j[re].texture===$.texture)throw new Error(z)}}S.activeTexture(this.contextHandle),S.bindTexture(S.TEXTURE_2D,this.uploadValue=$.texture),this.kernel.setUniform1i(this.id,this.index)}}m.exports={WebGLKernelValueNumberTexture:R}},{"../../../utils":114,"./array":40,"./memory-optimized-number-texture":61}],63:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelArray:P}=h("./array");class z extends P{constructor(T,$){super(T,$),this.bitRatio=4,this.dimensions=I.getDimensions(T,!0),this.textureSize=I.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return I.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return I.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(T){if(T.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(T.constructor);return}const{context:$}=this;I.flattenTo(T,this.uploadValue),$.activeTexture(this.contextHandle),$.bindTexture($.TEXTURE_2D,this.texture),$.pixelStorei($.UNPACK_FLIP_Y_WEBGL,!1),$.texImage2D($.TEXTURE_2D,0,$.RGBA,this.textureSize[0],this.textureSize[1],0,$.RGBA,$.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}m.exports={WebGLKernelValueSingleArray:z}},{"../../../utils":114,"./array":40}],64:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelArray:P}=h("./array");class z extends P{constructor(T,$){super(T,$),this.bitRatio=4,this.setShape(T)}setShape(T){const $=I.getDimensions(T,!0);this.textureSize=I.getMemoryOptimizedFloatTextureSize($,this.bitRatio),this.dimensions=new Int32Array([$[1],1,1]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return I.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return I.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(T){if(T.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(T.constructor);return}const{context:$}=this;I.flatten2dArrayTo(T,this.uploadValue),$.activeTexture(this.contextHandle),$.bindTexture($.TEXTURE_2D,this.texture),$.pixelStorei($.UNPACK_FLIP_Y_WEBGL,!1),$.texImage2D($.TEXTURE_2D,0,$.RGBA,this.textureSize[0],this.textureSize[1],0,$.RGBA,$.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}m.exports={WebGLKernelValueSingleArray1DI:z}},{"../../../utils":114,"./array":40}],65:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelArray:P}=h("./array");class z extends P{constructor(T,$){super(T,$),this.bitRatio=4,this.setShape(T)}setShape(T){const $=I.getDimensions(T,!0);this.textureSize=I.getMemoryOptimizedFloatTextureSize($,this.bitRatio),this.dimensions=new Int32Array([$[1],$[2],1]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return I.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return I.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(T){if(T.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(T.constructor);return}const{context:$}=this;I.flatten3dArrayTo(T,this.uploadValue),$.activeTexture(this.contextHandle),$.bindTexture($.TEXTURE_2D,this.texture),$.pixelStorei($.UNPACK_FLIP_Y_WEBGL,!1),$.texImage2D($.TEXTURE_2D,0,$.RGBA,this.textureSize[0],this.textureSize[1],0,$.RGBA,$.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}m.exports={WebGLKernelValueSingleArray2DI:z}},{"../../../utils":114,"./array":40}],66:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelArray:P}=h("./array");class z extends P{constructor(T,$){super(T,$),this.bitRatio=4,this.setShape(T)}setShape(T){const $=I.getDimensions(T,!0);this.textureSize=I.getMemoryOptimizedFloatTextureSize($,this.bitRatio),this.dimensions=new Int32Array([$[1],$[2],$[3]]),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return I.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}, uploadValue_${this.name})`])}getSource(){return I.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(T){if(T.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(T.constructor);return}const{context:$}=this;I.flatten4dArrayTo(T,this.uploadValue),$.activeTexture(this.contextHandle),$.bindTexture($.TEXTURE_2D,this.texture),$.pixelStorei($.UNPACK_FLIP_Y_WEBGL,!1),$.texImage2D($.TEXTURE_2D,0,$.RGBA,this.textureSize[0],this.textureSize[1],0,$.RGBA,$.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}m.exports={WebGLKernelValueSingleArray3DI:z}},{"../../../utils":114,"./array":40}],67:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelArray:P}=h("./array");class z extends P{constructor(T,$){super(T,$),this.bitRatio=4;let[x,S,j]=T.size;this.dimensions=new Int32Array([x||1,S||1,j||1]),this.textureSize=I.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength)}getStringValueHandler(){return I.linesToString([`const uploadValue_${this.name} = new Float32Array(${this.uploadArrayLength})`,`flattenTo(${this.varName}.value, uploadValue_${this.name})`])}getSource(){return I.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(T){if(T.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(T.constructor);return}const{context:$}=this;I.flattenTo(T.value,this.uploadValue),$.activeTexture(this.contextHandle),$.bindTexture($.TEXTURE_2D,this.texture),$.pixelStorei($.UNPACK_FLIP_Y_WEBGL,!1),$.texImage2D($.TEXTURE_2D,0,$.RGBA,this.textureSize[0],this.textureSize[1],0,$.RGBA,$.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}m.exports={WebGLKernelValueSingleInput:z}},{"../../../utils":114,"./array":40}],68:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelArray:P}=h("./array");class z extends P{constructor(T,$){super(T,$),this.bitRatio=this.getBitRatio(T),this.dimensions=I.getDimensions(T,!0),this.textureSize=I.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]),this.TranserArrayType=this.getTransferArrayType(T),this.preUploadValue=new this.TranserArrayType(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer)}getStringValueHandler(){return I.linesToString([`const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,`const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,`flattenTo(${this.varName}, preUploadValue_${this.name})`])}getSource(){return I.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(T){if(T.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(T.constructor);return}const{context:$}=this;I.flattenTo(T,this.preUploadValue),$.activeTexture(this.contextHandle),$.bindTexture($.TEXTURE_2D,this.texture),$.pixelStorei($.UNPACK_FLIP_Y_WEBGL,!1),$.texImage2D($.TEXTURE_2D,0,$.RGBA,this.textureSize[0],this.textureSize[1],0,$.RGBA,$.UNSIGNED_BYTE,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}m.exports={WebGLKernelValueUnsignedArray:z}},{"../../../utils":114,"./array":40}],69:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelArray:P}=h("./array");class z extends P{constructor(T,$){super(T,$),this.bitRatio=this.getBitRatio(T);const[x,S,j]=T.size;this.dimensions=new Int32Array([x||1,S||1,j||1]),this.textureSize=I.getMemoryOptimizedPackedTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*(4/this.bitRatio),this.checkSize(this.textureSize[0],this.textureSize[1]),this.TranserArrayType=this.getTransferArrayType(T.value),this.preUploadValue=new this.TranserArrayType(this.uploadArrayLength),this.uploadValue=new Uint8Array(this.preUploadValue.buffer)}getStringValueHandler(){return I.linesToString([`const preUploadValue_${this.name} = new ${this.TranserArrayType.name}(${this.uploadArrayLength})`,`const uploadValue_${this.name} = new Uint8Array(preUploadValue_${this.name}.buffer)`,`flattenTo(${this.varName}.value, preUploadValue_${this.name})`])}getSource(){return I.linesToString([`uniform sampler2D ${this.id}`,`ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(T){if(T.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(value.constructor);return}const{context:$}=this;I.flattenTo(T.value,this.preUploadValue),$.activeTexture(this.contextHandle),$.bindTexture($.TEXTURE_2D,this.texture),$.pixelStorei($.UNPACK_FLIP_Y_WEBGL,!1),$.texImage2D($.TEXTURE_2D,0,$.RGBA,this.textureSize[0],this.textureSize[1],0,$.RGBA,$.UNSIGNED_BYTE,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}m.exports={WebGLKernelValueUnsignedInput:z}},{"../../../utils":114,"./array":40}],70:[function(h,m,O){const{GLKernel:I}=h("../gl/kernel"),{FunctionBuilder:P}=h("../function-builder"),{WebGLFunctionNode:z}=h("./function-node"),{utils:R}=h("../../utils"),T=h("../../plugins/math-random-uniformly-distributed"),{fragmentShader:$}=h("./fragment-shader"),{vertexShader:x}=h("./vertex-shader"),{glKernelString:S}=h("../gl/kernel-string"),{lookupKernelValueType:j}=h("./kernel-value-maps");let re=null,Ce=null,se=null,me=null,X=null;const ie=[T],we=[],Te={};class tt extends I{static get isSupported(){return re!==null||(this.setupFeatureChecks(),re=this.isContextMatch(se)),re}static setupFeatureChecks(){typeof document<"u"?Ce=document.createElement("canvas"):typeof OffscreenCanvas<"u"&&(Ce=new OffscreenCanvas(0,0)),Ce&&(se=Ce.getContext("webgl")||Ce.getContext("experimental-webgl"),!(!se||!se.getExtension)&&(me={OES_texture_float:se.getExtension("OES_texture_float"),OES_texture_float_linear:se.getExtension("OES_texture_float_linear"),OES_element_index_uint:se.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:se.getExtension("WEBGL_draw_buffers")},X=this.getFeatures()))}static isContextMatch(te){return typeof WebGLRenderingContext<"u"?te instanceof WebGLRenderingContext:!1}static getIsTextureFloat(){return!!me.OES_texture_float}static getIsDrawBuffers(){return!!me.WEBGL_draw_buffers}static getChannelCount(){return me.WEBGL_draw_buffers?se.getParameter(me.WEBGL_draw_buffers.MAX_DRAW_BUFFERS_WEBGL):1}static getMaxTextureSize(){return se.getParameter(se.MAX_TEXTURE_SIZE)}static lookupKernelValueType(te,B,Me,De){return j(te,B,Me,De)}static get testCanvas(){return Ce}static get testContext(){return se}static get features(){return X}static get fragmentShader(){return $}static get vertexShader(){return x}constructor(te,B){super(te,B),this.program=null,this.pipeline=B.pipeline,this.endianness=R.systemEndianness(),this.extensions={},this.argumentTextureCount=0,this.constantTextureCount=0,this.fragShader=null,this.vertShader=null,this.drawBuffersMap=null,this.maxTexSize=null,this.onRequestSwitchKernel=null,this.texture=null,this.mappedTextures=null,this.mergeSettings(te.settings||B),this.threadDim=null,this.framebuffer=null,this.buffer=null,this.textureCache=[],this.programUniformLocationCache={},this.uniform1fCache={},this.uniform1iCache={},this.uniform2fCache={},this.uniform2fvCache={},this.uniform2ivCache={},this.uniform3fvCache={},this.uniform3ivCache={},this.uniform4fvCache={},this.uniform4ivCache={}}initCanvas(){if(typeof document<"u"){const te=document.createElement("canvas");return te.width=2,te.height=2,te}else if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(0,0)}initContext(){const te={alpha:!1,depth:!1,antialias:!1};return this.canvas.getContext("webgl",te)||this.canvas.getContext("experimental-webgl",te)}initPlugins(te){const B=[],{source:Me}=this;if(typeof Me=="string")for(let De=0;De<ie.length;De++){const pt=ie[De];Me.match(pt.functionMatch)&&B.push(pt)}else if(typeof Me=="object"&&te.pluginNames)for(let De=0;De<ie.length;De++){const pt=ie[De];te.pluginNames.some(ut=>ut===pt.name)&&B.push(pt)}return B}initExtensions(){this.extensions={OES_texture_float:this.context.getExtension("OES_texture_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear"),OES_element_index_uint:this.context.getExtension("OES_element_index_uint"),WEBGL_draw_buffers:this.context.getExtension("WEBGL_draw_buffers"),WEBGL_color_buffer_float:this.context.getExtension("WEBGL_color_buffer_float")}}validateSettings(te){if(!this.validate){this.texSize=R.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output);return}const{features:B}=this.constructor;if(this.optimizeFloatMemory===!0&&!B.isTextureFloat)throw new Error("Float textures are not supported");if(this.precision==="single"&&!B.isFloatRead)throw new Error("Single precision not supported");if(!this.graphical&&this.precision===null&&B.isTextureFloat&&(this.precision=B.isFloatRead?"single":"unsigned"),this.subKernels&&this.subKernels.length>0&&!this.extensions.WEBGL_draw_buffers)throw new Error("could not instantiate draw buffers extension");if(this.fixIntegerDivisionAccuracy===null?this.fixIntegerDivisionAccuracy=!B.isIntegerDivisionAccurate:this.fixIntegerDivisionAccuracy&&B.isIntegerDivisionAccurate&&(this.fixIntegerDivisionAccuracy=!1),this.checkOutput(),!this.output||this.output.length===0){if(te.length!==1)throw new Error("Auto output only supported for kernels with only one input");const Me=R.getVariableType(te[0],this.strictIntegers);switch(Me){case"Array":this.output=R.getDimensions(Me);break;case"NumberTexture":case"MemoryOptimizedNumberTexture":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":this.output=te[0].output;break;default:throw new Error("Auto output not supported for input type: "+Me)}}if(this.graphical){if(this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.precision==="precision"&&(this.precision="unsigned",console.warn("Cannot use graphical mode and single precision at the same time")),this.texSize=R.clone(this.output);return}else this.precision===null&&B.isTextureFloat&&(this.precision="single");this.texSize=R.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output),this.checkTextureSize()}updateMaxTexSize(){const{texSize:te,canvas:B}=this;if(this.maxTexSize===null){let Me=we.indexOf(B);Me===-1&&(Me=we.length,we.push(B),Te[Me]=[te[0],te[1]]),this.maxTexSize=Te[Me]}this.maxTexSize[0]<te[0]&&(this.maxTexSize[0]=te[0]),this.maxTexSize[1]<te[1]&&(this.maxTexSize[1]=te[1])}setupArguments(te){this.kernelArguments=[],this.argumentTextureCount=0;const B=this.argumentTypes===null;if(B&&(this.argumentTypes=[]),this.argumentSizes=[],this.argumentBitRatios=[],te.length<this.argumentNames.length)throw new Error("not enough arguments for kernel");if(te.length>this.argumentNames.length)throw new Error("too many arguments for kernel");const{context:Me}=this;let De=0;const pt=()=>this.createTexture(),Je=()=>this.constantTextureCount+De++,ut=Ot=>{this.switchKernels({type:"argumentMismatch",needed:Ot})},kt=()=>Me.TEXTURE0+this.constantTextureCount+this.argumentTextureCount++;for(let Ot=0;Ot<te.length;Ot++){const fn=te[Ot],sn=this.argumentNames[Ot];let Vt;B?(Vt=R.getVariableType(fn,this.strictIntegers),this.argumentTypes.push(Vt)):Vt=this.argumentTypes[Ot];const hn=this.constructor.lookupKernelValueType(Vt,this.dynamicArguments?"dynamic":"static",this.precision,te[Ot]);if(hn===null)return this.requestFallback(te);const vn=new hn(fn,{name:sn,type:Vt,tactic:this.tactic,origin:"user",context:Me,checkContext:this.checkContext,kernel:this,strictIntegers:this.strictIntegers,onRequestTexture:pt,onRequestIndex:Je,onUpdateValueMismatch:ut,onRequestContextHandle:kt});this.kernelArguments.push(vn),vn.setup(),this.argumentSizes.push(vn.textureSize),this.argumentBitRatios[Ot]=vn.bitRatio}}createTexture(){const te=this.context.createTexture();return this.textureCache.push(te),te}setupConstants(te){const{context:B}=this;this.kernelConstants=[],this.forceUploadKernelConstants=[];let Me=this.constantTypes===null;Me&&(this.constantTypes={}),this.constantBitRatios={};let De=0;for(const pt in this.constants){const Je=this.constants[pt];let ut;Me?(ut=R.getVariableType(Je,this.strictIntegers),this.constantTypes[pt]=ut):ut=this.constantTypes[pt];const kt=this.constructor.lookupKernelValueType(ut,"static",this.precision,Je);if(kt===null)return this.requestFallback(te);const Ot=new kt(Je,{name:pt,type:ut,tactic:this.tactic,origin:"constants",context:this.context,checkContext:this.checkContext,kernel:this,strictIntegers:this.strictIntegers,onRequestTexture:()=>this.createTexture(),onRequestIndex:()=>De++,onRequestContextHandle:()=>B.TEXTURE0+this.constantTextureCount++});this.constantBitRatios[pt]=Ot.bitRatio,this.kernelConstants.push(Ot),Ot.setup(),Ot.forceUploadEachRun&&this.forceUploadKernelConstants.push(Ot)}}build(){if(this.built||(this.initExtensions(),this.validateSettings(arguments),this.setupConstants(arguments),this.fallbackRequested)||(this.setupArguments(arguments),this.fallbackRequested))return;this.updateMaxTexSize(),this.translateSource();const te=this.pickRenderStrategy(arguments);if(te)return te;const{texSize:B,context:Me,canvas:De}=this;Me.enable(Me.SCISSOR_TEST),this.pipeline&&this.precision==="single"?(Me.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),De.width=this.maxTexSize[0],De.height=this.maxTexSize[1]):(Me.viewport(0,0,this.maxTexSize[0],this.maxTexSize[1]),De.width=this.maxTexSize[0],De.height=this.maxTexSize[1]);const pt=this.threadDim=Array.from(this.output);for(;pt.length<3;)pt.push(1);const Je=this.getVertexShader(arguments),ut=Me.createShader(Me.VERTEX_SHADER);Me.shaderSource(ut,Je),Me.compileShader(ut),this.vertShader=ut;const kt=this.getFragmentShader(arguments),Ot=Me.createShader(Me.FRAGMENT_SHADER);if(Me.shaderSource(Ot,kt),Me.compileShader(Ot),this.fragShader=Ot,this.debug&&(console.log("GLSL Shader Output:"),console.log(kt)),!Me.getShaderParameter(ut,Me.COMPILE_STATUS))throw new Error("Error compiling vertex shader: "+Me.getShaderInfoLog(ut));if(!Me.getShaderParameter(Ot,Me.COMPILE_STATUS))throw new Error("Error compiling fragment shader: "+Me.getShaderInfoLog(Ot));const fn=this.program=Me.createProgram();Me.attachShader(fn,ut),Me.attachShader(fn,Ot),Me.linkProgram(fn),this.framebuffer=Me.createFramebuffer(),this.framebuffer.width=B[0],this.framebuffer.height=B[1],this.rawValueFramebuffers={};const sn=new Float32Array([-1,-1,1,-1,-1,1,1,1]),Vt=new Float32Array([0,0,1,0,0,1,1,1]),hn=sn.byteLength;let vn=this.buffer;vn?Me.bindBuffer(Me.ARRAY_BUFFER,vn):(vn=this.buffer=Me.createBuffer(),Me.bindBuffer(Me.ARRAY_BUFFER,vn),Me.bufferData(Me.ARRAY_BUFFER,sn.byteLength+Vt.byteLength,Me.STATIC_DRAW)),Me.bufferSubData(Me.ARRAY_BUFFER,0,sn),Me.bufferSubData(Me.ARRAY_BUFFER,hn,Vt);const $n=Me.getAttribLocation(this.program,"aPos");Me.enableVertexAttribArray($n),Me.vertexAttribPointer($n,2,Me.FLOAT,!1,0,0);const on=Me.getAttribLocation(this.program,"aTexCoord");Me.enableVertexAttribArray(on),Me.vertexAttribPointer(on,2,Me.FLOAT,!1,0,hn),Me.bindFramebuffer(Me.FRAMEBUFFER,this.framebuffer);let ln=0;Me.useProgram(this.program);for(let Zt in this.constants)this.kernelConstants[ln++].updateValue(this.constants[Zt]);this._setupOutputTexture(),this.subKernels!==null&&this.subKernels.length>0&&(this._mappedTextureSwitched={},this._setupSubOutputTextures()),this.buildSignature(arguments),this.built=!0}translateSource(){const te=P.fromKernel(this,z,{fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy});this.translatedSource=te.getPrototypeString("kernel"),this.setupReturnTypes(te)}setupReturnTypes(te){if(!this.graphical&&!this.returnType&&(this.returnType=te.getKernelResultType()),this.subKernels&&this.subKernels.length>0)for(let B=0;B<this.subKernels.length;B++){const Me=this.subKernels[B];Me.returnType||(Me.returnType=te.getSubKernelResultType(B))}}run(){const{kernelArguments:te,texSize:B,forceUploadKernelConstants:Me,context:De}=this;De.useProgram(this.program),De.scissor(0,0,B[0],B[1]),this.dynamicOutput&&(this.setUniform3iv("uOutputDim",new Int32Array(this.threadDim)),this.setUniform2iv("uTexSize",B)),this.setUniform2f("ratio",B[0]/this.maxTexSize[0],B[1]/this.maxTexSize[1]);for(let pt=0;pt<Me.length;pt++){const Je=Me[pt];if(Je.updateValue(this.constants[Je.name]),this.switchingKernels)return}for(let pt=0;pt<te.length;pt++)if(te[pt].updateValue(arguments[pt]),this.switchingKernels)return;if(this.plugins)for(let pt=0;pt<this.plugins.length;pt++){const Je=this.plugins[pt];Je.onBeforeRun&&Je.onBeforeRun(this)}if(this.graphical){if(this.pipeline)return De.bindRenderbuffer(De.RENDERBUFFER,null),De.bindFramebuffer(De.FRAMEBUFFER,this.framebuffer),this.immutable&&this._replaceOutputTexture(),De.drawArrays(De.TRIANGLE_STRIP,0,4),this.immutable?this.texture.clone():this.texture;De.bindRenderbuffer(De.RENDERBUFFER,null),De.bindFramebuffer(De.FRAMEBUFFER,null),De.drawArrays(De.TRIANGLE_STRIP,0,4);return}De.bindFramebuffer(De.FRAMEBUFFER,this.framebuffer),this.immutable&&this._replaceOutputTexture(),this.subKernels!==null&&(this.immutable&&this._replaceSubOutputTextures(),this.drawBuffers()),De.drawArrays(De.TRIANGLE_STRIP,0,4)}drawBuffers(){this.extensions.WEBGL_draw_buffers.drawBuffersWEBGL(this.drawBuffersMap)}getInternalFormat(){return this.context.RGBA}getTextureFormat(){const{context:te}=this;switch(this.getInternalFormat()){case te.RGBA:return te.RGBA;default:throw new Error("Unknown internal format")}}_replaceOutputTexture(){if(this.texture.beforeMutate()||this._textureSwitched){const te=this.context;te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,this.texture.texture,0),this._textureSwitched=!1}}_setupOutputTexture(){const te=this.context,B=this.texSize;if(this.texture){te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,this.texture.texture,0);return}const Me=this.createTexture();te.activeTexture(te.TEXTURE0+this.constantTextureCount+this.argumentTextureCount),te.bindTexture(te.TEXTURE_2D,Me),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_WRAP_S,te.CLAMP_TO_EDGE),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_WRAP_T,te.CLAMP_TO_EDGE),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MIN_FILTER,te.NEAREST),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MAG_FILTER,te.NEAREST);const De=this.getInternalFormat();this.precision==="single"?te.texImage2D(te.TEXTURE_2D,0,De,B[0],B[1],0,te.RGBA,te.FLOAT,null):te.texImage2D(te.TEXTURE_2D,0,De,B[0],B[1],0,De,te.UNSIGNED_BYTE,null),te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,Me,0),this.texture=new this.TextureConstructor({texture:Me,size:B,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this})}_replaceSubOutputTextures(){const te=this.context;for(let B=0;B<this.mappedTextures.length;B++){const Me=this.mappedTextures[B];(Me.beforeMutate()||this._mappedTextureSwitched[B])&&(te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0+B+1,te.TEXTURE_2D,Me.texture,0),this._mappedTextureSwitched[B]=!1)}}_setupSubOutputTextures(){const te=this.context;if(this.mappedTextures){for(let Me=0;Me<this.subKernels.length;Me++)te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0+Me+1,te.TEXTURE_2D,this.mappedTextures[Me].texture,0);return}const B=this.texSize;this.drawBuffersMap=[te.COLOR_ATTACHMENT0],this.mappedTextures=[];for(let Me=0;Me<this.subKernels.length;Me++){const De=this.createTexture();this.drawBuffersMap.push(te.COLOR_ATTACHMENT0+Me+1),te.activeTexture(te.TEXTURE0+this.constantTextureCount+this.argumentTextureCount+Me),te.bindTexture(te.TEXTURE_2D,De),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_WRAP_S,te.CLAMP_TO_EDGE),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_WRAP_T,te.CLAMP_TO_EDGE),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MIN_FILTER,te.NEAREST),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MAG_FILTER,te.NEAREST),this.precision==="single"?te.texImage2D(te.TEXTURE_2D,0,te.RGBA,B[0],B[1],0,te.RGBA,te.FLOAT,null):te.texImage2D(te.TEXTURE_2D,0,te.RGBA,B[0],B[1],0,te.RGBA,te.UNSIGNED_BYTE,null),te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0+Me+1,te.TEXTURE_2D,De,0),this.mappedTextures.push(new this.TextureConstructor({texture:De,size:B,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this}))}}setUniform1f(te,B){if(this.uniform1fCache.hasOwnProperty(te)){const De=this.uniform1fCache[te];if(B===De)return}this.uniform1fCache[te]=B;const Me=this.getUniformLocation(te);this.context.uniform1f(Me,B)}setUniform1i(te,B){if(this.uniform1iCache.hasOwnProperty(te)){const De=this.uniform1iCache[te];if(B===De)return}this.uniform1iCache[te]=B;const Me=this.getUniformLocation(te);this.context.uniform1i(Me,B)}setUniform2f(te,B,Me){if(this.uniform2fCache.hasOwnProperty(te)){const pt=this.uniform2fCache[te];if(B===pt[0]&&Me===pt[1])return}this.uniform2fCache[te]=[B,Me];const De=this.getUniformLocation(te);this.context.uniform2f(De,B,Me)}setUniform2fv(te,B){if(this.uniform2fvCache.hasOwnProperty(te)){const De=this.uniform2fvCache[te];if(B[0]===De[0]&&B[1]===De[1])return}this.uniform2fvCache[te]=B;const Me=this.getUniformLocation(te);this.context.uniform2fv(Me,B)}setUniform2iv(te,B){if(this.uniform2ivCache.hasOwnProperty(te)){const De=this.uniform2ivCache[te];if(B[0]===De[0]&&B[1]===De[1])return}this.uniform2ivCache[te]=B;const Me=this.getUniformLocation(te);this.context.uniform2iv(Me,B)}setUniform3fv(te,B){if(this.uniform3fvCache.hasOwnProperty(te)){const De=this.uniform3fvCache[te];if(B[0]===De[0]&&B[1]===De[1]&&B[2]===De[2])return}this.uniform3fvCache[te]=B;const Me=this.getUniformLocation(te);this.context.uniform3fv(Me,B)}setUniform3iv(te,B){if(this.uniform3ivCache.hasOwnProperty(te)){const De=this.uniform3ivCache[te];if(B[0]===De[0]&&B[1]===De[1]&&B[2]===De[2])return}this.uniform3ivCache[te]=B;const Me=this.getUniformLocation(te);this.context.uniform3iv(Me,B)}setUniform4fv(te,B){if(this.uniform4fvCache.hasOwnProperty(te)){const De=this.uniform4fvCache[te];if(B[0]===De[0]&&B[1]===De[1]&&B[2]===De[2]&&B[3]===De[3])return}this.uniform4fvCache[te]=B;const Me=this.getUniformLocation(te);this.context.uniform4fv(Me,B)}setUniform4iv(te,B){if(this.uniform4ivCache.hasOwnProperty(te)){const De=this.uniform4ivCache[te];if(B[0]===De[0]&&B[1]===De[1]&&B[2]===De[2]&&B[3]===De[3])return}this.uniform4ivCache[te]=B;const Me=this.getUniformLocation(te);this.context.uniform4iv(Me,B)}getUniformLocation(te){return this.programUniformLocationCache.hasOwnProperty(te)?this.programUniformLocationCache[te]:this.programUniformLocationCache[te]=this.context.getUniformLocation(this.program,te)}_getFragShaderArtifactMap(te){return{HEADER:this._getHeaderString(),LOOP_MAX:this._getLoopMaxString(),PLUGINS:this._getPluginsString(),CONSTANTS:this._getConstantsString(),DECODE32_ENDIANNESS:this._getDecode32EndiannessString(),ENCODE32_ENDIANNESS:this._getEncode32EndiannessString(),DIVIDE_WITH_INTEGER_CHECK:this._getDivideWithIntegerCheckString(),INJECTED_NATIVE:this._getInjectedNative(),MAIN_CONSTANTS:this._getMainConstantsString(),MAIN_ARGUMENTS:this._getMainArgumentsString(te),KERNEL:this.getKernelString(),MAIN_RESULT:this.getMainResultString(),FLOAT_TACTIC_DECLARATION:this.getFloatTacticDeclaration(),INT_TACTIC_DECLARATION:this.getIntTacticDeclaration(),SAMPLER_2D_TACTIC_DECLARATION:this.getSampler2DTacticDeclaration(),SAMPLER_2D_ARRAY_TACTIC_DECLARATION:this.getSampler2DArrayTacticDeclaration()}}_getVertShaderArtifactMap(te){return{FLOAT_TACTIC_DECLARATION:this.getFloatTacticDeclaration(),INT_TACTIC_DECLARATION:this.getIntTacticDeclaration(),SAMPLER_2D_TACTIC_DECLARATION:this.getSampler2DTacticDeclaration(),SAMPLER_2D_ARRAY_TACTIC_DECLARATION:this.getSampler2DArrayTacticDeclaration()}}_getHeaderString(){return this.subKernels!==null?`#extension GL_EXT_draw_buffers : require
`:""}_getLoopMaxString(){return this.loopMaxIterations?` ${parseInt(this.loopMaxIterations)};
`:` 1000;
`}_getPluginsString(){return this.plugins?this.plugins.map(te=>te.source&&this.source.match(te.functionMatch)?te.source:"").join(`
`):`
`}_getConstantsString(){const te=[],{threadDim:B,texSize:Me}=this;return this.dynamicOutput?te.push("uniform ivec3 uOutputDim","uniform ivec2 uTexSize"):te.push(`ivec3 uOutputDim = ivec3(${B[0]}, ${B[1]}, ${B[2]})`,`ivec2 uTexSize = ivec2(${Me[0]}, ${Me[1]})`),R.linesToString(te)}_getTextureCoordinate(){const te=this.subKernels;return te===null||te.length<1?`varying vec2 vTexCoord;
`:`out vec2 vTexCoord;
`}_getDecode32EndiannessString(){return this.endianness==="LE"?"":`  texel.rgba = texel.abgr;
`}_getEncode32EndiannessString(){return this.endianness==="LE"?"":`  texel.rgba = texel.abgr;
`}_getDivideWithIntegerCheckString(){return this.fixIntegerDivisionAccuracy?`float divWithIntCheck(float x, float y) {
  if (floor(x) == x && floor(y) == y && integerMod(x, y) == 0.0) {
    return float(int(x) / int(y));
  }
  return x / y;
}

float integerCorrectionModulo(float number, float divisor) {
  if (number < 0.0) {
    number = abs(number);
    if (divisor < 0.0) {
      divisor = abs(divisor);
    }
    return -(number - (divisor * floor(divWithIntCheck(number, divisor))));
  }
  if (divisor < 0.0) {
    divisor = abs(divisor);
  }
  return number - (divisor * floor(divWithIntCheck(number, divisor)));
}`:""}_getMainArgumentsString(te){const B=[],{argumentNames:Me}=this;for(let De=0;De<Me.length;De++)B.push(this.kernelArguments[De].getSource(te[De]));return B.join("")}_getInjectedNative(){return this.injectedNative||""}_getMainConstantsString(){const te=[],{constants:B}=this;if(B){let Me=0;for(const De in B)this.constants.hasOwnProperty(De)&&te.push(this.kernelConstants[Me++].getSource(this.constants[De]))}return te.join("")}getRawValueFramebuffer(te,B){if(this.rawValueFramebuffers[te]||(this.rawValueFramebuffers[te]={}),!this.rawValueFramebuffers[te][B]){const Me=this.context.createFramebuffer();Me.width=te,Me.height=B,this.rawValueFramebuffers[te][B]=Me}return this.rawValueFramebuffers[te][B]}getKernelResultDeclaration(){switch(this.returnType){case"Array(2)":return"vec2 kernelResult";case"Array(3)":return"vec3 kernelResult";case"Array(4)":return"vec4 kernelResult";case"LiteralInteger":case"Float":case"Number":case"Integer":return"float kernelResult";default:if(this.graphical)return"float kernelResult";throw new Error(`unrecognized output type "${this.returnType}"`)}}getKernelString(){const te=[this.getKernelResultDeclaration()],{subKernels:B}=this;if(B!==null)switch(this.returnType){case"Number":case"Float":case"Integer":for(let Me=0;Me<B.length;Me++){const De=B[Me];te.push(De.returnType==="Integer"?`int subKernelResult_${De.name} = 0`:`float subKernelResult_${De.name} = 0.0`)}break;case"Array(2)":for(let Me=0;Me<B.length;Me++)te.push(`vec2 subKernelResult_${B[Me].name}`);break;case"Array(3)":for(let Me=0;Me<B.length;Me++)te.push(`vec3 subKernelResult_${B[Me].name}`);break;case"Array(4)":for(let Me=0;Me<B.length;Me++)te.push(`vec4 subKernelResult_${B[Me].name}`);break}return R.linesToString(te)+this.translatedSource}getMainResultGraphical(){return R.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragColor = actualColor"])}getMainResultPackedPixels(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return this.getMainResultKernelPackedPixels()+this.getMainResultSubKernelPackedPixels();default:throw new Error(`packed output only usable with Numbers, "${this.returnType}" specified`)}}getMainResultKernelPackedPixels(){return R.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  gl_FragData[0] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(kernelResult)`])}getMainResultSubKernelPackedPixels(){const te=[];if(!this.subKernels)return"";for(let B=0;B<this.subKernels.length;B++)this.subKernels[B].returnType==="Integer"?te.push(`  gl_FragData[${B+1}] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(float(subKernelResult_${this.subKernels[B].name}))`):te.push(`  gl_FragData[${B+1}] = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(subKernelResult_${this.subKernels[B].name})`);return R.linesToString(te)}getMainResultMemoryOptimizedFloats(){const te=["  index *= 4"];switch(this.returnType){case"Number":case"Integer":case"Float":const B=["r","g","b","a"];for(let Me=0;Me<B.length;Me++){const De=B[Me];this.getMainResultKernelMemoryOptimizedFloats(te,De),this.getMainResultSubKernelMemoryOptimizedFloats(te,De),Me+1<B.length&&te.push("  index += 1")}break;default:throw new Error(`optimized output only usable with Numbers, ${this.returnType} specified`)}return R.linesToString(te)}getMainResultKernelMemoryOptimizedFloats(te,B){te.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  gl_FragData[0].${B} = kernelResult`)}getMainResultSubKernelMemoryOptimizedFloats(te,B){if(!this.subKernels)return te;for(let Me=0;Me<this.subKernels.length;Me++)this.subKernels[Me].returnType==="Integer"?te.push(`  gl_FragData[${Me+1}].${B} = float(subKernelResult_${this.subKernels[Me].name})`):te.push(`  gl_FragData[${Me+1}].${B} = subKernelResult_${this.subKernels[Me].name}`)}getMainResultKernelNumberTexture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult"]}getMainResultSubKernelNumberTexture(){const te=[];if(!this.subKernels)return te;for(let B=0;B<this.subKernels.length;++B){const Me=this.subKernels[B];Me.returnType==="Integer"?te.push(`  gl_FragData[${B+1}][0] = float(subKernelResult_${Me.name})`):te.push(`  gl_FragData[${B+1}][0] = subKernelResult_${Me.name}`)}return te}getMainResultKernelArray2Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult[0]","  gl_FragData[0][1] = kernelResult[1]"]}getMainResultSubKernelArray2Texture(){const te=[];if(!this.subKernels)return te;for(let B=0;B<this.subKernels.length;++B)te.push(`  gl_FragData[${B+1}][0] = subKernelResult_${this.subKernels[B].name}[0]`,`  gl_FragData[${B+1}][1] = subKernelResult_${this.subKernels[B].name}[1]`);return te}getMainResultKernelArray3Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0][0] = kernelResult[0]","  gl_FragData[0][1] = kernelResult[1]","  gl_FragData[0][2] = kernelResult[2]"]}getMainResultSubKernelArray3Texture(){const te=[];if(!this.subKernels)return te;for(let B=0;B<this.subKernels.length;++B)te.push(`  gl_FragData[${B+1}][0] = subKernelResult_${this.subKernels[B].name}[0]`,`  gl_FragData[${B+1}][1] = subKernelResult_${this.subKernels[B].name}[1]`,`  gl_FragData[${B+1}][2] = subKernelResult_${this.subKernels[B].name}[2]`);return te}getMainResultKernelArray4Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  gl_FragData[0] = kernelResult"]}getMainResultSubKernelArray4Texture(){const te=[];if(!this.subKernels)return te;switch(this.returnType){case"Number":case"Float":case"Integer":for(let B=0;B<this.subKernels.length;++B)this.subKernels[B].returnType==="Integer"?te.push(`  gl_FragData[${B+1}] = float(subKernelResult_${this.subKernels[B].name})`):te.push(`  gl_FragData[${B+1}] = subKernelResult_${this.subKernels[B].name}`);break;case"Array(2)":for(let B=0;B<this.subKernels.length;++B)te.push(`  gl_FragData[${B+1}][0] = subKernelResult_${this.subKernels[B].name}[0]`,`  gl_FragData[${B+1}][1] = subKernelResult_${this.subKernels[B].name}[1]`);break;case"Array(3)":for(let B=0;B<this.subKernels.length;++B)te.push(`  gl_FragData[${B+1}][0] = subKernelResult_${this.subKernels[B].name}[0]`,`  gl_FragData[${B+1}][1] = subKernelResult_${this.subKernels[B].name}[1]`,`  gl_FragData[${B+1}][2] = subKernelResult_${this.subKernels[B].name}[2]`);break;case"Array(4)":for(let B=0;B<this.subKernels.length;++B)te.push(`  gl_FragData[${B+1}][0] = subKernelResult_${this.subKernels[B].name}[0]`,`  gl_FragData[${B+1}][1] = subKernelResult_${this.subKernels[B].name}[1]`,`  gl_FragData[${B+1}][2] = subKernelResult_${this.subKernels[B].name}[2]`,`  gl_FragData[${B+1}][3] = subKernelResult_${this.subKernels[B].name}[3]`);break}return te}replaceArtifacts(te,B){return te.replace(/[ ]*__([A-Z]+[0-9]*([_]?[A-Z]*[0-9]?)*)__;\n/g,(Me,De)=>{if(B.hasOwnProperty(De))return B[De];throw`unhandled artifact ${De}`})}getFragmentShader(te){return this.compiledFragmentShader!==null?this.compiledFragmentShader:this.compiledFragmentShader=this.replaceArtifacts(this.constructor.fragmentShader,this._getFragShaderArtifactMap(te))}getVertexShader(te){return this.compiledVertexShader!==null?this.compiledVertexShader:this.compiledVertexShader=this.replaceArtifacts(this.constructor.vertexShader,this._getVertShaderArtifactMap(te))}toString(){const te=R.linesToString(["const gl = context"]);return S(this.constructor,arguments,this,te)}destroy(te){if(!this.context)return;this.buffer&&this.context.deleteBuffer(this.buffer),this.framebuffer&&this.context.deleteFramebuffer(this.framebuffer);for(const Me in this.rawValueFramebuffers){for(const De in this.rawValueFramebuffers[Me])this.context.deleteFramebuffer(this.rawValueFramebuffers[Me][De]),delete this.rawValueFramebuffers[Me][De];delete this.rawValueFramebuffers[Me]}if(this.vertShader&&this.context.deleteShader(this.vertShader),this.fragShader&&this.context.deleteShader(this.fragShader),this.program&&this.context.deleteProgram(this.program),this.texture){this.texture.delete();const Me=this.textureCache.indexOf(this.texture.texture);Me>-1&&this.textureCache.splice(Me,1),this.texture=null}if(this.mappedTextures&&this.mappedTextures.length){for(let Me=0;Me<this.mappedTextures.length;Me++){const De=this.mappedTextures[Me];De.delete();const pt=this.textureCache.indexOf(De.texture);pt>-1&&this.textureCache.splice(pt,1)}this.mappedTextures=null}if(this.kernelArguments)for(let Me=0;Me<this.kernelArguments.length;Me++)this.kernelArguments[Me].destroy();if(this.kernelConstants)for(let Me=0;Me<this.kernelConstants.length;Me++)this.kernelConstants[Me].destroy();for(;this.textureCache.length>0;){const Me=this.textureCache.pop();this.context.deleteTexture(Me)}if(te){const Me=we.indexOf(this.canvas);Me>=0&&(we[Me]=null,Te[Me]=null)}if(this.destroyExtensions(),delete this.context,delete this.canvas,!this.gpu)return;const B=this.gpu.kernels.indexOf(this);B!==-1&&this.gpu.kernels.splice(B,1)}destroyExtensions(){this.extensions.OES_texture_float=null,this.extensions.OES_texture_float_linear=null,this.extensions.OES_element_index_uint=null,this.extensions.WEBGL_draw_buffers=null}static destroyContext(te){const B=te.getExtension("WEBGL_lose_context");B&&B.loseContext()}toJSON(){const te=super.toJSON();return te.functionNodes=P.fromKernel(this,z).toJSON(),te.settings.threadDim=this.threadDim,te}}m.exports={WebGLKernel:tt}},{"../../plugins/math-random-uniformly-distributed":112,"../../utils":114,"../function-builder":9,"../gl/kernel":13,"../gl/kernel-string":12,"./fragment-shader":37,"./function-node":38,"./kernel-value-maps":39,"./vertex-shader":71}],71:[function(h,m,O){const I=`__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;

attribute vec2 aPos;
attribute vec2 aTexCoord;

varying vec2 vTexCoord;
uniform vec2 ratio;

void main(void) {
  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);
  vTexCoord = aTexCoord;
}`;m.exports={vertexShader:I}},{}],72:[function(h,m,O){const I=`#version 300 es
__HEADER__;
__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;
__SAMPLER_2D_ARRAY_TACTIC_DECLARATION__;

const int LOOP_MAX = __LOOP_MAX__;

__PLUGINS__;
__CONSTANTS__;

in vec2 vTexCoord;

float atan2(float v1, float v2) {
  if (v1 == 0.0 || v2 == 0.0) return 0.0;
  return atan(v1 / v2);
}

float cbrt(float x) {
  if (x >= 0.0) {
    return pow(x, 1.0 / 3.0);
  } else {
    return -pow(x, 1.0 / 3.0);
  }
}

float expm1(float x) {
  return pow(${Math.E}, x) - 1.0; 
}

float fround(highp float x) {
  return x;
}

float imul(float v1, float v2) {
  return float(int(v1) * int(v2));
}

float log10(float x) {
  return log2(x) * (1.0 / log2(10.0));
}

float log1p(float x) {
  return log(1.0 + x);
}

float _pow(float v1, float v2) {
  if (v2 == 0.0) return 1.0;
  return pow(v1, v2);
}

float _round(float x) {
  return floor(x + 0.5);
}


const int BIT_COUNT = 32;
int modi(int x, int y) {
  return x - y * (x / y);
}

int bitwiseOr(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseXOR(int a, int b) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 || b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseAnd(int a, int b) {
  int result = 0;
  int n = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {
      result += n;
    }
    a = a / 2;
    b = b / 2;
    n = n * 2;
    if(!(a > 0 && b > 0)) {
      break;
    }
  }
  return result;
}
int bitwiseNot(int a) {
  int result = 0;
  int n = 1;
  
  for (int i = 0; i < BIT_COUNT; i++) {
    if (modi(a, 2) == 0) {
      result += n;    
    }
    a = a / 2;
    n = n * 2;
  }
  return result;
}
int bitwiseZeroFillLeftShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n *= 2;
  }

  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

int bitwiseSignedRightShift(int num, int shifts) {
  return int(floor(float(num) / pow(2.0, float(shifts))));
}

int bitwiseZeroFillRightShift(int n, int shift) {
  int maxBytes = BIT_COUNT;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (maxBytes >= n) {
      break;
    }
    maxBytes *= 2;
  }
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= shift) {
      break;
    }
    n /= 2;
  }
  int result = 0;
  int byteVal = 1;
  for (int i = 0; i < BIT_COUNT; i++) {
    if (i >= maxBytes) break;
    if (modi(n, 2) > 0) { result += byteVal; }
    n = int(n / 2);
    byteVal *= 2;
  }
  return result;
}

vec2 integerMod(vec2 x, float y) {
  vec2 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec3 integerMod(vec3 x, float y) {
  vec3 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

vec4 integerMod(vec4 x, vec4 y) {
  vec4 res = floor(mod(x, y));
  return res * step(1.0 - floor(y), -res);
}

float integerMod(float x, float y) {
  float res = floor(mod(x, y));
  return res * (res > floor(y) - 1.0 ? 0.0 : 1.0);
}

int integerMod(int x, int y) {
  return x - (y * int(x/y));
}

__DIVIDE_WITH_INTEGER_CHECK__;

// Here be dragons!
// DO NOT OPTIMIZE THIS CODE
// YOU WILL BREAK SOMETHING ON SOMEBODY'S MACHINE
// LEAVE IT AS IT IS, LEST YOU WASTE YOUR OWN TIME
const vec2 MAGIC_VEC = vec2(1.0, -256.0);
const vec4 SCALE_FACTOR = vec4(1.0, 256.0, 65536.0, 0.0);
const vec4 SCALE_FACTOR_INV = vec4(1.0, 0.00390625, 0.0000152587890625, 0.0); // 1, 1/256, 1/65536
float decode32(vec4 texel) {
  __DECODE32_ENDIANNESS__;
  texel *= 255.0;
  vec2 gte128;
  gte128.x = texel.b >= 128.0 ? 1.0 : 0.0;
  gte128.y = texel.a >= 128.0 ? 1.0 : 0.0;
  float exponent = 2.0 * texel.a - 127.0 + dot(gte128, MAGIC_VEC);
  float res = exp2(round(exponent));
  texel.b = texel.b - 128.0 * gte128.x;
  res = dot(texel, SCALE_FACTOR) * exp2(round(exponent-23.0)) + res;
  res *= gte128.y * -2.0 + 1.0;
  return res;
}

float decode16(vec4 texel, int index) {
  int channel = integerMod(index, 2);
  return texel[channel*2] * 255.0 + texel[channel*2 + 1] * 65280.0;
}

float decode8(vec4 texel, int index) {
  int channel = integerMod(index, 4);
  return texel[channel] * 255.0;
}

vec4 legacyEncode32(float f) {
  float F = abs(f);
  float sign = f < 0.0 ? 1.0 : 0.0;
  float exponent = floor(log2(F));
  float mantissa = (exp2(-exponent) * F);
  // exponent += floor(log2(mantissa));
  vec4 texel = vec4(F * exp2(23.0-exponent)) * SCALE_FACTOR_INV;
  texel.rg = integerMod(texel.rg, 256.0);
  texel.b = integerMod(texel.b, 128.0);
  texel.a = exponent*0.5 + 63.5;
  texel.ba += vec2(integerMod(exponent+127.0, 2.0), sign) * 128.0;
  texel = floor(texel);
  texel *= 0.003921569; // 1/255
  __ENCODE32_ENDIANNESS__;
  return texel;
}

// https://github.com/gpujs/gpu.js/wiki/Encoder-details
vec4 encode32(float value) {
  if (value == 0.0) return vec4(0, 0, 0, 0);

  float exponent;
  float mantissa;
  vec4  result;
  float sgn;

  sgn = step(0.0, -value);
  value = abs(value);

  exponent = floor(log2(value));

  mantissa = value*pow(2.0, -exponent)-1.0;
  exponent = exponent+127.0;
  result   = vec4(0,0,0,0);

  result.a = floor(exponent/2.0);
  exponent = exponent - result.a*2.0;
  result.a = result.a + 128.0*sgn;

  result.b = floor(mantissa * 128.0);
  mantissa = mantissa - result.b / 128.0;
  result.b = result.b + exponent*128.0;

  result.g = floor(mantissa*32768.0);
  mantissa = mantissa - result.g/32768.0;

  result.r = floor(mantissa*8388608.0);
  return result/255.0;
}
// Dragons end here

int index;
ivec3 threadId;

ivec3 indexTo3D(int idx, ivec3 texDim) {
  int z = int(idx / (texDim.x * texDim.y));
  idx -= z * int(texDim.x * texDim.y);
  int y = int(idx / texDim.x);
  int x = int(integerMod(idx, texDim.x));
  return ivec3(x, y, z);
}

float get32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize));
  return decode32(texel);
}

float get16(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int w = texSize.x * 2;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize.x * 2, texSize.y));
  return decode16(texel, index);
}

float get8(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int w = texSize.x * 4;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize.x * 4, texSize.y));
  return decode8(texel, index);
}

float getMemoryOptimized32(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + (texDim.x * (y + (texDim.y * z)));
  int channel = integerMod(index, 4);
  index = index / 4;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  index = index / 4;
  vec4 texel = texture(tex, st / vec2(texSize));
  return texel[channel];
}

vec4 getImage2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  return texture(tex, st / vec2(texSize));
}

vec4 getImage3D(sampler2DArray tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  return texture(tex, vec3(st / vec2(texSize), z));
}

float getFloatFromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return result[0];
}

vec2 getVec2FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec2(result[0], result[1]);
}

vec2 getMemoryOptimizedVec2(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 2);
  index = index / 2;
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize));
  if (channel == 0) return vec2(texel.r, texel.g);
  if (channel == 1) return vec2(texel.b, texel.a);
  return vec2(0.0, 0.0);
}

vec3 getVec3FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  vec4 result = getImage2D(tex, texSize, texDim, z, y, x);
  return vec3(result[0], result[1], result[2]);
}

vec3 getMemoryOptimizedVec3(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int fieldIndex = 3 * (x + texDim.x * (y + texDim.y * z));
  int vectorIndex = fieldIndex / 4;
  int vectorOffset = fieldIndex - vectorIndex * 4;
  int readY = vectorIndex / texSize.x;
  int readX = vectorIndex - readY * texSize.x;
  vec4 tex1 = texture(tex, (vec2(readX, readY) + 0.5) / vec2(texSize));

  if (vectorOffset == 0) {
    return tex1.xyz;
  } else if (vectorOffset == 1) {
    return tex1.yzw;
  } else {
    readX++;
    if (readX >= texSize.x) {
      readX = 0;
      readY++;
    }
    vec4 tex2 = texture(tex, vec2(readX, readY) / vec2(texSize));
    if (vectorOffset == 2) {
      return vec3(tex1.z, tex1.w, tex2.x);
    } else {
      return vec3(tex1.w, tex2.x, tex2.y);
    }
  }
}

vec4 getVec4FromSampler2D(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  return getImage2D(tex, texSize, texDim, z, y, x);
}

vec4 getMemoryOptimizedVec4(sampler2D tex, ivec2 texSize, ivec3 texDim, int z, int y, int x) {
  int index = x + texDim.x * (y + texDim.y * z);
  int channel = integerMod(index, 2);
  int w = texSize.x;
  vec2 st = vec2(float(integerMod(index, w)), float(index / w)) + 0.5;
  vec4 texel = texture(tex, st / vec2(texSize));
  return vec4(texel.r, texel.g, texel.b, texel.a);
}

vec4 actualColor;
void color(float r, float g, float b, float a) {
  actualColor = vec4(r,g,b,a);
}

void color(float r, float g, float b) {
  color(r,g,b,1.0);
}

float modulo(float number, float divisor) {
  if (number < 0.0) {
    number = abs(number);
    if (divisor < 0.0) {
      divisor = abs(divisor);
    }
    return -mod(number, divisor);
  }
  if (divisor < 0.0) {
    divisor = abs(divisor);
  }
  return mod(number, divisor);
}

__INJECTED_NATIVE__;
__MAIN_CONSTANTS__;
__MAIN_ARGUMENTS__;
__KERNEL__;

void main(void) {
  index = int(vTexCoord.s * float(uTexSize.x)) + int(vTexCoord.t * float(uTexSize.y)) * uTexSize.x;
  __MAIN_RESULT__;
}`;m.exports={fragmentShader:I}},{}],73:[function(h,m,O){const{utils:I}=h("../../utils"),{WebGLFunctionNode:P}=h("../web-gl/function-node");class z extends P{astIdentifierExpression(T,$){if(T.type!=="Identifier")throw this.astErrorOutput("IdentifierExpression - not an Identifier",T);const x=this.getType(T),S=I.sanitizeName(T.name);return T.name==="Infinity"?$.push("intBitsToFloat(2139095039)"):x==="Boolean"?this.argumentNames.indexOf(S)>-1?$.push(`bool(user_${S})`):$.push(`user_${S}`):$.push(`user_${S}`),$}}m.exports={WebGL2FunctionNode:z}},{"../../utils":114,"../web-gl/function-node":38}],74:[function(h,m,O){const{WebGL2KernelValueBoolean:I}=h("./kernel-value/boolean"),{WebGL2KernelValueFloat:P}=h("./kernel-value/float"),{WebGL2KernelValueInteger:z}=h("./kernel-value/integer"),{WebGL2KernelValueHTMLImage:R}=h("./kernel-value/html-image"),{WebGL2KernelValueDynamicHTMLImage:T}=h("./kernel-value/dynamic-html-image"),{WebGL2KernelValueHTMLImageArray:$}=h("./kernel-value/html-image-array"),{WebGL2KernelValueDynamicHTMLImageArray:x}=h("./kernel-value/dynamic-html-image-array"),{WebGL2KernelValueHTMLVideo:S}=h("./kernel-value/html-video"),{WebGL2KernelValueDynamicHTMLVideo:j}=h("./kernel-value/dynamic-html-video"),{WebGL2KernelValueSingleInput:re}=h("./kernel-value/single-input"),{WebGL2KernelValueDynamicSingleInput:Ce}=h("./kernel-value/dynamic-single-input"),{WebGL2KernelValueUnsignedInput:se}=h("./kernel-value/unsigned-input"),{WebGL2KernelValueDynamicUnsignedInput:me}=h("./kernel-value/dynamic-unsigned-input"),{WebGL2KernelValueMemoryOptimizedNumberTexture:X}=h("./kernel-value/memory-optimized-number-texture"),{WebGL2KernelValueDynamicMemoryOptimizedNumberTexture:ie}=h("./kernel-value/dynamic-memory-optimized-number-texture"),{WebGL2KernelValueNumberTexture:we}=h("./kernel-value/number-texture"),{WebGL2KernelValueDynamicNumberTexture:Te}=h("./kernel-value/dynamic-number-texture"),{WebGL2KernelValueSingleArray:tt}=h("./kernel-value/single-array"),{WebGL2KernelValueDynamicSingleArray:ft}=h("./kernel-value/dynamic-single-array"),{WebGL2KernelValueSingleArray1DI:te}=h("./kernel-value/single-array1d-i"),{WebGL2KernelValueDynamicSingleArray1DI:B}=h("./kernel-value/dynamic-single-array1d-i"),{WebGL2KernelValueSingleArray2DI:Me}=h("./kernel-value/single-array2d-i"),{WebGL2KernelValueDynamicSingleArray2DI:De}=h("./kernel-value/dynamic-single-array2d-i"),{WebGL2KernelValueSingleArray3DI:pt}=h("./kernel-value/single-array3d-i"),{WebGL2KernelValueDynamicSingleArray3DI:Je}=h("./kernel-value/dynamic-single-array3d-i"),{WebGL2KernelValueArray2:ut}=h("./kernel-value/array2"),{WebGL2KernelValueArray3:kt}=h("./kernel-value/array3"),{WebGL2KernelValueArray4:Ot}=h("./kernel-value/array4"),{WebGL2KernelValueUnsignedArray:fn}=h("./kernel-value/unsigned-array"),{WebGL2KernelValueDynamicUnsignedArray:sn}=h("./kernel-value/dynamic-unsigned-array"),Vt={unsigned:{dynamic:{Boolean:I,Integer:z,Float:P,Array:sn,"Array(2)":ut,"Array(3)":kt,"Array(4)":Ot,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:me,NumberTexture:Te,"ArrayTexture(1)":Te,"ArrayTexture(2)":Te,"ArrayTexture(3)":Te,"ArrayTexture(4)":Te,MemoryOptimizedNumberTexture:ie,HTMLCanvas:T,OffscreenCanvas:T,HTMLImage:T,ImageBitmap:T,ImageData:T,HTMLImageArray:x,HTMLVideo:j},static:{Boolean:I,Float:P,Integer:z,Array:fn,"Array(2)":ut,"Array(3)":kt,"Array(4)":Ot,"Array1D(2)":!1,"Array1D(3)":!1,"Array1D(4)":!1,"Array2D(2)":!1,"Array2D(3)":!1,"Array2D(4)":!1,"Array3D(2)":!1,"Array3D(3)":!1,"Array3D(4)":!1,Input:se,NumberTexture:we,"ArrayTexture(1)":we,"ArrayTexture(2)":we,"ArrayTexture(3)":we,"ArrayTexture(4)":we,MemoryOptimizedNumberTexture:ie,HTMLCanvas:R,OffscreenCanvas:R,HTMLImage:R,ImageBitmap:R,ImageData:R,HTMLImageArray:$,HTMLVideo:S}},single:{dynamic:{Boolean:I,Integer:z,Float:P,Array:ft,"Array(2)":ut,"Array(3)":kt,"Array(4)":Ot,"Array1D(2)":B,"Array1D(3)":B,"Array1D(4)":B,"Array2D(2)":De,"Array2D(3)":De,"Array2D(4)":De,"Array3D(2)":Je,"Array3D(3)":Je,"Array3D(4)":Je,Input:Ce,NumberTexture:Te,"ArrayTexture(1)":Te,"ArrayTexture(2)":Te,"ArrayTexture(3)":Te,"ArrayTexture(4)":Te,MemoryOptimizedNumberTexture:ie,HTMLCanvas:T,OffscreenCanvas:T,HTMLImage:T,ImageBitmap:T,ImageData:T,HTMLImageArray:x,HTMLVideo:j},static:{Boolean:I,Float:P,Integer:z,Array:tt,"Array(2)":ut,"Array(3)":kt,"Array(4)":Ot,"Array1D(2)":te,"Array1D(3)":te,"Array1D(4)":te,"Array2D(2)":Me,"Array2D(3)":Me,"Array2D(4)":Me,"Array3D(2)":pt,"Array3D(3)":pt,"Array3D(4)":pt,Input:re,NumberTexture:we,"ArrayTexture(1)":we,"ArrayTexture(2)":we,"ArrayTexture(3)":we,"ArrayTexture(4)":we,MemoryOptimizedNumberTexture:X,HTMLCanvas:R,OffscreenCanvas:R,HTMLImage:R,ImageBitmap:R,ImageData:R,HTMLImageArray:$,HTMLVideo:S}}};function hn(vn,$n,on,ln){if(!vn)throw new Error("type missing");if(!$n)throw new Error("dynamic missing");if(!on)throw new Error("precision missing");ln.type&&(vn=ln.type);const Zt=Vt[on][$n];if(Zt[vn]===!1)return null;if(Zt[vn]===void 0)throw new Error(`Could not find a KernelValue for ${vn}`);return Zt[vn]}m.exports={kernelValueMaps:Vt,lookupKernelValueType:hn}},{"./kernel-value/array2":75,"./kernel-value/array3":76,"./kernel-value/array4":77,"./kernel-value/boolean":78,"./kernel-value/dynamic-html-image":80,"./kernel-value/dynamic-html-image-array":79,"./kernel-value/dynamic-html-video":81,"./kernel-value/dynamic-memory-optimized-number-texture":82,"./kernel-value/dynamic-number-texture":83,"./kernel-value/dynamic-single-array":84,"./kernel-value/dynamic-single-array1d-i":85,"./kernel-value/dynamic-single-array2d-i":86,"./kernel-value/dynamic-single-array3d-i":87,"./kernel-value/dynamic-single-input":88,"./kernel-value/dynamic-unsigned-array":89,"./kernel-value/dynamic-unsigned-input":90,"./kernel-value/float":91,"./kernel-value/html-image":93,"./kernel-value/html-image-array":92,"./kernel-value/html-video":94,"./kernel-value/integer":95,"./kernel-value/memory-optimized-number-texture":96,"./kernel-value/number-texture":97,"./kernel-value/single-array":98,"./kernel-value/single-array1d-i":99,"./kernel-value/single-array2d-i":100,"./kernel-value/single-array3d-i":101,"./kernel-value/single-input":102,"./kernel-value/unsigned-array":103,"./kernel-value/unsigned-input":104}],75:[function(h,m,O){const{WebGLKernelValueArray2:I}=h("../../web-gl/kernel-value/array2");class P extends I{}m.exports={WebGL2KernelValueArray2:P}},{"../../web-gl/kernel-value/array2":41}],76:[function(h,m,O){const{WebGLKernelValueArray3:I}=h("../../web-gl/kernel-value/array3");class P extends I{}m.exports={WebGL2KernelValueArray3:P}},{"../../web-gl/kernel-value/array3":42}],77:[function(h,m,O){const{WebGLKernelValueArray4:I}=h("../../web-gl/kernel-value/array4");class P extends I{}m.exports={WebGL2KernelValueArray4:P}},{"../../web-gl/kernel-value/array4":43}],78:[function(h,m,O){const{WebGLKernelValueBoolean:I}=h("../../web-gl/kernel-value/boolean");class P extends I{}m.exports={WebGL2KernelValueBoolean:P}},{"../../web-gl/kernel-value/boolean":44}],79:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGL2KernelValueHTMLImageArray:P}=h("./html-image-array");class z extends P{getSource(){const T=this.getVariablePrecisionString();return I.linesToString([`uniform ${T} sampler2DArray ${this.id}`,`uniform ${T} ivec2 ${this.sizeId}`,`uniform ${T} ivec3 ${this.dimensionsId}`])}updateValue(T){const{width:$,height:x}=T[0];this.checkSize($,x),this.dimensions=[$,x,T.length],this.textureSize=[$,x],this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(T)}}m.exports={WebGL2KernelValueDynamicHTMLImageArray:z}},{"../../../utils":114,"./html-image-array":92}],80:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelValueDynamicHTMLImage:P}=h("../../web-gl/kernel-value/dynamic-html-image");class z extends P{getSource(){const T=this.getVariablePrecisionString();return I.linesToString([`uniform ${T} sampler2D ${this.id}`,`uniform ${T} ivec2 ${this.sizeId}`,`uniform ${T} ivec3 ${this.dimensionsId}`])}}m.exports={WebGL2KernelValueDynamicHTMLImage:z}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-html-image":45}],81:[function(h,m,O){h("../../../utils");const{WebGL2KernelValueDynamicHTMLImage:I}=h("./dynamic-html-image");class P extends I{}m.exports={WebGL2KernelValueDynamicHTMLVideo:P}},{"../../../utils":114,"./dynamic-html-image":80}],82:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelValueDynamicMemoryOptimizedNumberTexture:P}=h("../../web-gl/kernel-value/dynamic-memory-optimized-number-texture");class z extends P{getSource(){return I.linesToString([`uniform sampler2D ${this.id}`,`uniform ivec2 ${this.sizeId}`,`uniform ivec3 ${this.dimensionsId}`])}}m.exports={WebGL2KernelValueDynamicMemoryOptimizedNumberTexture:z}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-memory-optimized-number-texture":47}],83:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelValueDynamicNumberTexture:P}=h("../../web-gl/kernel-value/dynamic-number-texture");class z extends P{getSource(){const T=this.getVariablePrecisionString();return I.linesToString([`uniform ${T} sampler2D ${this.id}`,`uniform ${T} ivec2 ${this.sizeId}`,`uniform ${T} ivec3 ${this.dimensionsId}`])}}m.exports={WebGL2KernelValueDynamicNumberTexture:z}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-number-texture":48}],84:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGL2KernelValueSingleArray:P}=h("../../web-gl2/kernel-value/single-array");class z extends P{getSource(){const T=this.getVariablePrecisionString();return I.linesToString([`uniform ${T} sampler2D ${this.id}`,`uniform ${T} ivec2 ${this.sizeId}`,`uniform ${T} ivec3 ${this.dimensionsId}`])}updateValue(T){this.dimensions=I.getDimensions(T,!0),this.textureSize=I.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(T)}}m.exports={WebGL2KernelValueDynamicSingleArray:z}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array":98}],85:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGL2KernelValueSingleArray1DI:P}=h("../../web-gl2/kernel-value/single-array1d-i");class z extends P{getSource(){const T=this.getVariablePrecisionString();return I.linesToString([`uniform ${T} sampler2D ${this.id}`,`uniform ${T} ivec2 ${this.sizeId}`,`uniform ${T} ivec3 ${this.dimensionsId}`])}updateValue(T){this.setShape(T),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(T)}}m.exports={WebGL2KernelValueDynamicSingleArray1DI:z}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array1d-i":99}],86:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGL2KernelValueSingleArray2DI:P}=h("../../web-gl2/kernel-value/single-array2d-i");class z extends P{getSource(){const T=this.getVariablePrecisionString();return I.linesToString([`uniform ${T} sampler2D ${this.id}`,`uniform ${T} ivec2 ${this.sizeId}`,`uniform ${T} ivec3 ${this.dimensionsId}`])}updateValue(T){this.setShape(T),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(T)}}m.exports={WebGL2KernelValueDynamicSingleArray2DI:z}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array2d-i":100}],87:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGL2KernelValueSingleArray3DI:P}=h("../../web-gl2/kernel-value/single-array3d-i");class z extends P{getSource(){const T=this.getVariablePrecisionString();return I.linesToString([`uniform ${T} sampler2D ${this.id}`,`uniform ${T} ivec2 ${this.sizeId}`,`uniform ${T} ivec3 ${this.dimensionsId}`])}updateValue(T){this.setShape(T),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(T)}}m.exports={WebGL2KernelValueDynamicSingleArray3DI:z}},{"../../../utils":114,"../../web-gl2/kernel-value/single-array3d-i":101}],88:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGL2KernelValueSingleInput:P}=h("../../web-gl2/kernel-value/single-input");class z extends P{getSource(){const T=this.getVariablePrecisionString();return I.linesToString([`uniform ${T} sampler2D ${this.id}`,`uniform ${T} ivec2 ${this.sizeId}`,`uniform ${T} ivec3 ${this.dimensionsId}`])}updateValue(T){let[$,x,S]=T.size;this.dimensions=new Int32Array([$||1,x||1,S||1]),this.textureSize=I.getMemoryOptimizedFloatTextureSize(this.dimensions,this.bitRatio),this.uploadArrayLength=this.textureSize[0]*this.textureSize[1]*this.bitRatio,this.checkSize(this.textureSize[0],this.textureSize[1]),this.uploadValue=new Float32Array(this.uploadArrayLength),this.kernel.setUniform3iv(this.dimensionsId,this.dimensions),this.kernel.setUniform2iv(this.sizeId,this.textureSize),super.updateValue(T)}}m.exports={WebGL2KernelValueDynamicSingleInput:z}},{"../../../utils":114,"../../web-gl2/kernel-value/single-input":102}],89:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelValueDynamicUnsignedArray:P}=h("../../web-gl/kernel-value/dynamic-unsigned-array");class z extends P{getSource(){const T=this.getVariablePrecisionString();return I.linesToString([`uniform ${T} sampler2D ${this.id}`,`uniform ${T} ivec2 ${this.sizeId}`,`uniform ${T} ivec3 ${this.dimensionsId}`])}}m.exports={WebGL2KernelValueDynamicUnsignedArray:z}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-unsigned-array":54}],90:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelValueDynamicUnsignedInput:P}=h("../../web-gl/kernel-value/dynamic-unsigned-input");class z extends P{getSource(){const T=this.getVariablePrecisionString();return I.linesToString([`uniform ${T} sampler2D ${this.id}`,`uniform ${T} ivec2 ${this.sizeId}`,`uniform ${T} ivec3 ${this.dimensionsId}`])}}m.exports={WebGL2KernelValueDynamicUnsignedInput:z}},{"../../../utils":114,"../../web-gl/kernel-value/dynamic-unsigned-input":55}],91:[function(h,m,O){h("../../../utils");const{WebGLKernelValueFloat:I}=h("../../web-gl/kernel-value/float");class P extends I{}m.exports={WebGL2KernelValueFloat:P}},{"../../../utils":114,"../../web-gl/kernel-value/float":56}],92:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelArray:P}=h("../../web-gl/kernel-value/array");class z extends P{constructor(T,$){super(T,$),this.checkSize(T[0].width,T[0].height),this.dimensions=[T[0].width,T[0].height,T.length],this.textureSize=[T[0].width,T[0].height]}defineTexture(){const{context:T}=this;T.activeTexture(this.contextHandle),T.bindTexture(T.TEXTURE_2D_ARRAY,this.texture),T.texParameteri(T.TEXTURE_2D_ARRAY,T.TEXTURE_MAG_FILTER,T.NEAREST),T.texParameteri(T.TEXTURE_2D_ARRAY,T.TEXTURE_MIN_FILTER,T.NEAREST)}getStringValueHandler(){return`const uploadValue_${this.name} = ${this.varName};
`}getSource(){const T=this.getVariablePrecisionString();return I.linesToString([`uniform ${T} sampler2DArray ${this.id}`,`${T} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${T} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(T){const{context:$}=this;$.activeTexture(this.contextHandle),$.bindTexture($.TEXTURE_2D_ARRAY,this.texture),$.pixelStorei($.UNPACK_FLIP_Y_WEBGL,!0),$.texImage3D($.TEXTURE_2D_ARRAY,0,$.RGBA,T[0].width,T[0].height,T.length,0,$.RGBA,$.UNSIGNED_BYTE,null);for(let x=0;x<T.length;x++)$.texSubImage3D($.TEXTURE_2D_ARRAY,0,0,0,x,T[x].width,T[x].height,1,$.RGBA,$.UNSIGNED_BYTE,this.uploadValue=T[x]);this.kernel.setUniform1i(this.id,this.index)}}m.exports={WebGL2KernelValueHTMLImageArray:z}},{"../../../utils":114,"../../web-gl/kernel-value/array":40}],93:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelValueHTMLImage:P}=h("../../web-gl/kernel-value/html-image");class z extends P{getSource(){const T=this.getVariablePrecisionString();return I.linesToString([`uniform ${T} sampler2D ${this.id}`,`${T} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${T} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}m.exports={WebGL2KernelValueHTMLImage:z}},{"../../../utils":114,"../../web-gl/kernel-value/html-image":57}],94:[function(h,m,O){h("../../../utils");const{WebGL2KernelValueHTMLImage:I}=h("./html-image");class P extends I{}m.exports={WebGL2KernelValueHTMLVideo:P}},{"../../../utils":114,"./html-image":93}],95:[function(h,m,O){const{WebGLKernelValueInteger:I}=h("../../web-gl/kernel-value/integer");class P extends I{getSource(R){const T=this.getVariablePrecisionString();return this.origin==="constants"?`const ${T} int ${this.id} = ${parseInt(R)};
`:`uniform ${T} int ${this.id};
`}updateValue(R){this.origin!=="constants"&&this.kernel.setUniform1i(this.id,this.uploadValue=R)}}m.exports={WebGL2KernelValueInteger:P}},{"../../web-gl/kernel-value/integer":60}],96:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelValueMemoryOptimizedNumberTexture:P}=h("../../web-gl/kernel-value/memory-optimized-number-texture");class z extends P{getSource(){const{id:T,sizeId:$,textureSize:x,dimensionsId:S,dimensions:j}=this,re=this.getVariablePrecisionString();return I.linesToString([`uniform sampler2D ${T}`,`${re} ivec2 ${$} = ivec2(${x[0]}, ${x[1]})`,`${re} ivec3 ${S} = ivec3(${j[0]}, ${j[1]}, ${j[2]})`])}}m.exports={WebGL2KernelValueMemoryOptimizedNumberTexture:z}},{"../../../utils":114,"../../web-gl/kernel-value/memory-optimized-number-texture":61}],97:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelValueNumberTexture:P}=h("../../web-gl/kernel-value/number-texture");class z extends P{getSource(){const{id:T,sizeId:$,textureSize:x,dimensionsId:S,dimensions:j}=this,re=this.getVariablePrecisionString();return I.linesToString([`uniform ${re} sampler2D ${T}`,`${re} ivec2 ${$} = ivec2(${x[0]}, ${x[1]})`,`${re} ivec3 ${S} = ivec3(${j[0]}, ${j[1]}, ${j[2]})`])}}m.exports={WebGL2KernelValueNumberTexture:z}},{"../../../utils":114,"../../web-gl/kernel-value/number-texture":62}],98:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelValueSingleArray:P}=h("../../web-gl/kernel-value/single-array");class z extends P{getSource(){const T=this.getVariablePrecisionString();return I.linesToString([`uniform ${T} sampler2D ${this.id}`,`${T} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${T} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(T){if(T.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(T.constructor);return}const{context:$}=this;I.flattenTo(T,this.uploadValue),$.activeTexture(this.contextHandle),$.bindTexture($.TEXTURE_2D,this.texture),$.pixelStorei($.UNPACK_FLIP_Y_WEBGL,!1),$.texImage2D($.TEXTURE_2D,0,$.RGBA32F,this.textureSize[0],this.textureSize[1],0,$.RGBA,$.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}m.exports={WebGL2KernelValueSingleArray:z}},{"../../../utils":114,"../../web-gl/kernel-value/single-array":63}],99:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelValueSingleArray1DI:P}=h("../../web-gl/kernel-value/single-array1d-i");class z extends P{updateValue(T){if(T.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(T.constructor);return}const{context:$}=this;I.flattenTo(T,this.uploadValue),$.activeTexture(this.contextHandle),$.bindTexture($.TEXTURE_2D,this.texture),$.pixelStorei($.UNPACK_FLIP_Y_WEBGL,!1),$.texImage2D($.TEXTURE_2D,0,$.RGBA32F,this.textureSize[0],this.textureSize[1],0,$.RGBA,$.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}m.exports={WebGL2KernelValueSingleArray1DI:z}},{"../../../utils":114,"../../web-gl/kernel-value/single-array1d-i":64}],100:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelValueSingleArray2DI:P}=h("../../web-gl/kernel-value/single-array2d-i");class z extends P{updateValue(T){if(T.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(T.constructor);return}const{context:$}=this;I.flattenTo(T,this.uploadValue),$.activeTexture(this.contextHandle),$.bindTexture($.TEXTURE_2D,this.texture),$.pixelStorei($.UNPACK_FLIP_Y_WEBGL,!1),$.texImage2D($.TEXTURE_2D,0,$.RGBA32F,this.textureSize[0],this.textureSize[1],0,$.RGBA,$.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}m.exports={WebGL2KernelValueSingleArray2DI:z}},{"../../../utils":114,"../../web-gl/kernel-value/single-array2d-i":65}],101:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelValueSingleArray3DI:P}=h("../../web-gl/kernel-value/single-array3d-i");class z extends P{updateValue(T){if(T.constructor!==this.initialValueConstructor){this.onUpdateValueMismatch(T.constructor);return}const{context:$}=this;I.flattenTo(T,this.uploadValue),$.activeTexture(this.contextHandle),$.bindTexture($.TEXTURE_2D,this.texture),$.pixelStorei($.UNPACK_FLIP_Y_WEBGL,!1),$.texImage2D($.TEXTURE_2D,0,$.RGBA32F,this.textureSize[0],this.textureSize[1],0,$.RGBA,$.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}m.exports={WebGL2KernelValueSingleArray3DI:z}},{"../../../utils":114,"../../web-gl/kernel-value/single-array3d-i":66}],102:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelValueSingleInput:P}=h("../../web-gl/kernel-value/single-input");class z extends P{getSource(){const T=this.getVariablePrecisionString();return I.linesToString([`uniform ${T} sampler2D ${this.id}`,`${T} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${T} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}updateValue(T){const{context:$}=this;I.flattenTo(T.value,this.uploadValue),$.activeTexture(this.contextHandle),$.bindTexture($.TEXTURE_2D,this.texture),$.pixelStorei($.UNPACK_FLIP_Y_WEBGL,!1),$.texImage2D($.TEXTURE_2D,0,$.RGBA32F,this.textureSize[0],this.textureSize[1],0,$.RGBA,$.FLOAT,this.uploadValue),this.kernel.setUniform1i(this.id,this.index)}}m.exports={WebGL2KernelValueSingleInput:z}},{"../../../utils":114,"../../web-gl/kernel-value/single-input":67}],103:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelValueUnsignedArray:P}=h("../../web-gl/kernel-value/unsigned-array");class z extends P{getSource(){const T=this.getVariablePrecisionString();return I.linesToString([`uniform ${T} sampler2D ${this.id}`,`${T} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${T} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}m.exports={WebGL2KernelValueUnsignedArray:z}},{"../../../utils":114,"../../web-gl/kernel-value/unsigned-array":68}],104:[function(h,m,O){const{utils:I}=h("../../../utils"),{WebGLKernelValueUnsignedInput:P}=h("../../web-gl/kernel-value/unsigned-input");class z extends P{getSource(){const T=this.getVariablePrecisionString();return I.linesToString([`uniform ${T} sampler2D ${this.id}`,`${T} ivec2 ${this.sizeId} = ivec2(${this.textureSize[0]}, ${this.textureSize[1]})`,`${T} ivec3 ${this.dimensionsId} = ivec3(${this.dimensions[0]}, ${this.dimensions[1]}, ${this.dimensions[2]})`])}}m.exports={WebGL2KernelValueUnsignedInput:z}},{"../../../utils":114,"../../web-gl/kernel-value/unsigned-input":69}],105:[function(h,m,O){const{WebGLKernel:I}=h("../web-gl/kernel"),{WebGL2FunctionNode:P}=h("./function-node"),{FunctionBuilder:z}=h("../function-builder"),{utils:R}=h("../../utils"),{fragmentShader:T}=h("./fragment-shader"),{vertexShader:$}=h("./vertex-shader"),{lookupKernelValueType:x}=h("./kernel-value-maps");let S=null,j=null,re=null,Ce=null;class se extends I{static get isSupported(){return S!==null||(this.setupFeatureChecks(),S=this.isContextMatch(re)),S}static setupFeatureChecks(){typeof document<"u"?j=document.createElement("canvas"):typeof OffscreenCanvas<"u"&&(j=new OffscreenCanvas(0,0)),j&&(re=j.getContext("webgl2"),!(!re||!re.getExtension)&&(re.getExtension("EXT_color_buffer_float"),re.getExtension("OES_texture_float_linear"),Ce=this.getFeatures()))}static isContextMatch(X){return typeof WebGL2RenderingContext<"u"?X instanceof WebGL2RenderingContext:!1}static getFeatures(){const X=this.testContext;return Object.freeze({isFloatRead:this.getIsFloatRead(),isIntegerDivisionAccurate:this.getIsIntegerDivisionAccurate(),isSpeedTacticSupported:this.getIsSpeedTacticSupported(),kernelMap:!0,isTextureFloat:!0,isDrawBuffers:!0,channelCount:this.getChannelCount(),maxTextureSize:this.getMaxTextureSize(),lowIntPrecision:X.getShaderPrecisionFormat(X.FRAGMENT_SHADER,X.LOW_INT),lowFloatPrecision:X.getShaderPrecisionFormat(X.FRAGMENT_SHADER,X.LOW_FLOAT),mediumIntPrecision:X.getShaderPrecisionFormat(X.FRAGMENT_SHADER,X.MEDIUM_INT),mediumFloatPrecision:X.getShaderPrecisionFormat(X.FRAGMENT_SHADER,X.MEDIUM_FLOAT),highIntPrecision:X.getShaderPrecisionFormat(X.FRAGMENT_SHADER,X.HIGH_INT),highFloatPrecision:X.getShaderPrecisionFormat(X.FRAGMENT_SHADER,X.HIGH_FLOAT)})}static getIsTextureFloat(){return!0}static getChannelCount(){return re.getParameter(re.MAX_DRAW_BUFFERS)}static getMaxTextureSize(){return re.getParameter(re.MAX_TEXTURE_SIZE)}static lookupKernelValueType(X,ie,we,Te){return x(X,ie,we,Te)}static get testCanvas(){return j}static get testContext(){return re}static get features(){return Ce}static get fragmentShader(){return T}static get vertexShader(){return $}initContext(){const X={alpha:!1,depth:!1,antialias:!1};return this.canvas.getContext("webgl2",X)}initExtensions(){this.extensions={EXT_color_buffer_float:this.context.getExtension("EXT_color_buffer_float"),OES_texture_float_linear:this.context.getExtension("OES_texture_float_linear")}}validateSettings(X){if(!this.validate){this.texSize=R.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output);return}const{features:ie}=this.constructor;if(this.precision==="single"&&!ie.isFloatRead)throw new Error("Float texture outputs are not supported");if(!this.graphical&&this.precision===null&&(this.precision=ie.isFloatRead?"single":"unsigned"),this.fixIntegerDivisionAccuracy===null?this.fixIntegerDivisionAccuracy=!ie.isIntegerDivisionAccurate:this.fixIntegerDivisionAccuracy&&ie.isIntegerDivisionAccurate&&(this.fixIntegerDivisionAccuracy=!1),this.checkOutput(),!this.output||this.output.length===0){if(X.length!==1)throw new Error("Auto output only supported for kernels with only one input");const we=R.getVariableType(X[0],this.strictIntegers);switch(we){case"Array":this.output=R.getDimensions(we);break;case"NumberTexture":case"MemoryOptimizedNumberTexture":case"ArrayTexture(1)":case"ArrayTexture(2)":case"ArrayTexture(3)":case"ArrayTexture(4)":this.output=X[0].output;break;default:throw new Error("Auto output not supported for input type: "+we)}}if(this.graphical){if(this.output.length!==2)throw new Error("Output must have 2 dimensions on graphical mode");this.precision==="single"&&(console.warn("Cannot use graphical mode and single precision at the same time"),this.precision="unsigned"),this.texSize=R.clone(this.output);return}else!this.graphical&&this.precision===null&&ie.isTextureFloat&&(this.precision="single");this.texSize=R.getKernelTextureSize({optimizeFloatMemory:this.optimizeFloatMemory,precision:this.precision},this.output),this.checkTextureSize()}translateSource(){const X=z.fromKernel(this,P,{fixIntegerDivisionAccuracy:this.fixIntegerDivisionAccuracy});this.translatedSource=X.getPrototypeString("kernel"),this.setupReturnTypes(X)}drawBuffers(){this.context.drawBuffers(this.drawBuffersMap)}getTextureFormat(){const{context:X}=this;switch(this.getInternalFormat()){case X.R32F:return X.RED;case X.RG32F:return X.RG;case X.RGBA32F:return X.RGBA;case X.RGBA:return X.RGBA;default:throw new Error("Unknown internal format")}}getInternalFormat(){const{context:X}=this;if(this.precision==="single"){if(this.pipeline)switch(this.returnType){case"Number":case"Float":case"Integer":return this.optimizeFloatMemory?X.RGBA32F:X.R32F;case"Array(2)":return X.RG32F;case"Array(3)":case"Array(4)":return X.RGBA32F;default:throw new Error("Unhandled return type")}return X.RGBA32F}return X.RGBA}_setupOutputTexture(){const X=this.context;if(this.texture){X.framebufferTexture2D(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_2D,this.texture.texture,0);return}X.bindFramebuffer(X.FRAMEBUFFER,this.framebuffer);const ie=X.createTexture(),we=this.texSize;X.activeTexture(X.TEXTURE0+this.constantTextureCount+this.argumentTextureCount),X.bindTexture(X.TEXTURE_2D,ie),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_WRAP_S,X.REPEAT),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_WRAP_T,X.REPEAT),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MIN_FILTER,X.NEAREST),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MAG_FILTER,X.NEAREST);const Te=this.getInternalFormat();this.precision==="single"?X.texStorage2D(X.TEXTURE_2D,1,Te,we[0],we[1]):X.texImage2D(X.TEXTURE_2D,0,Te,we[0],we[1],0,Te,X.UNSIGNED_BYTE,null),X.framebufferTexture2D(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_2D,ie,0),this.texture=new this.TextureConstructor({texture:ie,size:we,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this})}_setupSubOutputTextures(){const X=this.context;if(this.mappedTextures){for(let we=0;we<this.subKernels.length;we++)X.framebufferTexture2D(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0+we+1,X.TEXTURE_2D,this.mappedTextures[we].texture,0);return}const ie=this.texSize;this.drawBuffersMap=[X.COLOR_ATTACHMENT0],this.mappedTextures=[];for(let we=0;we<this.subKernels.length;we++){const Te=this.createTexture();this.drawBuffersMap.push(X.COLOR_ATTACHMENT0+we+1),X.activeTexture(X.TEXTURE0+this.constantTextureCount+this.argumentTextureCount+we),X.bindTexture(X.TEXTURE_2D,Te),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_WRAP_S,X.CLAMP_TO_EDGE),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_WRAP_T,X.CLAMP_TO_EDGE),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MIN_FILTER,X.NEAREST),X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MAG_FILTER,X.NEAREST);const tt=this.getInternalFormat();this.precision==="single"?X.texStorage2D(X.TEXTURE_2D,1,tt,ie[0],ie[1]):X.texImage2D(X.TEXTURE_2D,0,X.RGBA,ie[0],ie[1],0,X.RGBA,X.UNSIGNED_BYTE,null),X.framebufferTexture2D(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0+we+1,X.TEXTURE_2D,Te,0),this.mappedTextures.push(new this.TextureConstructor({texture:Te,size:ie,dimensions:this.threadDim,output:this.output,context:this.context,internalFormat:this.getInternalFormat(),textureFormat:this.getTextureFormat(),kernel:this}))}}_getHeaderString(){return""}_getTextureCoordinate(){const X=this.subKernels,ie=this.getVariablePrecisionString(this.texSize,this.tactic);return X===null||X.length<1?`in ${ie} vec2 vTexCoord;
`:`out ${ie} vec2 vTexCoord;
`}_getMainArgumentsString(X){const ie=[],we=this.argumentNames;for(let Te=0;Te<we.length;Te++)ie.push(this.kernelArguments[Te].getSource(X[Te]));return ie.join("")}getKernelString(){const X=[this.getKernelResultDeclaration()],ie=this.subKernels;if(ie!==null)switch(X.push("layout(location = 0) out vec4 data0"),this.returnType){case"Number":case"Float":case"Integer":for(let we=0;we<ie.length;we++){const Te=ie[we];X.push(Te.returnType==="Integer"?`int subKernelResult_${Te.name} = 0`:`float subKernelResult_${Te.name} = 0.0`,`layout(location = ${we+1}) out vec4 data${we+1}`)}break;case"Array(2)":for(let we=0;we<ie.length;we++)X.push(`vec2 subKernelResult_${ie[we].name}`,`layout(location = ${we+1}) out vec4 data${we+1}`);break;case"Array(3)":for(let we=0;we<ie.length;we++)X.push(`vec3 subKernelResult_${ie[we].name}`,`layout(location = ${we+1}) out vec4 data${we+1}`);break;case"Array(4)":for(let we=0;we<ie.length;we++)X.push(`vec4 subKernelResult_${ie[we].name}`,`layout(location = ${we+1}) out vec4 data${we+1}`);break}else X.push("out vec4 data0");return R.linesToString(X)+this.translatedSource}getMainResultGraphical(){return R.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = actualColor"])}getMainResultPackedPixels(){switch(this.returnType){case"LiteralInteger":case"Number":case"Integer":case"Float":return this.getMainResultKernelPackedPixels()+this.getMainResultSubKernelPackedPixels();default:throw new Error(`packed output only usable with Numbers, "${this.returnType}" specified`)}}getMainResultKernelPackedPixels(){return R.linesToString(["  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  data0 = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(kernelResult)`])}getMainResultSubKernelPackedPixels(){const X=[];if(!this.subKernels)return"";for(let ie=0;ie<this.subKernels.length;ie++)this.subKernels[ie].returnType==="Integer"?X.push(`  data${ie+1} = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(float(subKernelResult_${this.subKernels[ie].name}))`):X.push(`  data${ie+1} = ${this.useLegacyEncoder?"legacyEncode32":"encode32"}(subKernelResult_${this.subKernels[ie].name})`);return R.linesToString(X)}getMainResultKernelMemoryOptimizedFloats(X,ie){X.push("  threadId = indexTo3D(index, uOutputDim)","  kernel()",`  data0.${ie} = kernelResult`)}getMainResultSubKernelMemoryOptimizedFloats(X,ie){if(!this.subKernels)return X;for(let we=0;we<this.subKernels.length;we++){const Te=this.subKernels[we];Te.returnType==="Integer"?X.push(`  data${we+1}.${ie} = float(subKernelResult_${Te.name})`):X.push(`  data${we+1}.${ie} = subKernelResult_${Te.name}`)}}getMainResultKernelNumberTexture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult"]}getMainResultSubKernelNumberTexture(){const X=[];if(!this.subKernels)return X;for(let ie=0;ie<this.subKernels.length;++ie){const we=this.subKernels[ie];we.returnType==="Integer"?X.push(`  data${ie+1}[0] = float(subKernelResult_${we.name})`):X.push(`  data${ie+1}[0] = subKernelResult_${we.name}`)}return X}getMainResultKernelArray2Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult[0]","  data0[1] = kernelResult[1]"]}getMainResultSubKernelArray2Texture(){const X=[];if(!this.subKernels)return X;for(let ie=0;ie<this.subKernels.length;++ie){const we=this.subKernels[ie];X.push(`  data${ie+1}[0] = subKernelResult_${we.name}[0]`,`  data${ie+1}[1] = subKernelResult_${we.name}[1]`)}return X}getMainResultKernelArray3Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0[0] = kernelResult[0]","  data0[1] = kernelResult[1]","  data0[2] = kernelResult[2]"]}getMainResultSubKernelArray3Texture(){const X=[];if(!this.subKernels)return X;for(let ie=0;ie<this.subKernels.length;++ie){const we=this.subKernels[ie];X.push(`  data${ie+1}[0] = subKernelResult_${we.name}[0]`,`  data${ie+1}[1] = subKernelResult_${we.name}[1]`,`  data${ie+1}[2] = subKernelResult_${we.name}[2]`)}return X}getMainResultKernelArray4Texture(){return["  threadId = indexTo3D(index, uOutputDim)","  kernel()","  data0 = kernelResult"]}getMainResultSubKernelArray4Texture(){const X=[];if(!this.subKernels)return X;for(let ie=0;ie<this.subKernels.length;++ie)X.push(`  data${ie+1} = subKernelResult_${this.subKernels[ie].name}`);return X}destroyExtensions(){this.extensions.EXT_color_buffer_float=null,this.extensions.OES_texture_float_linear=null}toJSON(){const X=super.toJSON();return X.functionNodes=z.fromKernel(this,P).toJSON(),X.settings.threadDim=this.threadDim,X}}m.exports={WebGL2Kernel:se}},{"../../utils":114,"../function-builder":9,"../web-gl/kernel":70,"./fragment-shader":72,"./function-node":73,"./kernel-value-maps":74,"./vertex-shader":106}],106:[function(h,m,O){const I=`#version 300 es
__FLOAT_TACTIC_DECLARATION__;
__INT_TACTIC_DECLARATION__;
__SAMPLER_2D_TACTIC_DECLARATION__;

in vec2 aPos;
in vec2 aTexCoord;

out vec2 vTexCoord;
uniform vec2 ratio;

void main(void) {
  gl_Position = vec4((aPos + vec2(1)) * ratio + vec2(-1), 0, 1);
  vTexCoord = aTexCoord;
}`;m.exports={vertexShader:I}},{}],107:[function(h,m,O){const I=h("./index"),P=I.GPU;for(const R in I)I.hasOwnProperty(R)&&R!=="GPU"&&(P[R]=I[R]);typeof window<"u"&&z(window),typeof self<"u"&&z(self);function z(R){R.GPU||Object.defineProperty(R,"GPU",{get(){return P}})}m.exports=I},{"./index":109}],108:[function(h,m,O){const{gpuMock:I}=h("gpu-mock.js"),{utils:P}=h("./utils");h("./backend/kernel");const{CPUKernel:z}=h("./backend/cpu/kernel"),{HeadlessGLKernel:R}=h("./backend/headless-gl/kernel"),{WebGL2Kernel:T}=h("./backend/web-gl2/kernel"),{WebGLKernel:$}=h("./backend/web-gl/kernel"),{kernelRunShortcut:x}=h("./kernel-run-shortcut"),S=[R,T,$],j=["gpu","cpu"],re={headlessgl:R,webgl2:T,webgl:$};let Ce=!0;class se{static disableValidation(){Ce=!1}static enableValidation(){Ce=!0}static get isGPUSupported(){return S.some(ie=>ie.isSupported)}static get isKernelMapSupported(){return S.some(ie=>ie.isSupported&&ie.features.kernelMap)}static get isOffscreenCanvasSupported(){return typeof Worker<"u"&&typeof OffscreenCanvas<"u"||typeof importScripts<"u"}static get isWebGLSupported(){return $.isSupported}static get isWebGL2Supported(){return T.isSupported}static get isHeadlessGLSupported(){return R.isSupported}static get isCanvasSupported(){return typeof HTMLCanvasElement<"u"}static get isGPUHTMLImageArraySupported(){return T.isSupported}static get isSinglePrecisionSupported(){return S.some(ie=>ie.isSupported&&ie.features.isFloatRead&&ie.features.isTextureFloat)}constructor(ie){if(ie=ie||{},this.canvas=ie.canvas||null,this.context=ie.context||null,this.mode=ie.mode,this.Kernel=null,this.kernels=[],this.functions=[],this.nativeFunctions=[],this.injectedNative=null,this.mode!=="dev"){if(this.chooseKernel(),ie.functions)for(let we=0;we<ie.functions.length;we++)this.addFunction(ie.functions[we]);if(ie.nativeFunctions)for(const we in ie.nativeFunctions){if(!ie.nativeFunctions.hasOwnProperty(we))continue;const Te=ie.nativeFunctions[we],{name:tt,source:ft}=Te;this.addNativeFunction(tt,ft,Te)}}}chooseKernel(){if(this.Kernel)return;let ie=null;if(this.context){for(let we=0;we<S.length;we++){const Te=S[we];if(Te.isContextMatch(this.context)){if(!Te.isSupported)throw new Error(`Kernel type ${Te.name} not supported`);ie=Te;break}}if(ie===null)throw new Error("unknown Context")}else if(this.mode){if(this.mode in re)(!Ce||re[this.mode].isSupported)&&(ie=re[this.mode]);else if(this.mode==="gpu"){for(let we=0;we<S.length;we++)if(S[we].isSupported){ie=S[we];break}}else this.mode==="cpu"&&(ie=z);if(!ie)throw new Error(`A requested mode of "${this.mode}" and is not supported`)}else{for(let we=0;we<S.length;we++)if(S[we].isSupported){ie=S[we];break}ie||(ie=z)}this.mode||(this.mode=ie.mode),this.Kernel=ie}createKernel(ie,we){if(typeof ie>"u")throw new Error("Missing source parameter");if(typeof ie!="object"&&!P.isFunction(ie)&&typeof ie!="string")throw new Error("source parameter not a function");const Te=this.kernels;if(this.mode==="dev"){const Je=I(ie,me(we));return Te.push(Je),Je}ie=typeof ie=="function"?ie.toString():ie;const tt={},ft=me(we)||{};we&&typeof we.argumentTypes=="object"&&(ft.argumentTypes=Object.keys(we.argumentTypes).map(Je=>we.argumentTypes[Je]));function te(Je){console.warn("Falling back to CPU");const ut=new z(ie,{argumentTypes:pt.argumentTypes,constantTypes:pt.constantTypes,graphical:pt.graphical,loopMaxIterations:pt.loopMaxIterations,constants:pt.constants,dynamicOutput:pt.dynamicOutput,dynamicArgument:pt.dynamicArguments,output:pt.output,precision:pt.precision,pipeline:pt.pipeline,immutable:pt.immutable,optimizeFloatMemory:pt.optimizeFloatMemory,fixIntegerDivisionAccuracy:pt.fixIntegerDivisionAccuracy,functions:pt.functions,nativeFunctions:pt.nativeFunctions,injectedNative:pt.injectedNative,subKernels:pt.subKernels,strictIntegers:pt.strictIntegers,debug:pt.debug});ut.build.apply(ut,Je);const kt=ut.run.apply(ut,Je);return pt.replaceKernel(ut),kt}function B(Je,ut,kt){kt.debug&&console.warn("Switching kernels");let Ot=null;if(kt.signature&&!tt[kt.signature]&&(tt[kt.signature]=kt),kt.dynamicOutput)for(let $n=Je.length-1;$n>=0;$n--){const on=Je[$n];on.type==="outputPrecisionMismatch"&&(Ot=on.needed)}const fn=kt.constructor,sn=fn.getArgumentTypes(kt,ut),Vt=fn.getSignature(kt,sn),hn=tt[Vt];if(hn)return hn.onActivate(kt),hn;const vn=tt[Vt]=new fn(ie,{argumentTypes:sn,constantTypes:kt.constantTypes,graphical:kt.graphical,loopMaxIterations:kt.loopMaxIterations,constants:kt.constants,dynamicOutput:kt.dynamicOutput,dynamicArgument:kt.dynamicArguments,context:kt.context,canvas:kt.canvas,output:Ot||kt.output,precision:kt.precision,pipeline:kt.pipeline,immutable:kt.immutable,optimizeFloatMemory:kt.optimizeFloatMemory,fixIntegerDivisionAccuracy:kt.fixIntegerDivisionAccuracy,functions:kt.functions,nativeFunctions:kt.nativeFunctions,injectedNative:kt.injectedNative,subKernels:kt.subKernels,strictIntegers:kt.strictIntegers,debug:kt.debug,gpu:kt.gpu,validate:Ce,returnType:kt.returnType,tactic:kt.tactic,onRequestFallback:te,onRequestSwitchKernel:B,texture:kt.texture,mappedTextures:kt.mappedTextures,drawBuffersMap:kt.drawBuffersMap});return vn.build.apply(vn,ut),pt.replaceKernel(vn),Te.push(vn),vn}const Me=Object.assign({context:this.context,canvas:this.canvas,functions:this.functions,nativeFunctions:this.nativeFunctions,injectedNative:this.injectedNative,gpu:this,validate:Ce,onRequestFallback:te,onRequestSwitchKernel:B},ft),De=new this.Kernel(ie,Me),pt=x(De);return this.canvas||(this.canvas=De.canvas),this.context||(this.context=De.context),Te.push(De),pt}createKernelMap(){let ie,we;const Te=typeof arguments[arguments.length-2];if(Te==="function"||Te==="string"?(ie=arguments[arguments.length-2],we=arguments[arguments.length-1]):ie=arguments[arguments.length-1],this.mode!=="dev"&&(!this.Kernel.isSupported||!this.Kernel.features.kernelMap)&&this.mode&&j.indexOf(this.mode)<0)throw new Error(`kernelMap not supported on ${this.Kernel.name}`);const tt=me(we);if(we&&typeof we.argumentTypes=="object"&&(tt.argumentTypes=Object.keys(we.argumentTypes).map(ft=>we.argumentTypes[ft])),Array.isArray(arguments[0])){tt.subKernels=[];const ft=arguments[0];for(let te=0;te<ft.length;te++){const B=ft[te].toString(),Me=P.getFunctionNameFromString(B);tt.subKernels.push({name:Me,source:B,property:te})}}else{tt.subKernels=[];const ft=arguments[0];for(let te in ft){if(!ft.hasOwnProperty(te))continue;const B=ft[te].toString(),Me=P.getFunctionNameFromString(B);tt.subKernels.push({name:Me||te,source:B,property:te})}}return this.createKernel(ie,tt)}combineKernels(){const ie=arguments[0],we=arguments[arguments.length-1];if(ie.kernel.constructor.mode==="cpu")return we;const Te=arguments[0].canvas,tt=arguments[0].context,ft=arguments.length-1;for(let te=0;te<ft;te++)arguments[te].setCanvas(Te).setContext(tt).setPipeline(!0);return function(){const te=we.apply(this,arguments);return te.toArray?te.toArray():te}}setFunctions(ie){return this.functions=ie,this}setNativeFunctions(ie){return this.nativeFunctions=ie,this}addFunction(ie,we){return this.functions.push({source:ie,settings:we}),this}addNativeFunction(ie,we,Te){if(this.kernels.length>0)throw new Error('Cannot call "addNativeFunction" after "createKernels" has been called.');return this.nativeFunctions.push(Object.assign({name:ie,source:we},Te)),this}injectNative(ie){return this.injectedNative=ie,this}destroy(){return new Promise((ie,we)=>{this.kernels||ie(),setTimeout(()=>{try{for(let tt=0;tt<this.kernels.length;tt++)this.kernels[tt].destroy(!0);let Te=this.kernels[0];Te&&(Te.kernel&&(Te=Te.kernel),Te.constructor.destroyContext&&Te.constructor.destroyContext(this.context))}catch(Te){we(Te)}ie()},0)})}}function me(X){if(!X)return{};const ie=Object.assign({},X);return X.hasOwnProperty("floatOutput")&&(P.warnDeprecated("setting","floatOutput","precision"),ie.precision=X.floatOutput?"single":"unsigned"),X.hasOwnProperty("outputToTexture")&&(P.warnDeprecated("setting","outputToTexture","pipeline"),ie.pipeline=!!X.outputToTexture),X.hasOwnProperty("outputImmutable")&&(P.warnDeprecated("setting","outputImmutable","immutable"),ie.immutable=!!X.outputImmutable),X.hasOwnProperty("floatTextures")&&(P.warnDeprecated("setting","floatTextures","optimizeFloatMemory"),ie.optimizeFloatMemory=!!X.floatTextures),ie}m.exports={GPU:se,kernelOrder:S,kernelTypes:j}},{"./backend/cpu/kernel":8,"./backend/headless-gl/kernel":34,"./backend/kernel":36,"./backend/web-gl/kernel":70,"./backend/web-gl2/kernel":105,"./kernel-run-shortcut":111,"./utils":114,"gpu-mock.js":4}],109:[function(h,m,O){const{GPU:I}=h("./gpu"),{alias:P}=h("./alias"),{utils:z}=h("./utils"),{Input:R,input:T}=h("./input"),{Texture:$}=h("./texture"),{FunctionBuilder:x}=h("./backend/function-builder"),{FunctionNode:S}=h("./backend/function-node"),{CPUFunctionNode:j}=h("./backend/cpu/function-node"),{CPUKernel:re}=h("./backend/cpu/kernel"),{HeadlessGLKernel:Ce}=h("./backend/headless-gl/kernel"),{WebGLFunctionNode:se}=h("./backend/web-gl/function-node"),{WebGLKernel:me}=h("./backend/web-gl/kernel"),{kernelValueMaps:X}=h("./backend/web-gl/kernel-value-maps"),{WebGL2FunctionNode:ie}=h("./backend/web-gl2/function-node"),{WebGL2Kernel:we}=h("./backend/web-gl2/kernel"),{kernelValueMaps:Te}=h("./backend/web-gl2/kernel-value-maps"),{GLKernel:tt}=h("./backend/gl/kernel"),{Kernel:ft}=h("./backend/kernel"),{FunctionTracer:te}=h("./backend/function-tracer"),B=h("./plugins/math-random-uniformly-distributed");m.exports={alias:P,CPUFunctionNode:j,CPUKernel:re,GPU:I,FunctionBuilder:x,FunctionNode:S,HeadlessGLKernel:Ce,Input:R,input:T,Texture:$,utils:z,WebGL2FunctionNode:ie,WebGL2Kernel:we,webGL2KernelValueMaps:Te,WebGLFunctionNode:se,WebGLKernel:me,webGLKernelValueMaps:X,GLKernel:tt,Kernel:ft,FunctionTracer:te,plugins:{mathRandom:B}}},{"./alias":5,"./backend/cpu/function-node":6,"./backend/cpu/kernel":8,"./backend/function-builder":9,"./backend/function-node":10,"./backend/function-tracer":11,"./backend/gl/kernel":13,"./backend/headless-gl/kernel":34,"./backend/kernel":36,"./backend/web-gl/function-node":38,"./backend/web-gl/kernel":70,"./backend/web-gl/kernel-value-maps":39,"./backend/web-gl2/function-node":73,"./backend/web-gl2/kernel":105,"./backend/web-gl2/kernel-value-maps":74,"./gpu":108,"./input":110,"./plugins/math-random-uniformly-distributed":112,"./texture":113,"./utils":114}],110:[function(h,m,O){class I{constructor(R,T){this.value=R,Array.isArray(T)?this.size=T:(this.size=new Int32Array(3),T.z?this.size=new Int32Array([T.x,T.y,T.z]):T.y?this.size=new Int32Array([T.x,T.y]):this.size=new Int32Array([T.x]));const[$,x,S]=this.size;if(S){if(this.value.length!==$*x*S)throw new Error(`Input size ${this.value.length} does not match ${$} * ${x} * ${S} = ${x*$*S}`)}else if(x){if(this.value.length!==$*x)throw new Error(`Input size ${this.value.length} does not match ${$} * ${x} = ${x*$}`)}else if(this.value.length!==$)throw new Error(`Input size ${this.value.length} does not match ${$}`)}toArray(){const{utils:R}=h("./utils"),[T,$,x]=this.size;return x?R.erectMemoryOptimized3DFloat(this.value.subarray?this.value:new Float32Array(this.value),T,$,x):$?R.erectMemoryOptimized2DFloat(this.value.subarray?this.value:new Float32Array(this.value),T,$):this.value}}function P(z,R){return new I(z,R)}m.exports={Input:I,input:P}},{"./utils":114}],111:[function(h,m,O){const{utils:I}=h("./utils");function P(R){let T=function(){return R.build.apply(R,arguments),T=function(){let x=R.run.apply(R,arguments);if(R.switchingKernels){const S=R.resetSwitchingKernels(),j=R.onRequestSwitchKernel(S,arguments,R);$.kernel=R=j,x=j.run.apply(j,arguments)}return R.renderKernels?R.renderKernels():R.renderOutput?R.renderOutput():x},T.apply(R,arguments)};const $=function(){return T.apply(R,arguments)};return $.exec=function(){return new Promise((x,S)=>{try{x(T.apply(this,arguments))}catch(j){S(j)}})},$.replaceKernel=function(x){R=x,z(R,$)},z(R,$),$}function z(R,T){if(T.kernel){T.kernel=R;return}const $=I.allPropertiesOf(R);for(let x=0;x<$.length;x++){const S=$[x];S[0]==="_"&&S[1]==="_"||(typeof R[S]=="function"?S.substring(0,3)==="add"||S.substring(0,3)==="set"?T[S]=function(){return T.kernel[S].apply(T.kernel,arguments),T}:T[S]=function(){return T.kernel[S].apply(T.kernel,arguments)}:(T.__defineGetter__(S,()=>T.kernel[S]),T.__defineSetter__(S,j=>{T.kernel[S]=j})))}T.kernel=R}m.exports={kernelRunShortcut:P}},{"./utils":114}],112:[function(h,m,O){const x={name:"math-random-uniformly-distributed",onBeforeRun:S=>{S.setUniform1f("randomSeed1",Math.random()),S.setUniform1f("randomSeed2",Math.random())},functionMatch:"Math.random()",functionReplace:"nrand(vTexCoord)",functionReturnType:"Number",source:`// https://www.shadertoy.com/view/4t2SDh
//note: uniformly distributed, normalized rand, [0,1]
highp float randomSeedShift = 1.0;
highp float slide = 1.0;
uniform highp float randomSeed1;
uniform highp float randomSeed2;

highp float nrand(highp vec2 n) {
  highp float result = fract(sin(dot((n.xy + 1.0) * vec2(randomSeed1 * slide, randomSeed2 * randomSeedShift), vec2(12.9898, 78.233))) * 43758.5453);
  randomSeedShift = result;
  if (randomSeedShift > 0.5) {
    slide += 0.00009; 
  } else {
    slide += 0.0009;
  }
  return result;
}`};m.exports=x},{}],113:[function(h,m,O){class I{constructor(z){const{texture:R,size:T,dimensions:$,output:x,context:S,type:j="NumberTexture",kernel:re,internalFormat:Ce,textureFormat:se}=z;if(!x)throw new Error('settings property "output" required.');if(!S)throw new Error('settings property "context" required.');if(!R)throw new Error('settings property "texture" required.');if(!re)throw new Error('settings property "kernel" required.');this.texture=R,R._refs?R._refs++:R._refs=1,this.size=T,this.dimensions=$,this.output=x,this.context=S,this.kernel=re,this.type=j,this._deleted=!1,this.internalFormat=Ce,this.textureFormat=se}toArray(){throw new Error(`Not implemented on ${this.constructor.name}`)}clone(){throw new Error(`Not implemented on ${this.constructor.name}`)}delete(){throw new Error(`Not implemented on ${this.constructor.name}`)}clear(){throw new Error(`Not implemented on ${this.constructor.name}`)}}m.exports={Texture:I}},{}],114:[function(h,m,O){const I=h("acorn"),{Input:P}=h("./input"),{Texture:z}=h("./texture"),R=/function ([^(]*)/,T=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,$=/([^\s,]+)/g,x={systemEndianness(){return Ce},getSystemEndianness(){const se=new ArrayBuffer(4),me=new Uint32Array(se),X=new Uint8Array(se);if(me[0]=3735928559,X[0]===239)return"LE";if(X[0]===222)return"BE";throw new Error("unknown endianness")},isFunction(se){return typeof se=="function"},isFunctionString(se){return typeof se=="string"?se.slice(0,8).toLowerCase()==="function":!1},getFunctionNameFromString(se){const me=R.exec(se);return!me||me.length===0?null:me[1].trim()},getFunctionBodyFromString(se){return se.substring(se.indexOf("{")+1,se.lastIndexOf("}"))},getArgumentNamesFromString(se){const me=se.replace(T,"");let X=me.slice(me.indexOf("(")+1,me.indexOf(")")).match($);return X===null&&(X=[]),X},clone(se){if(se===null||typeof se!="object"||se.hasOwnProperty("isActiveClone"))return se;const me=se.constructor();for(let X in se)Object.prototype.hasOwnProperty.call(se,X)&&(se.isActiveClone=null,me[X]=x.clone(se[X]),delete se.isActiveClone);return me},isArray(se){return!isNaN(se.length)},getVariableType(se,me){if(x.isArray(se))return se.length>0&&se[0].nodeName==="IMG"?"HTMLImageArray":"Array";switch(se.constructor){case Boolean:return"Boolean";case Number:return me&&Number.isInteger(se)?"Integer":"Float";case z:return se.type;case P:return"Input"}if("nodeName"in se)switch(se.nodeName){case"IMG":return"HTMLImage";case"CANVAS":return"HTMLImage";case"VIDEO":return"HTMLVideo"}else{if(se.hasOwnProperty("type"))return se.type;if(typeof OffscreenCanvas<"u"&&se instanceof OffscreenCanvas)return"OffscreenCanvas";if(typeof ImageBitmap<"u"&&se instanceof ImageBitmap)return"ImageBitmap";if(typeof ImageData<"u"&&se instanceof ImageData)return"ImageData"}return"Unknown"},getKernelTextureSize(se,me){let[X,ie,we]=me,Te=(X||1)*(ie||1)*(we||1);return se.optimizeFloatMemory&&se.precision==="single"&&(X=Te=Math.ceil(Te/4)),ie>1&&X*ie===Te?new Int32Array([X,ie]):x.closestSquareDimensions(Te)},closestSquareDimensions(se){const me=Math.sqrt(se);let X=Math.ceil(me),ie=Math.floor(me);for(;X*ie<se;)X--,ie=Math.ceil(se/X);return new Int32Array([ie,Math.ceil(se/ie)])},getMemoryOptimizedFloatTextureSize(se,me){const ie=x.roundTo((se[0]||1)*(se[1]||1)*(se[2]||1)*(se[3]||1),4)/me;return x.closestSquareDimensions(ie)},getMemoryOptimizedPackedTextureSize(se,me){const[X,ie,we]=se,tt=x.roundTo((X||1)*(ie||1)*(we||1),4)/(4/me);return x.closestSquareDimensions(tt)},roundTo(se,me){return Math.floor((se+me-1)/me)*me},getDimensions(se,me){let X;if(x.isArray(se)){const ie=[];let we=se;for(;x.isArray(we);)ie.push(we.length),we=we[0];X=ie.reverse()}else if(se instanceof z)X=se.output;else if(se instanceof P)X=se.size;else throw new Error(`Unknown dimensions of ${se}`);if(me)for(X=Array.from(X);X.length<3;)X.push(1);return new Int32Array(X)},flatten2dArrayTo(se,me){let X=0;for(let ie=0;ie<se.length;ie++)me.set(se[ie],X),X+=se[ie].length},flatten3dArrayTo(se,me){let X=0;for(let ie=0;ie<se.length;ie++)for(let we=0;we<se[ie].length;we++)me.set(se[ie][we],X),X+=se[ie][we].length},flatten4dArrayTo(se,me){let X=0;for(let ie=0;ie<se.length;ie++)for(let we=0;we<se[ie].length;we++)for(let Te=0;Te<se[ie][we].length;Te++)me.set(se[ie][we][Te],X),X+=se[ie][we][Te].length},flattenTo(se,me){x.isArray(se[0])?x.isArray(se[0][0])?x.isArray(se[0][0][0])?x.flatten4dArrayTo(se,me):x.flatten3dArrayTo(se,me):x.flatten2dArrayTo(se,me):me.set(se)},splitArray(se,me){const X=[];for(let ie=0;ie<se.length;ie+=me)X.push(new se.constructor(se.buffer,ie*4+se.byteOffset,me));return X},getAstString(se,me){const X=Array.isArray(se)?se:se.split(/\r?\n/g),ie=me.loc.start,we=me.loc.end,Te=[];if(ie.line===we.line)Te.push(X[ie.line-1].substring(ie.column,we.column));else{Te.push(X[ie.line-1].slice(ie.column));for(let tt=ie.line;tt<we.line;tt++)Te.push(X[tt]);Te.push(X[we.line-1].slice(0,we.column))}return Te.join(`
`)},allPropertiesOf(se){const me=[];do me.push.apply(me,Object.getOwnPropertyNames(se));while(se=Object.getPrototypeOf(se));return me},linesToString(se){return se.length>0?se.join(`;
`)+`;
`:`
`},warnDeprecated(se,me,X){console.warn(X?`You are using a deprecated ${se} "${me}". It has been replaced with "${X}". Fixing, but please upgrade as it will soon be removed.`:`You are using a deprecated ${se} "${me}". It has been removed. Fixing, but please upgrade as it will soon be removed.`)},flipPixels:(se,me,X)=>{const ie=X/2|0,we=me*4,Te=new Uint8ClampedArray(me*4),tt=se.slice(0);for(let ft=0;ft<ie;++ft){const te=ft*we,B=(X-ft-1)*we;Te.set(tt.subarray(te,te+we)),tt.copyWithin(te,B,B+we),tt.set(Te,B)}return tt},erectPackedFloat:(se,me)=>se.subarray(0,me),erect2DPackedFloat:(se,me,X)=>{const ie=new Array(X);for(let we=0;we<X;we++){const Te=we*me,tt=Te+me;ie[we]=se.subarray(Te,tt)}return ie},erect3DPackedFloat:(se,me,X,ie)=>{const we=new Array(ie);for(let Te=0;Te<ie;Te++){const tt=new Array(X);for(let ft=0;ft<X;ft++){const te=Te*X*me+ft*me,B=te+me;tt[ft]=se.subarray(te,B)}we[Te]=tt}return we},erectMemoryOptimizedFloat:(se,me)=>se.subarray(0,me),erectMemoryOptimized2DFloat:(se,me,X)=>{const ie=new Array(X);for(let we=0;we<X;we++){const Te=we*me;ie[we]=se.subarray(Te,Te+me)}return ie},erectMemoryOptimized3DFloat:(se,me,X,ie)=>{const we=new Array(ie);for(let Te=0;Te<ie;Te++){const tt=new Array(X);for(let ft=0;ft<X;ft++){const te=Te*X*me+ft*me;tt[ft]=se.subarray(te,te+me)}we[Te]=tt}return we},erectFloat:(se,me)=>{const X=new Float32Array(me);let ie=0;for(let we=0;we<me;we++)X[we]=se[ie],ie+=4;return X},erect2DFloat:(se,me,X)=>{const ie=new Array(X);let we=0;for(let Te=0;Te<X;Te++){const tt=new Float32Array(me);for(let ft=0;ft<me;ft++)tt[ft]=se[we],we+=4;ie[Te]=tt}return ie},erect3DFloat:(se,me,X,ie)=>{const we=new Array(ie);let Te=0;for(let tt=0;tt<ie;tt++){const ft=new Array(X);for(let te=0;te<X;te++){const B=new Float32Array(me);for(let Me=0;Me<me;Me++)B[Me]=se[Te],Te+=4;ft[te]=B}we[tt]=ft}return we},erectArray2:(se,me)=>{const X=new Array(me),ie=me*4;let we=0;for(let Te=0;Te<ie;Te+=4)X[we++]=se.subarray(Te,Te+2);return X},erect2DArray2:(se,me,X)=>{const ie=new Array(X),we=me*4;for(let Te=0;Te<X;Te++){const tt=new Array(me),ft=Te*we;let te=0;for(let B=0;B<we;B+=4)tt[te++]=se.subarray(B+ft,B+ft+2);ie[Te]=tt}return ie},erect3DArray2:(se,me,X,ie)=>{const we=me*4,Te=new Array(ie);for(let tt=0;tt<ie;tt++){const ft=new Array(X);for(let te=0;te<X;te++){const B=new Array(me),Me=tt*we*X+te*we;let De=0;for(let pt=0;pt<we;pt+=4)B[De++]=se.subarray(pt+Me,pt+Me+2);ft[te]=B}Te[tt]=ft}return Te},erectArray3:(se,me)=>{const X=new Array(me),ie=me*4;let we=0;for(let Te=0;Te<ie;Te+=4)X[we++]=se.subarray(Te,Te+3);return X},erect2DArray3:(se,me,X)=>{const ie=me*4,we=new Array(X);for(let Te=0;Te<X;Te++){const tt=new Array(me),ft=Te*ie;let te=0;for(let B=0;B<ie;B+=4)tt[te++]=se.subarray(B+ft,B+ft+3);we[Te]=tt}return we},erect3DArray3:(se,me,X,ie)=>{const we=me*4,Te=new Array(ie);for(let tt=0;tt<ie;tt++){const ft=new Array(X);for(let te=0;te<X;te++){const B=new Array(me),Me=tt*we*X+te*we;let De=0;for(let pt=0;pt<we;pt+=4)B[De++]=se.subarray(pt+Me,pt+Me+3);ft[te]=B}Te[tt]=ft}return Te},erectArray4:(se,me)=>{const X=new Array(se),ie=me*4;let we=0;for(let Te=0;Te<ie;Te+=4)X[we++]=se.subarray(Te,Te+4);return X},erect2DArray4:(se,me,X)=>{const ie=me*4,we=new Array(X);for(let Te=0;Te<X;Te++){const tt=new Array(me),ft=Te*ie;let te=0;for(let B=0;B<ie;B+=4)tt[te++]=se.subarray(B+ft,B+ft+4);we[Te]=tt}return we},erect3DArray4:(se,me,X,ie)=>{const we=me*4,Te=new Array(ie);for(let tt=0;tt<ie;tt++){const ft=new Array(X);for(let te=0;te<X;te++){const B=new Array(me),Me=tt*we*X+te*we;let De=0;for(let pt=0;pt<we;pt+=4)B[De++]=se.subarray(pt+Me,pt+Me+4);ft[te]=B}Te[tt]=ft}return Te},flattenFunctionToString:(se,me)=>{const{findDependency:X,thisLookup:ie,doNotDefine:we}=me;let Te=me.flattened;Te||(Te=me.flattened={});const tt=I.parse(se),ft=[];let te=0;function B(De){if(Array.isArray(De)){const pt=[];for(let Je=0;Je<De.length;Je++)pt.push(B(De[Je]));return pt.join("")}switch(De.type){case"Program":return B(De.body)+(De.body[0].type==="VariableDeclaration"?";":"");case"FunctionDeclaration":return`function ${De.id.name}(${De.params.map(B).join(", ")}) ${B(De.body)}`;case"BlockStatement":{const Je=[];te+=2;for(let ut=0;ut<De.body.length;ut++){const kt=B(De.body[ut]);kt&&Je.push(" ".repeat(te)+kt,`;
`)}return te-=2,`{
${Je.join("")}}`}case"VariableDeclaration":const pt=x.normalizeDeclarations(De).map(B).filter(Je=>Je!==null);return pt.length<1?"":`${De.kind} ${pt.join(",")}`;case"VariableDeclarator":return De.init.object&&De.init.object.type==="ThisExpression"?ie(De.init.property.name,!0)?`${De.id.name} = ${B(De.init)}`:null:`${De.id.name} = ${B(De.init)}`;case"CallExpression":{if(De.callee.property.name==="subarray")return`${B(De.callee.object)}.${B(De.callee.property)}(${De.arguments.map(Je=>B(Je)).join(", ")})`;if(De.callee.object.name==="gl"||De.callee.object.name==="context")return`${B(De.callee.object)}.${B(De.callee.property)}(${De.arguments.map(Je=>B(Je)).join(", ")})`;if(De.callee.object.type==="ThisExpression")return ft.push(X("this",De.callee.property.name)),`${De.callee.property.name}(${De.arguments.map(Je=>B(Je)).join(", ")})`;if(De.callee.object.name){const Je=X(De.callee.object.name,De.callee.property.name);return Je===null?`${De.callee.object.name}.${De.callee.property.name}(${De.arguments.map(ut=>B(ut)).join(", ")})`:(ft.push(Je),`${De.callee.property.name}(${De.arguments.map(ut=>B(ut)).join(", ")})`)}else{if(De.callee.object.type==="MemberExpression")return`${B(De.callee.object)}.${De.callee.property.name}(${De.arguments.map(Je=>B(Je)).join(", ")})`;throw new Error("unknown ast.callee")}}case"ReturnStatement":return`return ${B(De.argument)}`;case"BinaryExpression":return`(${B(De.left)}${De.operator}${B(De.right)})`;case"UnaryExpression":return De.prefix?`${De.operator} ${B(De.argument)}`:`${B(De.argument)} ${De.operator}`;case"ExpressionStatement":return`${B(De.expression)}`;case"SequenceExpression":return`(${B(De.expressions)})`;case"ArrowFunctionExpression":return`(${De.params.map(B).join(", ")}) => ${B(De.body)}`;case"Literal":return De.raw;case"Identifier":return De.name;case"MemberExpression":return De.object.type==="ThisExpression"?ie(De.property.name):De.computed?`${B(De.object)}[${B(De.property)}]`:B(De.object)+"."+B(De.property);case"ThisExpression":return"this";case"NewExpression":return`new ${B(De.callee)}(${De.arguments.map(Je=>B(Je)).join(", ")})`;case"ForStatement":return`for (${B(De.init)};${B(De.test)};${B(De.update)}) ${B(De.body)}`;case"AssignmentExpression":return`${B(De.left)}${De.operator}${B(De.right)}`;case"UpdateExpression":return`${B(De.argument)}${De.operator}`;case"IfStatement":return`if (${B(De.test)}) ${B(De.consequent)}`;case"ThrowStatement":return`throw ${B(De.argument)}`;case"ObjectPattern":return De.properties.map(B).join(", ");case"ArrayPattern":return De.elements.map(B).join(", ");case"DebuggerStatement":return"debugger;";case"ConditionalExpression":return`${B(De.test)}?${B(De.consequent)}:${B(De.alternate)}`;case"Property":if(De.kind==="init")return B(De.key)}throw new Error(`unhandled ast.type of ${De.type}`)}const Me=B(tt);if(ft.length>0){const De=[];for(let pt=0;pt<ft.length;pt++){const Je=ft[pt];Te[Je]||(Te[Je]=!0),Je&&De.push(x.flattenFunctionToString(Je,me)+`
`)}return De.join("")+Me}return Me},normalizeDeclarations:se=>{if(se.type!=="VariableDeclaration")throw new Error('Ast is not of type "VariableDeclaration"');const me=[];for(let X=0;X<se.declarations.length;X++){const ie=se.declarations[X];if(ie.id&&ie.id.type==="ObjectPattern"&&ie.id.properties){const{properties:we}=ie.id;for(let Te=0;Te<we.length;Te++){const tt=we[Te];if(tt.value.type==="ObjectPattern"&&tt.value.properties)for(let ft=0;ft<tt.value.properties.length;ft++){const te=tt.value.properties[ft];if(te.type==="Property")me.push({type:"VariableDeclarator",id:{type:"Identifier",name:te.key.name},init:{type:"MemberExpression",object:{type:"MemberExpression",object:ie.init,property:{type:"Identifier",name:tt.key.name},computed:!1},property:{type:"Identifier",name:te.key.name},computed:!1}});else throw new Error("unexpected state")}else if(tt.value.type==="Identifier")me.push({type:"VariableDeclarator",id:{type:"Identifier",name:tt.value&&tt.value.name?tt.value.name:tt.key.name},init:{type:"MemberExpression",object:ie.init,property:{type:"Identifier",name:tt.key.name},computed:!1}});else throw new Error("unexpected state")}}else if(ie.id&&ie.id.type==="ArrayPattern"&&ie.id.elements){const{elements:we}=ie.id;for(let Te=0;Te<we.length;Te++){const tt=we[Te];if(tt.type==="Identifier")me.push({type:"VariableDeclarator",id:{type:"Identifier",name:tt.name},init:{type:"MemberExpression",object:ie.init,property:{type:"Literal",value:Te,raw:Te.toString(),start:tt.start,end:tt.end},computed:!0}});else throw new Error("unexpected state")}}else me.push(ie)}return me},splitHTMLImageToRGB:(se,me)=>{const X=se.createKernel(function(ft){return ft[this.thread.y][this.thread.x].r*255},{output:[me.width,me.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),ie=se.createKernel(function(ft){return ft[this.thread.y][this.thread.x].g*255},{output:[me.width,me.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),we=se.createKernel(function(ft){return ft[this.thread.y][this.thread.x].b*255},{output:[me.width,me.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),Te=se.createKernel(function(ft){return ft[this.thread.y][this.thread.x].a*255},{output:[me.width,me.height],precision:"unsigned",argumentTypes:{a:"HTMLImage"}}),tt=[X(me),ie(me),we(me),Te(me)];return tt.rKernel=X,tt.gKernel=ie,tt.bKernel=we,tt.aKernel=Te,tt.gpu=se,tt},splitRGBAToCanvases:(se,me,X,ie)=>{const we=se.createKernel(function(te){const B=te[this.thread.y][this.thread.x];this.color(B.r/255,0,0,255)},{output:[X,ie],graphical:!0,argumentTypes:{v:"Array2D(4)"}});we(me);const Te=se.createKernel(function(te){const B=te[this.thread.y][this.thread.x];this.color(0,B.g/255,0,255)},{output:[X,ie],graphical:!0,argumentTypes:{v:"Array2D(4)"}});Te(me);const tt=se.createKernel(function(te){const B=te[this.thread.y][this.thread.x];this.color(0,0,B.b/255,255)},{output:[X,ie],graphical:!0,argumentTypes:{v:"Array2D(4)"}});tt(me);const ft=se.createKernel(function(te){const B=te[this.thread.y][this.thread.x];this.color(255,255,255,B.a/255)},{output:[X,ie],graphical:!0,argumentTypes:{v:"Array2D(4)"}});return ft(me),[we.canvas,Te.canvas,tt.canvas,ft.canvas]},getMinifySafeName:se=>{try{const me=I.parse(`const value = ${se.toString()}`),{init:X}=me.body[0].declarations[0];return X.body.name||X.body.body[0].argument.name}catch{throw new Error("Unrecognized function type.  Please use `() => yourFunctionVariableHere` or function() { return yourFunctionVariableHere; }")}},sanitizeName:function(se){return S.test(se)&&(se=se.replace(S,"S_S")),j.test(se)?se=se.replace(j,"U_U"):re.test(se)&&(se=se.replace(re,"u_u")),se}},S=/\$/,j=/__/,re=/_/,Ce=x.getSystemEndianness();m.exports={utils:x}},{"./input":110,"./texture":113,acorn:1}]},{},[107])(107)})});const k={toTable(N){const c=N.reduce((h,m)=>Object.assign(h,m),{});return k.toHash(c)},toTable2D(N){const c={};let h=0;for(let m=0;m<N.length;m++){const O=N[m];for(let I=0;I<O.length;I++){const P=O[I];for(const z in P)P.hasOwnProperty(z)&&!c.hasOwnProperty(z)&&(c[z]=h++)}}return c},toInputTable2D(N){const c={};let h=0;for(let m=0;m<N.length;m++){const O=N[m].input;for(let I=0;I<O.length;I++){const P=O[I];for(const z in P)P.hasOwnProperty(z)&&(c.hasOwnProperty(z)||(c[z]=h++))}}return c},toOutputTable2D(N){const c={};let h=0;for(let m=0;m<N.length;m++){const O=N[m].output;for(let I=0;I<O.length;I++){const P=O[I];for(const z in P)P.hasOwnProperty(z)&&(c.hasOwnProperty(z)||(c[z]=h++))}}return c},toHash(N){const c={};let h=0;const m=Object.keys(N);for(let O=0;O<m.length;O++)c[m[O]]=h++;return c},toArray(N,c,h){const m=new Float32Array(h);for(const O in N)N.hasOwnProperty(O)&&(m[N[O]]=c.hasOwnProperty(O)?c[O]:0);return m},toArrayShort(N,c){const h=[];for(const m in N)if(N.hasOwnProperty(m)){if(!c.hasOwnProperty(m))break;h[N[m]]=c[m]}return Float32Array.from(h)},toArrays(N,c,h){const m=[];for(let O=0;O<c.length;O++)m.push(this.toArray(N,c[O],h));return m},toObject(N,c){const h={};for(const m in N)N.hasOwnProperty(m)&&(h[m]=c[N[m]]);return h},toObjectPartial(N,c,h=0,m=0){const O={};let I=0;for(const P in N)N.hasOwnProperty(P)&&(h>0&&I++<h||m>0&&I++>=m||(O[P]=c[N[P]-h]));return O},dataShape(N){const c=[];let h;N.hasOwnProperty("input")?(c.push("datum"),h=N.input):Array.isArray(N)?N[0]&&N[0].input?(c.push("array","datum"),h=N[0].input):Array.isArray(N[0])?(c.push("array"),h=N[0]):h=N:h=N;let m;for(;h;)if(m=Object.keys(h)[0],Array.isArray(h)||typeof h.buffer=="object"){c.push("array");const O=h[parseInt(m)];if(typeof O=="number"){c.push("number");break}else h=O}else if(typeof h=="object"&&typeof h.buffer!="object"){c.push("object");const O=h[m];if(typeof O=="number"){c.push("number");break}else h=O}else throw new Error("unhandled signature");return c},addKeys(N,c){if(Array.isArray(N))return c;let h=Object.keys(c).length;for(const m in N)N.hasOwnProperty(m)&&(c.hasOwnProperty(m)||(c[m]=h++));return c}};var A=C(function(N,c){var h=_&&_.__assign||function(){return h=Object.assign||function(P){for(var z,R=1,T=arguments.length;R<T;R++){z=arguments[R];for(var $ in z)Object.prototype.hasOwnProperty.call(z,$)&&(P[$]=z[$])}return P},h.apply(this,arguments)};Object.defineProperty(c,"__esModule",{value:!0}),c.thaw=c.Block=c.Thaw=void 0;var m=function(){function P(z,R){var T=this;R===void 0&&(R={});var $=h(h({},P.defaultSettings),R),x=$.each,S=$.done;this.i=0,this.isStopped=!1,this.items=z,this.options=R,this.tick=function(){if(!T.isStopped&&(T.timeout=setTimeout(T.tick,0),!P.thawing)){var j=T.items[T.i];if(T.i>=T.items.length){S!==null&&(P.thawing=!0,S(),P.thawing=!1),T.isStopped=!0,clearTimeout(T.timeout);return}x!==null?(P.thawing=!0,x(j,T.i),P.thawing=!1):j!==void 0&&j(),T.i++}},P.thaws.push(this),R.delay||this.tick()}return Object.defineProperty(P,"isThawing",{get:function(){return P.thawing},enumerable:!1,configurable:!0}),P.stopAll=function(){for(var z=0;z<P.thaws.length;z++)P.thaws[z].stop()},P.prototype.makeReady=function(){return this.isStopped?(this.isStopped=!1,!0):!1},P.prototype.add=function(z){return this.items.push(z),this.makeReady()&&this.tick(),this},P.prototype.insert=function(z){return this.items.splice(this.i,0,z),this.makeReady()&&this.tick(),this},P.prototype.addArray=function(z){return this.items=this.items.concat(z),this.makeReady()&&this.tick(),this},P.prototype.insertArray=function(z){var R=this.items.splice(0,this.i),T=this.items;return this.items=R.concat(z,T),this.makeReady()&&this.tick(),this},P.prototype.stop=function(){return this.isStopped=!0,clearTimeout(this.timeout),this.options.done&&this.options.done(),this},P.thawing=!1,P.thaws=[],P.defaultSettings={each:null,done:null},P}();c.Thaw=m;function O(P,z){return new m(P,z)}c.thaw=O;var I=function(){function P(z,R){R===void 0&&(R=200),this.index=0,this.thaws=[],this.count=R,this.options=z}return P.prototype.add=function(z){var R=this.next();return R.add(z),this},P.prototype.addArray=function(z){var R=this.next();return R.addArray(z),this},P.prototype.insert=function(z){var R=this.next();return R.insert(z),this},P.prototype.insertArray=function(z){var R=this.next();return R.insertArray(z),this},P.prototype.stop=function(){for(var z=0;z<this.thaws.length;z++)this.thaws[z].stop();return this},P.prototype.next=function(){var z,R=this.thaws;return R.length<this.count?(z=new m([],this.options),R.push(z)):z=R[this.index]||null,this.index++,this.index>=this.count&&(this.index=0),z},P}();c.Block=I,typeof window<"u"&&(window.Thaw=m,window.thaw=O,window.Thaw.Block=I)});function D(N){const c=[];for(let h=0;h<N.length;h++)c.push(Float32Array.from(N[h]));return c}function H(N,c){const h=[];for(let m=0;m<N.length;m++)h.push(Float32Array.from(N[m]));for(let m=0;m<c.length;m++)h.push(Float32Array.from(c[m]));return h}function U(N){const c=[];for(let h=0;h<N.length;h++)c.push(Float32Array.from([N[h]]));return c}function K(N,c){const h=[];for(let m=0;m<N.length;m++)h.push(Float32Array.from([N[m]]));for(let m=0;m<c.length;m++)h.push(Float32Array.from([c[m]]));return h}function G(N){return Float32Array.from(N)}function q(N,c,h,m,O,I){const P=[];for(let z=0;z<N.length;z++){const R=N[z],T=new Float32Array(O);for(const $ in R)R.hasOwnProperty($)&&(T[h[$]]=R[$]);P.push(T)}for(let z=0;z<c.length;z++){const R=c[z],T=new Float32Array(I);for(const $ in R)R.hasOwnProperty($)&&(T[m[$]]=R[$]);P.push(T)}return P}function Y(N){const c=[];for(const h in N)N.hasOwnProperty(h)&&c.push(Float32Array.from([N[h]]));return c}function de(N,c){const h=[];for(const m in N)N.hasOwnProperty(m)&&h.push(Float32Array.from([N[m]]));for(const m in c)c.hasOwnProperty(m)&&h.push(Float32Array.from([c[m]]));return h}function xe(N,c,h){const m=new Float32Array(h);for(const O in N)N.hasOwnProperty(O)&&(m[c[O]]=N[O]);return m}class oe{constructor(c,h){this.prop=null,this.table={},this.length=0;const m=this.table;if(h){this.prop=h;for(let O=0;O<c.length;O++){const P=c[O][h];for(const z in P)P.hasOwnProperty(z)&&(m.hasOwnProperty(z)||(m[z]=this.length++))}}else if(Array.isArray(c)&&Array.isArray(c[0]))for(let O=0;O<c.length;O++){const I=c[O];for(let P=0;P<I.length;P++){const z=I[P];for(const R in z)z.hasOwnProperty(R)&&(m.hasOwnProperty(R)||(m[R]=this.length++))}}else for(let O=0;O<c.length;O++){const I=c[O];for(const P in I)I.hasOwnProperty(P)&&(m.hasOwnProperty(P)||(m[P]=this.length++))}}}function Z(N){return Array.isArray(N)||N instanceof Float32Array?Math.max(...N):Math.max(...Object.values(N))}function ne(N){let c=0;for(let h=0;h<N.length;h++)c+=N[h]**2;return c/N.length}function ee(){return Math.random()*.4-.2}function J(N,c){return Math.random()*(c-N)+N}function fe(){if(fe.returnV)return fe.returnV=!1,fe.vVal;const N=2*Math.random()-1,c=2*Math.random()-1,h=N*N+c*c;if(h===0||h>1)return fe();const m=Math.sqrt(-2*Math.log(h)/h);return fe.vVal=c*m,fe.returnV=!0,N*m}function ge(N,c){return Math.floor(Math.random()*(c-N)+N)}function ke(N,c){return N+fe()*c}fe.returnV=!1,fe.vVal=0;var ye=Object.freeze({__proto__:null,randomFloat:J,gaussRandom:fe,randomInteger:ge,randomN:ke});function Fe(N,c=null){const h=new Float32Array(N);if(c===null)for(let m=0;m<N;m++)h[m]=ee();else for(let m=0;m<N;m++)h[m]=J(-c,c);return h}function Be(N,c,h){const m=new Array(c);for(let O=0;O<c;O++)m[O]=Fe(N,h);return m}function He(N,c,h,m){const O=new Array(h);for(let I=0;I<h;I++)O[I]=Be(N,c,m);return O}function he(N){return new Float32Array(N)}function Ne(N,c){if(N.buffer instanceof ArrayBuffer)return null;if(Array.isArray(N))return G;if(!c)throw new Error("table is not Object");const{length:h}=Object.keys(c);return m=>{const O=new Float32Array(h);for(const I in c)c.hasOwnProperty(I)&&typeof m[I]=="number"&&(O[c[I]]=m[I]||0);return O}}function Pe(){return{inputSize:0,outputSize:0,binaryThresh:.5}}function et(){return{activation:"sigmoid",iterations:2e4,errorThresh:.005,log:!1,logPeriod:10,leakyReluAlpha:.01,learningRate:.3,momentum:.1,callbackPeriod:10,timeout:1/0,beta1:.9,beta2:.999,epsilon:1e-8}}class qe{constructor(c={}){this.options=Pe(),this.trainOpts=et(),this.sizes=[],this.outputLayer=-1,this.biases=[],this.weights=[],this.outputs=[],this.deltas=[],this.changes=[],this.errors=[],this.errorCheckInterval=1,this.inputLookup=null,this.inputLookupLength=0,this.outputLookup=null,this.outputLookupLength=0,this._formatInput=null,this._formatOutput=null,this.runInput=I=>(this.setActivation(),this.runInput(I)),this.calculateDeltas=I=>(this.setActivation(),this.calculateDeltas(I)),this.biasChangesLow=[],this.biasChangesHigh=[],this.changesLow=[],this.changesHigh=[],this.iterations=0,this.options={...this.options,...c},this.updateTrainingOptions(c);const{inputSize:h,hiddenLayers:m,outputSize:O}=this.options;h&&O&&(this.sizes=[h].concat(m??[]).concat([O]))}initialize(){if(!this.sizes.length)throw new Error("Sizes must be set before initializing");this.outputLayer=this.sizes.length-1,this.biases=new Array(this.outputLayer),this.weights=new Array(this.outputLayer),this.outputs=new Array(this.outputLayer),this.deltas=new Array(this.outputLayer),this.changes=new Array(this.outputLayer),this.errors=new Array(this.outputLayer);for(let c=0;c<=this.outputLayer;c++){const h=this.sizes[c];if(this.deltas[c]=he(h),this.errors[c]=he(h),this.outputs[c]=he(h),c>0){this.biases[c]=Fe(h),this.weights[c]=new Array(h),this.changes[c]=new Array(h);for(let m=0;m<h;m++){const O=this.sizes[c-1];this.weights[c][m]=Fe(O),this.changes[c][m]=he(O)}}}this.setActivation(),this.trainOpts.praxis==="adam"&&this._setupAdam()}setActivation(c){const h=c??this.trainOpts.activation;switch(h){case"sigmoid":this.runInput=this._runInputSigmoid,this.calculateDeltas=this._calculateDeltasSigmoid;break;case"relu":this.runInput=this._runInputRelu,this.calculateDeltas=this._calculateDeltasRelu;break;case"leaky-relu":this.runInput=this._runInputLeakyRelu,this.calculateDeltas=this._calculateDeltasLeakyRelu;break;case"tanh":this.runInput=this._runInputTanh,this.calculateDeltas=this._calculateDeltasTanh;break;default:throw new Error(`Unknown activation ${h}. Available activations are: 'sigmoid', 'relu', 'leaky-relu', 'tanh'`)}}get isRunnable(){return this.sizes.length>0}run(c){if(!this.isRunnable)throw new Error("network not runnable");let h;this.inputLookup?h=k.toArray(this.inputLookup,c,this.inputLookupLength):h=c,this.validateInput(h);const m=this.runInput(h).slice(0);return this.outputLookup?k.toObject(this.outputLookup,m):m}_runInputSigmoid(c){this.outputs[0]=c;let h=null;for(let m=1;m<=this.outputLayer;m++){const O=this.sizes[m],I=this.weights[m],P=this.biases[m],z=this.outputs[m];for(let R=0;R<O;R++){const T=I[R];let $=P[R];for(let x=0;x<T.length;x++)$+=T[x]*c[x];z[R]=1/(1+Math.exp(-$))}h=c=z}if(!h)throw new Error("output was empty");return h}_runInputRelu(c){this.outputs[0]=c;let h=null;for(let m=1;m<=this.outputLayer;m++){const O=this.sizes[m],I=this.weights[m],P=this.biases[m],z=this.outputs[m];for(let R=0;R<O;R++){const T=I[R];let $=P[R];for(let x=0;x<T.length;x++)$+=T[x]*c[x];z[R]=$<0?0:$}h=c=z}if(!h)throw new Error("output was empty");return h}_runInputLeakyRelu(c){this.outputs[0]=c;const{leakyReluAlpha:h}=this.trainOpts;let m=null;for(let O=1;O<=this.outputLayer;O++){const I=this.sizes[O],P=this.weights[O],z=this.biases[O],R=this.outputs[O];for(let T=0;T<I;T++){const $=P[T];let x=z[T];for(let S=0;S<$.length;S++)x+=$[S]*c[S];R[T]=Math.max(x,h*x)}m=c=R}if(!m)throw new Error("output was empty");return m}_runInputTanh(c){this.outputs[0]=c;let h=null;for(let m=1;m<=this.outputLayer;m++){const O=this.sizes[m],I=this.weights[m],P=this.biases[m],z=this.outputs[m];for(let R=0;R<O;R++){const T=I[R];let $=P[R];for(let x=0;x<T.length;x++)$+=T[x]*c[x];z[R]=Math.tanh($)}h=c=z}if(!h)throw new Error("output was empty");return h}verifyIsInitialized(c){this.sizes.length&&this.outputLayer>0||(this.sizes=[],this.sizes.push(c[0].input.length),this.options.hiddenLayers?this.options.hiddenLayers.forEach(h=>{this.sizes.push(h)}):this.sizes.push(Math.max(3,Math.floor(c[0].input.length/2))),this.sizes.push(c[0].output.length),this.initialize())}updateTrainingOptions(c){const h={...this.trainOpts,...c};this.validateTrainingOptions(h),this.trainOpts=h,this.setLogMethod(this.trainOpts.log)}validateTrainingOptions(c){const h={activation:()=>["sigmoid","relu","leaky-relu","tanh"].includes(c.activation),iterations:()=>{const m=c.iterations;return typeof m=="number"&&m>0},errorThresh:()=>{const m=c.errorThresh;return typeof m=="number"&&m>0&&m<1},log:()=>{const m=c.log;return typeof m=="function"||typeof m=="boolean"},logPeriod:()=>{const m=c.logPeriod;return typeof m=="number"&&m>0},leakyReluAlpha:()=>{const m=c.leakyReluAlpha;return typeof m=="number"&&m>0&&m<1},learningRate:()=>{const m=c.learningRate;return typeof m=="number"&&m>0&&m<1},momentum:()=>{const m=c.momentum;return typeof m=="number"&&m>0&&m<1},callback:()=>{const m=c.callback;return typeof m=="function"||m===void 0},callbackPeriod:()=>{const m=c.callbackPeriod;return typeof m=="number"&&m>0},timeout:()=>{const m=c.timeout;return typeof m=="number"&&m>0},praxis:()=>{const m=c.praxis;return!m||m==="adam"},beta1:()=>{const m=c.beta1;return m>0&&m<1},beta2:()=>{const m=c.beta2;return m>0&&m<1},epsilon:()=>{const m=c.epsilon;return m>0&&m<1}};for(const m in h){const O=c;if(!h[m]())throw new Error(`[${m}, ${O[m]}] is out of normal training range, your network will probably not train.`)}}getTrainOptsJSON(){const{activation:c,iterations:h,errorThresh:m,log:O,logPeriod:I,leakyReluAlpha:P,learningRate:z,momentum:R,callbackPeriod:T,timeout:$,praxis:x,beta1:S,beta2:j,epsilon:re}=this.trainOpts;return{activation:c,iterations:h,errorThresh:m,log:typeof O=="function"?!0:typeof O=="boolean"?O:!1,logPeriod:I,leakyReluAlpha:P,learningRate:z,momentum:R,callbackPeriod:T,timeout:$===1/0?"Infinity":$,praxis:x,beta1:S,beta2:j,epsilon:re}}setLogMethod(c){typeof c=="function"?this.trainOpts.log=c:c?this.trainOpts.log=this.logTrainingStatus:this.trainOpts.log=!1}logTrainingStatus(c){console.log(`iterations: ${c.iterations}, training error: ${c.error}`)}calculateTrainingError(c){let h=0;for(let m=0;m<c.length;++m)h+=this.trainPattern(c[m],!0);return h/c.length}trainPatterns(c){for(let h=0;h<c.length;++h)this.trainPattern(c[h])}trainingTick(c,h,m){const{callback:O,callbackPeriod:I,errorThresh:P,iterations:z,log:R,logPeriod:T}=this.trainOpts;return h.iterations>=z||h.error<=P||Date.now()>=m?!1:(h.iterations++,R&&h.iterations%T===0?(h.error=this.calculateTrainingError(c),R(h)):h.iterations%this.errorCheckInterval===0?h.error=this.calculateTrainingError(c):this.trainPatterns(c),O&&h.iterations%I===0&&O({iterations:h.iterations,error:h.error}),!0)}prepTraining(c,h={}){this.updateTrainingOptions(h);const m=this.formatData(c),O=Date.now()+this.trainOpts.timeout,I={error:1,iterations:0};return this.verifyIsInitialized(m),this.validateData(m),{preparedData:m,status:I,endTime:O}}train(c,h={}){const{preparedData:m,status:O,endTime:I}=this.prepTraining(c,h);for(;this.trainingTick(m,O,I););return O}async trainAsync(c,h={}){const{preparedData:m,status:O,endTime:I}=this.prepTraining(c,h);return await new Promise((P,z)=>{try{const R=new A.Thaw(new Array(this.trainOpts.iterations),{delay:!0,each:()=>this.trainingTick(m,O,I)||R.stop(),done:()=>P(O)});R.tick()}catch(R){z(R)}})}trainPattern(c,h){return this.runInput(c.input),this.calculateDeltas(c.output),this.adjustWeights(),h?ne(this.errors[this.outputLayer]):null}_calculateDeltasSigmoid(c){for(let h=this.outputLayer;h>=0;h--){const m=this.sizes[h],O=this.outputs[h],I=this.errors[h],P=this.deltas[h],z=this.weights[h+1];for(let R=0;R<m;R++){const T=O[R];let $=0;if(h===this.outputLayer)$=c[R]-T;else{const x=this.deltas[h+1];for(let S=0;S<x.length;S++)$+=x[S]*z[S][R]}I[R]=$,P[R]=$*T*(1-T)}}}_calculateDeltasRelu(c){for(let h=this.outputLayer;h>=0;h--){const m=this.sizes[h],O=this.outputs[h],I=this.weights[h+1],P=this.deltas[h+1],z=this.errors[h],R=this.deltas[h];for(let T=0;T<m;T++){const $=O[T];let x=0;if(h===this.outputLayer)x=c[T]-$;else for(let S=0;S<P.length;S++)x+=P[S]*I[S][T];z[T]=x,R[T]=$>0?x:0}}}_calculateDeltasLeakyRelu(c){const h=this.trainOpts.leakyReluAlpha;for(let m=this.outputLayer;m>=0;m--){const O=this.sizes[m],I=this.outputs[m],P=this.deltas[m+1],z=this.weights[m+1],R=this.errors[m],T=this.deltas[m];for(let $=0;$<O;$++){const x=I[$];let S=0;if(m===this.outputLayer)S=c[$]-x;else for(let j=0;j<P.length;j++)S+=P[j]*z[j][$];R[$]=S,T[$]=x>0?S:h*S}}}_calculateDeltasTanh(c){for(let h=this.outputLayer;h>=0;h--){const m=this.sizes[h],O=this.outputs[h],I=this.deltas[h+1],P=this.weights[h+1],z=this.errors[h],R=this.deltas[h];for(let T=0;T<m;T++){const $=O[T];let x=0;if(h===this.outputLayer)x=c[T]-$;else for(let S=0;S<I.length;S++)x+=I[S]*P[S][T];z[T]=x,R[T]=(1-$*$)*x}}}adjustWeights(){const{learningRate:c,momentum:h}=this.trainOpts;for(let m=1;m<=this.outputLayer;m++){const O=this.outputs[m-1],I=this.sizes[m],P=this.deltas[m],z=this.changes[m],R=this.weights[m],T=this.biases[m];for(let $=0;$<I;$++){const x=P[$];for(let S=0;S<O.length;S++){let j=z[$][S];j=c*x*O[S]+h*j,z[$][S]=j,R[$][S]+=j}T[$]+=c*x}}}_setupAdam(){this.biasChangesLow=[],this.biasChangesHigh=[],this.changesLow=[],this.changesHigh=[],this.iterations=0;for(let c=0;c<=this.outputLayer;c++){const h=this.sizes[c];if(c>0){this.biasChangesLow[c]=he(h),this.biasChangesHigh[c]=he(h),this.changesLow[c]=new Array(h),this.changesHigh[c]=new Array(h);for(let m=0;m<h;m++){const O=this.sizes[c-1];this.changesLow[c][m]=he(O),this.changesHigh[c][m]=he(O)}}}this.adjustWeights=this._adjustWeightsAdam}_adjustWeightsAdam(){this.iterations++;const{iterations:c}=this,{beta1:h,beta2:m,epsilon:O,learningRate:I}=this.trainOpts;for(let P=1;P<=this.outputLayer;P++){const z=this.outputs[P-1],R=this.sizes[P],T=this.deltas[P],$=this.changesLow[P],x=this.changesHigh[P],S=this.weights[P],j=this.biases[P],re=this.biasChangesLow[P],Ce=this.biasChangesHigh[P];for(let se=0;se<R;se++){const me=T[se];for(let ft=0;ft<z.length;ft++){const te=me*z[ft],B=$[se][ft]*h+(1-h)*te,Me=x[se][ft]*m+(1-m)*te*te,De=B/(1-Math.pow(h,c)),pt=Me/(1-Math.pow(m,c));$[se][ft]=B,x[se][ft]=Me,S[se][ft]+=I*De/(Math.sqrt(pt)+O)}const X=T[se],ie=re[se]*h+(1-h)*X,we=Ce[se]*m+(1-m)*X*X,Te=re[se]/(1-Math.pow(h,c)),tt=Ce[se]/(1-Math.pow(m,c));re[se]=ie,Ce[se]=we,j[se]+=I*Te/(Math.sqrt(tt)+O)}}}validateData(c){const h=this.sizes[0],m=this.sizes[this.sizes.length-1],{length:O}=c;for(let I=0;I<O;I++){const{input:P,output:z}=c[I];if(P.length!==h)throw new Error(`input at index ${I} length ${P.length} must be ${h}`);if(c[I].output.length!==m)throw new Error(`output at index ${I} length ${z.length} must be ${m}`)}}validateInput(c){const h=this.sizes[0];if(c.length!==h)throw new Error(`input length ${c.length} must match options.inputSize of ${h}`)}formatData(c){if(!Array.isArray(c[0].input))if(this.inputLookup)this.inputLookupLength=Object.keys(this.inputLookup).length;else{const h=new oe(c,"input");this.inputLookup=h.table,this.inputLookupLength=h.length}if(!Array.isArray(c[0].output))if(this.outputLookup)this.outputLookupLength=Object.keys(this.outputLookup).length;else{const h=new oe(c,"output");this.outputLookup=h.table,this.outputLookupLength=h.length}if(this._formatInput||(this._formatInput=Ne(c[0].input,this.inputLookup)),this._formatOutput||(this._formatOutput=Ne(c[0].output,this.outputLookup)),this._formatInput&&this._formatOutput){const h=[];for(let m=0;m<c.length;m++)h.push({input:this._formatInput(c[m].input),output:this._formatOutput(c[m].output)});return h}if(this._formatInput){const h=[];for(let m=0;m<c.length;m++)h.push({input:this._formatInput(c[m].input),output:c[m].output});return h}if(this._formatOutput){const h=[];for(let m=0;m<c.length;m++)h.push({input:c[m].input,output:this._formatOutput(c[m].output)});return h}return c}addFormat(c){var h,m;(!Array.isArray(c.input)||typeof c.input[0]!="number")&&(this.inputLookup=k.addKeys(c.input,(h=this.inputLookup)!==null&&h!==void 0?h:{}),this.inputLookup&&(this.inputLookupLength=Object.keys(this.inputLookup).length)),(!Array.isArray(c.output)||typeof c.output[0]!="number")&&(this.outputLookup=k.addKeys(c.output,(m=this.outputLookup)!==null&&m!==void 0?m:{}),this.outputLookup&&(this.outputLookupLength=Object.keys(this.outputLookup).length))}test(c){const{preparedData:h}=this.prepTraining(c),m=h[0].output.length===1,O=[];let I=0;if(m){let P=0,z=0,R=0,T=0;for(let $=0;$<h.length;$++){const x=this.runInput(h[$].input),S=h[$].output,j=x[0]>this.options.binaryThresh?1:0,re=S[0];if(j!==re){const Ce=h[$];O.push({input:Ce.input,output:Ce.output,actual:j,expected:re})}j===0&&re===0?T++:j===1&&re===1?R++:j===0&&re===1?z++:j===1&&re===0&&P++,I+=ne(x.map((Ce,se)=>S[se]-Ce))}return{error:I/h.length,misclasses:O,total:h.length,trueNeg:T,truePos:R,falseNeg:z,falsePos:P,precision:R>0?R/(R+P):0,recall:R>0?R/(R+z):0,accuracy:(T+R)/h.length}}for(let P=0;P<h.length;P++){const z=this.runInput(h[P].input),R=h[P].output,T=z.indexOf(Z(z)),$=R.indexOf(Z(R));if(T!==$){const x=h[P];O.push({input:x.input,output:x.output,actual:T,expected:$})}I+=ne(z.map((x,S)=>R[S]-x))}return{error:I/h.length,misclasses:O,total:h.length}}toJSON(){var c,h;this.isRunnable||this.initialize();const m=this.weights.map(z=>z.map(R=>Array.from(R))),O=this.biases.map(z=>Array.from(z)),I=[],P=this.sizes.length-1;for(let z=0;z<=P;z++)I.push({weights:(c=m[z])!==null&&c!==void 0?c:[],biases:(h=O[z])!==null&&h!==void 0?h:[]});return{type:"NeuralNetwork",sizes:[...this.sizes],layers:I,inputLookup:this.inputLookup?{...this.inputLookup}:null,inputLookupLength:this.inputLookupLength,outputLookup:this.outputLookup?{...this.outputLookup}:null,outputLookupLength:this.outputLookupLength,options:{...this.options},trainOpts:this.getTrainOptsJSON()}}fromJSON(c){if(this.options={...Pe(),...c.options},c.hasOwnProperty("trainOpts")){const I={...c.trainOpts,timeout:c.trainOpts.timeout==="Infinity"?1/0:c.trainOpts.timeout};this.updateTrainingOptions(I)}this.sizes=c.sizes,this.initialize(),this.inputLookup=c.inputLookup?{...c.inputLookup}:null,this.inputLookupLength=c.inputLookupLength,this.outputLookup=c.outputLookup?{...c.outputLookup}:null,this.outputLookupLength=c.outputLookupLength;const h=c.layers,m=this.weights.map((I,P)=>h[P].weights.map(z=>Float32Array.from(z))),O=this.biases.map((I,P)=>Float32Array.from(h[P].biases));for(let I=0;I<=this.outputLayer;I++)this.weights[I]=m[I]||[],this.biases[I]=O[I]||[];return this}toFunction(c){const{activation:h,leakyReluAlpha:m}=this.trainOpts;let O=!1;const I=(x,S)=>{if(x===0)return`(input[${S}]||0)`;const j=this.weights[x][S],re=this.biases[x][S];if(!j)throw new Error(`weights at layerIndex ${x} & nodeIndex ${S} not found`);if(!re)throw new Error(`bias as layerIndex ${x} & nodeIndex ${S} not found`);const Ce=[];j.forEach((me,X)=>{me<0?Ce.push(`${me}*${I(x-1,X)}`):Ce.push(`+${me}*${I(x-1,X)}`)});const se=`(${re.toString()}${Ce.join("")})`;switch(h){case"sigmoid":return`1/(1+1/Math.exp(${se}))`;case"relu":return O=!0,`((v=${se})<0?0:v)`;case"leaky-relu":return O=!0,`Math.max((v=${se}),${m}*v)`;case"tanh":return`Math.tanh(${se})`;default:throw new Error(`Unknown activation ${h}. Available activations are: 'sigmoid', 'relu', 'leaky-relu', 'tanh'`)}};function P(x){if(x.find(S=>S.includes('"')))throw new Error(`key contains '"', which is not compatible`)}const z=[];let R,T="";if(this.inputLookup){const x=Object.keys(this.inputLookup);P(x),T=`input = new Float32Array([${Object.keys(this.inputLookup).map(S=>`input["${S}"]`).join(",")}]);`}if(this.sizes.length<1)throw new Error("No layers");for(let x=0;x<this.sizes[this.outputLayer];x++)z.push(I(this.outputLayer,x));if(this.outputLookup){const x=Object.keys(this.outputLookup);P(x),R=`{${x.map((j,re)=>`"${j}":${z[re]}`).join(",")}}`}else R=`[${z.join(",")}]`;const $=`${T}${O?"var v;":""}return ${R};`;return new Function("input",c?c($):$)}}let ae=null;function be(N){ae=N}function $e(N,c){let h=ae;return h===null&&(h=new E.GPU({mode:"gpu"}),be(h)),h.createKernel(N,c).setPipeline(!0)}function Ge(N,c,h){let m=ae;return m===null&&(m=new E.GPU({mode:"gpu"}),be(m)),m.createKernelMap(N,c,h).setPipeline(!0)}function Qe(N,c){return new E.Input(N,c)}function Le(N){N instanceof E.Texture&&N.delete()}function Ze(N){if(N instanceof E.Texture){N.clear();return}if(Array.isArray(N)){if(typeof N[0]=="number")N.fill(0);else if(typeof N[0][0]=="number"){for(let c=0;c<N.length;c++)N[c].fill(0);return}else if(typeof N[0][0][0]=="number"){for(let c=0;c<N.length;c++){const h=N[c];for(let m=0;m<h.length;m++)h[m].fill(0)}return}}if(N instanceof Float32Array){N.fill(0);return}throw new Error("unhandled value")}function We(N){if(N instanceof E.Texture)return N.clone();if(N instanceof Float32Array)return N.slice(0);if(Array.isArray(N)){if(typeof N[0]=="number")return N.slice(0);if(typeof N[0][0]=="number"){const c=new Array(N.length);for(let h=0;h<N.length;h++)c[h]=N[h].slice(0);return c}else if(typeof N[0][0][0]=="number"){const c=new Array(N.length);for(let h=0;h<N.length;h++){const m=N[h],O=new Array(m.length);for(let I=0;I<m.length;I++)O[I]=m[I].slice(0)}return c}}throw new Error("unhandled value")}function it(N,c,h){let m=c[this.thread.x];for(let O=0;O<this.constants.size;O++)m+=N[this.thread.x][O]*h[O];return 1/(1+Math.exp(-m))}function rt(N,c,h){let m=c[this.thread.x];for(let O=0;O<this.constants.size;O++)m+=N[this.thread.x][O]*h[O];return m<0?0:m}function St(N,c,h){let m=c[this.thread.x];for(let O=0;O<this.constants.size;O++)m+=N[this.thread.x][O]*h[O];return m<0?0:.01*m}function mt(N,c,h){let m=c[this.thread.x];for(let O=0;O<this.constants.size;O++)m+=N[this.thread.x][O]*h[O];return Math.tanh(m)}function Ye(N,c){return c-N}function yt(N,c){return N*c*(1-c)}function Mt(N,c){return c>0?N:0}function qt(N,c){return c>0?N:.01*N}function Ht(N,c){return(1-c*c)*N}function gn(N,c,h,m){let O=0;for(let I=0;I<c;I++)O+=m[I]*h[I][N];return O}function en(N,c,h,m,O){return N*m*O+c*h}function jn(N,c){return N+c}function Bn(N,c){return N[this.thread.x]+c[this.thread.x]*this.constants.learningRate}function Ue(N){let c=0;for(let h=0;h<this.constants.size;h++)c+=N[h]**2;return c/this.constants.size}class Ae extends qe{constructor(c={}){super(c),this.texturizeInputData=()=>{throw new Error("not yet setup")},this.forwardPropagate=[],this.backwardPropagate=[],this.changesPropagate=[],this.biasesPropagate=[],this.getMSE=()=>{throw new Error("not yet setup")},this._addMSE=()=>{throw new Error("not yet setup")},this._divideMSESum=()=>{throw new Error("not yet setup")},this.outputs=[],this.deltas=[],this.errors=[],this.weights=[],this.changes=[],this.biases=[],this.runInput=h=>{let m;this.outputs[0]=h;for(let O=1;O<=this.outputLayer;O++)Le(this.outputs[O]),this.outputs[O]=this.forwardPropagate[O](this.weights[O],this.biases[O],h),m=h=this.outputs[O];return m},this.calculateDeltas=h=>{for(let m=this.outputLayer;m>0;m--){Le(this.deltas[m]),Le(this.errors[m]);let O;m===this.outputLayer?O=this.backwardPropagate[m](this.outputs[m],h):O=this.backwardPropagate[m](this.weights[m+1],this.outputs[m],this.deltas[m+1]),this.deltas[m]=O.result,this.errors[m]=O.error}},this.errorCheckInterval=100,this.gpu=new E.GPU({mode:c.mode})}initialize(){super.initialize(),this.buildRunInput(),this.buildCalculateDeltas(),this.buildGetChanges(),this.buildChangeBiases(),this.buildGetMSE()}setActivation(){}trainPattern(c,h){return this.runInput(c.input),this.calculateDeltas(c.output),this.adjustWeights(),h?this.getMSE(this.errors[this.outputLayer]):null}calculateTrainingError(c){let h=new Float32Array([0]);for(let O=0;O<c.length;++O){const I=h,P=this.trainPattern(c[O],!0);h=this._addMSE(h,P),Le(P),Le(I)}const m=this._divideMSESum(c.length,h);return Le(h),(m instanceof E.Texture?m.toArray():m)[0]}adjustWeights(){this.getChanges(),this.changeBiases()}buildRunInput(){let c=null;switch(this.trainOpts.activation){case"sigmoid":c=it;break;case"relu":c=rt;break;case"leaky-relu":c=St;break;case"tanh":c=mt;break;default:throw new Error(`Unknown activation ${this.trainOpts.activation}. Available activations are: 'sigmoid', 'relu', 'leaky-relu', 'tanh'`)}for(let h=1;h<=this.outputLayer;h++)this.forwardPropagate[h]=this.gpu.createKernel(c,{output:[this.sizes[h]],pipeline:!0,constants:{size:this.sizes[h-1]},immutable:!0});this.texturizeInputData=this.gpu.createKernel(function(h){return h[this.thread.x]},{output:[this.sizes[1]],pipeline:!0,immutable:!0})}buildCalculateDeltas(){let c;switch(this.trainOpts.activation){case"sigmoid":c=yt;break;case"relu":c=Mt;break;case"leaky-relu":c=qt;break;case"tanh":c=Ht;break;default:throw new Error(`Unknown activation ${this.trainOpts.activation}. Available activations are: 'sigmoid', 'relu', 'leaky-relu', 'tanh'`)}c=E.alias(E.utils.getMinifySafeName(()=>c),c),this.gpu.addFunction(c);for(let h=this.outputLayer;h>0;h--)h===this.outputLayer?this.backwardPropagate[this.outputLayer]=this.gpu.createKernelMap({error:Ye},function(m,O){const I=m[this.thread.x],P=O[this.thread.x];return c(Ye(I,P),I)},{output:[this.sizes[this.outputLayer]],pipeline:!0,immutable:!0}):this.backwardPropagate[h]=this.gpu.createKernelMap({error:gn},function(m,O,I){const P=O[this.thread.x];return c(gn(this.thread.x,this.constants.size,m,I),P)},{output:[this.sizes[h]],pipeline:!0,constants:{size:this.sizes[h+1]},immutable:!0})}buildGetChanges(){for(let c=1;c<=this.outputLayer;c++)this.changesPropagate[c]=this.gpu.createKernelMap({weights:jn,changes:en},function(h,m,O,I){const P=en(this.constants.learningRate,this.constants.momentum,I[this.thread.y][this.thread.x],m[this.thread.y],h[this.thread.x]);return jn(P,O[this.thread.y][this.thread.x])},{output:[this.sizes[c-1],this.sizes[c]],pipeline:!0,constants:{size:this.sizes[c-1],learningRate:this.trainOpts.learningRate,momentum:this.trainOpts.momentum},immutable:!0})}getChanges(){for(let c=1;c<=this.outputLayer;c++){const h=this.weights[c],m=this.changes[c],O=this.changesPropagate[c](this.outputs[c-1],this.deltas[c],h,m);Le(h),Le(m),this.weights[c]=O.weights,this.changes[c]=O.changes,Le(O.result)}}buildChangeBiases(){for(let c=1;c<=this.outputLayer;c++)this.biasesPropagate[c]=this.gpu.createKernel(Bn,{output:[this.sizes[c]],pipeline:!0,constants:{learningRate:this.trainOpts.learningRate},immutable:!0})}changeBiases(){for(let c=1;c<=this.outputLayer;c++){const h=this.biases[c];this.biases[c]=this.biasesPropagate[c](h,this.deltas[c]),Le(h)}}buildGetMSE(){this.getMSE=this.gpu.createKernel(Ue,{output:[1],constants:{size:this.sizes[this.outputLayer]},pipeline:!0,immutable:!0}),this._addMSE=this.gpu.createKernel(function(c,h){return c[0]+h[0]},{output:[1],pipeline:!0,immutable:!0}),this._divideMSESum=this.gpu.createKernel(function(c,h){const m=h[0];return m>0?m/c:0},{output:[1]})}run(c){if(!this.isRunnable)throw new Error("network not runnable");let h;this.inputLookup?h=k.toArray(this.inputLookup,c,this.inputLookupLength):h=c,this.validateInput(h);const m=this.runInput(h),O=m instanceof E.Texture?m.toArray():m;return this.outputLookup?k.toObject(this.outputLookup,O):O}prepTraining(c,h={}){this.updateTrainingOptions(h);const m=this.formatData(c),O=Date.now()+this.trainOpts.timeout,I={error:1,iterations:0};this.verifyIsInitialized(m);const P=this.gpu.createKernel(function(z){return z[this.thread.x]},{output:[m[0].output.length],pipeline:!0,immutable:!0});return{preparedData:m.map(z=>({input:this.texturizeInputData(z.input),output:P(z.output)})),status:I,endTime:O}}toFunction(){throw new Error(`${this.constructor.name}-toFunction is not yet implemented`)}toJSON(){var c,h;this.sizes===null&&this.initialize();const m=this.weights.map(P=>(P instanceof E.Texture?P.toArray():P).map(z=>Array.from(z))),O=this.biases.map(P=>Array.from(P instanceof E.Texture?P.toArray():P)),I=[];for(let P=0;P<=this.outputLayer;P++)I.push({weights:(c=m[P])!==null&&c!==void 0?c:[],biases:(h=O[P])!==null&&h!==void 0?h:[]});return{type:"NeuralNetworkGPU",sizes:[...this.sizes],layers:I,inputLookup:this.inputLookup?{...this.inputLookup}:null,inputLookupLength:this.inputLookupLength,outputLookup:this.outputLookup?{...this.outputLookup}:null,outputLookupLength:this.outputLookupLength,options:{...this.options},trainOpts:this.getTrainOptsJSON()}}}class Ke extends Error{constructor(c){super(`Cannot run a ${c.constructor.name} before it is trained.`)}}class _e{constructor(c){c??(c={}),c.binaryThresh,c.hiddenLayers,c.decodedSize&&c.decodedSize,this.denoiser=new Ae(c)}denoise(c){return this.denoiser.run(c)}decode(c){if(!this.decoder)throw new Ke(this);return this.decoder.run(c)}encode(c){if(!this.denoiser)throw new Ke(this);this.denoiser.run(c);let h=this.encodedLayer;return h instanceof E.Texture?h=h.toArray():h=h.slice(0),h}likelyIncludesAnomalies(c,h=.2){var m;const O=[],I=this.denoise(c);for(let R=0;R<((m=c.length)!==null&&m!==void 0?m:0);R++)O[R]=Math.abs(c[R]-I[R]);return O.reduce((R,T)=>R+T)/c.length>h}train(c,h){const m=[];for(const I of c)m.push({input:I,output:I});const O=this.denoiser.train(m,h);return this.decoder=this.createDecoder(),O}createDecoder(){const c=this.denoiser.toJSON(),h=[],m=[];for(let I=this.encodedLayerIndex;I<this.denoiser.sizes.length;I++)h.push(c.layers[I]),m.push(c.sizes[I]);return c.layers=h,c.sizes=m,c.options.inputSize=c.sizes[0],new Ae().fromJSON(c)}get encodedLayer(){return this.denoiser.outputs[this.encodedLayerIndex]}get encodedLayerIndex(){return Math.round(this.denoiser.outputs.length*.5)-1}}class lt{constructor(c){this.json={avgs:{error:0,iterations:0,testTime:0,trainTime:0},stats:{total:0,testSize:0,trainSize:0},sets:[]},this.initClassifier=c}testPartition(c,h,m){const O=this.initClassifier(),I=Date.now(),P=O.train(h,c),z=Date.now(),R=O.test(m),T=Date.now();return{...R,trainTime:z-I,testTime:T-z,iterations:P.iterations,error:P.error,total:R.total,network:O.toJSON()}}shuffleArray(c){for(let h=c.length-1;h>0;h--){const m=Math.floor(Math.random()*(h+1)),O=c[h];c[h]=c[m],c[m]=O}return c}train(c,h={},m=4){if(c.length<m)throw new Error(`Training set size is too small for ${c.length} k folds of ${m}`);this.shuffleArray(c);const O=c.length/m,I={trainTime:0,testTime:0,iterations:0,error:0},P={total:0,testSize:0,trainSize:0},z={total:0,testSize:0,trainSize:0,truePos:0,trueNeg:0,falsePos:0,falseNeg:0,precision:0,recall:0,accuracy:0},R=[];let T=null;for(let $=0;$<m;$++){const x=c.slice(0),S=x.splice($*O,O),j=x,re=this.testPartition(h,j,S);T===null&&(T=re.hasOwnProperty("falseNeg")&&re.hasOwnProperty("falsePos")&&re.hasOwnProperty("trueNeg")&&re.hasOwnProperty("truePos"),T&&Object.assign(P,z)),I.iterations+=re.iterations,I.testTime+=re.testTime,I.trainTime+=re.trainTime,I.error+=re.error,P.total+=re.total,lt.isBinaryStats(P)&&lt.isBinaryPartitionResults(re)&&(P.accuracy+=re.accuracy,P.falseNeg+=re.falseNeg,P.falsePos+=re.falsePos,P.precision+=re.precision,P.recall+=re.recall,P.trueNeg+=re.trueNeg,P.truePos+=re.truePos),R.push(re)}return I.error/=m,I.iterations/=m,I.testTime/=m,I.trainTime/=m,lt.isBinaryStats(P)&&(P.precision=P.truePos/(P.truePos+P.falsePos),P.recall=P.truePos/(P.truePos+P.falseNeg),P.accuracy=(P.trueNeg+P.truePos)/P.total),P.testSize=O,P.trainSize=c.length-O,this.json={avgs:I,stats:P,sets:R},this.json}toNeuralNetwork(){return this.fromJSON(this.json)}toJSON(){return this.json}fromJSON(c){const h=c.sets.reduce((m,O)=>m.error<O.error?m:O);return this.initClassifier().fromJSON(h.network)}}lt.isBinaryStats=N=>N.accuracy!==void 0,lt.isBinaryResults=N=>N.stats.accuracy!==void 0,lt.isBinaryPartitionResults=N=>N.accuracy!==void 0;function Nt(N){let c=0;for(let h=0;h<this.constants.height;h++)for(let m=0;m<this.constants.width;m++)c+=N[h][m]**2;return c/this.constants.length}class Jt{constructor({width:c,height:h}){this.calculate=$e(Nt,{output:[1],constants:{width:c,height:h,length:c*h},immutable:!0}),this.addAbsolute=$e(function(m,O){return m[0]+Math.abs(O[0][0])},{output:[1],immutable:!0}),this.add=$e(function(m,O){return m[0]+O[0]},{output:[1],immutable:!0}),this.divide=$e(function(m,O){const I=O[0];return I>0?I/m:0},{output:[1],immutable:!0})}}const An={width:1,height:1,depth:null,weights:null,deltas:null,praxis:null,praxisOpts:null,cleanupDeltas:!0};class Kn{constructor(c){this.praxis=null,this.predictKernel=null,this.compareKernel=null,c?this.settings={...An,...c}:this.settings={...An},this.setupPraxis()}get width(){var c;return(c=this.settings.width)!==null&&c!==void 0?c:0}get height(){var c;return(c=this.settings.height)!==null&&c!==void 0?c:0}get depth(){var c;return(c=this.settings.depth)!==null&&c!==void 0?c:0}get weights(){return this.settings.weights}set weights(c){this.settings.weights=c,this.settings.cleanupDeltas&&this.deltas&&Ze(this.deltas)}get deltas(){return this.settings.deltas}set deltas(c){this.settings.deltas=c}get id(){var c;return(c=this.settings.id)!==null&&c!==void 0?c:""}set id(c){this.settings.id=c}setupPraxis(){const{initPraxis:c,praxis:h,praxisOpts:m}=this.settings;this.praxis||(c?m?this.praxis=c(this,m):this.praxis=c(this):h&&(this.praxis=h))}validate(){if(Number.isNaN(this.height))throw new Error(`${this.constructor.name} layer height is not a number`);if(Number.isNaN(this.width))throw new Error(`${this.constructor.name} layer width is not a number`);if(this.height<1)throw new Error(`${this.constructor.name} layer height is less than 1`);if(this.width<1)throw new Error(`${this.constructor.name} layer width is less than 1`)}setupKernels(c){}reuseKernels(c){if(c.width!==this.width)throw new Error(`${this.constructor.name} kernel width mismatch ${c.width} is not ${this.width}`);if(c.height!==this.height)throw new Error(`${this.constructor.name} kernel width mismatch ${c.height} is not ${this.height}`);if(c.hasOwnProperty("predictKernel")&&c.predictKernel!==null){if(!c.predictKernel.immutable)throw new Error(`${c.constructor.name}.predictKernel is not reusable, set kernel.immutable = true`);this.predictKernel=c.predictKernel}if(c.hasOwnProperty("compareKernel")&&c.compareKernel!==null){if(!c.compareKernel.immutable)throw new Error(`${c.constructor.name}.compareKernel is not reusable, set kernel.immutable = true`);this.compareKernel=c.compareKernel}this.praxis=c.praxis}predict(c){}compare(c){}learn(c){}toArray(){return Array.isArray(this.weights)?this.weights:this.weights.toArray()}toJSON(){return Kn.toJSON(this)}static toJSON(c){const{weights:h}=c;return{width:c.width,height:c.height,depth:c.depth,weights:yr(h&&h instanceof E.Texture?h.toArray():h),type:c.constructor.name,praxisOpts:c.praxis?c.praxis.toJSON():null}}}function yr(N){if(N===null)return null;if(Array.isArray(N)){if(typeof N[0]=="number")return N;if(Array.isArray(N[0])&&typeof N[0][0]=="number")return N;if(Array.isArray(N[0][0])&&typeof N[0][0][0]=="number")return N;if(N[0]instanceof Float32Array)return N.map(h=>Array.from(h));if(N[0][0]instanceof Float32Array)return N.map(h=>h.map(m=>Array.from(m)))}else if(N)return Array.from(N);throw new Error("unexpected value")}function rn(N,c){const h=new Array(c);for(let m=0;m<c;m++)h[m]=he(N);return h}function rr(N,c,h){const m=new Array(h);for(let O=0;O<h;O++)m[O]=rn(N,c);return m}class Ln extends Kn{constructor(c,h){super(h),this.inputLayer=c;const{width:m,height:O,depth:I}=this;this.predictKernel=null,this.compareKernel=null,this.validate(),I>0?(this.weights=rr(m,O,I),this.deltas=rr(m,O,I)):O>0&&(this.weights=rn(m,O),this.deltas=rn(m,O)),this.setupPraxis()}get width(){return this.inputLayer.width}get height(){return this.inputLayer.height}get depth(){return this.inputLayer.depth}}class br extends Kn{constructor(c,h){super(),this.settings=c,this.inputLayer=h}get width(){return this.inputLayer.width}get height(){return this.inputLayer.height}get depth(){return this.inputLayer.depth}get filterCount(){return this.settings.filterCount}get filterWidth(){return this.settings.filterWidth}get filterHeight(){return this.settings.filterHeight}get filters(){return this.settings.filters}set filters(c){this.settings.filters=c}get filterDeltas(){return this.settings.filterDeltas}set filterDeltas(c){this.settings.filterDeltas=c}}class Is{constructor(){this.predictKernel=null,this.compareKernel=null,this.praxis=null}get width(){return this.settings.width}get height(){return this.settings.height}get depth(){return this.settings.depth}get weights(){return this.settings.weights}set weights(c){this.settings.weights=c}get deltas(){return this.settings.deltas}set deltas(c){this.settings.deltas=c}toJSON(){return Kn.toJSON(this)}}class hi extends Kn{constructor(c,h){super({...h,width:c.width,height:c.height,depth:c.depth}),this.inputLayer=c}validate(){var c;if(super.validate(),this.width!==this.inputLayer.width)throw new Error(`width of ${this.width} does not match inputLayer.width of ${this.inputLayer.width}`);if(this.height!==this.inputLayer.height)throw new Error(`height of ${this.height} does not match inputLayer.height of ${this.inputLayer.height}`);if(this.depth!==((c=this.inputLayer.depth)!==null&&c!==void 0?c:0))throw new Error(`depth of ${this.depth} does not match inputLayer.depth of ${this.inputLayer.depth}`)}}class Ss extends Kn{constructor(c,h,m){super(m),this.inputLayer1=c,this.inputLayer2=h,this.validate(),this.weights=rn(this.width,this.height),this.deltas=rn(this.width,this.height),this.setupPraxis()}}function Zl(N,c){return N[this.thread.y][this.thread.x]-c[this.thread.x]}function ma(N,c){return N[this.thread.y][this.thread.x]-c[this.thread.y][this.thread.x]}class Ni extends Kn{constructor(c,h){if(super(c),this.inputLayer=h,this.validate(),this.depth)throw new Error("Target layer not implemented for depth");this.height?(this.weights=rn(this.width,this.height),this.deltas=rn(this.width,this.height),this.errors=rn(this.width,this.height)):(this.weights=he(this.width),this.deltas=he(this.width),this.errors=he(this.width))}setupKernels(){this.width===1?this.compareKernel=$e(Zl,{output:[this.width,this.height],immutable:!0}):this.compareKernel=$e(ma,{output:[this.width,this.height],immutable:!0})}predict(){Le(this.weights),this.weights=We(this.inputLayer.weights)}compare(c){Le(this.deltas),Le(this.errors),Le(this.inputLayer.deltas),this.deltas=this.compareKernel(this.weights,c),this.inputLayer.deltas=We(this.deltas),this.errors=We(this.deltas)}setupPraxis(){}}function to(N,c){return new Ni(N,c)}class no{}class ro extends Kn{}class As extends Kn{learn(c){const{weights:h}=this;if(!this.praxis)throw new Error("this.praxis not defined");this.weights=this.praxis.run(this,c),Le(h)}}class ht{constructor(c,h={}){this.layerTemplate=c,this.settings={...h},this.kernel=null}get width(){return this.layerTemplate.width}get height(){return this.layerTemplate.height}get depth(){return this.layerTemplate.depth}setupKernels(){}reuseKernels(c){if(c.width!==this.width)throw new Error(`${this.constructor.name} kernel width mismatch ${c.width} is not ${this.width}`);if(c.height!==this.height)throw new Error(`${this.constructor.name} kernel width mismatch ${c.height} is not ${this.height}`);c.hasOwnProperty("kernel")&&(this.kernel=c.kernel)}toJSON(){return{...this.settings}}}function Pt(N,c){return N[this.thread.y][this.thread.x]+this.constants.learningRate*c[this.thread.y][this.thread.x]}const Sn={learningRate:.3};class lr extends ht{constructor(c,h){super(c),this.settings={...Sn,...h},this.kernel=null}run(c){return this.kernel(c.weights,c.deltas)}setupKernels(){var c;this.kernel=$e(Pt,{output:[this.width,this.height],constants:{learningRate:(c=this.settings.learningRate)!==null&&c!==void 0?c:.01}})}}function $r(N,c){return new lr(N,c)}function pi(N){return N}function Ls(N,c,h,m){const O=N[this.thread.y][this.thread.x],I=m[this.thread.y][0],P=c[this.thread.y][this.thread.x],z=h[this.thread.x][0],R=this.constants.learningRate*I*z+this.constants.momentum*O;return P+R}const mi={learningRate:.3,momentum:.1,weightsLayer:null,incomingLayer:null,deltaLayer:null};class gi extends ht{constructor(c,h){super(c),this.kernelMap=null,this.settings={...mi,...h},this.changes=rn(c.width,c.height)}get learningRate(){return this.settings.learningRate}get momentum(){return this.settings.momentum}get weightsLayer(){return this.settings.weightsLayer}set weightsLayer(c){this.settings.weightsLayer=c}get deltaLayer(){return this.settings.deltaLayer}set deltaLayer(c){this.settings.deltaLayer=c}get incomingLayer(){return this.settings.incomingLayer}set incomingLayer(c){this.settings.incomingLayer=c}run(){const c=this.kernelMap(this.changes,this.weightsLayer.weights,this.incomingLayer.weights,this.deltaLayer.deltas);return this.changes=c.changes,c.result}setupKernels(){this.kernelMap=Ge({changes:pi},Ls,{output:[this.width,this.height],constants:{learningRate:this.learningRate,momentum:this.momentum}})}}function ga(N,c){return new gi(N,c)}function dt(N,c,h){return h*c+(1-c)*N*N}function Rt(N,c,h){return N>c?c:N<h?h:N}function tn(N,c,h){const m=c[this.thread.y][this.thread.x],O=Rt(m,this.constants.clipValue,-this.constants.clipValue),I=N[this.thread.y][this.thread.x],P=h[this.thread.y][this.thread.x],z=dt(m,this.constants.decayRate,P);return I+-this.constants.learningRate*O/Math.sqrt(z+this.constants.smoothEps)-this.constants.regularizationStrength*I}const dn={decayRate:.999,regularizationStrength:1e-6,learningRate:.01,smoothEps:1e-8,clipValue:5};class wr extends ht{constructor(c,h={}){super(c),this.kernelMap=null,this.settings={...dn,...h},this.momenta=rn(c.width,c.height)}get clipValue(){return this.settings.clipValue}get decayRate(){return this.settings.decayRate}get learningRate(){return this.settings.learningRate}get regularizationStrength(){return this.settings.regularizationStrength}get smoothEps(){return this.settings.smoothEps}run(c){const{momenta:h,result:m}=this.kernelMap(c.weights,c.deltas,this.momenta);return Le(this.momenta),this.momenta=h,m}setupKernels(){this.kernelMap=Ge({momenta:dt},tn,{output:[this.width,this.height],constants:{clipValue:this.clipValue,decayRate:this.decayRate,learningRate:this.learningRate,regularizationStrength:this.regularizationStrength,smoothEps:this.smoothEps},functions:[Rt],immutable:!0})}}function ps(N,c){return new wr(N,c)}var Eh=Object.freeze({__proto__:null,ArthurDeviationBiases:lr,arthurDeviationBiases:$r,ArthurDeviationWeights:gi,arthurDeviationWeights:ga,MomentumRootMeanSquaredPropagation:wr,momentumRootMeanSquaredPropagation:ps,MRmsProp:wr,mRmsProp:ps});function Ql(N,c){N.hasOwnProperty("inputLayer")?Ql(N.inputLayer,c):(N.hasOwnProperty("inputLayer1")&&Ql(N.inputLayer1,c),N.hasOwnProperty("inputLayer2")&&Ql(N.inputLayer2,c)),c(N)}function Pc(N){const c=N.slice(0);for(let h=0;h<c.length;h++){let m=0;Ql(c[h],O=>{c.includes(O)||(c.splice(h+m,0,O),m++)})}return c}function Fc(N,c){if(N.width!==c.width)throw new Error(`Layer width mismatch of ${N.width} and ${c.width}`);if(N.height!==c.height)throw new Error(`Layer height mismatch of ${N.height} and ${c.height}`)}function $h(N,c){return N[this.thread.y][this.thread.x]+c[this.thread.y][this.thread.x]}class yy extends Ss{get width(){return this.inputLayer1.width}get height(){return this.inputLayer1.height}get depth(){return this.inputLayer1.depth}validate(){super.validate(),Fc(this.inputLayer1,this.inputLayer2)}setupKernels(){this.predictKernel=$e($h,{output:[this.width,this.height],immutable:!0})}predict(){Le(this.weights),this.weights=this.predictKernel(this.inputLayer1.weights,this.inputLayer2.weights)}compare(){Le(this.inputLayer1.deltas),Le(this.inputLayer2.deltas),this.inputLayer1.deltas=We(this.deltas),this.inputLayer2.deltas=We(this.deltas)}}function dr(N,c,h){return new yy(N,c,h)}const bE={...An,std:null};class by extends As{constructor(c){super(),this.settings={...bE,...c},this.setupPraxis(),this.validate(),this.weights||(this.weights=Be(this.width,this.height,c.std)),this.deltas||(this.deltas=rn(this.width,this.height))}predict(){}compare(){}}function fr(N){return new by(N)}function wE(N,c){let h=0;for(let m=0;m<this.constants.size;m++)h+=N[this.thread.y][m]*c[m][this.thread.x];return h}function xE(N,c,h){let m=c[this.thread.y][this.thread.x];for(let O=0;O<this.constants.size;O++)m+=N[this.thread.y][O]*h[this.thread.x][O];return m}function SE(N,c,h){let m=c[this.thread.y][this.thread.x];for(let O=0;O<this.constants.size;O++)m+=N[O][this.thread.x]*h[O][this.thread.y];return m}class wy extends Ss{constructor(){super(...arguments),this.compareKernel1=null,this.compareKernel2=null}get width(){return this.inputLayer2.width}set width(c){throw new Error("Cannot set width on Multiply")}get height(){return this.inputLayer1.height}set height(c){throw new Error("Cannot set height on Multiply")}get depth(){return this.inputLayer1.depth}set depth(c){throw new Error("Cannot set depth on Multiply")}validate(){if(super.validate(),this.inputLayer1.width!==this.inputLayer2.height)throw new Error(`Layer width mismatch of ${this.inputLayer1.width} and ${this.inputLayer2.height}`)}setupKernels(){this.predictKernel=$e(wE,{output:[this.width,this.height],constants:{size:this.inputLayer2.height},immutable:!0}),this.compareKernel1=$e(xE,{output:[this.inputLayer1.width,this.inputLayer1.height],constants:{size:this.inputLayer2.width},immutable:!0}),this.compareKernel2=$e(SE,{output:[this.inputLayer2.width,this.inputLayer2.height],constants:{size:this.inputLayer1.height},immutable:!0})}reuseKernels(c){super.reuseKernels(c),this.compareKernel1=c.compareKernel1,this.compareKernel2=c.compareKernel2}predict(){if(Le(this.weights),!this.predictKernel)throw new Error("this.predictKernel is not set");this.weights=this.predictKernel(this.inputLayer1.weights,this.inputLayer2.weights)}compare(){if(!this.compareKernel1)throw new Error("this.compareKernel1 not set");if(!this.compareKernel2)throw new Error("this.compareKernel2 not set");const c=this.inputLayer1.deltas,h=this.inputLayer2.deltas,m=this.compareKernel1(this.deltas,this.inputLayer1.deltas,this.inputLayer2.weights),O=this.compareKernel2(this.deltas,this.inputLayer2.deltas,this.inputLayer1.weights);this.inputLayer2.deltas=O,this.inputLayer1.deltas=m,Le(c),Le(h)}setupPraxis(){}toJSON(){return{...super.toJSON(),width:this.width,height:this.height}}}function Cr(N,c,h){return new wy(N,c,h)}function CE(N){return 1/(1+Math.exp(-N[this.thread.y][this.thread.x]))}function _E(N){return 1/(1+Math.exp(-N[this.thread.z][this.thread.y][this.thread.x]))}function TE(N,c){const h=N[this.thread.y][this.thread.x],m=c[this.thread.y][this.thread.x];return h*(1-h)*m}function kE(N,c){const h=N[this.thread.z][this.thread.y][this.thread.x],m=c[this.thread.z][this.thread.y][this.thread.x];return h*(1-h)*m}class xy extends Ln{setupKernels(){this.depth>0?(this.predictKernel=$e(_E,{output:[this.width,this.height,this.depth],functions:[a],immutable:!0}),this.compareKernel=$e(kE,{output:[this.width,this.height,this.depth],functions:[l],immutable:!0})):(this.predictKernel=$e(CE,{output:[this.width,this.height],functions:[a],immutable:!0}),this.compareKernel=$e(TE,{output:[this.width,this.height],functions:[l],immutable:!0}))}predict(){Le(this.weights),this.weights=this.predictKernel(this.inputLayer.weights)}compare(){Le(this.inputLayer.deltas),this.inputLayer.deltas=this.compareKernel(this.weights,this.deltas)}learn(c){}}function va(N,c){return new xy(N,c)}function EE(N,c){const{height:h}=N;function m(x,S){const j=ga(x,S);return j.setupKernels(),j}function O(x,S){const j=$r(x,S);return j.setupKernels(),j}const I=fr({id:"weights",height:h,width:c.height,initPraxis:m}),P=fr({id:"biases",height:h,initPraxis:O}),z=Cr(I,c),R=dr(z,P),T=va(R),$=I.praxis;return $.weightsLayer=I,$.incomingLayer=c,$.deltaLayer=T,T}function Sy(N,c){if(typeof N.stride=="number")return{strideX:N.stride,strideY:N.stride};{let h=c.stride,m=c.stride;return typeof N.strideX=="number"&&(h=N.strideX),typeof N.strideY=="number"&&(m=N.strideY),{strideX:h,strideY:m}}}function Cy(N,c){if(typeof N.padding=="number")return{paddingX:N.padding,paddingY:N.padding};{let h=c.padding,m=c.padding;return typeof N.paddingX=="number"&&(h=N.paddingX),typeof N.paddingY=="number"&&(m=N.paddingY),{paddingX:h,paddingY:m}}}function _y(N,c){return new Float32Array(N).fill(c)}function $E(N,c,h){const m=this.constants.paddingX-this.thread.x*this.constants.strideX,O=this.thread.x*this.constants.strideX-this.constants.paddingX,I=Math.min(this.constants.filterWidth,m+this.constants.inputWidth),P=this.constants.paddingY-this.thread.y*this.constants.strideY,z=this.thread.y*this.constants.strideY-this.constants.paddingY,R=Math.min(this.constants.filterHeight,P+this.constants.inputHeight);let T=0;for(let $=0;$<this.constants.inputDepth;$++)for(let x=Math.max(0,P),S=Math.max(0,z);x<R;x++,S++)for(let j=Math.max(0,m),re=Math.max(0,O);j<I;j++,re++)T+=c[$][x][j]*N[$][S][re];return T+h[this.thread.z]}function IE(N,c,h){const m=Math.max(0,Math.ceil((this.constants.paddingX-this.thread.x)/this.constants.strideX)),O=m*this.constants.strideX+this.thread.x-this.constants.paddingX,I=Math.min(this.constants.deltaWidth,Math.floor((this.constants.inputWidth-1-this.thread.x+this.constants.paddingX)/this.constants.strideX)+1),P=Math.max(0,Math.ceil((this.constants.paddingY-this.thread.y)/this.constants.strideY)),z=P*this.constants.strideY+this.thread.y-this.constants.paddingY,R=Math.min(this.constants.deltaHeight,Math.floor((this.constants.inputHeight-1-this.thread.y+this.constants.paddingY)/this.constants.strideY)+1);let T=N[this.thread.z][this.thread.y][this.thread.x];for(let $=P,x=z;$<R;$++,x+=this.constants.strideY)for(let S=m,j=O;S<I;S++,j+=this.constants.strideX)T+=c[this.thread.z][x][j]*h[this.constants.deltaZ][$][S];return T}function AE(N,c,h){const m=this.thread.x+this.constants.paddingX,O=m<this.constants.filterWidth?0:Math.floor((m-this.constants.filterWidth+this.constants.strideX)/this.constants.strideX),I=m-O*this.constants.strideX,P=Math.min(O+Math.floor(I/this.constants.strideX)+1,this.constants.deltaWidth),z=this.thread.y+this.constants.paddingY,R=z<this.constants.filterHeight?0:Math.floor((z-this.constants.filterHeight+this.constants.strideY)/this.constants.strideY),T=z-R*this.constants.strideY,$=Math.min(R+Math.floor(T/this.constants.strideY)+1,this.constants.deltaHeight);let x=N[this.thread.z][this.thread.y][this.thread.x],S=R;for(let j=T;S<$;j-=this.constants.strideY,S++){let re=O;for(let Ce=I;re<P;Ce-=this.constants.strideX,re++)x+=c[this.thread.z][j][Ce]*h[this.constants.deltaZ][S][re]}return x}function LE(N,c){let h=0;for(let m=0;m<this.constants.deltaHeight;m++)for(let O=0;O<this.constants.deltaWidth;O++)h+=c[this.thread.z][m][O];return N[this.thread.z][this.thread.y][this.thread.x]+h}const Ih={stride:0,padding:0,bias:.1,filterCount:1,filterWidth:0,filterHeight:0};class Ty extends br{constructor(c,h){var m,O,I;super(c,h),this.compareFilterDeltasKernel=null,this.compareInputDeltasKernel=null,this.compareBiasesKernel=null,this.settings={...Ih,...c,...Cy(c,Ih),...Sy(c,Ih)},this.weights=(m=c.weights)!==null&&m!==void 0?m:He(this.width,this.height,this.depth),this.deltas=rr(this.width,this.height,this.depth),this.biases=_y(this.depth,this.bias),this.biasDeltas=(O=c.biasDeltas)!==null&&O!==void 0?O:Fe(this.depth),this.filters=(I=c.filters)!==null&&I!==void 0?I:He(this.filterWidth,this.filterHeight,this.filterCount),this.filterDeltas=rr(this.filterWidth,this.filterHeight,this.filterCount),this.validate()}get strideX(){return this.settings.strideX}get strideY(){return this.settings.strideY}get paddingX(){return this.settings.paddingX}get paddingY(){return this.settings.paddingX}get width(){return Math.floor((this.inputLayer.width+this.paddingX*2-this.filterWidth)/this.strideX+1)}get height(){return Math.floor((this.inputLayer.height+this.paddingY*2-this.filterHeight)/this.strideY+1)}get bias(){return this.settings.bias}get depth(){return this.filterCount}get biases(){return this.settings.biases}set biases(c){this.settings.biases=c}get biasDeltas(){return this.settings.biasDeltas}set biasDeltas(c){this.settings.biasDeltas=c}get filters(){return this.settings.filters}set filters(c){this.settings.filters=c}get filterDeltas(){return this.settings.filterDeltas}set filterDeltas(c){this.settings.filterDeltas=c}setupKernels(){this.predictKernel=$e($E,{constants:{inputWidth:this.inputLayer.width,inputHeight:this.inputLayer.height,inputDepth:this.inputLayer.depth,strideX:this.strideX,strideY:this.strideY,paddingX:this.paddingX,paddingY:this.paddingY,filterWidth:this.filterWidth,filterHeight:this.filterHeight},output:[this.width,this.height,this.depth],immutable:!0}),this.compareFilterDeltasKernel=$e(IE,{constants:{deltaWidth:this.width,deltaHeight:this.height,deltaZ:this.depth,inputWidth:this.inputLayer.width,inputHeight:this.inputLayer.height,inputDepth:this.inputLayer.depth,strideX:this.strideX,strideY:this.strideY,paddingX:this.paddingX,paddingY:this.paddingY,filterWidth:this.filterWidth,filterHeight:this.filterHeight},output:[this.width,this.height,this.depth],immutable:!0}),this.compareInputDeltasKernel=$e(AE,{constants:{deltaWidth:this.width,deltaHeight:this.height,deltaZ:this.depth,strideX:this.strideX,strideY:this.strideY,paddingX:this.paddingX,paddingY:this.paddingY,filterWidth:this.filterWidth,filterHeight:this.filterHeight,filterCount:this.filterCount},output:[this.inputLayer.width,this.inputLayer.height,this.inputLayer.depth],immutable:!0}),this.compareBiasesKernel=$e(LE,{output:[1,1,this.depth],constants:{deltaWidth:this.width,deltaHeight:this.height},immutable:!0})}predict(){this.weights=this.predictKernel(this.inputLayer.weights,this.filters,this.biases)}compare(){const{filterDeltas:c,biasDeltas:h}=this;this.filterDeltas=this.compareFilterDeltasKernel(c,this.inputLayer.weights,this.deltas),Le(c),this.biasDeltas=this.compareBiasesKernel(h,this.deltas),Le(h),Le(this.deltas),this.deltas=this.compareInputDeltasKernel(this.filters,this.inputLayer.deltas),Le(this.inputLayer.deltas),this.inputLayer.deltas=We(this.deltas)}learn(c){const{weights:h}=this;this.weights=this.praxis.run(this,c),Le(h)}}function OE(N,c){return new Ty(N,c)}function ME(N){return N}function RE(N){return Math.random()<this.constants.probability?0:N[this.thread.y][this.thread.x]}function DE(N){return N[this.thread.y][this.thread.x]*this.constants.probability}function NE(N,c){return N[this.thread.y][this.thread.x]===0?0:c[this.thread.y][this.thread.x]}const PE={...An,probability:.5};class ky extends br{constructor(c,h){super(h,c),this.predictKernelMap=null,this.settings={...PE,...h},this.dropouts=null,this.validate()}setupKernels(c){const h=[this.width,this.height];c?(this.predictKernelMap=Ge({dropouts:ME},RE,{output:h,immutable:!0}),this.compareKernel=$e(NE,{output:h,immutable:!0})):this.predictKernelMap=Ge({},DE,{output:h,immutable:!0})}predict(){Le(this.weights),this.dropouts&&Le(this.dropouts);const{result:c,dropouts:h}=this.predictKernelMap(this.inputLayer.weights);this.weights=c,this.dropouts=h}compare(){Le(this.deltas),this.deltas=this.compareKernel(this.dropouts,this.inputLayer.deltas)}}function FE(N,c){return new ky(N,c)}function VE(N,c){const{height:h,praxisOpts:m=null}=N,O=fr({id:"weights",height:h,width:c.height,praxisOpts:m}),I=fr({id:"biases",height:h,praxisOpts:m});return va(dr(Cr(O,c,{praxisOpts:m}),I,{praxisOpts:m}),{praxisOpts:m})}function zE(N,c,h){let m=0,O=0;for(let I=0;I<this.constants.inputHeight;I++)for(let P=0;P<this.constants.inputWidth;P++)m+=N[I][P]*c[this.thread.x][O],O++;return m+h[this.thread.x]}function BE(N,c,h){let m=0,O=0;for(let I=0;I<this.constants.inputDepth;I++)for(let P=0;P<this.constants.inputHeight;P++)for(let z=0;z<this.constants.inputWidth;z++)m+=N[I][P][z]*c[this.thread.x][O],O++;return m+h[this.thread.x]}function KE(N,c,h){let m=0;const O=this.thread.x+this.thread.y*this.output.x;for(let I=0;I<this.constants.filterCount;I++)m+=h[I][O]*c[0][I];return m+N[this.thread.y][this.thread.x]}function HE(N,c,h){let m=0;const O=this.thread.x+this.thread.y*this.output.x;for(let I=0;I<this.constants.filterCount;I++)m+=h[I][O]*c[0][I];return m+N[this.thread.z][this.thread.y][this.thread.x]}function WE(N,c){return N[this.thread.x]+c[this.thread.y][this.thread.x]}function UE(N,c,h){return N[this.thread.y][this.thread.x]+c[this.thread.y][this.thread.x]*h[this.constants.deltaY][this.constants.deltaX]}function jE(N,c,h){const m=Math.floor(this.thread.x/(this.constants.inputWidth*this.constants.inputHeight)),O=Math.floor((this.thread.x-m*this.constants.inputWidth*this.constants.inputHeight)/this.constants.inputWidth),I=this.thread.x-this.constants.inputWidth*(O+this.constants.inputHeight*m);return N[this.thread.y][this.thread.x]+c[m][O][I]*h[0][this.thread.y]}class Ey extends br{constructor(c,h){super(c,h),this.compareFilterDeltasKernel=null,this.compareInputDeltasKernel=null,this.compareBiasesKernel=null,this.settings={...c},this.validate();const m=h.width*h.height*h.depth;this.biases=_y(this.height,this.bias),this.biasDeltas=he(this.height),this.filters=Be(m,this.height),this.filterDeltas=rn(m,this.height),this.depth>0?(this.weights=He(this.width,this.height,this.depth),this.deltas=rr(this.width,this.height,this.depth)):this.height>0&&(this.weights=Be(this.width,this.height),this.deltas=rn(this.width,this.height))}get bias(){return this.settings.bias}get biases(){return this.settings.biases}set biases(c){this.settings.biases=c}get biasDeltas(){return this.settings.biases}set biasDeltas(c){this.settings.biasDeltas=c}validate(){if(super.validate(),this.depth>0)throw new Error("depth not supported")}setupKernels(){const{inputLayer:c}=this,h=c.width*c.height*c.depth;c.depth>0?(this.predictKernel=$e(BE,{output:[this.width,this.height],constants:{inputHeight:c.height,inputWidth:c.width,inputDepth:c.depth}}),this.compareFilterDeltasKernel=$e(jE,{output:[h,this.height],constants:{deltaX:0,deltaY:0,inputWidth:c.width,inputHeight:c.height},immutable:!0}),this.compareInputDeltasKernel=$e(HE,{output:[c.width,c.height,c.depth],constants:{filterCount:this.height},immutable:!0})):(this.predictKernel=$e(zE,{output:[this.width,this.height],constants:{inputHeight:c.height,inputWidth:c.width}}),this.compareFilterDeltasKernel=$e(UE,{output:[h,this.height],constants:{deltaX:0,deltaY:0,inputWidth:c.width,inputHeight:c.height}}),this.compareInputDeltasKernel=$e(KE,{output:[c.width,c.height],constants:{filterCount:this.height}})),this.compareBiasesKernel=$e(WE,{output:[this.width,this.height]})}predict(){this.weights=this.predictKernel(this.inputLayer.weights,this.filters,this.biases)}compare(){const c=this.inputLayer.deltas;this.inputLayer.deltas=this.compareInputDeltasKernel(c,this.deltas,this.filters),Le(c);const{biasDeltas:h,filterDeltas:m}=this;this.biasDeltas=this.compareBiasesKernel(this.biases,this.deltas),this.filterDeltas=this.compareFilterDeltasKernel(m,this.inputLayer.weights,this.deltas),Le(h),Le(m)}}function GE(N,c){return new Ey(N,c)}function YE(N){return-N[this.thread.y][this.thread.x]}class $y extends hi{constructor(c,h){super(c,h),this.validate()}setupKernels(){this.predictKernel=$e(YE,{output:[this.width,this.height]})}predict(){this.weights=this.predictKernel(this.inputLayer.weights)}}function Iy(N,c){return new $y(N,c)}function XE(N,c){return N[this.thread.y][this.thread.x]*c[this.thread.y][this.thread.x]}function qE(N,c){return N[this.thread.y][this.thread.x]*c[this.thread.y][this.thread.x]}class Ay extends Ss{get width(){return this.inputLayer1.width}get height(){return this.inputLayer1.height}get depth(){return this.inputLayer1.depth}validate(){super.validate(),Fc(this.inputLayer1,this.inputLayer2)}setupKernels(){this.predictKernel=$e(XE,{output:[this.width,this.height],immutable:!0}),this.compareKernel=$e(qE,{output:[this.width,this.height],immutable:!0})}predict(){Le(this.weights),this.weights=this.predictKernel(this.inputLayer1.weights,this.inputLayer2.weights)}compare(){Le(this.inputLayer1.deltas),Le(this.inputLayer2.deltas),this.inputLayer1.deltas=this.compareKernel(this.inputLayer2.weights,this.deltas),this.inputLayer2.deltas=this.compareKernel(this.inputLayer1.weights,this.deltas)}}function so(N,c,h){return new Ay(N,c,h)}function Ly(N){return new Float32Array(N).fill(1)}function Oy(N,c){const h=new Array(c);for(let m=0;m<c;m++)h[m]=Ly(N);return h}class My extends As{constructor(c){super(c),this.validate(),this.weights=Oy(this.width,this.height),this.deltas=rn(this.width,this.height)}}function Ry(N){return new My(N)}function JE(N){return d(N[this.thread.y][this.thread.x])}function ZE(N){return d(N[this.thread.z][this.thread.y][this.thread.x])}function QE(N,c){return f(N[this.thread.y][this.thread.x],c[this.thread.y][this.thread.x])}function e$(N,c){return f(N[this.thread.z][this.thread.y][this.thread.x],c[this.thread.z][this.thread.y][this.thread.x])}class Dy extends Ln{setupKernels(){this.depth>0?(this.predictKernel=$e(ZE,{output:[this.width,this.height,this.depth],functions:[d],immutable:!0}),this.compareKernel=$e(e$,{output:[this.width,this.height,this.depth],functions:[f],immutable:!0})):(this.predictKernel=$e(JE,{output:[this.width,this.height],functions:[d],immutable:!0}),this.compareKernel=$e(QE,{output:[this.width,this.height],functions:[f],immutable:!0}))}predict(){Le(this.weights),this.weights=this.predictKernel(this.inputLayer.weights)}compare(){Le(this.inputLayer.deltas),this.inputLayer.deltas=this.compareKernel(this.weights,this.deltas)}}function Vc(N,c){return new Dy(N,c)}class Ny extends As{constructor(c){super(c),this.validate(),this.weights=rn(this.width,this.height),this.deltas=rn(this.width,this.height)}predict(){}compare(){}}function Pi(N){return new Ny(N)}function t$(N,c,h){const{height:m}=N,O=fr({height:m,width:h.height}),I=fr({width:m,height:m}),P=Pi({height:m}),z=va(dr(dr(Cr(O,h),Cr(I,c)),P)),R=fr({height:m,width:h.height}),T=fr({width:m,height:m}),$=Pi({height:m}),x=va(dr(dr(Cr(R,h),Cr(T,c)),$)),S=fr({height:m,width:h.height}),j=fr({width:m,height:m}),re=Pi({height:m}),Ce=Vc(dr(dr(Cr(S,h),Cr(j,so(x,c))),re));return dr(so(dr(Ry({width:z.width,height:z.height}),Iy(z)),Ce),so(c,z))}const n$={weights:null};class Py extends ro{constructor(c){super({...n$,...c}),this.reshapeInput=null,this.validate(),this.reshapeInput=null,this.deltas=rn(this.width,this.height)}setupKernels(){this.width===1&&(this.predict=this.predict1D,this.reshapeInput=$e(function(c){return c[this.thread.y]},{output:[1,this.height],immutable:!0}))}reuseKernels(c){this.reshapeInput=c.reshapeInput}predict(c){if((Array.isArray(c)||c instanceof Float32Array)&&typeof c[0]=="number"&&c.length===this.height*this.width)Le(this.weights),this.weights=Qe(c,[this.width,this.height]);else if(Array.isArray(c)&&c.length===this.height&&(Array.isArray(c[0])||c[0]instanceof Float32Array)&&c[0].length===this.width)this.weights=We(c);else throw new Error("Inputs are not of sized correctly")}predict1D(c){this.weights&&Le(this.weights),this.reshapeInput?this.weights=this.reshapeInput(c):this.weights=c}compare(){}learn(){}}function r$(N){return new Py(N)}function s$(N){return g(N[this.thread.y][this.thread.x])}function i$(N){return g(N[this.thread.z][this.thread.y][this.thread.x])}function a$(N,c){return v(N[this.thread.y][this.thread.x],c[this.thread.y][this.thread.x])}function o$(N,c){return v(N[this.thread.z][this.thread.y][this.thread.x],c[this.thread.z][this.thread.y][this.thread.x])}class Fy extends Ln{setupKernels(){const{width:c,height:h,depth:m}=this.inputLayer;this.depth>0?(this.predictKernel=$e(i$,{output:[c,h,m],functions:[g],immutable:!0}),this.compareKernel=$e(o$,{output:[c,h,m],functions:[v],immutable:!0})):(this.predictKernel=$e(s$,{output:[c,h],functions:[g],immutable:!0}),this.compareKernel=$e(a$,{output:[c,h],functions:[v],immutable:!0}))}predict(){Le(this.weights),this.weights=this.predictKernel(this.inputLayer.weights)}compare(){const{deltas:c}=this;this.deltas=this.compareKernel(this.weights,c),Le(c)}}function l$(N,c){return new Fy(N,c)}function u$(N,c,h){const{height:m}=N;if(typeof m!="number")throw new Error("no settings.height given");h.setDimensions&&h.setDimensions(1,m);const O=fr({width:c.height,height:m,std:.08,id:"inputGateWeights"}),I=fr({width:m,height:m,std:.08,id:"inputGatePeepholes"}),P=Pi({width:1,height:m,id:"inputGateBias"}),z=va(dr(dr(Cr(O,c),Cr(I,h)),P),{id:"inputGate"}),R=fr({width:c.height,height:m,std:.08,id:"forgetGateWeights"}),T=fr({width:m,height:m,std:.08,id:"forgetGatePeepholes"}),$=Pi({width:1,height:m,id:"forgetGateBias"}),x=va(dr(dr(Cr(R,c),Cr(T,h)),$),{id:"forgetGate"}),S=fr({width:c.height,height:m,std:.08,id:"outputGateWeights"}),j=fr({width:m,height:m,std:.08,id:"outputGatePeepholes"}),re=Pi({width:1,height:m,id:"outputGateBias"}),Ce=va(dr(dr(Cr(S,c),Cr(j,h)),re),{id:"outputGate"}),se=fr({width:c.height,height:m,std:.08,id:"memoryWeights"}),me=fr({width:m,height:m,std:.08,id:"memoryPeepholes"}),X=Pi({width:1,height:m,id:"memoryBias"}),ie=Vc(dr(dr(Cr(se,c),Cr(me,h)),X),{id:"memory"}),we=so(x,h,{id:"retainCell"}),Te=so(z,ie,{id:"writeCell"}),tt=dr(we,Te,{id:"cell"});return so(Ce,Vc(tt),{id:"activations"})}function c$(N,c){const{height:h}=N,m=fr({height:h,width:c.height,id:"outputGate",std:.08}),O=fr({height:h,id:"output",std:.08}),I=Cr(m,c,{id:"outputGateConnected"});return to({id:"target",...N},dr(I,O))}function d$(N){return N}function f$(N){return N}function h$(N){const c=this.thread.x*this.constants.strideX-this.constants.paddingX,h=this.thread.y*this.constants.strideY-this.constants.paddingY,m=c+this.constants.filterWidth,O=h+this.constants.filterHeight,I=Math.max(c,0),P=Math.max(h,0),z=Math.min(m,this.constants.inputWidth),R=Math.min(O,this.constants.inputHeight);let T=N[this.thread.z][P][I];for(let $=P;$<R;$++)for(let x=I;x<z;x++){const S=N[this.thread.z][$][x];S>T&&(T=S)}return T}function p$(N,c,h){const m=this.thread.x+.5,O=this.thread.y+.5,I=1/this.constants.strideX,P=1/this.constants.strideY,z=Math.max(0,Math.ceil((m-this.constants.filterWidth+this.constants.paddingX)*I)),R=Math.max(0,Math.ceil((O-this.constants.filterHeight+this.constants.paddingY)*P)),T=Math.min(Math.ceil((m+this.constants.paddingX)*I),this.constants.outputWidth),$=Math.min(Math.ceil((O+this.constants.paddingY)*P),this.constants.outputHeight);let x=0;for(let S=R;S<$;S++)for(let j=z;j<T;j++){const re=c[S][j],Ce=h[S][j];Math.abs(re-this.thread.x)<.1&&Math.abs(Ce-this.thread.y)<.1&&(x+=N[S][j])}return x}const Vy={padding:0,stride:0};class zy extends br{constructor(c,h){super(c,h),this.predictKernelMap=null,this.settings={...c,...Sy(c,Vy),...Cy(c,Vy)},this.weights=He(this.width,this.height,this.depth),this.deltas=rr(this.width,this.height,this.depth),this.validate()}get strideX(){return this.settings.strideX}get strideY(){return this.settings.strideY}get paddingX(){return this.settings.paddingX}get paddingY(){return this.settings.paddingY}get width(){return Math.ceil((this.inputLayer.width+this.paddingX*2-this.filterWidth)/this.strideX+1)}get height(){return Math.floor((this.inputLayer.height+this.paddingY*2-this.filterHeight)/this.strideY+1)}get depth(){return this.settings.filterCount}get filterCount(){return this.settings.filterCount}get switchX(){return this.settings.switchX}set switchX(c){this.settings.switchX=c}get switchY(){return this.settings.switchY}set switchY(c){this.settings.switchY=c}setupKernels(){this.predictKernelMap=Ge({switchX:f$,switchY:d$},h$,{output:[this.width,this.height,this.depth],constants:{inputWidth:this.inputLayer.width,inputHeight:this.inputLayer.height,paddingX:this.paddingX,paddingY:this.paddingY,filterHeight:this.filterHeight,filterWidth:this.filterWidth,strideX:this.strideX,strideY:this.strideY}}),this.compareKernel=$e(p$,{output:[this.inputLayer.width,this.inputLayer.height,this.inputLayer.depth],constants:{inputWidth:this.inputLayer.width,inputHeight:this.inputLayer.height,outputWidth:this.width,outputHeight:this.height,filterWidth:this.filterWidth,filterHeight:this.filterHeight,paddingX:this.paddingX,paddingY:this.paddingY,strideX:this.strideX,strideY:this.strideY}})}predict(){const{result:c,switchX:h,switchY:m}=this.predictKernelMap(this.inputLayer.weights);this.switchX=h,this.switchY=m,this.weights=c}compare(){const c=this.inputLayer.deltas;this.inputLayer.deltas=this.compareKernel(this.deltas,this.switchX,this.switchY),Le(c)}}function m$(N,c){return new zy(N,c)}class zc extends Is{constructor(c){super(),this.praxis=null,this.predictKernel=null,this.compareKernel=null,this.settings={},this.recurrentInput=c,this.validate()}get width(){return this.recurrentInput.width}get height(){return this.recurrentInput.height}get depth(){return this.recurrentInput.depth}get deltas(){return this.recurrentInput.deltas}set deltas(c){const h=this.recurrentInput.deltas;this.recurrentInput.deltas=c,Le(h)}get weights(){return this.recurrentInput.weights}set weights(c){const h=this.recurrentInput.weights;this.recurrentInput.weights=c,Le(h)}validate(){if(Kn.prototype.validate.call(this),this.width!==this.recurrentInput.width)throw new Error(`${this.constructor.name} layer width ${this.width} and ${this.recurrentInput.constructor.name} width (${this.recurrentInput.width}) are not same`);if(this.height!==this.recurrentInput.height)throw new Error(`${this.constructor.name} layer height ${this.height} and ${this.recurrentInput.constructor.name} width (${this.recurrentInput.height}) are not same`)}setDimensions(c,h){this.recurrentInput.width=c,this.recurrentInput.height=h}predict(){}compare(){}learn(){}setupKernels(){}reuseKernels(){}}class Bc extends Is{constructor(c){super(),this.praxis=null,this.settings={},this.predictKernel=null,this.compareKernel=null,c&&(this.settings={...c})}setDimensions(c,h){this.praxis=null,this.settings={...this.settings,width:c,height:h,weights:rn(c,h),deltas:rn(c,h)}}setupKernels(){}reuseKernels(){}predict(){}compare(){}learn(c){const{weights:h}=this;this.weights=this.praxis.run(this,c),Le(h)}}function By(){return new Bc}function g$(N){return r(N[this.thread.y][this.thread.x])}function v$(N,c){return s(N[this.thread.y][this.thread.x],c[this.thread.y][this.thread.x])}function y$(N){return r(N[this.thread.z][this.thread.y][this.thread.x])}function b$(N,c){return s(N[this.thread.z][this.thread.y][this.thread.x],c[this.thread.z][this.thread.y][this.thread.x])}class Ky extends Ln{setupKernels(){const{width:c,height:h,depth:m}=this.inputLayer;m>0?(this.predictKernel=$e(y$,{output:[c,h,m],functions:[r],immutable:!0}),this.compareKernel=$e(b$,{output:[c,h,m],functions:[s],immutable:!0})):(this.predictKernel=$e(g$,{output:[c,h],functions:[r],immutable:!0}),this.compareKernel=$e(v$,{output:[c,h],functions:[s],immutable:!0}))}predict(){Le(this.weights),this.weights=this.predictKernel(this.inputLayer.weights)}compare(){Le(this.inputLayer.deltas),this.inputLayer.deltas=this.compareKernel(this.weights,this.deltas)}}function Hy(N,c){return new Ky(N,c)}function w$(N,c,h){const{height:m}=N;if(typeof m!="number")throw new Error("height not set");h.setDimensions&&h.setDimensions(1,m);const O=fr({id:"weight",height:m,width:c.height,std:.08}),I=fr({id:"transition",height:m,width:m,std:.08}),P=Pi({id:"bias",height:m});return Hy(dr(dr(Cr(O,c),Cr(I,h)),P))}class Wy extends Kn{constructor(c,h){super(c),this.inputLayer=h,this.validate()}predict(){Le(this.weights),this.weights=We(this.inputLayer.weights)}learn(){}}function x$(N,c){return new Wy(N,c)}function S$(N){let c=-1/0;for(let h=0;h<this.constants.inputHeight;h++)for(let m=0;m<this.constants.inputWidth;m++){const O=N[h][m];O>c&&(c=O)}return c}function C$(N){let c=-1/0;for(let h=0;h<this.constants.inputDepth;h++)for(let m=0;m<this.constants.inputHeight;m++)for(let O=0;O<this.constants.inputWidth;O++){const I=N[h][m][O];I>c&&(c=I)}return c}function _$(N){let c=0;for(let h=0;h<this.constants.inputHeight;h++)for(let m=0;m<this.constants.inputWidth;m++)c+=N[h][m];return c}function T$(N){let c=0;for(let h=0;h<this.constants.inputDepth;h++)for(let m=0;m<this.constants.inputHeight;m++)for(let O=0;O<this.constants.inputWidth;O++)c+=N[h][m][O];return c}function k$(N,c){return Math.exp(N[this.thread.x]-c[0])}function E$(N,c){return Math.exp(N[this.thread.z][this.thread.y][this.thread.x]-c[0])}function $$(N,c){return N[this.thread.y][this.thread.x]/c[0]}function I$(N,c){return N[this.thread.z][this.thread.y][this.thread.x]/c[0]}function A$(N,c){let h=0;return this.thread.x+this.thread.y*this.output.x===N&&(h=1),-(h-c[this.thread.y][this.thread.x])}function L$(N,c){let h=0;return this.thread.x+this.thread.y*this.output.x+this.thread.z*this.output.x*this.output.y===N&&(h=1),-(h-c[this.thread.z][this.thread.y][this.thread.x])}class Uy extends hi{constructor(c,h){super(c,h),this.errors=null,this.getExponentialsKernel=null,this.getMaxValueKernel=null,this.getSumKernel=null,this.validate(),this.depth>0?(this.weights=He(this.width,this.height,this.depth),this.deltas=rr(this.width,this.height,this.depth)):this.height>0?(this.weights=Be(this.width,this.height),this.deltas=rn(this.width,this.height)):(this.weights=Fe(this.width),this.deltas=he(this.width))}setupKernels(){const{width:c,height:h,depth:m}=this;m>0?(this.getExponentialsKernel=$e(E$,{output:[c,h,m]}),this.getMaxValueKernel=$e(C$,{output:[1,1,1],constants:{inputWidth:c,inputHeight:h,inputDepth:m}}),this.getSumKernel=$e(T$,{output:[1,1,1],constants:{inputWidth:c,inputHeight:h,inputDepth:m}}),this.predictKernel=$e(I$,{output:[c,h,m]}),this.compareKernel=$e(L$,{output:[c,h,m],immutable:!0})):(this.getExponentialsKernel=$e(k$,{output:[c,h]}),this.getMaxValueKernel=$e(S$,{output:[1,1],constants:{inputWidth:c,inputHeight:h}}),this.getSumKernel=$e(_$,{output:[1,1],constants:{inputWidth:c,inputHeight:h}}),this.predictKernel=$e($$,{output:[c,h]}),this.compareKernel=$e(A$,{output:[c,h],immutable:!0}))}predict(){const c=this.getMaxValueKernel(this.inputLayer.weights),h=this.getExponentialsKernel(this.inputLayer.weights,c),m=this.getSumKernel(h);this.weights=this.predictKernel(h,m)}compare(c){const{deltas:h,errors:m}=this;this.errors=this.compareKernel(c[0],h),this.deltas=We(this.errors),Le(h),Le(m);const O=this.inputLayer.deltas;this.inputLayer.deltas=We(this.deltas),Le(O)}}function O$(N,c){return new Uy(N,c)}class jy extends Kn{constructor(c,h){super(h),this.inputLayer=c}predict(){Le(this.weights),this.weights=We(this.inputLayer.weights),this.validate()}learn(){}}function M$(N,c){return new jy(N,c)}function Gy(N){return N[this.thread.x][this.thread.y]}const R$=Gy;class Yy extends hi{get width(){return this.inputLayer.height}get height(){return this.inputLayer.width}constructor(c){super(c),this.validate()}setupKernels(){this.predictKernel=$e(Gy,{output:[this.height,this.width]}),this.compareKernel=$e(R$,{output:[this.width,this.height]})}predict(){this.weights=this.predictKernel(this.inputLayer.weights)}compare(){this.inputLayer.deltas=this.compareKernel(this.deltas)}}function D$(N){return new Yy(N)}const vi={Activation:Ln,Internal:Is,InternalModel:no,EntryPoint:ro,Filter:br,Model:As,Modifier:hi,Operator:Ss,Target:Ni};var Ah=Object.freeze({__proto__:null,layerTypes:vi,Add:yy,add:dr,arthurFeedForward:EE,BaseLayer:Kn,baseLayerDefaultSettings:An,Convolution:Ty,convolution:OE,Dropout:ky,dropout:FE,feedForward:VE,FullyConnected:Ey,fullyConnected:GE,gru:t$,Input:Py,input:r$,LeakyRelu:Fy,leakyRelu:l$,lstmCell:u$,Multiply:wy,multiply:Cr,MultiplyElement:Ay,multiplyElement:so,Negative:$y,negative:Iy,Ones:My,ones:Ry,output:c$,Pool:zy,pool:m$,Random:by,random:fr,RecurrentInput:zc,RecurrentZeros:Bc,rnnCell:w$,Regression:Wy,regression:x$,Relu:Ky,relu:Hy,Sigmoid:xy,sigmoid:va,SoftMax:Uy,softMax:O$,SVM:jy,svm:M$,Tanh:Dy,tanh:Vc,Target:Ni,target:to,Transpose:Yy,transpose:D$,Zeros:Ny,zeros:Pi});const N$=Object.keys(Ah);function ya(N,c,h){if(!N$.find(O=>O===N.type))return null;const m=Ah[N.type];if(m.prototype instanceof vi.Filter){if(!c)throw new Error("inputLayer missing");return new m(N,c)}else if(m.prototype instanceof vi.Activation||m.prototype instanceof vi.Modifier){if(!c)throw new Error("inputLayer missing");return new m(c,N)}else{if(m.prototype instanceof vi.Internal)return new m(N);if(m.prototype instanceof vi.Operator){if(!c)throw new Error("inputLayer1 missing");if(!h)throw new Error("inputLayer2 missing");return new m(c,h,N)}else{if(m.prototype instanceof vi.InternalModel||m.prototype instanceof vi.EntryPoint||m.prototype instanceof vi.Model)return new m(N);if(m===Ni){if(!c)throw new Error("inputLayer missing");return new m(N,c)}}}return null}const P$={learningRate:.3,binaryThresh:.5,initPraxis:(N,c)=>{var h;return ps(N,(h=N.settings.praxisOpts)!==null&&h!==void 0?h:c)}},Lh={iterations:2e4,errorThresh:.005,log:!1,logPeriod:10,learningRate:.3,callbackPeriod:10,errorCheckInterval:100,timeout:1/0};class eu{constructor(c={}){this.trainOpts={},this.layers=null,this._inputLayer=null,this._hiddenLayers=null,this._outputLayer=null,this._model=null,this.meanSquaredError=null,this.inputLookup=null,this.inputLookupLength=null,this.outputLookup=null,this.outputLookupLength=null,this.options={...P$,...c},this._updateTrainingOptions({...Lh,...c})}static _validateTrainingOptions(c){const{iterations:h,errorThresh:m,log:O,logPeriod:I,learningRate:P,callback:z,callbackPeriod:R,timeout:T}=c,$={iterations:()=>typeof h=="number"&&h>0,errorThresh:()=>typeof m=="number"&&m>0&&m<1,log:()=>typeof O=="function"||typeof O=="boolean",logPeriod:()=>typeof I=="number"&&I>0,learningRate:()=>typeof P=="number"&&P>0&&P<1,callback:()=>typeof z=="function"||z===null,callbackPeriod:()=>typeof R=="number"&&R>0,timeout:()=>typeof T=="number"&&T>0};Object.keys(Lh).forEach(x=>{if($.hasOwnProperty(x)&&!$[x]()){const S=c[x];throw new Error(`[${x}, ${(S??"undefined").toString()}] is out of normal training range, your network will probably not train.`)}})}_setLogMethod(c){typeof c=="function"?this.trainOpts.log=c:c?this.trainOpts.log=console.log:this.trainOpts.log=!1}_updateTrainingOptions(c){var h;this.trainOpts={...Lh,...this.trainOpts,...c},eu._validateTrainingOptions(this.trainOpts),this._setLogMethod((h=c.log)!==null&&h!==void 0?h:this.trainOpts.log);const{callback:m,callbackPeriod:O,errorCheckInterval:I}=this.trainOpts;m&&O!==I&&console.warn(`options.callbackPeriod with value of ${(O??"undefined").toString()} does not match options.errorCheckInterval with value of ${(I??"undefined").toString()}, if logging error, it will repeat.  These values may need to match`)}_connectOptionsLayers(){const{inputLayerIndex:c,outputLayerIndex:h,layers:m}=this.options;if(!m)throw new Error("this.options.layers in unexpected state");if(typeof c!="number")throw new Error("inputLayerIndex not a number");if(typeof h!="number")throw new Error("inputLayerIndex not a number");const O=m[c];if(!O)throw new Error("inputLayer not found in this.options.layers");const I=m[h];if(!I)throw new Error("outputLayer not found in this.options.layers");return this._inputLayer=O,this._hiddenLayers=m.slice(c,h-c),this._outputLayer=I,m}_connectNewLayers(){const{inputLayer:c,outputLayer:h}=this.options;if(!c)throw new Error("inputLayer not defined");const m=[];this._inputLayer=c();const O=this._connectHiddenLayers(this._inputLayer);if(!h)throw new Error("outputLayer not defined");return this._outputLayer=h(O[O.length-1],O.length),m.push(this._inputLayer),m.push(...O),m.push(this._outputLayer),Pc(m)}_connectHiddenLayers(c){this._hiddenLayers=[];const h=[],{hiddenLayers:m}=this.options;if(!m)throw new Error("hiddenLayers not defined");for(let O=0;O<m.length;O++){const I=m[O](c,O);h.push(I),this._hiddenLayers.push(I),c=I}return h}initialize(){this.layers=this.options.layers?this._connectOptionsLayers():this._connectNewLayers(),this.initializeLayers(this.layers),this._model=this.layers.filter(c=>c instanceof As)}initializeLayers(c){var h,m;for(let I=0;I<c.length;I++){const P=c[I];P.setupKernels(!0),P instanceof As&&P.praxis===null&&typeof this.options.initPraxis=="function"&&(P.praxis=this.options.initPraxis(P,(m=(h=P.settings.praxisOpts)!==null&&h!==void 0?h:this.options.praxisOpts)!==null&&m!==void 0?m:{}),P.praxis.setupKernels())}const O=c[c.length-1];this.meanSquaredError=new Jt({width:O.width,height:O.height})}run(c){let h;if(Array.isArray(c)||c.buffer)h=c;else if(this.inputLookup)h=k.toArray(this.inputLookup,c,this.inputLookupLength);else throw new Error("input is incompatible with net");let m=this.runInput(h);return m instanceof E.Texture&&(m=m.toArray()),this.outputLookup?k.toObject(this.outputLookup,m):m}runInput(c){if(!this.layers)throw new Error("not initialized");this.layers[0].predict(c);for(let h=1;h<this.layers.length;h++)this.layers[h].predict();return this.layers[this.layers.length-1].weights}train(c,h={}){const{preparedData:m,status:O,endTime:I}=this._prepTraining(c,h);let P=!0;const z=()=>this._calculateTrainingError(m),R=()=>this._trainPatterns(m);for(;P;)P=this._trainingTick(O,I,z,R);return O}async trainAsync(c,h={}){const{preparedData:m,status:O,endTime:I}=this._prepTraining(c,h);return await new Promise((P,z)=>{try{const R=()=>this._calculateTrainingError(m),T=()=>this._trainPatterns(m),$=new A.Thaw(new Array(this.trainOpts.iterations),{delay:!0,each:()=>this._trainingTick(O,I,R,T)||$.stop(),done:()=>P(O)});$.tick()}catch(R){z(R)}})}_trainingTick(c,h,m,O){const{trainOpts:I}=this;return c.iterations>=I.iterations||c.error<=I.errorThresh||Date.now()>=h?!1:(typeof I.log=="function"&&c.iterations%I.logPeriod===0?(c.error=m(),I.log(`iterations: ${c.iterations}, training error: ${c.error}`)):c.iterations%I.errorCheckInterval===0?c.error=m():O(),I.callback&&c.iterations%I.callbackPeriod===0&&I.callback(Object.assign(c)),c.iterations++,!0)}_prepTraining(c,h){this._updateTrainingOptions(h);const m=this.formatData(c),O=this.trainOpts.timeout?Date.now()+this.trainOpts.timeout:0,I={error:1,iterations:0};return this.verifyIsInitialized(),{preparedData:this.transferData(m),status:I,endTime:O}}verifyIsInitialized(){this._model||this.initialize()}_calculateTrainingError(c){let h=new Float32Array([0]);const m=this.meanSquaredError;for(let I=0;I<c.length;++I){const P=h,z=this._trainPattern(c[I].input,c[I].output,!0);h=m.add(h,z),Le(z),Le(P)}const O=m.divide(c.length,h);if(Le(h),O instanceof E.Texture){const I=O.toArray();return Le(O),I[0]}return O[0]}_trainPatterns(c){for(let h=0;h<c.length;++h)this._trainPattern(c[h].input,c[h].output,!1)}_trainPattern(c,h,m){var O;if(this.runInput(c),this._calculateDeltas(h),this.adjustWeights(),m){if(!(!((O=this._outputLayer)===null||O===void 0)&&O.errors))throw new Error("outputLayer.errors not defined");return this.meanSquaredError.calculate(this._outputLayer.errors)}return null}_calculateDeltas(c){const h=this.layers;for(let m=h.length-1;m>-1;m--)h[m].compare(c)}adjustWeights(){const c=this._model;for(let h=0;h<c.length;h++)c[h].learn(this.trainOpts.learningRate)}formatData(c){if(!Array.isArray(c)){const I=[];I.push(c),c=I}const h=c[0].input;let m;if(Array.isArray(c)&&!Array.isArray(h)&&!(h instanceof Float32Array)){if(!this.inputLookup){const I=new oe(c,"input");this.inputLookup=I.table,this.inputLookupLength=I.length}m=c.map(I=>({input:k.toArray(this.inputLookup,I.input,this.inputLookupLength)}),this)}else m=c;const O=c[0].output;if(!Array.isArray(O)&&!(O instanceof Float32Array)){if(!this.outputLookup){const I=new oe(c,"output");this.outputLookup=I.table,this.outputLookupLength=I.length}m=c.map((I,P)=>{const z=k.toArray(this.outputLookup,I.output,this.inputLookupLength);return{input:m[P].input,output:z}},this)}return m}transferData(c){const h=new Array(c.length),m=$e(function(I){return I[this.thread.x]},{output:[c[0].input.length],immutable:!0}),O=$e(function(I){return I[this.thread.x]},{output:[c[0].output.length],immutable:!0});for(let I=0;I<c.length;I++){const P=c[I];h[I]={input:m(P.input),output:O(P.output)}}return h}test(){throw new Error(`${this.constructor.name}-test is not yet implemented`)}toJSON(){var c;if(this.layers||this.initialize(),!this._model||!this.layers||!this._inputLayer||!this._hiddenLayers||!this._outputLayer)throw new Error("network is not initialized");const h=[];for(let m=0;m<this.layers.length;m++){const O=this.layers[m],I=O.toJSON();O.hasOwnProperty("inputLayer")?I.inputLayerIndex=this.layers.indexOf(O.inputLayer):O.hasOwnProperty("inputLayer1")&&O.hasOwnProperty("inputLayer2")&&(I.inputLayer1Index=this.layers.indexOf(O.inputLayer1),I.inputLayer2Index=this.layers.indexOf(O.inputLayer2)),h.push(I)}return{type:this.constructor.name,sizes:(c=this.options.sizes)!==null&&c!==void 0?c:[this._inputLayer.height].concat(this._hiddenLayers.map(m=>m.height)).concat([this._outputLayer.height]),outputLayerIndex:this.layers.indexOf(this._outputLayer),layers:h,inputLayerIndex:this.layers.indexOf(this._inputLayer)}}static fromJSON(c,h){var m,O,I,P;const z=c.layers,R=[],T=h?(m=ya(z[0]))!==null&&m!==void 0?m:h(z[0]):ya(z[0]);if(!T)throw new Error("unable to find layer");R.push(T);for(let $=1;$<z.length;$++){const x=z[$];if(typeof x.inputLayerIndex>"u"&&typeof x.inputLayer1Index>"u"&&typeof x.inputLayer2Index>"u"){const S=h?(O=ya(x))!==null&&O!==void 0?O:h(x):ya(x);if(!S)throw new Error("unable to find layer");R.push(S)}else if(typeof x.inputLayerIndex=="number"){const S=R[x.inputLayerIndex];if(!S)throw new Error("inputLayer1 not found");const j=h?(I=ya(x,S))!==null&&I!==void 0?I:h(x,S):ya(x,S);if(!j)throw new Error("unable to find layer");R.push(j)}else{if(typeof x.inputLayer1Index!="number")throw new Error("Cannot create network from provided JSON. inputLayer1Index not defined.");if(typeof x.inputLayer2Index!="number")throw new Error("Cannot create network from provided JSON. inputLayer2Index not defined.");const S=R[x.inputLayer1Index],j=R[x.inputLayer2Index];if(S===void 0)throw new Error(`Cannot create network from provided JSON. layer of index ${x.inputLayer1Index} not found.`);if(j===void 0)throw new Error(`Cannot create network from provided JSON. layer of index ${x.inputLayer2Index} not found.`);const re=h?(P=ya(x,S,j))!==null&&P!==void 0?P:h(x,S,j):ya(x,S,j);if(!re)throw new Error("unable to find layer");R.push(re)}}return new this({...c,layers:R})}toFunction(){throw new Error(`${this.constructor.name}-toFunction is not yet implemented`)}}function F$(N,c){if(!c)throw new TypeError(`Required parameter 'net' is of type ${typeof c}. Must be of type 'brain.NeuralNetwork'`);const h=c.run(N);let m=null,O=-1;return Object.entries(h).forEach(([I,P])=>{typeof P<"u"&&typeof P=="number"&&P>O&&(m=I,O=P)}),m}class Xy extends Is{constructor(){super(...arguments),this.settings={},this.layer=null}setLayer(c){this.layer=c}get width(){if(!this.layer)throw new Error("layer not set");return this.layer.width}set width(c){throw new Error(`${this.constructor.name}-width is not yet implemented`)}get height(){if(!this.layer)throw new Error("layer not set");return this.layer.height}set height(c){throw new Error(`${this.constructor.name}-height is not yet implemented`)}get deltas(){if(!this.layer)throw new Error("layer not set");return this.layer.deltas}set deltas(c){if(!this.layer)throw new Error("layer not set");Le(this.layer.deltas),this.layer.deltas=c}get weights(){if(!this.layer)throw new Error("layer not set");return this.layer.weights}set weights(c){if(!this.layer)throw new Error("layer not set");Le(this.layer.weights),this.layer.weights=c}predict(){}compare(){}learn(){throw new Error("no longer using")}setupKernels(){}reuseKernels(){}}class qy extends eu{constructor(c={}){super(c),this.trainOpts={},this._outputConnection=null,this._layerSets=[],this._hiddenLayerOutputIndices=[],this._model=null}_connectLayers(){if(!this.options.inputLayer)throw new Error("inputLayer not found");if(!this.options.outputLayer)throw new Error("outputLayer not found");const c=this.options.inputLayer(),h=this._connectHiddenLayers(c),m=this.options.outputLayer(h[h.length-1],-1);return{inputLayer:c,hiddenLayers:h,outputLayer:m}}_connectLayersDeep(){const c=[],h=this._layerSets[this._layerSets.length-1];let m=0;function O(P){const z=h.indexOf(P);if(z<0)throw new Error("unable to find layer");return c[z]}function I(P){return{...P.settings,weights:null,deltas:null,praxis:null}}for(let P=0;P<h.length;P++){const z=h[P];let R;if(z instanceof Ln)R=new z.constructor(O(z.inputLayer),I(z));else if(z instanceof ro)R=new z.constructor(I(z));else if(z instanceof br)R=new z.constructor(I(z.inputLayer),O(z.inputLayer));else if(z instanceof Is){const T=h[this._hiddenLayerOutputIndices[m++]];if(z instanceof Xy)throw new Error("unfinished");if(z instanceof zc)R=new zc(T);else if(z instanceof Bc)R=new zc(T);else throw new Error(`hidden layer ${z.constructor.name} extends unknown hidden layer`)}else if(z instanceof no||z instanceof As)R=z;else if(z instanceof hi)R=new z.constructor(O(z.inputLayer),I(z.inputLayer));else if(z instanceof Ss)R=new z.constructor(O(z.inputLayer1),O(z.inputLayer2),I(z));else if(z instanceof Ni)R=new z.constructor(I(z),O(z.inputLayer));else throw new Error(`hidden layer ${z.constructor.name} extends unknown hidden layer`);c.push(R)}return c}_connectHiddenLayers(c){const h=[];if(!this.options.hiddenLayers)throw new Error("hiddenLayers not defined");for(let m=0;m<this.options.hiddenLayers.length;m++){const O=new Bc,I=this.options.hiddenLayers[m](c,O,m);c=I,h.push(I)}return h}initialize(){this._outputConnection=new Xy;let c;if(this.options.layers)c=this._connectOptionsLayers();else{const{inputLayer:h,hiddenLayers:m,outputLayer:O}=this._connectLayers();c=Pc([h,...m,O]),this._hiddenLayerOutputIndices=m.map(I=>c.indexOf(I)),this._inputLayer=h,this._hiddenLayers=m,this._outputLayer=O}this.layers=c,this._layerSets=[c],this._model=c.filter(h=>h instanceof As||h instanceof no),this.initializeLayers(c)}initializeDeep(){const c=this._connectLayersDeep();for(let h=0;h<c.length;h++){const m=c[h];m.setupKernels(!0),m.reuseKernels(this._layerSets[0][h])}this._layerSets.push(c)}run(c){for(;this._layerSets.length<=c.length;)this.initializeDeep();const h=this.runInputs(c);return h instanceof E.Texture?h.toArray():h}runInput(c){throw new Error("use .runInputs()")}runInputs(c){for(;this._layerSets.length<c.length;)this.initializeDeep();const h=c.length-1;for(let I=0;I<=h;I++){const P=this._layerSets[I];P[0].predict(c[I]);for(let z=1;z<P.length;z++)P[z].predict()}const m=this._layerSets[h],O=m[m.length-1].weights;return this.end(),O}train(c,h={}){const{preparedData:m,status:O,endTime:I}=this._prepTraining(c,h);let P=!0;const z=()=>this._calculateTrainingError(m),R=()=>this._trainPatterns(m);for(;P;)P=this._trainingTick(O,I,z,R);return O}end(){const c=this._layerSets.length-1,h=this._layerSets[c];h[0].predict([new Float32Array([0])]);for(let m=1;m<h.length;m++)h[m].predict()}transferData(c){return c}_prepTraining(c,h){this._updateTrainingOptions(h);const m=this.trainOpts.timeout?Date.now()+this.trainOpts.timeout:0,O={error:1,iterations:0};return this.verifyIsInitialized(),{preparedData:this.transferData(c),status:O,endTime:m}}_calculateTrainingError(c){if(!this.meanSquaredError)throw new Error("this.meanSquaredError not setup");let h=new Float32Array(1);for(let O=0;O<c.length;++O){const I=h,P=this._trainPattern(c[O],!0);h=this.meanSquaredError.add(h,P),Le(P),Le(I)}const m=this.meanSquaredError.divide(c.length,h);return Le(h),m instanceof E.Texture?m.toArray()[0]:m[0]}formatData(c){return c}_calculateDeltas(c){const h=this._layerSets[this._layerSets.length-1];for(let m=h.length-2;m>=0;m--)h[m].compare();for(let m=c.length-2;m>=0;m--){const O=this._layerSets[m];O[O.length-1].compare(c[m+1]);for(let I=O.length-2;I>=0;I--)O[I].compare()}}adjustWeights(){var c;const h=this._model;for(let m=0;m<h.length;m++)h[m].learn((c=this.options.learningRate)!==null&&c!==void 0?c:0)}_trainPatterns(c){for(let h=0;h<c.length;++h)this._trainPattern(c[h],!1)}_trainPattern(c,h){if(this.runInputs(c),this._calculateDeltas(c),this.adjustWeights(),h){if(!this.meanSquaredError)throw new Error("this.meanSquaredError not setup");let m=new Float32Array(1);for(let O=0,I=c.length-2;O<=I;O++){const P=this._layerSets[O],z=P[P.length-1],R=m;m=this.meanSquaredError.addAbsolute(R,z.errors),Le(R)}return We(this.meanSquaredError.divide(c.length,m))}return null}}class En{constructor(c,h){this.rows=0,this.columns=0,c&&(this.rows=c),h&&(this.columns=h),this.weights=he(this.rows*this.columns),this.deltas=he(this.rows*this.columns)}getWeight(c,h){const m=this.columns*c+h;if(m<0||m>=this.weights.length)throw new Error("get accessor is skewed");return this.weights[m]}setWeight(c,h,m){const O=this.columns*c+h;if(O<0||O>=this.weights.length)throw new Error("set accessor is skewed");return this.weights[O]=m,this}getDelta(c,h){const m=this.columns*c+h;if(m<0||m>=this.deltas.length)throw new Error("get accessor is skewed");return this.deltas[m]}setDelta(c,h,m){const O=this.columns*c+h;if(O<0||O>=this.weights.length)throw new Error("set accessor is skewed");return this.deltas[O]=m,this}toJSON(){return{rows:this.rows,columns:this.columns,weights:Array.from(this.weights.slice(0))}}static fromJSON(c){const h=new En(c.rows,c.columns);for(let m=0,O=c.rows*c.columns;m<O;m++)h.weights[m]=c.weights[m];return h}static fromArray(c){const h=new En(c.length,c[0].length);return h.fromArray(c),h}deltasToArray(){return this.toArray("deltas")}weightsToArray(){return this.toArray("weights")}toArray(c="weights"){const h=new Array(this.rows);return this.iterate({row:m=>{h[m]=new Array(this.columns)},column:(m,O)=>{c==="weights"?h[m][O]=this.getWeight(m,O):c==="deltas"&&(h[m][O]=this.getDelta(m,O))}}),h}fromArray(c,h="weights"){if(c.length!==this.rows)throw new Error("rows do not match");if(c[0].length!==this.columns)throw new Error("columns do not match");return this.iterate({column:(m,O)=>{const I=c[m][O];if(typeof I!="number")throw new Error("value not number");h==="weights"?this.setWeight(m,O,I):h==="deltas"&&this.setDelta(m,O,I)}}),this}iterate(c){const h=this.rows,m=this.columns;for(let O=0;O<h;O++){c.row&&c.row(O);for(let I=0;I<m;I++)c.column&&c.column(O,I)}return this}}class mr extends En{constructor(c,h,m){super(c,h),this.std=m;for(let O=0,I=this.weights.length;O<I;O++)this.weights[O]=J(-m,m)}}class js{constructor(c,h=0){this.values=c,this.indexTable={},this.characterTable={},this.characters=[],this.specialIndexes=[],this.isSetup=!1,c!==void 0&&this.setup(c,h)}setup(c,h=0){if(this.isSetup)throw new Error("DataFormatter is already setup");this.values=c,this.buildCharactersFromIterable(c),this.buildTables(h),c[0].input&&this.addInputOutput(),this.addUnrecognized(),this.isSetup=!0}buildCharactersFromIterable(c){const h={};for(let m=0,O=c.length;m<O;m++){const I=c[m];if(I.hasOwnProperty("length")){const P=I;for(let z=0,R=P.length;z<R;z++){const T=P[z];h.hasOwnProperty(T)||(h[T]=!0,this.characters.push(T))}}else if(typeof I=="number"){if(h.hasOwnProperty(I))continue;h[I]=!0,this.characters.push(I)}else if(typeof I=="boolean"){const P=I.toString();if(h.hasOwnProperty(P))continue;h[P]=!0,this.characters.push(P)}else if(Array.isArray(I)&&typeof I[0]=="string")for(let P=0;P<I.length;P++){const z=I[P];h.hasOwnProperty(z)||(h[z]=!0,this.characters.push(z))}else if(Array.isArray(I)&&(typeof I[0]=="number"||typeof I[0]=="boolean"))for(let P=0;P<I.length;P++){const z=I[P].toString();h.hasOwnProperty(m)||(h[z]=!0,this.characters.push(z))}else if(I.hasOwnProperty("input")&&I.hasOwnProperty("output")){const{input:P,output:z}=I;Array.isArray(P)?this.addCharacters(P,h):this.addCharacters(P.toString(),h),Array.isArray(z)?this.addCharacters(z,h):this.addCharacters(z.toString(),h)}else throw new Error("Unhandled value")}}addCharacters(c,h){for(let m=0;m<c.length;m++){const O=c[m].toString();h.hasOwnProperty(O)||(h[O]=!0,this.characters.push(O))}}buildTables(c){const h=this.characters.length;for(let m=0;m<h;m++){const O=this.characters[m];m>=c&&(this.indexTable[O]=m,this.characterTable[m]=O)}}toIndexes(c,h=0){const m=[],{indexTable:O}=this;switch(typeof c){case"number":case"boolean":c=c.toString()}for(let I=0,P=c.length;I<P;I++){const z=c[I].toString();let R=O[z];if(R===void 0)if(O.unrecognized)R=O.unrecognized;else throw new Error(`unrecognized character "${z}"`);R<h||m.push(R)}return m}toIndexesInputOutput(c,h,m=0){const O=this.toIndexesValue(c,m,!0);return typeof h>"u"?O:O.concat(this.toIndexesValue(h,m,!1))}toIndexesValue(c,h,m){if(typeof c=="string")c=c.split("");else if(typeof c=="number"||typeof c=="boolean")c=c.toString().split("");else if(Array.isArray(c)&&(typeof c[0]=="number"||typeof c[0]=="boolean"||typeof c[0]=="string"))c=c.map(O=>O.toString());else throw new Error("unrecognized value");return m&&(c=c.concat(["stop-input","start-output"])),this.toIndexes(c,h)}toCharacters(c,h=0){const m=[],{indexTable:O,characterTable:I}=this;for(let P=0,z=c.length;P<z;P++){const R=c[P];if(R<h)continue;let T=I[R];if(T===void 0)if(O.unrecognized)T=I[O.unrecognized];else throw new Error(`unrecognized index "${R}"`);else T!==null&&m.push(T.toString())}return m}toString(c,h){return this.toCharacters(c,h).join("")}addInputOutput(){this.addSpecial("stop-input"),this.addSpecial("start-output")}addUnrecognized(){this.addSpecial("unrecognized")}static fromAllPrintable(c,h=[`
`]){for(let m=32;m<=126;m++)h.push(String.fromCharCode(m));return new js(h,c)}static fromAllPrintableInputOutput(c,h=[`
`]){const m=js.fromAllPrintable(c,h);return m.addInputOutput(),m.addUnrecognized(),m}static fromStringInputOutput(c,h){const m=Array.from(new Set(c)).join(""),O=new js(m.split(""),h);return O.addInputOutput(),O.addUnrecognized(),O.isSetup=!0,O}static fromArrayInputOutput(c,h){const m=[];for(let P=0;P<c.length;P++){const z=c[P];m.push(tu(z.input),tu(z.output))}const O=Array.isArray(m)?m.flat():m,I=new js(Array.from(new Set(O)),h);return I.addInputOutput(),I.addUnrecognized(),I.isSetup=!0,I}static fromString(c,h=0){const m=Array.from(new Set(c)).join("");return new js(m.split(""),h)}toJSON(){return{indexTable:this.indexTable,characterTable:this.characterTable,values:this.values,characters:this.characters,specialIndexes:this.specialIndexes}}static fromJSON(c){const h=new js;return h.indexTable=c.indexTable,h.characterTable=c.characterTable,h.values=c.values,h.characters=c.characters,h.specialIndexes=c.specialIndexes,h.isSetup=!0,h}addSpecial(c,h=null){const m=this.indexTable[c]=this.characters.length;this.characterTable[m]=h,this.specialIndexes.push(this.characters.length),this.characters.push(c)}toFunctionString(){return`
var characterTable = ${JSON.stringify(this.characterTable)};
var indexTable = ${JSON.stringify(this.indexTable)};
var characters = ${JSON.stringify(this.characters)};
var dataFormatter = {
  toIndexes: function ${this.toIndexes.toString()},
  toIndexesInputOutput: function ${this.toIndexesInputOutput.toString()},
  toCharacters: function ${this.toCharacters.toString()},
  toIndexesValue: function ${this.toIndexesValue.toString()},
};`}formatDataIn(c,h){var m;return c===void 0?[]:Array.isArray(c)&&typeof c[0]=="number"?c:!((m=this.indexTable)===null||m===void 0)&&m.hasOwnProperty("stop-input")?this.toIndexesInputOutput(c,h):this.toIndexes(c)}formatDataOut(c,h){return this.toCharacters(h).join("")}format(c){if(typeof c[0]=="number"&&!Array.isArray(c[0])&&(!c[0].hasOwnProperty("input")||!c[0].hasOwnProperty("output")))return c;const h=[];if(typeof c[0]=="string"||typeof c[0]=="number"||Array.isArray(c[0]))if(this.isSetup)for(let m=0,O=c.length;m<O;m++)h.push(this.formatDataIn(c[m]));else{this.setup(c);for(let m=0;m<c.length;m++)h.push(this.formatDataIn(tu(c[m])))}else if(c[0].input&&c[0].output){this.isSetup||this.setup(c);for(let m=0,O=c.length;m<O;m++)h.push(this.formatDataIn(tu(c[m].input),tu(c[m].output)))}else throw new Error("unrecognized data");return h}}function tu(N){if(typeof N=="string")return N;if(typeof N=="number"||typeof N=="boolean")return N.toString();if(Array.isArray(N)&&typeof N[0]=="string")return N;if(typeof N[0]=="boolean")return N.map(c=>c.toString());if(typeof N[0]=="number")return N.map(c=>c.toString());throw new Error("unrecognized value, expected string[], string, number[], number, boolean[], or boolean")}function V$(N,c){N.rows=c.rows,N.columns=c.columns,N.weights=c.weights.slice(0),N.deltas=c.deltas.slice(0)}function z$(N,c,h){for(let m=0;m<c.weights.length;m++)N.weights[m]=c.weights[m]+h.weights[m],N.deltas[m]=0}function B$(N,c,h){for(let m=0;m<N.deltas.length;m++)c.deltas[m]=N.deltas[m],h.deltas[m]=N.deltas[m]}function K$(N){for(let c=0;c<N.weights.length;c++)N.weights[c]=1,N.deltas[c]=0}function H$(N,c){N.rows=c.rows,N.columns=c.columns,N.weights=c.weights.slice(0),N.deltas=c.deltas.slice(0);for(let h=0;h<c.weights.length;h++)N.weights[h]=-c.weights[h],N.deltas[h]=0}function W$(N,c,h){const m=c.rows,O=c.columns,I=h.columns;for(let P=0;P<m;P++){const z=O*P,R=I*P;for(let T=0;T<I;T++){let $=0;for(let x=0;x<O;x++){const S=I*x,j=z+x,re=S+T;$+=c.weights[j]*h.weights[re],c.deltas[j]=0,h.deltas[re]=0}N.weights[R+T]=$}}}function U$(N,c,h){const m=c.rows,O=c.columns,I=h.columns;for(let P=0;P<m;P++){const z=O*P,R=I*P;for(let T=0;T<I;T++)for(let $=0;$<O;$++){const x=I*$,S=z+$,j=x+T,re=N.deltas[R+T];c.deltas[S]+=h.weights[j]*re,h.deltas[j]+=c.weights[S]*re}}}function j$(N,c,h){const{weights:m}=c;for(let O=0;O<m.length;O++)N.weights[O]=c.weights[O]*h.weights[O],N.deltas[O]=0}function G$(N,c,h){for(let m=0;m<c.weights.length;m++)c.deltas[m]=h.weights[m]*N.deltas[m],h.deltas[m]=c.weights[m]*N.deltas[m]}function Y$(N,c){for(let h=0;h<c.weights.length;h++)N.weights[h]=Math.max(0,c.weights[h]),N.deltas[h]=0}function X$(N,c){for(let h=0;h<N.deltas.length;h++)c.deltas[h]=c.weights[h]>0?N.deltas[h]:0}function q$(N,c,h){const{columns:m}=c,O=m*h;for(let I=0;I<m;I++)N.weights[I]=c.weights[O+I],N.deltas[I]=0}function J$(N,c,h){const{columns:m}=c,O=m*h;for(let I=0;I<m;I++)c.deltas[O+I]=N.deltas[I]}function Z$(N,c){for(let h=0;h<c.weights.length;h++)N.weights[h]=1/(1+Math.exp(-c.weights[h])),N.deltas[h]=0}function Q$(N,c){for(let h=0;h<N.deltas.length;h++){const m=N.weights[h];c.deltas[h]=m*(1-m)*N.deltas[h]}}function Kc(N){const c=new En(N.rows,N.columns);let h=-999999;for(let O=0;O<N.weights.length;O++)N.weights[O]>h&&(h=N.weights[O]);let m=0;for(let O=0;O<N.weights.length;O++)c.weights[O]=Math.exp(N.weights[O]-h),m+=c.weights[O];for(let O=0;O<N.weights.length;O++)c.weights[O]/=m;return c}function eI(N,c){for(let h=0;h<c.weights.length;h++)N.weights[h]=Math.tanh(c.weights[h]),N.deltas[h]=0}function tI(N,c){for(let h=0;h<N.deltas.length;h++){const m=N.weights[h];c.deltas[h]=(1-m*m)*N.deltas[h]}}class Jy{constructor(){this.states=[],this.inputRow=0}add(c,h){if(c.weights.length!==h.weights.length)throw new Error("misaligned matrices");const m=new En(c.rows,c.columns);return this.states.push({name:"add",product:m,left:c,right:h,forwardFn:z$,backpropagationFn:B$}),m}allOnes(c,h){const m=new En(c,h);return this.states.push({name:"allOnes",product:m,left:m,forwardFn:K$,backpropagationFn:()=>{}}),m}cloneNegative(c){const h=new En(c.rows,c.columns);return this.states.push({name:"cloneNegative",product:h,left:c,forwardFn:H$,backpropagationFn:()=>{}}),h}subtract(c,h){if(c.weights.length!==h.weights.length)throw new Error("misaligned matrices");return this.add(this.add(this.allOnes(c.rows,c.columns),this.cloneNegative(c)),h)}multiply(c,h){if(c.columns!==h.rows)throw new Error("misaligned matrices");const m=new En(c.rows,h.columns);return this.states.push({name:"multiply",product:m,left:c,right:h,forwardFn:W$,backpropagationFn:U$}),m}multiplyElement(c,h){if(c.weights.length!==h.weights.length)throw new Error("misaligned matrices");const m=new En(c.rows,c.columns);return this.states.push({name:"multiplyElement",product:m,left:c,right:h,forwardFn:j$,backpropagationFn:G$}),m}relu(c){const h=new En(c.rows,c.columns);return this.states.push({name:"relu",product:h,left:c,forwardFn:Y$,backpropagationFn:X$}),h}input(c){return this.states.push({name:"input",product:c,forwardFn:h=>{if(this.inputValue){if(this.inputValue.length!==h.weights.length)throw new Error("this.inputValue is of wrong dimensions");h.weights=c.weights=this.inputValue}},backpropagationFn:()=>{}}),c}inputMatrixToRow(c){const h=this,m=new En(c.columns,1);return this.states.push({name:"inputMatrixToRow",product:m,left:c,get right(){return h.inputRow},forwardFn:q$,backpropagationFn:J$}),m}sigmoid(c){const h=new En(c.rows,c.columns);return this.states.push({name:"sigmoid",product:h,left:c,forwardFn:Z$,backpropagationFn:Q$}),h}tanh(c){const h=new En(c.rows,c.columns);return this.states.push({name:"tanh",product:h,left:c,forwardFn:eI,backpropagationFn:tI}),h}observe(c){return this.states.push({name:"observe",product:new En,forwardFn:()=>{},backpropagationFn:()=>{}}),c}runIndex(c=0){this.inputRow=c;let h=this.states[0];for(let m=0,O=this.states.length;m<O;m++)h=this.states[m],h.hasOwnProperty("forwardFn")&&h.forwardFn(h.product,h.left,h.right);return h.product}runInput(c){this.inputValue=c;let h=this.states[0];for(let m=0,O=this.states.length;m<O;m++)h=this.states[m],h.hasOwnProperty("forwardFn")&&h.forwardFn(h.product,h.left,h.right);return h.product}backpropagate(){let c=this.states.length,h=this.states[0];for(;c-- >0;)h=this.states[c],h.hasOwnProperty("backpropagationFn")&&h.backpropagationFn(h.product,h.left,h.right);return h.product}backpropagateIndex(c=0){this.inputRow=c;let h=this.states.length,m=this.states[0];for(;h-- >0;)m=this.states[h],m.hasOwnProperty("backpropagationFn")&&m.backpropagationFn(m.product,m.left,m.right);return m.product}predictTarget(c,h){let m=0;const O=this.runInput(c);for(let I=0;I<O.weights.length;I++){const P=O.weights[I]-h[I];m+=Math.abs(P),O.deltas[I]=P}return m}predictTargetIndex(c,h){const m=this.runIndex(c),O=m,I=Kc(m);return O.deltas=I.weights.slice(0),O.deltas[h]-=1,-Math.log2(I.weights[h])}}function Oh(N){const{weights:c}=N;let h=c[0],m=0;for(let O=1;O<c.length;O++){const I=c[O];I<h||(m=O,h=I)}return m}function Mh(N){const c=J(0,1),h=N.weights;let m=0,O=0;for(;;){if(m+=h[O],m>c)return O;O++}}const Bo={iterations:2e4,errorThresh:.005,log:!1,logPeriod:10,learningRate:.01,callbackPeriod:10,timeout:1/0},nu=()=>({inputSize:20,inputRange:20,hiddenLayers:[20,20],outputSize:20,decayRate:.999,smoothEps:1e-8,regc:1e-6,clipval:5,maxPredictionLength:100,dataFormatter:new js});class ru{constructor(c={}){this.options={...nu()},this.trainOpts={...Bo},this.stepCache={},this.runs=0,this.ratioClipped=0,this.model=Object.seal({isInitialized:!1,input:new En(0,0),hiddenLayers:[],output:new En(0,0),equations:[],allMatrices:[],equationConnections:[],outputConnector:new mr(0,0,.08)}),this.initialLayerInputs=[],this.options={...this.options,...c},this.updateTrainingOptions({...Bo}),c.json&&this.fromJSON(c.json)}initialize(){const{dataFormatter:c}=this.options;c!=null&&c.characters.length&&(this.options.inputSize=this.options.inputRange=this.options.outputSize=c.characters.length),this.model=this.mapModel()}createHiddenLayers(){const{hiddenLayers:c,inputSize:h}=this.options,m=[];m.push(this.getHiddenLayer(c[0],h));let O=c[0];for(let I=1;I<c.length;I++){const P=c[I];m.push(this.getHiddenLayer(P,O)),O=P}return m}getHiddenLayer(c,h){return{weight:new mr(c,h,.08),transition:new mr(c,c,.08),bias:new En(c,1)}}getEquation(c,h,m,O){if(!O.weight||!O.transition||!O.bias)throw new Error("hiddenLayer does not have expected properties");const I=c.relu.bind(c),P=c.add.bind(c),z=c.multiply.bind(c);return I(P(P(z(O.weight,h),z(O.transition,m)),O.bias))}createInputMatrix(){const{inputRange:c,inputSize:h}=this.options;if(c<1)throw new Error("this.options.inputRange not an expected number");if(h<1)throw new Error("this.options.inputSize not an expected number");return new mr(c+1,h,.08)}createOutputMatrices(){const{outputSize:c,hiddenLayers:h}=this.options,m=Rh(h);return{outputConnector:new mr(c+1,m,.08),output:new En(c+1,1)}}bindEquation(){const{model:c}=this,{hiddenLayers:h}=this.options,m=new Jy,O=[],I=c.equationConnections.length>0?Rh(c.equationConnections):this.initialLayerInputs;let P=this.getEquation(m,m.inputMatrixToRow(c.input),I[0],c.hiddenLayers[0]);O.push(P);for(let z=1,R=h.length;z<R;z++){if(!I[z])throw new Error(`Cannot find equation at index ${z}`);P=this.getEquation(m,P,I[z],c.hiddenLayers[z]),O.push(P)}c.equationConnections.push(O),m.add(m.multiply(c.outputConnector,P),c.output),c.equations.push(m)}mapModel(){const c=[];this.initialLayerInputs=this.options.hiddenLayers.map(P=>new En(P,1));const h=this.createInputMatrix();c.push(h);const m=this.createHiddenLayers();if(!m.length)throw new Error("net.hiddenLayers not set");for(let P=0,z=m.length;P<z;P++){const R=m[P];for(const T in R)R.hasOwnProperty(T)&&c.push(R[T])}const{output:O,outputConnector:I}=this.createOutputMatrices();return c.push(I),c.push(O),Object.seal({isInitialized:!0,input:h,hiddenLayers:m,output:O,equations:[],allMatrices:c,equationConnections:[],outputConnector:I})}trainInput(c){this.runs++;const{model:h}=this,m=c.length;let O=0,I;for(;h.equations.length<=c.length+1;)this.bindEquation();for(let P=-1,z=c.length;P<z;P++){const R=P+1;I=h.equations[R];const T=P===-1?0:c[P]+1,$=P===m-1?0:c[P+1]+1;O+=I.predictTargetIndex(T,$)}return Math.pow(2,O/(m-1))/100}backpropagate(c){let h=c.length;const{model:m}=this,{equations:O}=m;for(;h>0;)O[h].backpropagateIndex(c[h-1]+1),h--;O[0].backpropagateIndex(0)}adjustWeights(){const{regc:c,clipval:h,decayRate:m,smoothEps:O}=this.options,{trainOpts:I,model:P,stepCache:z}=this,{learningRate:R}=I,{allMatrices:T}=P;let $=0,x=0;for(let S=0;S<T.length;S++){const j=T[S],{weights:re,deltas:Ce}=j;S in z||(z[S]=he(j.rows*j.columns));const se=z[S];for(let me=0;me<re.length;me++){let X=Ce[me];const ie=re[me];se[me]=se[me]*m+(1-m)*X*X,X>h?(X=h,$++):X<-h&&(X=-h,$++),x++,re[me]=ie+-R*X/Math.sqrt(se[me]+O)-c*ie}}this.ratioClipped=$/x}get isRunnable(){return this.model&&this.model.equations.length===0?(console.error("No equations bound, did you run train()?"),!1):!0}checkRunnable(){if(!this.isRunnable)throw new Error("Network not runnable")}run(c=[],h=!1,m=1){const O=this.options.maxPredictionLength+(c!==null?c.length:0)+(this.options.dataFormatter?this.options.dataFormatter.specialIndexes.length:0);this.checkRunnable();const I=this.options.dataFormatter&&c.length>0?this.options.dataFormatter.formatDataIn(c):c,{model:P}=this,z=[];let R=0;for(;;){const T=R===0?0:R<I.length?I[R-1]+1:z[R-1];for(;P.equations.length<=R;)this.bindEquation();const x=P.equations[R].runIndex(T),S=new En(P.output.rows,P.output.columns);if(V$(S,x),m!==1&&h)for(let Ce=0,se=S.weights.length;Ce<se;Ce++)S.weights[Ce]/=m;const j=Kc(S),re=h?Mh(j):Oh(j);if(R++,re===0||R>=O)break;z.push(re)}return this.options.dataFormatter.formatDataOut(I,z.slice(I.length).map(T=>T-1))}verifyIsInitialized(){this.model.isInitialized||this.initialize()}updateTrainingOptions(c){var h;this.trainOpts={...Bo,...c},this.validateTrainingOptions(this.trainOpts),this.setLogMethod((h=c.log)!==null&&h!==void 0?h:this.trainOpts.log)}validateTrainingOptions(c){const h={iterations:()=>{const m=c.iterations;return typeof m=="number"&&m>0},errorThresh:()=>{const m=c.errorThresh;return typeof m=="number"&&m>0&&m<1},log:()=>{const m=c.log;return typeof m=="function"||typeof m=="boolean"},logPeriod:()=>{const m=c.logPeriod;return typeof m=="number"&&m>0},learningRate:()=>{const m=c.learningRate;return typeof m=="number"&&m>0&&m<1},callback:()=>{const m=c.callback;return typeof m=="function"||m===void 0},callbackPeriod:()=>{const m=c.callbackPeriod;return typeof m=="number"&&m>0},timeout:()=>{const m=c.timeout;return typeof m=="number"&&m>0}};for(const m in h){const O=c;if(!h[m]())throw new Error(`[${m}, ${O[m]}] is out of normal training range, your network will probably not train.`)}}setLogMethod(c){typeof c=="function"?this.trainOpts.log=c:c?this.trainOpts.log=console.log:this.trainOpts.log=!1}prepTraining(c,h){var m;this.updateTrainingOptions(h);const O=this.options.dataFormatter.format(c),I=Date.now()+((m=this.trainOpts.timeout)!==null&&m!==void 0?m:0),P={error:1,iterations:0};return this.verifyIsInitialized(),{preparedData:O,status:P,endTime:I}}train(c,h={}){var m;this.trainOpts=h={...Bo,...h};const{iterations:O,errorThresh:I,logPeriod:P,callback:z,callbackPeriod:R}=this.trainOpts,T=h.log===!0?console.log:h.log;let $=1/0,x,S;if(!((m=this.options)===null||m===void 0)&&m.dataFormatter)S=this.options.dataFormatter.format(c);else if(Array.isArray(c)&&Array.isArray(c[0])&&typeof c[0][0]=="number")S=c;else throw new Error("training not in expected format of number[][]");for(this.verifyIsInitialized(),x=0;x<O&&$>I;x++){let j=0;for(let re=0;re<S.length;re++){const Ce=this.trainPattern(S[re],!0);j+=Ce}if($=j/c.length,isNaN($))throw new Error("Network error rate is unexpected NaN, check network configurations and try again. Most probably input format is not correct or training data is not enough. ");T&&x%P===0&&T(`iterations: ${x}, training error: ${$}`),z&&x%R===0&&z({error:$,iterations:x})}return{error:$,iterations:x}}addFormat(c){}formatData(c){const h=[];for(let m=0;m<c.length;m++)h.push(this.options.dataFormatter.formatDataIn(c[m]));return h}toJSON(){this.model.isInitialized||this.initialize();const{model:c,options:h}=this;return{type:this.constructor.name,options:{...h,dataFormatter:h.dataFormatter.toJSON()},trainOpts:{...this.trainOpts,timeout:this.trainOpts.timeout===1/0?"Infinity":this.trainOpts.timeout},input:c.input.toJSON(),hiddenLayers:c.hiddenLayers.map(m=>{const O={};for(const I in m)m.hasOwnProperty(I)&&(O[I]=m[I].toJSON());return O}),outputConnector:this.model.outputConnector.toJSON(),output:this.model.output.toJSON()}}fromJSON(c){const{options:h}=c,m=[],O=En.fromJSON(c.input);m.push(O);const I=[];c.hiddenLayers.forEach(R=>{const T={};for(const $ in R)T[$]=En.fromJSON(R[$]),m.push(T[$]);I.push(T)});const P=En.fromJSON(c.outputConnector);m.push(P);const z=En.fromJSON(c.output);return m.push(z),h.dataFormatter?this.options={...nu(),...h,dataFormatter:js.fromJSON(h.dataFormatter)}:this.options={...nu(),...h,dataFormatter:new js},this.model=Object.seal({isInitialized:!0,input:O,hiddenLayers:I,output:z,allMatrices:m,outputConnector:P,equations:[],equationConnections:[]}),this.initialLayerInputs=this.options.hiddenLayers.map(R=>new En(R,1)),this.bindEquation(),this}toFunction(c){const{model:h}=this,{equations:m}=this.model,O=m[1],{states:I}=O,P=JSON.stringify(this.toJSON());function z(se){const me=h.equationConnections[0],{states:X}=m[0];for(let ie=0,we=X.length;ie<we;ie++)if(X[ie].product===se)return ie;return me.indexOf(se)}function R(se,me){for(let X=0,ie=I.length;X<ie;X++){const we=I[X];if(X===me){const Te=z(se);return Te>-1&&(se===we.left||se===we.right)?`typeof prevStates[${Te}] === 'object' ? prevStates[${Te}].product : new Matrix(${se.rows}, ${se.columns})`:`new Matrix(${se.rows}, ${se.columns})`}if(se===we.product)return`states[${X}].product`;if(se===we.right)return`states[${X}].right`;if(se===we.left)return`states[${X}].left`}return""}function T(se,me){if(!se||!se.rows||!se.columns)return"null";if(se===h.input)return"json.input";if(se===h.outputConnector)return"json.outputConnector";if(se===h.output)return"json.output";for(let X=0,ie=h.hiddenLayers.length;X<ie;X++){const we=h.hiddenLayers[X];for(const Te in we)if(we.hasOwnProperty(Te)&&we[Te]===se)return`json.hiddenLayers[${X}].${Te}`}return R(se,me)}function $(se){const me=se.toString().split("{");me.shift();const ie=me.join("{").split("}");return ie.pop(),ie.join("}").split(`
`).join(`
        `).replace("product.deltas[i] = 0;","").replace("product.deltas[column] = 0;","").replace("left.deltas[leftIndex] = 0;","").replace("right.deltas[rightIndex] = 0;","").replace("product.deltas = left.deltas.slice(0);","")}function x(se){return`src/recurrent/matrix/${se.replace(/[A-Z]/g,function(me){return`-${me.toLowerCase()}`})}.js`}const S=[],j={},re=[];for(let se=0,me=I.length;se<me;se++){const X=I[se];S.push(`states[${se}] = {
      name: '${X.forwardFn.name}',
      left: ${X.left?T(X.left,se):"undefined"},
      right: ${X.right?T(X.right,se):"undefined"},
      product: ${T(X.product,se)}
    }`);const ie=X.forwardFn.name;j[ie]||(j[ie]=!0,re.push(`        case '${ie}': //compiled from ${x(ie)}
          ${$(X.forwardFn.toString())}
          break;`))}const Ce=`
  if (typeof rawInput === 'undefined') rawInput = [];
  if (typeof isSampleI === 'undefined') isSampleI = false;
  if (typeof temperature === 'undefined') temperature = 1;
  var json = ${P};
  ${this.options.dataFormatter?`${this.options.dataFormatter.toFunctionString()};
  Object.assign(dataFormatter, json.options.dataFormatter);`:""}
  ${this.options.dataFormatter&&typeof this.options.dataFormatter.formatDataIn=="function"?`const formatDataIn = function (input, output) { ${$(this.options.dataFormatter.formatDataIn.toString())} }.bind(dataFormatter);`:""}
  ${this.options.dataFormatter!==null&&typeof this.options.dataFormatter.formatDataOut=="function"?`const formatDataOut = function formatDataOut(input, output) { ${$(this.options.dataFormatter.formatDataOut.toString())} }.bind(dataFormatter);`:""}
  var maxPredictionLength =
    ${this.options.maxPredictionLength} +
    rawInput.length +
    ${this.options.dataFormatter?this.options.dataFormatter.specialIndexes.length:0};
  var input = ${this.options.dataFormatter&&typeof this.options.dataFormatter.formatDataIn=="function"?"formatDataIn(rawInput)":"rawInput"};
  var _i = 0;
  var output = [];
  var states = [];
  var prevStates;
  while (true) {
    var previousIndex = (_i === 0
        ? 0
        : _i < input.length
          ? input[_i - 1] + 1
          : output[_i - 1])
          ;
    var rowPluckIndex = previousIndex;
    prevStates = states;
    states = [];
    ${S.join(`;
    `)};
    for (var stateIndex = 0, stateMax = ${S.length}; stateIndex < stateMax; stateIndex++) {
      var state = states[stateIndex];
      var product = state.product;
      var left = state.left;
      var right = state.right;
      switch (state.name) {
${re.join(`
`)}
      }
    }

    var logProbabilities = state.product;
    if (temperature !== 1 && isSampleI) {
      for (var q = 0, nq = logProbabilities.weights.length; q < nq; q++) {
        logProbabilities.weights[q] /= temperature;
      }
    }

    var probs = softmax(logProbabilities);
    var nextIndex = isSampleI ? sampleI(probs) : maxI(probs);

    _i++;
    if (nextIndex === 0) {
      break;
    }
    if (_i >= maxPredictionLength) {
      break;
    }

    output.push(nextIndex);
  }
  ${this.options.dataFormatter&&typeof this.options.dataFormatter.formatDataOut=="function"?"return formatDataOut(input, output.slice(input.length).map(function(value) { return value - 1; }))":"return output.slice(input.length).map(function(value) { return value - 1; })"};
  function Matrix(rows, columns) {
    this.rows = rows;
    this.columns = columns;
    this.weights = zeros(rows * columns);
  }
  ${he.toString()}
  ${Kc.toString().replace("_1.Matrix","Matrix")}
  ${J.toString()}
  ${Mh.toString()}
  ${Oh.toString()}`;return new Function("rawInput","isSampleI","temperature",c?c(Ce):Ce)}trainPattern(c,h){const m=this.trainInput(c);return this.backpropagate(c),this.adjustWeights(),h?m:0}}function Rh(N){return N[N.length-1]}class Zy extends ru{getHiddenLayer(c,h){return Qy(c,h)}getEquation(c,h,m,O){return eb(c,h,m,O)}}function Qy(N,c){return{updateGateInputMatrix:new mr(N,c,.08),updateGateHiddenMatrix:new mr(N,N,.08),updateGateBias:new En(N,1),resetGateInputMatrix:new mr(N,c,.08),resetGateHiddenMatrix:new mr(N,N,.08),resetGateBias:new En(N,1),cellWriteInputMatrix:new mr(N,c,.08),cellWriteHiddenMatrix:new mr(N,N,.08),cellWriteBias:new En(N,1)}}function eb(N,c,h,m){if(!m.updateGateInputMatrix||!m.updateGateHiddenMatrix||!m.updateGateBias||!m.resetGateInputMatrix||!m.resetGateHiddenMatrix||!m.resetGateBias||!m.cellWriteInputMatrix||!m.cellWriteHiddenMatrix||!m.cellWriteBias)throw new Error("hiddenLayer does not have expected properties");const O=N.sigmoid.bind(N),I=N.add.bind(N),P=N.multiply.bind(N),z=N.multiplyElement.bind(N),R=N.tanh.bind(N),T=N.allOnes.bind(N),$=N.cloneNegative.bind(N),x=O(I(I(P(m.updateGateInputMatrix,c),P(m.updateGateHiddenMatrix,h)),m.updateGateBias)),S=O(I(I(P(m.resetGateInputMatrix,c),P(m.resetGateHiddenMatrix,h)),m.resetGateBias)),j=R(I(I(P(m.cellWriteInputMatrix,c),P(m.cellWriteHiddenMatrix,z(S,h))),m.cellWriteBias));return I(z(I(T(x.rows,x.columns),$(x)),j),z(h,x))}class tb{constructor(c,h){this.prop=h,this.length=0,this.table={};for(let m=0;m<c.length;m++){const I=c[m][h];for(let P=0;P<I.length;P++){const z=I[P];for(const R in z)z.hasOwnProperty(R)&&(this.table.hasOwnProperty(R)||(this.table[R]=this.length++))}}}}const nb=()=>({...nu(),inputSize:1,hiddenLayers:[20],outputSize:1,inputRange:0});class Hc extends ru{constructor(c={}){super(),this.inputLookupLength=0,this.inputLookup=null,this.outputLookup=null,this.outputLookupLength=0,this.model=Object.seal({isInitialized:!1,hiddenLayers:[],output:new En(0,0),equations:[],allMatrices:[],equationConnections:[],outputConnector:new mr(0,0,.08)}),this.options=nb(),this.options={...this.options,...c},this.updateTrainingOptions({...nI,...c}),c.json&&this.fromJSON(c.json)}createInputMatrix(){throw new Error("Input Matrices do not exist on RNNTimeStep")}createOutputMatrices(){const{outputSize:c}=this.options,h=Rh(this.options.hiddenLayers),m=new mr(c,h,.08);return{output:new mr(c,1,.08),outputConnector:m}}bindEquation(){const{model:c,options:h}=this,{hiddenLayers:m,inputSize:O}=h,I=c.hiddenLayers,P=new Jy,z=[],R=c.equationConnections.length>0?c.equationConnections[c.equationConnections.length-1]:this.initialLayerInputs;let T=this.getEquation(P,P.input(new En(O,1)),R[0],I[0]);z.push(T);for(let $=1,x=m.length;$<x;$++)T=this.getEquation(P,T,R[$],I[$]),z.push(T);c.equationConnections.push(z),P.add(P.multiply(c.outputConnector,T),c.output),c.equations.push(P)}initialize(){this.model=this.mapModel()}mapModel(){const c=[];this.initialLayerInputs=this.options.hiddenLayers.map(I=>new En(I,1));const h=this.createHiddenLayers();for(let I=0,P=h.length;I<P;I++){const z=h[I];for(const R in z)z.hasOwnProperty(R)&&c.push(z[R])}const{outputConnector:m,output:O}=this.createOutputMatrices();return c.push(m),c.push(O),Object.seal({isInitialized:!0,hiddenLayers:h,output:O,equations:[],allMatrices:c,equationConnections:[],outputConnector:m})}backpropagate(){for(let c=this.model.equations.length-1;c>-1;c--)this.model.equations[c].backpropagate()}run(c){const h=k.dataShape(c).join(",");switch(h){case"array,number":return this.runArray(c);case"array,array,number":return this.runArrayOfArray(c);case"object,number":return this.runObject(c);case"array,object,number":return this.runArrayOfObject(c);default:throw new Error(`Unrecognized data shape ${h}`)}}forecast(c,h=1){const m=k.dataShape(c).join(",");switch(m){case"array,number":return this.forecastArray(c,h);case"array,array,number":return this.forecastArrayOfArray(c,h);case"object,number":return this.runObject(c);case"array,object,number":return this.forecastArrayOfObject(c,h);default:throw new Error(`Unrecognized data shape ${m}`)}}forecastArray(c,h=1){this.checkRunnable();const{model:m}=this,{equations:O}=m,I=c.length+h;for(;O.length<=I;)this.bindEquation();let P,z=0;if(this.options.inputSize===1)for(let T=0;T<c.length;T++)P=O[z++].runInput(Float32Array.from([c[T]]));else for(let T=0;T<c.length;T++)P=O[z++].runInput(Float32Array.from([]));if(!P)throw new Error("lastOutput not set");const R=[P.weights[0]];for(let T=0,$=h-1;T<$;T++)P=O[z++].runInput(P.weights),R.push(P.weights[0]);return this.end(),Float32Array.from(R)}forecastArrayOfArray(c,h=1){this.checkRunnable();const{model:m}=this,{equations:O}=m,I=c.length+h;for(;O.length<=I;)this.bindEquation();let P,z=0;for(let T=0;T<c.length;T++)P=O[z++].runInput(c[T]);if(!P)throw new Error("lastOutput not set");const R=[Float32Array.from(P.weights)];for(let T=0,$=h-1;T<$;T++)P=O[z++].runInput(P.weights),R.push(Float32Array.from(P.weights.slice(0)));return this.end(),R}forecastArrayOfObject(c,h=1){if(!this.inputLookup)throw new Error("this.inputLookup not set");if(!this.outputLookup)throw new Error("this.outputLookup not set");const m=c.map(O=>k.toArray(this.inputLookup,O,this.inputLookupLength));return this.forecastArrayOfArray(m,h).map(O=>k.toObject(this.outputLookup,O))}train(c,h={}){this.trainOpts=h={...Bo,...h},this.options.inputSize===1&&this.options.outputSize===1&&this.setSize(c),this.verifySize();const m=this.formatData(c);let O=1/0,I;this.verifyIsInitialized();const{iterations:P,errorThresh:z,logPeriod:R,callback:T,callbackPeriod:$}=this.trainOpts,x=h.log===!0?console.log:h.log;for(I=0;I<P&&O>z;I++){let S=0;for(let j=0;j<m.length;j++){const re=this.trainPattern(m[j],!0);S+=re}if(O=S/m.length,isNaN(O))throw new Error("Network error rate is unexpected NaN, check network configurations and try again. Most probably input format is not correct or training data is not enough. ");x&&I%R===0&&x(`iterations: ${I}, training error: ${O}`),T&&I%$===0&&T({error:O,iterations:I})}return{error:O,iterations:I}}trainArrayOfArray(c){if(c.length<2)throw new Error("input must be an array of 2 or more");const{equations:h}=this.model;for(;h.length<c.length;)this.bindEquation();let m=0;for(let O=0,I=c.length-1;O<I;O++)m+=h[O].predictTarget(c[O],c[O+1]);return this.end(),m/c.length}trainPattern(c,h){const m=this.trainArrayOfArray(c);return this.backpropagate(),this.adjustWeights(),h?m:0}setSize(c){let h=0;switch(k.dataShape(c).join(",")){case"array,array,number":case"array,object,number":case"array,datum,array,number":case"array,datum,object,number":h=1;break;case"array,array,array,number":h=c[0][0].length;break;case"array,array,object,number":h=Object.keys(k.toTable2D(c)).length;break;case"array,datum,array,array,number":h=c[0].input[0].length;break;case"array,datum,array,object,number":h=Object.keys(k.toInputTable2D(c)).length;break;default:throw new Error("unknown data shape or configuration")}this.options=Object.seal({...this.options,inputSize:h,outputSize:h})}verifySize(){if((this.options.inputSize||this.options.outputSize)&&this.options.inputSize!==this.options.outputSize)throw new Error("manually set inputSize and outputSize mismatch")}runArray(c){this.checkRunnable();const{equations:h}=this.model;for(;h.length<=c.length;)this.bindEquation();let m;for(let O=0;O<c.length;O++)m=h[O].runInput(new Float32Array([c[O]]));return this.end(),m.weights[0]}runArrayOfArray(c){this.checkRunnable();const{model:h}=this,{equations:m}=h;for(;m.length<=c.length;)this.bindEquation();let O;for(let I=0;I<c.length;I++)O=m[I].runInput(c[I]).weights;return this.end(),O??Float32Array.from([])}runObject(c){if(!this.inputLookup)throw new Error("this.inputLookup not set");if(!this.outputLookup)throw new Error("this.outputLookup not set");if(!this.outputLookupLength)throw new Error("this.outputLookupLength not set");if(this.inputLookup===this.outputLookup){const h=k.toArrayShort(this.inputLookup,c);return k.toObjectPartial(this.outputLookup,this.forecastArray(h,this.outputLookupLength-h.length),h.length)}return k.toObject(this.outputLookup,this.forecastArray(k.toArray(this.inputLookup,c,this.inputLookupLength),this.outputLookupLength))}runArrayOfObject(c){if(this.inputLookup===null)throw new Error("this.inputLookup not set");if(this.outputLookup===null)throw new Error("this.outputLookup not set");const h=c.map(m=>k.toArray(this.inputLookup,m,this.inputLookupLength));return this.forecastArrayOfArray(h,1).map(m=>k.toObject(this.outputLookup,m))[0]}runArrayOfObjectOfArray(c){if(!this.inputLookup)throw new Error("this.inputLookup not set");if(!this.outputLookup)throw new Error("this.outputLookup not set");return k.toObject(this.outputLookup,this.runArrayOfArray(k.toArrays(this.inputLookup,c,this.inputLookupLength)))}end(){this.model.equations[this.model.equations.length-1].runInput(new Float32Array(this.options.outputSize))}requireInputOutputOfOne(){if(this.options.inputSize!==1)throw new Error("inputSize must be 1 for this data size");if(this.options.outputSize!==1)throw new Error("outputSize must be 1 for this data size")}formatArray(c){const h=[];this.requireInputOutputOfOne();for(let m=0;m<c.length;m++)h.push(Float32Array.from([c[m]]));return[h]}formatArrayOfArray(c){const h=[],{inputSize:m,outputSize:O}=this.options;if(m===1&&O===1){for(let I=0;I<c.length;I++)h.push(U(c[I]));return h}if(m!==c[0].length)throw new Error("inputSize must match data input size");if(O!==c[0].length)throw new Error("outputSize must match data output size");for(let I=0;I<c.length;I++)h.push(Float32Array.from(c[I]));return[h]}formatArrayOfObject(c){if(this.requireInputOutputOfOne(),!this.inputLookup){const m=new oe(c);this.inputLookup=this.outputLookup=m.table,this.inputLookupLength=this.outputLookupLength=m.length}const h=[];for(let m=0;m<c.length;m++)h.push(Y(c[m]));return h}formatArrayOfObjectMulti(c){if(!this.inputLookup){const m=new oe(c);this.inputLookup=this.outputLookup=m.table,this.inputLookupLength=this.outputLookupLength=m.length}const h=[];for(let m=0;m<c.length;m++)h.push([xe(c[m],this.inputLookup,this.inputLookupLength)]);return h}formatArrayOfDatumOfArray(c){const h=[];this.requireInputOutputOfOne();for(let m=0;m<c.length;m++){const O=c[m];h.push(K(O.input,O.output))}return h}formatArrayOfDatumOfObject(c){if(this.requireInputOutputOfOne(),!this.inputLookup){const m=new oe(c,"input");this.inputLookup=m.table,this.inputLookupLength=m.length}if(!this.outputLookup){const m=new oe(c,"output");this.outputLookup=m.table,this.outputLookupLength=m.length}const h=[];for(let m=0;m<c.length;m++){const O=c[m];h.push(de(O.input,O.output))}return h}formatArrayOfArrayOfArray(c){const h=[];for(let m=0;m<c.length;m++)h.push(D(c[m]));return h}formatArrayOfArrayOfObject(c){if(!this.inputLookup){const m=new oe(c);this.inputLookup=this.outputLookup=m.table,this.inputLookupLength=this.outputLookupLength=m.length}const h=[];for(let m=0;m<c.length;m++){const O=[];for(let I=0;I<c[m].length;I++)O.push(xe(c[m][I],this.inputLookup,this.inputLookupLength));h.push(O)}return h}formatArrayOfDatumOfArrayOfArray(c){const h=[],{inputSize:m,outputSize:O}=this.options;if(m!==c[0].input[0].length)throw new Error("inputSize must match data input size");if(O!==c[0].output[0].length)throw new Error("outputSize must match data output size");for(let I=0;I<c.length;I++){const P=c[I];h.push(H(P.input,P.output))}return h}formatArrayOfDatumOfArrayOfObject(c){if(!this.inputLookup){const m=new tb(c,"input");this.inputLookup=m.table,this.inputLookupLength=m.length}if(!this.outputLookup){const m=new tb(c,"output");this.outputLookup=m.table,this.outputLookupLength=m.length}if(!this.outputLookupLength)throw new Error("this.outputLookupLength not set to usable number");const h=[];for(let m=0;m<c.length;m++){const O=c[m];h.push(q(O.input,O.output,this.inputLookup,this.outputLookup,this.inputLookupLength,this.outputLookupLength))}return h}formatData(c){switch(k.dataShape(c).join(",")){case"array,number":return this.formatArray(c);case"array,array,number":return this.formatArrayOfArray(c);case"array,object,number":return this.options.inputSize===1?this.formatArrayOfObject(c):this.formatArrayOfObjectMulti(c);case"array,datum,array,number":return this.formatArrayOfDatumOfArray(c);case"array,datum,object,number":return this.formatArrayOfDatumOfObject(c);case"array,array,array,number":return this.formatArrayOfArrayOfArray(c);case"array,array,object,number":return this.formatArrayOfArrayOfObject(c);case"array,datum,array,array,number":return this.formatArrayOfDatumOfArrayOfArray(c);case"array,datum,array,object,number":return this.formatArrayOfDatumOfArrayOfObject(c);default:throw new Error("unknown data shape or configuration")}}test(c){const h=[];let m=0;const O=this.formatData(c);for(let I=0;I<O.length;I++){const P=O[I],z=this.run(P.splice(0,P.length-1)),R=P[P.length-1];let T=0,$=0;for(let S=0;S<z.length;S++){$++;const j=R[S]-z[S];T+=j*j}if(m+=T/$,Math.abs(T)>this.trainOpts.errorThresh){const S=c[I];h.push({value:S,actual:z})}}return{error:m/O.length,misclasses:h,total:O.length}}addFormat(c){var h,m,O,I,P,z;switch(k.dataShape(c).join(",")){case"array,array,number":case"datum,array,array,number":case"array,number":case"datum,array,number":return;case"datum,object,number":{this.inputLookup=k.addKeys(c.input,(h=this.inputLookup)!==null&&h!==void 0?h:{}),this.inputLookup&&(this.inputLookupLength=Object.keys(this.inputLookup).length),this.outputLookup=k.addKeys(c.output,(m=this.outputLookup)!==null&&m!==void 0?m:{}),this.outputLookup&&(this.outputLookupLength=Object.keys(this.outputLookup).length);break}case"object,number":{this.inputLookup=this.outputLookup=k.addKeys(c,(O=this.inputLookup)!==null&&O!==void 0?O:{}),this.inputLookup&&(this.inputLookupLength=this.outputLookupLength=Object.keys(this.inputLookup).length);break}case"array,object,number":{const T=c;for(let $=0;$<T.length;$++)this.inputLookup=this.outputLookup=k.addKeys(T[$],(I=this.inputLookup)!==null&&I!==void 0?I:{}),this.inputLookup&&(this.inputLookupLength=this.outputLookupLength=Object.keys(this.inputLookup).length);break}case"datum,array,object,number":{const T=c,$=T.input;for(let S=0;S<$.length;S++)this.inputLookup=k.addKeys($[S],(P=this.inputLookup)!==null&&P!==void 0?P:{}),this.inputLookup&&(this.inputLookupLength=Object.keys(this.inputLookup).length);const x=T.output;for(let S=0;S<x.length;S++)this.outputLookup=k.addKeys(x[S],(z=this.outputLookup)!==null&&z!==void 0?z:{}),this.outputLookup&&(this.outputLookupLength=Object.keys(this.outputLookup).length);break}default:throw new Error("unknown data shape or configuration")}}toJSON(){this.model||this.initialize();const{model:c}=this,h={...this.options,...nu};return{type:this.constructor.name,options:h,hiddenLayers:c.hiddenLayers.map(m=>{const O={};for(const I in m)m.hasOwnProperty(I)&&(O[I]=m[I].toJSON());return O}),outputConnector:c.outputConnector.toJSON(),output:c.output.toJSON(),inputLookup:this.inputLookup,inputLookupLength:this.inputLookupLength,outputLookup:this.outputLookup,outputLookupLength:this.outputLookupLength}}fromJSON(c){const{options:h}=c,m=[],O=[];c.hiddenLayers.forEach(z=>{const R={};for(const T in z)R[T]=En.fromJSON(z[T]),m.push(R[T]);O.push(R)});const I=En.fromJSON(c.outputConnector);m.push(I);const P=En.fromJSON(c.output);return m.push(P),this.options={...nb(),...h},this.inputLookup=c.inputLookup,this.inputLookupLength=c.inputLookupLength,this.outputLookup=c.outputLookup,this.outputLookupLength=c.outputLookupLength,this.model=Object.seal({isInitialized:!0,hiddenLayers:O,output:P,allMatrices:m,outputConnector:I,equations:[],equationConnections:[]}),this.initialLayerInputs=h.hiddenLayers.map(z=>new En(z,1)),this.bindEquation(),this}toFunction(c){const{model:h,inputLookup:m,inputLookupLength:O,outputLookup:I,outputLookupLength:P}=this,{inputSize:z}=this.options,{equations:R}=h,T=R[1],{states:$}=T,x=JSON.stringify(this.toJSON());function S(te){const B=h.equationConnections[0],{states:Me}=R[0];for(let De=0,pt=Me.length;De<pt;De++)if(Me[De].product===te)return De;return B.indexOf(te)}function j(te,B){for(let Me=0,De=$.length;Me<De;Me++){const pt=$[Me];if(Me===B){const Je=S(te);switch(te){case pt.left:if(Je>-1)return`typeof prevStates[${Je}] === 'object' ? prevStates[${Je}].product : new Matrix(${te.rows}, ${te.columns})`;case pt.right:if(Je>-1)return`typeof prevStates[${Je}] === 'object' ? prevStates[${Je}].product : new Matrix(${te.rows}, ${te.columns})`;case pt.product:return`new Matrix(${te.rows}, ${te.columns})`;default:throw Error("unknown state")}}if(te===pt.product)return`states[${Me}].product`;if(te===pt.right)return`states[${Me}].right`;if(te===pt.left)return`states[${Me}].left`}return""}function re(te,B){if(!te||!te.rows||!te.columns)return"null";if(te===h.outputConnector)return"json.outputConnector";if(te===h.output)return"json.output";for(let Me=0,De=h.hiddenLayers.length;Me<De;Me++){const pt=h.hiddenLayers[Me];for(const Je in pt)if(pt.hasOwnProperty(Je)&&pt[Je]===te)return`json.hiddenLayers[${Me}].${Je}`}return j(te,B)}function Ce(){return m?z===1?m===I?`function lookupInput(input) {
            var table = ${JSON.stringify(m)};
            var result = [];
            for (var p in table) {
              if (!input.hasOwnProperty(p)) break;
              result.push(Float32Array.from([input[p]]));
            }
            return result;
          }`:`function lookupInput(input) {
          var table = ${JSON.stringify(m)};
          var result = [];
          for (var p in table) {
            result.push(Float32Array.from([input[p]]));
          }
          return result;
        }`:`function lookupInput(rawInputs) {
        var table = ${JSON.stringify(m)};
        var result = [];
        for (var i = 0; i < rawInputs.length; i++) {
          var rawInput = rawInputs[i];
          var input = new Float32Array(${O});
          for (var p in table) {
            input[table[p]] = rawInput.hasOwnProperty(p) ? rawInput[p] : 0;
          }
          result.push(input);
        }
        return result;
      }`:""}function se(){return I?z===1?m===I?`function lookupOutputPartial(output, input) {
            var table = ${JSON.stringify(I)};
            var offset = input.length;
            var result = {};
            var i = 0;
            for (var p in table) {
              if (i++ < offset) continue;
              result[p] = output[table[p] - offset][0];
            }
            return result;
          }`:`function lookupOutput(output) {
          var table = ${JSON.stringify(I)};
          var result = {};
          for (var p in table) {
            result[p] = output[table[p]][0];
          }
          return result;
        }`:`function lookupOutput(output) {
        var table = ${JSON.stringify(I)};
        var result = {};
        for (var p in table) {
          result[p] = output[table[p]];
        }
        return result;
      }`:""}function me(te){const B=te.toString().split("{");B.shift();const De=B.join("{").split("}");return De.pop(),De.join("}").split(`
`).join(`
        `).replace("product.deltas[i] = 0;","").replace("product.deltas[column] = 0;","").replace("left.deltas[leftIndex] = 0;","").replace("right.deltas[rightIndex] = 0;","").replace("product.deltas = left.deltas.slice(0);","")}function X(te){return`src/recurrent/matrix/${te.replace(/[A-Z]/g,function(B){return`-${B.toLowerCase()}`})}.js`}const ie=[],we={},Te=[];for(let te=0,B=$.length;te<B;te++){const Me=$[te];ie.push(`states[${te}] = {
      name: '${Me.forwardFn.name}',
      left: ${Me.left?re(Me.left,te):"undefined"},
      right: ${Me.right?re(Me.right,te):"undefined"},
      product: ${re(Me.product,te)}
    }`);const De=Me.forwardFn.name;we[De]||(we[De]=!0,Me.name==="input"?(Te.push(`case '${De}':`),Te.push(m&&z===1?"product.weights = _i < input.length ? input[_i]: prevStates[prevStates.length - 1].product.weights;":z===1?"product.weights = [input[_i]];":"product.weights = input[_i];"),Te.push("break;")):Te.push(`        case '${De}':${De!=="forwardFn"?` //compiled from ${X(De)}`:""}
          ${me(Me.forwardFn.toString())}
          break;`))}const tt=z===1&&this.outputLookup,ft=`
  var input = ${this.inputLookup?"lookupInput(rawInput)":"rawInput"};
  var json = ${x};
  var output = [];
  var states = [];
  var prevStates;
  var state;
  var max = ${tt?m===I?O:`input.length + ${P-1}`:"input.length"};
  for (var _i = 0; _i < max; _i++) {
    prevStates = states;
    states = [];
    ${ie.join(`;
    `)};
    for (var stateIndex = 0, stateMax = ${ie.length}; stateIndex < stateMax; stateIndex++) {
      state = states[stateIndex];
      var product = state.product;
      var left = state.left;
      var right = state.right;

      switch (state.name) {
${Te.join(`
`)}
      }
    }
    ${z===1&&m?"if (_i >= input.length - 1) { output.push(state.product.weights); }":"output = state.product.weights;"}
  }
  ${I?I===m?"return lookupOutputPartial(output, input)":"return lookupOutput(output)":z===1?"return output[0]":"return output"};
  ${Ce()}
  ${se()}

  function Matrix(rows, columns) {
    this.rows = rows;
    this.columns = columns;
    this.weights = new Float32Array(rows * columns);
  }
  ${Kc.toString().replace("_2.default","Matrix")}
  ${J.toString()}
  ${Mh.toString()}
  ${Oh.toString()}`;return new Function("rawInput",c?c(ft):ft)}}const nI={...Bo};class rb extends Hc{getHiddenLayer(c,h){return Qy(c,h)}getEquation(c,h,m,O){return eb(c,h,m,O)}}class sb extends ru{getHiddenLayer(c,h){return ib(c,h)}getEquation(c,h,m,O){return ab(c,h,m,O)}}function ib(N,c){return{inputMatrix:new mr(N,c,.08),inputHidden:new mr(N,N,.08),inputBias:new En(N,1),forgetMatrix:new mr(N,c,.08),forgetHidden:new mr(N,N,.08),forgetBias:new En(N,1),outputMatrix:new mr(N,c,.08),outputHidden:new mr(N,N,.08),outputBias:new En(N,1),cellActivationMatrix:new mr(N,c,.08),cellActivationHidden:new mr(N,N,.08),cellActivationBias:new En(N,1)}}function ab(N,c,h,m){if(!m.inputMatrix||!m.inputHidden||!m.inputBias||!m.forgetMatrix||!m.forgetHidden||!m.forgetBias||!m.outputMatrix||!m.outputHidden||!m.outputBias||!m.cellActivationMatrix||!m.cellActivationHidden||!m.cellActivationBias)throw new Error("hiddenLayer does not have expected properties");const O=N.sigmoid.bind(N),I=N.add.bind(N),P=N.multiply.bind(N),z=N.multiplyElement.bind(N),R=N.tanh.bind(N),T=O(I(I(P(m.inputMatrix,c),P(m.inputHidden,h)),m.inputBias)),$=O(I(I(P(m.forgetMatrix,c),P(m.forgetHidden,h)),m.forgetBias)),x=O(I(I(P(m.outputMatrix,c),P(m.outputHidden,h)),m.outputBias)),S=R(I(I(P(m.cellActivationMatrix,c),P(m.cellActivationHidden,h)),m.cellActivationBias)),j=z($,h),re=z(T,S),Ce=I(j,re);return z(x,R(Ce))}class ob extends Hc{getHiddenLayer(c,h){return ib(c,h)}getEquation(c,h,m,O){return ab(c,h,m,O)}}function rI(N,c){const h=[];for(;N<c;N++)h.push(N);return h}function sI(N){return Array.isArray(N)?Float32Array.from(N):Float32Array.from(Object.values(N))}function iI({pixelX:N,pixelY:c,radius:h,inputs:m,row:O,line:I,fontSize:P,fontClassName:z}){let R=`<rect
              x="${N/2-h}"
              y="${c/2+O*c-h}"
              width="${2*h}"
              height="${2*h}"
              stroke="black"
              stroke-width="1"
              fill="${m.color}"
              class="${m.className}" />
            <line
              x1="${N/4}"
              y1="${c/2+O*c}"
              x2="${N/2-h}"
              y2="${c/2+O*c}"
              style="stroke:${I.color};stroke-width:${I.width}"
              class="${I.className}" />`;return m.labels&&(R+=`<text
              x="${N/8}"
              y="${c/2+O*c-5}"
              fill="black"
              font-size="${P}"
              class="${z}">${m.labels[O]}</text>`),R}function aI({pixelX:N,pixelY:c,row:h,column:m,radius:O,hidden:I}){return`<circle
            cx="${N/2+m*N}"
            cy="${c/2+h*c}"
            r="${O}"
            stroke="black"
            stroke-width="1"
            fill="${I.color}"
            class="${I.className}" />`}function oI({pixelX:N,pixelY:c,row:h,column:m,line:O,outputs:I,radius:P}){return`<circle
            cx="${N/2+m*N}"
            cy="${c/2+h*c}"
            r="${P}"
            stroke="black"
            stroke-width="1"
            fill="${I.color}"
            class="${I.className}" />
          <line
            x1="${N/2+m*N+P}"
            y1="${c/2+h*c}"
            x2="${N/2+m*N+N/4}"
            y2="${c/2+h*c}"
            style="stroke:${O.color};stroke-width:${O.width}"
            class="${O.className}" />`}function lI({pixelX:N,pixelY:c,row:h,column:m,radius:O,lineY:I,line:P,previousConnectionIndex:z}){return`<line
            x1="${N/2+(m-1)*N+O}"
            y1="${I/2+z*I}"
            x2="${N/2+m*N-O}"
            y2="${c/2+h*c}"
            style="stroke:${P.color};stroke-width:${P.width}"
            class="${P.className}" />`}function Dh(N){const{sizes:c,height:h,width:m}=N;let O="";const I=m/c.length;for(let P=0;P<c.length;P++){const z=c[P],R=h/z;for(let T=0;T<z;T++)if(P===0)O+=iI({pixelX:I,pixelY:R,row:T,...N});else{P===c.length-1?O+=oI({pixelX:I,pixelY:R,row:T,column:P,...N}):O+=aI({pixelX:I,pixelY:R,row:T,column:P,...N});const $=c[P-1],x=h/$;for(let S=0;S<$;S++)O+=lI({pixelX:I,pixelY:R,row:T,column:P,lineY:x,previousConnectionIndex:S,...N})}}return O}function uI({pixelX:N,pixelY:c,row:h,column:m,radius:O,recurrentLine:I}){const P=N/2+m*N+O+1,z=c/2+h*c,R=P-O*2-2,T=z,$=R+100,x=T+50,S=P-100,j=z+50;return`<path
              d="M ${P} ${z} C ${$} ${x}, ${S} ${j}, ${R} ${T}"
              stroke="${I.color}"
              stroke-width="${I.width}"
              fill="transparent"
              stroke-linecap="round"
              marker-end="url(#arrow)"
              class="${I.className}" />`}function lb(N){const{width:c,height:h,recurrentLine:m,sizes:O,radius:I}=N,P=c/O.length;let z=`<defs>
              <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto" markerUnits="strokeWidth">
                <path d="M0,0 L0,6 L9,3 z" fill="${m.color}" />
              </marker>
            </defs>`;z+=Dh(N);for(let R=1;R<O.length;R++){const T=O[R],$=h/T;for(let x=0;x<T;x++)z+=uI({pixelX:P,pixelY:$,row:x,column:R,radius:I,recurrentLine:m})}return z}function cI(N){const{options:c}=N;if(!c)throw new Error("options not defined");if(!c.inputLayer)throw new Error("options.inputLater not defined");if(!c.hiddenLayers)throw new Error("options.hiddenLayers not defined");if(c.hiddenLayers.length<1)throw new Error("options.hiddenLayers is empty");if(!c.outputLayer)throw new Error("options.outputLayer not defined");const h=c.inputLayer(),m=[];m.push(c.hiddenLayers[0](h,0));for(let I=1;I<c.hiddenLayers.length;I++)m.push(c.hiddenLayers[I](m[I-1],I));const O=c.outputLayer(m[m.length-1],m.length);return{inputSize:h.height,hiddenLayers:m.map(I=>I.height),outputSize:O.height}}function dI(N){const c=[],{options:h}=N;if(!h.inputLayer)throw new Error("inputLayer not defined");if(!h.outputLayer)throw new Error("outputLayer not defined");const m=h.inputLayer();c.push(h.hiddenLayers[0](m,By(),0));for(let I=1;I<h.hiddenLayers.length;I++)c.push(h.hiddenLayers[I](c[I-1],By(),I));const O=h.outputLayer(c[c.length-1],-1);return{inputSize:m.height,hiddenLayers:c.map(I=>I.height),outputSize:O.height}}function Wc(N,c,h){return`<svg
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            version="1.1"
            width="${c}"
            height="${h}">${N}</svg>`}function fI(N){return N.sizes}function hI(N){const{options:c,sizes:h}=N,{inputSize:m,outputSize:O,hiddenLayers:I}=c;if(!h){if(typeof m=="number"&&m<1)throw new Error("inputSize not set");if(typeof O=="number"&&O<1)throw new Error("outputSize not set");if(I!=null&&I.some(P=>P<1))throw new Error("hiddenLayers not set")}return typeof m=="number"&&Array.isArray(I)&&typeof O=="number"?[m].concat(I).concat([O]):h}function ub(N){const{options:c}=N,{inputSize:h,outputSize:m,hiddenLayers:O}=c;return[h].concat(O).concat([m])}function pI(){return{line:{width:.5,color:"black",className:"connection"},recurrentLine:{width:1,color:"red",className:"recurrence"},inputs:{color:"rgba(0, 128, 0, 0.5)",labels:null,className:"input"},outputs:{color:"rgba(100, 149, 237, 0.5)",className:"output"},hidden:{color:"rgba(255, 127, 80, 0.5)",className:"hidden-neuron"},fontSize:"14px",fontClassName:"label",radius:8,width:400,height:250,sizes:[]}}function mI(N,c){const h={...pI(),...c},{width:m,height:O,inputs:I}=h;let P=[];if(N instanceof qe||N instanceof Ae)P=hI(N);else if(N instanceof qy){const{inputSize:z,hiddenLayers:R,outputSize:T}=dI(N);P=[z].concat(R).concat([T])}else if(N instanceof eu){const{inputSize:z,hiddenLayers:R,outputSize:T}=cI(N);P=[z].concat(R).concat([T])}else{if(N instanceof ru||N instanceof sb||N instanceof Zy||N instanceof Hc||N instanceof ob||N instanceof rb)return Wc(lb({...h,sizes:Uc(ub(N),I.labels)}),m,O);if(N.hasOwnProperty("type"))switch(N.type){case"NeuralNetwork":case"NeuralNetworkGPU":return Wc(Dh({...h,sizes:Uc(fI(N),I.labels)}),m,O);case"RNN":case"GRU":case"LSTM":case"RNNTimeStep":case"GRUTimeStep":case"LSTMTimeStep":return Wc(lb({...h,sizes:Uc(ub(N),I.labels)}),m,O);default:throw new Error("unrecognized network")}else if(N.hasOwnProperty("inputSize")&&N.hasOwnProperty("hiddenLayers")&&N.hasOwnProperty("outputSize")){const{inputSize:z,hiddenLayers:R,outputSize:T}=N;P=[z,...R,T]}else if(N.hasOwnProperty("sizes"))P=N.sizes;else throw new Error("unrecognized network")}return Wc(Dh({...h,sizes:Uc(P,I.labels)}),m,O)}function Uc(N,c){if(!N)throw new Error("sizes not set");if(N.some(h=>h<1))throw new Error("sizes not set correctly");if(c&&c.length!==N[0])throw new Error("not enough labels for inputs");return N}const gI={RNNTimeStep:Hc,LSTMTimeStep:ob,GRUTimeStep:rb,RNN:ru,LSTM:sb,GRU:Zy},vI={max:Z,mse:ne,ones:Ly,ones2D:Oy,random:ye,randomWeight:ee,randos:Fe,range:rI,toArray:sI,DataFormatter:js,zeros:he,toSVG:mI};n.AE=_e,n.CrossValidate=lt,n.FeedForward=eu,n.NeuralNetwork=qe,n.NeuralNetworkGPU=Ae,n.Recurrent=qy,n.activation=b,n.layer=Ah,n.layerTypes=vi,n.likely=F$,n.lookup=k,n.praxis=Eh,n.recurrent=gI,n.utilities=vI,Object.defineProperty(n,"__esModule",{value:!0})})}(bu,bu.exports)),bu.exports}var qte=Xte();const my=dO("model",{state:()=>({net:new qte.recurrent.LSTM({hiddenLayers:[64,64]}),trainingData:[{input:"自定义表单验证",output:"frontend"},{input:"实现 WebSocket 进行实时通信",output:"backend"},{input:"视差滚动效果",output:"frontend"},{input:"安全存储用户密码",output:"backend"},{input:"创建主题切换器（深色/浅色模式)",output:"frontend"},{input:"高流量负载均衡",output:"backend"},{input:"为残疾用户提供的无障碍功能",output:"frontend"},{input:"可扩展架构以应对增长的用户基础",output:"backend"}],isTraining:!1,trainingProgress:0,iterations:1e3,errorThresh:.01,worker:null,errorThreshNow:null}),actions:{initWorker(){this.worker||(this.worker=new Worker(new URL("/brain/assets/worker-BQPEJvey.js",import.meta.url),{type:"module"}),this.worker.onmessage=e=>{console.log(e,"eee");const t=e.data;switch(t.type){case"progress":t.progress&&(this.trainingProgress=t.progress),t.errorThreshNow&&(this.errorThreshNow=t.errorThreshNow);break;case"complete":this.net.fromJSON(t.model),this.isTraining=!1,this.trainingProgress=100,Fa.success("训练完成！");break;case"error":this.isTraining=!1,Fa.error(`训练失败: ${t.error}`);break}})},async trainModel(){this.worker||this.initWorker(),this.isTraining=!0,this.trainingProgress=0,this.worker.postMessage({trainingData:JSON.parse(JSON.stringify(this.trainingData)),iterations:this.iterations,errorThresh:this.errorThresh})},cleanup(){this.worker&&(this.worker.terminate(),this.worker=null)},addTrainingData(e,t){this.trainingData.push({input:e,output:t})},changeOptions(e,t){this.errorThresh=t,this.iterations=e,Fa.success("修改配置成功！"),console.log(this)},testModel(e){return this.net.run(e)},saveModel(){const e=this.net.toJSON(),t=new Blob([JSON.stringify(e)],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="model.json",r.click()},loadModel(e){const t=new FileReader;t.onload=n=>{const r=JSON.parse(n.target.result);this.net.fromJSON(r)},t.readAsText(e)}}}),pa=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},Jte={class:"card-header"},Zte={class:"training-controls"},Qte={__name:"TrainingForm",setup(e){const t=my(),{trainingData:n,isTraining:r,trainingProgress:s,iterations:i,errorThresh:a,errorThreshNow:l}=c2(t);Fn(()=>{t.cleanup()});const u=()=>{t.addTrainingData("","")},d=v=>{t.trainingData.splice(v,1)},f=async()=>{if(n.value.some(v=>!v.input||!v.output)){Fa.error("请填写完整的训练数据！");return}await t.trainModel()},p=()=>{t.changeOptions(i.value,a.value)},g=L(()=>l.value&&typeof l.value=="number"?(l.value*100).toFixed(2)+"%":l.value);return(v,w)=>{const b=Dt("el-button"),_=Dt("el-input-number"),C=Dt("el-input"),M=Dt("el-form-item"),E=Dt("el-form"),k=Dt("el-divider"),A=Dt("el-progress"),D=Dt("el-card");return V(),Ve(D,{class:"training-card"},{header:Se(()=>[ue("div",Jte,[w[3]||(w[3]=ue("span",null,"训练数据管理",-1)),pe(b,{type:"primary",onClick:u},{default:Se(()=>w[2]||(w[2]=[At("添加数据行")])),_:1})]),ue("div",null,[w[5]||(w[5]=ue("span",null,"训练次数:默认1000",-1)),pe(_,{modelValue:o(i),"onUpdate:modelValue":w[0]||(w[0]=H=>kn(i)?i.value=H:null),placeholder:"输入问题",controls:!1,style:{width:"100px","margin-right":"20px"}},null,8,["modelValue"]),w[6]||(w[6]=ue("span",null,"允许错误率:默认0.01就是1%",-1)),pe(_,{modelValue:o(a),"onUpdate:modelValue":w[1]||(w[1]=H=>kn(a)?a.value=H:null),max:1,min:.001,controls:!1,placeholder:"输入问题",style:{width:"100px","margin-right":"10px"}},null,8,["modelValue"]),pe(b,{type:"primary",onClick:p},{default:Se(()=>w[4]||(w[4]=[At("修改配置")])),_:1})])]),default:Se(()=>[pe(E,{"label-width":"100px"},{default:Se(()=>[(V(!0),le(Ct,null,nn(o(n),(H,U)=>(V(),Ve(M,{key:U,label:`样本 ${U+1}`},{default:Se(()=>[pe(C,{modelValue:H.input,"onUpdate:modelValue":K=>H.input=K,placeholder:"输入问题",style:{width:"300px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"]),pe(C,{modelValue:H.output,"onUpdate:modelValue":K=>H.output=K,placeholder:"输入答案",style:{width:"200px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"]),pe(b,{type:"danger",icon:o(wC),circle:"",onClick:K=>d(U)},null,8,["icon","onClick"])]),_:2},1032,["label"]))),128))]),_:1}),pe(k),ue("div",Zte,[pe(A,{percentage:o(s),status:!o(r)&&o(s)?"success":"",style:{width:"300px","margin-bottom":"5px"}},null,8,["percentage","status"]),Bt(ue("div",{style:{"margin-bottom":"5px"}},"当前训练错误率:"+at(g.value),513),[[mn,g.value]]),pe(b,{type:"primary",loading:o(r),disabled:o(n).length===0,onClick:f},{default:Se(()=>[At(at(o(r)?`训练中 (${o(s)}%)`:"开始训练"),1)]),_:1},8,["loading","disabled"])])]),_:1})}}},ene=pa(Qte,[["__scopeId","data-v-ae798212"]]),tne={class:"test-container"},nne={class:"answer-content"},rne={__name:"TestForm",setup(e){const t=my(),{isTraining:n}=c2(t),r=Q(""),s=Q(""),i=()=>{if(!r.value){Qd({title:"提示",message:"请输入测试问题",type:"warning"});return}try{s.value=t.testModel(r.value),Qd.success({title:"测试成功",message:"已获取模型响应"})}catch{Qd.error({title:"测试失败",message:"请先训练模型或检查输入格式"})}};return(a,l)=>{const u=Dt("el-input"),d=Dt("el-button"),f=Dt("el-divider"),p=Dt("el-card");return V(),Ve(p,{class:"test-card"},{header:Se(()=>l[1]||(l[1]=[ue("span",null,"问答测试区",-1)])),default:Se(()=>[ue("div",tne,[pe(u,{modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=g=>r.value=g),placeholder:"请输入您的问题",style:{width:"500px","margin-right":"10px"},clearable:""},null,8,["modelValue"]),pe(d,{type:"success",loading:o(n),onClick:i},{default:Se(()=>l[2]||(l[2]=[At(" 测试问答 ")])),_:1},8,["loading"])]),pe(f),s.value?(V(),Ve(p,{key:0,class:"result-card"},{header:Se(()=>l[3]||(l[3]=[ue("span",null,"模型回答",-1)])),default:Se(()=>[ue("div",nne,at(s.value),1)]),_:1})):Re("",!0)]),_:1})}}},sne=pa(rne,[["__scopeId","data-v-2e342827"]]),ine={class:"model-controls"},ane={__name:"App",setup(e){const t=my(),n=()=>{if(t.trainingData.length===0){Fa.warning("请先训练模型再保存");return}t.saveModel(),Fa.success("模型保存成功")},r=s=>(t.loadModel(s),Fa.success("模型加载成功"),!1);return(s,i)=>{const a=Dt("el-header"),l=Dt("el-button"),u=Dt("el-upload"),d=Dt("el-main"),f=Dt("el-footer"),p=Dt("el-container");return V(),Ve(p,{class:"main-container"},{default:Se(()=>[pe(a,null,{default:Se(()=>i[0]||(i[0]=[ue("h1",{class:"title"},"🤖 Brain.js 智能问答系统",-1)])),_:1}),pe(d,null,{default:Se(()=>[pe(ene),pe(sne),ue("div",ine,[pe(u,{accept:".json","show-file-list":!1,"before-upload":r},{default:Se(()=>[pe(l,{type:"primary",icon:"Upload"},{default:Se(()=>i[1]||(i[1]=[At("加载模型")])),_:1})]),_:1}),pe(l,{type:"success",icon:"Download",onClick:n},{default:Se(()=>i[2]||(i[2]=[At(" 保存模型 ")])),_:1})])]),_:1}),pe(f,{class:"footer"},{default:Se(()=>i[3]||(i[3]=[ue("span",null,"基于 Vue 3 + Brain.js 构建的演示系统",-1)])),_:1})]),_:1})}}},one=pa(ane,[["__scopeId","data-v-a4518317"]]),lne="modulepreload",une=function(e){return"/brain/"+e},gx={},cne=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(u=>{if(u=une(u),u in gx)return;gx[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":lne,d||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),d)return new Promise((g,v)=>{p.addEventListener("load",g),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const nl=typeof document<"u";function aE(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function dne(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&aE(e.default)}const Xn=Object.assign;function Ip(e,t){const n={};for(const r in t){const s=t[r];n[r]=li(s)?s.map(e):e(s)}return n}const Nu=()=>{},li=Array.isArray,oE=/#/g,fne=/&/g,hne=/\//g,pne=/=/g,mne=/\?/g,lE=/\+/g,gne=/%5B/g,vne=/%5D/g,uE=/%5E/g,yne=/%60/g,cE=/%7B/g,bne=/%7C/g,dE=/%7D/g,wne=/%20/g;function gy(e){return encodeURI(""+e).replace(bne,"|").replace(gne,"[").replace(vne,"]")}function xne(e){return gy(e).replace(cE,"{").replace(dE,"}").replace(uE,"^")}function sg(e){return gy(e).replace(lE,"%2B").replace(wne,"+").replace(oE,"%23").replace(fne,"%26").replace(yne,"`").replace(cE,"{").replace(dE,"}").replace(uE,"^")}function Sne(e){return sg(e).replace(pne,"%3D")}function Cne(e){return gy(e).replace(oE,"%23").replace(mne,"%3F")}function _ne(e){return e==null?"":Cne(e).replace(hne,"%2F")}function hc(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Tne=/\/$/,kne=e=>e.replace(Tne,"");function Ap(e,t,n="/"){let r,s={},i="",a="";const l=t.indexOf("#");let u=t.indexOf("?");return l<u&&l>=0&&(u=-1),u>-1&&(r=t.slice(0,u),i=t.slice(u+1,l>-1?l:t.length),s=e(i)),l>-1&&(r=r||t.slice(0,l),a=t.slice(l,t.length)),r=Ane(r??t,n),{fullPath:r+(i&&"?")+i+a,path:r,query:s,hash:hc(a)}}function Ene(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function vx(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function $ne(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Nl(t.matched[r],n.matched[s])&&fE(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Nl(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function fE(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Ine(e[n],t[n]))return!1;return!0}function Ine(e,t){return li(e)?yx(e,t):li(t)?yx(t,e):e===t}function yx(e,t){return li(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function Ane(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,a,l;for(a=0;a<r.length;a++)if(l=r[a],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(a).join("/")}const Sa={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var pc;(function(e){e.pop="pop",e.push="push"})(pc||(pc={}));var Pu;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Pu||(Pu={}));function Lne(e){if(!e)if(nl){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),kne(e)}const One=/^[^#]+#/;function Mne(e,t){return e.replace(One,"#")+t}function Rne(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const _h=()=>({left:window.scrollX,top:window.scrollY});function Dne(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=Rne(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function bx(e,t){return(history.state?history.state.position-t:-1)+e}const ig=new Map;function Nne(e,t){ig.set(e,t)}function Pne(e){const t=ig.get(e);return ig.delete(e),t}let Fne=()=>location.protocol+"//"+location.host;function hE(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let l=s.includes(e.slice(i))?e.slice(i).length:1,u=s.slice(l);return u[0]!=="/"&&(u="/"+u),vx(u,"")}return vx(n,e)+r+s}function Vne(e,t,n,r){let s=[],i=[],a=null;const l=({state:g})=>{const v=hE(e,location),w=n.value,b=t.value;let _=0;if(g){if(n.value=v,t.value=g,a&&a===w){a=null;return}_=b?g.position-b.position:0}else r(v);s.forEach(C=>{C(n.value,w,{delta:_,type:pc.pop,direction:_?_>0?Pu.forward:Pu.back:Pu.unknown})})};function u(){a=n.value}function d(g){s.push(g);const v=()=>{const w=s.indexOf(g);w>-1&&s.splice(w,1)};return i.push(v),v}function f(){const{history:g}=window;g.state&&g.replaceState(Xn({},g.state,{scroll:_h()}),"")}function p(){for(const g of i)g();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:u,listen:d,destroy:p}}function wx(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?_h():null}}function zne(e){const{history:t,location:n}=window,r={value:hE(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(u,d,f){const p=e.indexOf("#"),g=p>-1?(n.host&&document.querySelector("base")?e:e.slice(p))+u:Fne()+e+u;try{t[f?"replaceState":"pushState"](d,"",g),s.value=d}catch(v){console.error(v),n[f?"replace":"assign"](g)}}function a(u,d){const f=Xn({},t.state,wx(s.value.back,u,s.value.forward,!0),d,{position:s.value.position});i(u,f,!0),r.value=u}function l(u,d){const f=Xn({},s.value,t.state,{forward:u,scroll:_h()});i(f.current,f,!0);const p=Xn({},wx(r.value,u,null),{position:f.position+1},d);i(u,p,!1),r.value=u}return{location:r,state:s,push:l,replace:a}}function Bne(e){e=Lne(e);const t=zne(e),n=Vne(e,t.state,t.location,t.replace);function r(i,a=!0){a||n.pauseListeners(),history.go(i)}const s=Xn({location:"",base:e,go:r,createHref:Mne.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function Kne(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Bne(e)}function Hne(e){return typeof e=="string"||e&&typeof e=="object"}function pE(e){return typeof e=="string"||typeof e=="symbol"}const mE=Symbol("");var xx;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(xx||(xx={}));function Pl(e,t){return Xn(new Error,{type:e,[mE]:!0},t)}function Ui(e,t){return e instanceof Error&&mE in e&&(t==null||!!(e.type&t))}const Sx="[^/]+?",Wne={sensitive:!1,strict:!1,start:!0,end:!0},Une=/[.+*?^${}()[\]/\\]/g;function jne(e,t){const n=Xn({},Wne,t),r=[];let s=n.start?"^":"";const i=[];for(const d of e){const f=d.length?[]:[90];n.strict&&!d.length&&(s+="/");for(let p=0;p<d.length;p++){const g=d[p];let v=40+(n.sensitive?.25:0);if(g.type===0)p||(s+="/"),s+=g.value.replace(Une,"\\$&"),v+=40;else if(g.type===1){const{value:w,repeatable:b,optional:_,regexp:C}=g;i.push({name:w,repeatable:b,optional:_});const M=C||Sx;if(M!==Sx){v+=10;try{new RegExp(`(${M})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${w}" (${M}): `+k.message)}}let E=b?`((?:${M})(?:/(?:${M}))*)`:`(${M})`;p||(E=_&&d.length<2?`(?:/${E})`:"/"+E),_&&(E+="?"),s+=E,v+=20,_&&(v+=-8),b&&(v+=-20),M===".*"&&(v+=-50)}f.push(v)}r.push(f)}if(n.strict&&n.end){const d=r.length-1;r[d][r[d].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const a=new RegExp(s,n.sensitive?"":"i");function l(d){const f=d.match(a),p={};if(!f)return null;for(let g=1;g<f.length;g++){const v=f[g]||"",w=i[g-1];p[w.name]=v&&w.repeatable?v.split("/"):v}return p}function u(d){let f="",p=!1;for(const g of e){(!p||!f.endsWith("/"))&&(f+="/"),p=!1;for(const v of g)if(v.type===0)f+=v.value;else if(v.type===1){const{value:w,repeatable:b,optional:_}=v,C=w in d?d[w]:"";if(li(C)&&!b)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const M=li(C)?C.join("/"):C;if(!M)if(_)g.length<2&&(f.endsWith("/")?f=f.slice(0,-1):p=!0);else throw new Error(`Missing required param "${w}"`);f+=M}}return f||"/"}return{re:a,score:r,keys:i,parse:l,stringify:u}}function Gne(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function gE(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=Gne(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Cx(r))return 1;if(Cx(s))return-1}return s.length-r.length}function Cx(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Yne={type:0,value:""},Xne=/[a-zA-Z0-9_]/;function qne(e){if(!e)return[[]];if(e==="/")return[[Yne]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${n})/"${d}": ${v}`)}let n=0,r=n;const s=[];let i;function a(){i&&s.push(i),i=[]}let l=0,u,d="",f="";function p(){d&&(n===0?i.push({type:0,value:d}):n===1||n===2||n===3?(i.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:d,regexp:f,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),d="")}function g(){d+=u}for(;l<e.length;){if(u=e[l++],u==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:u==="/"?(d&&p(),a()):u===":"?(p(),n=1):g();break;case 4:g(),n=r;break;case 1:u==="("?n=2:Xne.test(u)?g():(p(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&l--);break;case 2:u===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+u:n=3:f+=u;break;case 3:p(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&l--,f="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),p(),a(),s}function Jne(e,t,n){const r=jne(qne(e.path),n),s=Xn(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function Zne(e,t){const n=[],r=new Map;t=Ex({strict:!1,end:!0,sensitive:!1},t);function s(p){return r.get(p)}function i(p,g,v){const w=!v,b=Tx(p);b.aliasOf=v&&v.record;const _=Ex(t,p),C=[b];if("alias"in p){const k=typeof p.alias=="string"?[p.alias]:p.alias;for(const A of k)C.push(Tx(Xn({},b,{components:v?v.record.components:b.components,path:A,aliasOf:v?v.record:b})))}let M,E;for(const k of C){const{path:A}=k;if(g&&A[0]!=="/"){const D=g.record.path,H=D[D.length-1]==="/"?"":"/";k.path=g.record.path+(A&&H+A)}if(M=Jne(k,g,_),v?v.alias.push(M):(E=E||M,E!==M&&E.alias.push(M),w&&p.name&&!kx(M)&&a(p.name)),vE(M)&&u(M),b.children){const D=b.children;for(let H=0;H<D.length;H++)i(D[H],M,v&&v.children[H])}v=v||M}return E?()=>{a(E)}:Nu}function a(p){if(pE(p)){const g=r.get(p);g&&(r.delete(p),n.splice(n.indexOf(g),1),g.children.forEach(a),g.alias.forEach(a))}else{const g=n.indexOf(p);g>-1&&(n.splice(g,1),p.record.name&&r.delete(p.record.name),p.children.forEach(a),p.alias.forEach(a))}}function l(){return n}function u(p){const g=tre(p,n);n.splice(g,0,p),p.record.name&&!kx(p)&&r.set(p.record.name,p)}function d(p,g){let v,w={},b,_;if("name"in p&&p.name){if(v=r.get(p.name),!v)throw Pl(1,{location:p});_=v.record.name,w=Xn(_x(g.params,v.keys.filter(E=>!E.optional).concat(v.parent?v.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),p.params&&_x(p.params,v.keys.map(E=>E.name))),b=v.stringify(w)}else if(p.path!=null)b=p.path,v=n.find(E=>E.re.test(b)),v&&(w=v.parse(b),_=v.record.name);else{if(v=g.name?r.get(g.name):n.find(E=>E.re.test(g.path)),!v)throw Pl(1,{location:p,currentLocation:g});_=v.record.name,w=Xn({},g.params,p.params),b=v.stringify(w)}const C=[];let M=v;for(;M;)C.unshift(M.record),M=M.parent;return{name:_,path:b,params:w,matched:C,meta:ere(C)}}e.forEach(p=>i(p));function f(){n.length=0,r.clear()}return{addRoute:i,resolve:d,removeRoute:a,clearRoutes:f,getRoutes:l,getRecordMatcher:s}}function _x(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Tx(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Qne(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Qne(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function kx(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ere(e){return e.reduce((t,n)=>Xn(t,n.meta),{})}function Ex(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function tre(e,t){let n=0,r=t.length;for(;n!==r;){const i=n+r>>1;gE(e,t[i])<0?r=i:n=i+1}const s=nre(e);return s&&(r=t.lastIndexOf(s,r-1)),r}function nre(e){let t=e;for(;t=t.parent;)if(vE(t)&&gE(e,t)===0)return t}function vE({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function rre(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(lE," "),a=i.indexOf("="),l=hc(a<0?i:i.slice(0,a)),u=a<0?null:hc(i.slice(a+1));if(l in t){let d=t[l];li(d)||(d=t[l]=[d]),d.push(u)}else t[l]=u}return t}function $x(e){let t="";for(let n in e){const r=e[n];if(n=Sne(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(li(r)?r.map(i=>i&&sg(i)):[r&&sg(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function sre(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=li(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const ire=Symbol(""),Ix=Symbol(""),vy=Symbol(""),yE=Symbol(""),ag=Symbol("");function hu(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Aa(e,t,n,r,s,i=a=>a()){const a=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((l,u)=>{const d=g=>{g===!1?u(Pl(4,{from:n,to:t})):g instanceof Error?u(g):Hne(g)?u(Pl(2,{from:t,to:g})):(a&&r.enterCallbacks[s]===a&&typeof g=="function"&&a.push(g),l())},f=i(()=>e.call(r&&r.instances[s],t,n,d));let p=Promise.resolve(f);e.length<3&&(p=p.then(d)),p.catch(g=>u(g))})}function Lp(e,t,n,r,s=i=>i()){const i=[];for(const a of e)for(const l in a.components){let u=a.components[l];if(!(t!=="beforeRouteEnter"&&!a.instances[l]))if(aE(u)){const f=(u.__vccOpts||u)[t];f&&i.push(Aa(f,n,r,a,l,s))}else{let d=u();i.push(()=>d.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${l}" at "${a.path}"`);const p=dne(f)?f.default:f;a.mods[l]=f,a.components[l]=p;const v=(p.__vccOpts||p)[t];return v&&Aa(v,n,r,a,l,s)()}))}}return i}function Ax(e){const t=vt(vy),n=vt(yE),r=L(()=>{const u=o(e.to);return t.resolve(u)}),s=L(()=>{const{matched:u}=r.value,{length:d}=u,f=u[d-1],p=n.matched;if(!f||!p.length)return-1;const g=p.findIndex(Nl.bind(null,f));if(g>-1)return g;const v=Lx(u[d-2]);return d>1&&Lx(f)===v&&p[p.length-1].path!==v?p.findIndex(Nl.bind(null,u[d-2])):g}),i=L(()=>s.value>-1&&cre(n.params,r.value.params)),a=L(()=>s.value>-1&&s.value===n.matched.length-1&&fE(n.params,r.value.params));function l(u={}){if(ure(u)){const d=t[o(e.replace)?"replace":"push"](o(e.to)).catch(Nu);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:r,href:L(()=>r.value.href),isActive:i,isExactActive:a,navigate:l}}function are(e){return e.length===1?e[0]:e}const ore=ve({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ax,setup(e,{slots:t}){const n=wn(Ax(e)),{options:r}=vt(vy),s=L(()=>({[Ox(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Ox(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&are(t.default(n));return e.custom?i:It("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),lre=ore;function ure(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function cre(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!li(s)||s.length!==r.length||r.some((i,a)=>i!==s[a]))return!1}return!0}function Lx(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ox=(e,t,n)=>e??t??n,dre=ve({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=vt(ag),s=L(()=>e.route||r.value),i=vt(Ix,0),a=L(()=>{let d=o(i);const{matched:f}=s.value;let p;for(;(p=f[d])&&!p.components;)d++;return d}),l=L(()=>s.value.matched[a.value]);Qt(Ix,L(()=>a.value+1)),Qt(ire,l),Qt(ag,s);const u=Q();return je(()=>[u.value,l.value,e.name],([d,f,p],[g,v,w])=>{f&&(f.instances[p]=d,v&&v!==f&&d&&d===g&&(f.leaveGuards.size||(f.leaveGuards=v.leaveGuards),f.updateGuards.size||(f.updateGuards=v.updateGuards))),d&&f&&(!v||!Nl(f,v)||!g)&&(f.enterCallbacks[p]||[]).forEach(b=>b(d))},{flush:"post"}),()=>{const d=s.value,f=e.name,p=l.value,g=p&&p.components[f];if(!g)return Mx(n.default,{Component:g,route:d});const v=p.props[f],w=v?v===!0?d.params:typeof v=="function"?v(d):v:null,_=It(g,Xn({},w,t,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(p.instances[f]=null)},ref:u}));return Mx(n.default,{Component:_,route:d})||_}}});function Mx(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const fre=dre;function hre(e){const t=Zne(e.routes,e),n=e.parseQuery||rre,r=e.stringifyQuery||$x,s=e.history,i=hu(),a=hu(),l=hu(),u=Un(Sa);let d=Sa;nl&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Ip.bind(null,he=>""+he),p=Ip.bind(null,_ne),g=Ip.bind(null,hc);function v(he,Ne){let Pe,et;return pE(he)?(Pe=t.getRecordMatcher(he),et=Ne):et=he,t.addRoute(et,Pe)}function w(he){const Ne=t.getRecordMatcher(he);Ne&&t.removeRoute(Ne)}function b(){return t.getRoutes().map(he=>he.record)}function _(he){return!!t.getRecordMatcher(he)}function C(he,Ne){if(Ne=Xn({},Ne||u.value),typeof he=="string"){const $e=Ap(n,he,Ne.path),Ge=t.resolve({path:$e.path},Ne),Qe=s.createHref($e.fullPath);return Xn($e,Ge,{params:g(Ge.params),hash:hc($e.hash),redirectedFrom:void 0,href:Qe})}let Pe;if(he.path!=null)Pe=Xn({},he,{path:Ap(n,he.path,Ne.path).path});else{const $e=Xn({},he.params);for(const Ge in $e)$e[Ge]==null&&delete $e[Ge];Pe=Xn({},he,{params:p($e)}),Ne.params=p(Ne.params)}const et=t.resolve(Pe,Ne),qe=he.hash||"";et.params=f(g(et.params));const ae=Ene(r,Xn({},he,{hash:xne(qe),path:et.path})),be=s.createHref(ae);return Xn({fullPath:ae,hash:qe,query:r===$x?sre(he.query):he.query||{}},et,{redirectedFrom:void 0,href:be})}function M(he){return typeof he=="string"?Ap(n,he,u.value.path):Xn({},he)}function E(he,Ne){if(d!==he)return Pl(8,{from:Ne,to:he})}function k(he){return H(he)}function A(he){return k(Xn(M(he),{replace:!0}))}function D(he){const Ne=he.matched[he.matched.length-1];if(Ne&&Ne.redirect){const{redirect:Pe}=Ne;let et=typeof Pe=="function"?Pe(he):Pe;return typeof et=="string"&&(et=et.includes("?")||et.includes("#")?et=M(et):{path:et},et.params={}),Xn({query:he.query,hash:he.hash,params:et.path!=null?{}:he.params},et)}}function H(he,Ne){const Pe=d=C(he),et=u.value,qe=he.state,ae=he.force,be=he.replace===!0,$e=D(Pe);if($e)return H(Xn(M($e),{state:typeof $e=="object"?Xn({},qe,$e.state):qe,force:ae,replace:be}),Ne||Pe);const Ge=Pe;Ge.redirectedFrom=Ne;let Qe;return!ae&&$ne(r,et,Pe)&&(Qe=Pl(16,{to:Ge,from:et}),ge(et,et,!0,!1)),(Qe?Promise.resolve(Qe):G(Ge,et)).catch(Le=>Ui(Le)?Ui(Le,2)?Le:fe(Le):ee(Le,Ge,et)).then(Le=>{if(Le){if(Ui(Le,2))return H(Xn({replace:be},M(Le.to),{state:typeof Le.to=="object"?Xn({},qe,Le.to.state):qe,force:ae}),Ne||Ge)}else Le=Y(Ge,et,!0,be,qe);return q(Ge,et,Le),Le})}function U(he,Ne){const Pe=E(he,Ne);return Pe?Promise.reject(Pe):Promise.resolve()}function K(he){const Ne=Fe.values().next().value;return Ne&&typeof Ne.runWithContext=="function"?Ne.runWithContext(he):he()}function G(he,Ne){let Pe;const[et,qe,ae]=pre(he,Ne);Pe=Lp(et.reverse(),"beforeRouteLeave",he,Ne);for(const $e of et)$e.leaveGuards.forEach(Ge=>{Pe.push(Aa(Ge,he,Ne))});const be=U.bind(null,he,Ne);return Pe.push(be),He(Pe).then(()=>{Pe=[];for(const $e of i.list())Pe.push(Aa($e,he,Ne));return Pe.push(be),He(Pe)}).then(()=>{Pe=Lp(qe,"beforeRouteUpdate",he,Ne);for(const $e of qe)$e.updateGuards.forEach(Ge=>{Pe.push(Aa(Ge,he,Ne))});return Pe.push(be),He(Pe)}).then(()=>{Pe=[];for(const $e of ae)if($e.beforeEnter)if(li($e.beforeEnter))for(const Ge of $e.beforeEnter)Pe.push(Aa(Ge,he,Ne));else Pe.push(Aa($e.beforeEnter,he,Ne));return Pe.push(be),He(Pe)}).then(()=>(he.matched.forEach($e=>$e.enterCallbacks={}),Pe=Lp(ae,"beforeRouteEnter",he,Ne,K),Pe.push(be),He(Pe))).then(()=>{Pe=[];for(const $e of a.list())Pe.push(Aa($e,he,Ne));return Pe.push(be),He(Pe)}).catch($e=>Ui($e,8)?$e:Promise.reject($e))}function q(he,Ne,Pe){l.list().forEach(et=>K(()=>et(he,Ne,Pe)))}function Y(he,Ne,Pe,et,qe){const ae=E(he,Ne);if(ae)return ae;const be=Ne===Sa,$e=nl?history.state:{};Pe&&(et||be?s.replace(he.fullPath,Xn({scroll:be&&$e&&$e.scroll},qe)):s.push(he.fullPath,qe)),u.value=he,ge(he,Ne,Pe,be),fe()}let de;function xe(){de||(de=s.listen((he,Ne,Pe)=>{if(!Be.listening)return;const et=C(he),qe=D(et);if(qe){H(Xn(qe,{replace:!0,force:!0}),et).catch(Nu);return}d=et;const ae=u.value;nl&&Nne(bx(ae.fullPath,Pe.delta),_h()),G(et,ae).catch(be=>Ui(be,12)?be:Ui(be,2)?(H(Xn(M(be.to),{force:!0}),et).then($e=>{Ui($e,20)&&!Pe.delta&&Pe.type===pc.pop&&s.go(-1,!1)}).catch(Nu),Promise.reject()):(Pe.delta&&s.go(-Pe.delta,!1),ee(be,et,ae))).then(be=>{be=be||Y(et,ae,!1),be&&(Pe.delta&&!Ui(be,8)?s.go(-Pe.delta,!1):Pe.type===pc.pop&&Ui(be,20)&&s.go(-1,!1)),q(et,ae,be)}).catch(Nu)}))}let oe=hu(),Z=hu(),ne;function ee(he,Ne,Pe){fe(he);const et=Z.list();return et.length?et.forEach(qe=>qe(he,Ne,Pe)):console.error(he),Promise.reject(he)}function J(){return ne&&u.value!==Sa?Promise.resolve():new Promise((he,Ne)=>{oe.add([he,Ne])})}function fe(he){return ne||(ne=!he,xe(),oe.list().forEach(([Ne,Pe])=>he?Pe(he):Ne()),oe.reset()),he}function ge(he,Ne,Pe,et){const{scrollBehavior:qe}=e;if(!nl||!qe)return Promise.resolve();const ae=!Pe&&Pne(bx(he.fullPath,0))||(et||!Pe)&&history.state&&history.state.scroll||null;return Et().then(()=>qe(he,Ne,ae)).then(be=>be&&Dne(be)).catch(be=>ee(be,he,Ne))}const ke=he=>s.go(he);let ye;const Fe=new Set,Be={currentRoute:u,listening:!0,addRoute:v,removeRoute:w,clearRoutes:t.clearRoutes,hasRoute:_,getRoutes:b,resolve:C,options:e,push:k,replace:A,go:ke,back:()=>ke(-1),forward:()=>ke(1),beforeEach:i.add,beforeResolve:a.add,afterEach:l.add,onError:Z.add,isReady:J,install(he){const Ne=this;he.component("RouterLink",lre),he.component("RouterView",fre),he.config.globalProperties.$router=Ne,Object.defineProperty(he.config.globalProperties,"$route",{enumerable:!0,get:()=>o(u)}),nl&&!ye&&u.value===Sa&&(ye=!0,k(s.location).catch(qe=>{}));const Pe={};for(const qe in Sa)Object.defineProperty(Pe,qe,{get:()=>u.value[qe],enumerable:!0});he.provide(vy,Ne),he.provide(yE,yg(Pe)),he.provide(ag,u);const et=he.unmount;Fe.add(he),he.unmount=function(){Fe.delete(he),Fe.size<1&&(d=Sa,de&&de(),de=null,u.value=Sa,ye=!1,ne=!1),et()}}};function He(he){return he.reduce((Ne,Pe)=>Ne.then(()=>K(Pe)),Promise.resolve())}return Be}function pre(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let a=0;a<i;a++){const l=t.matched[a];l&&(e.matched.find(d=>Nl(d,l))?r.push(l):n.push(l));const u=e.matched[a];u&&(t.matched.find(d=>Nl(d,u))||s.push(u))}return[n,r,s]}const mre={},gre={class:"item"},vre={class:"details"};function yre(e,t){return V(),le("div",gre,[ue("i",null,[Oe(e.$slots,"icon",{},void 0,!0)]),ue("div",vre,[ue("h3",null,[Oe(e.$slots,"heading",{},void 0,!0)]),Oe(e.$slots,"default",{},void 0,!0)])])}const pu=pa(mre,[["render",yre],["__scopeId","data-v-40a5c0e5"]]),bre={},wre={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"17",fill:"currentColor"};function xre(e,t){return V(),le("svg",wre,t[0]||(t[0]=[ue("path",{d:"M11 2.253a1 1 0 1 0-2 0h2zm-2 13a1 1 0 1 0 2 0H9zm.447-12.167a1 1 0 1 0 1.107-1.666L9.447 3.086zM1 2.253L.447 1.42A1 1 0 0 0 0 2.253h1zm0 13H0a1 1 0 0 0 1.553.833L1 15.253zm8.447.833a1 1 0 1 0 1.107-1.666l-1.107 1.666zm0-14.666a1 1 0 1 0 1.107 1.666L9.447 1.42zM19 2.253h1a1 1 0 0 0-.447-.833L19 2.253zm0 13l-.553.833A1 1 0 0 0 20 15.253h-1zm-9.553-.833a1 1 0 1 0 1.107 1.666L9.447 14.42zM9 2.253v13h2v-13H9zm1.553-.833C9.203.523 7.42 0 5.5 0v2c1.572 0 2.961.431 3.947 1.086l1.107-1.666zM5.5 0C3.58 0 1.797.523.447 1.42l1.107 1.666C2.539 2.431 3.928 2 5.5 2V0zM0 2.253v13h2v-13H0zm1.553 13.833C2.539 15.431 3.928 15 5.5 15v-2c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM5.5 15c1.572 0 2.961.431 3.947 1.086l1.107-1.666C9.203 13.523 7.42 13 5.5 13v2zm5.053-11.914C11.539 2.431 12.928 2 14.5 2V0c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM14.5 2c1.573 0 2.961.431 3.947 1.086l1.107-1.666C18.203.523 16.421 0 14.5 0v2zm3.5.253v13h2v-13h-2zm1.553 12.167C18.203 13.523 16.421 13 14.5 13v2c1.573 0 2.961.431 3.947 1.086l1.107-1.666zM14.5 13c-1.92 0-3.703.523-5.053 1.42l1.107 1.666C11.539 15.431 12.928 15 14.5 15v-2z"},null,-1)]))}const Sre=pa(bre,[["render",xre]]),Cre={},_re={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",class:"iconify iconify--mdi",width:"24",height:"24",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"};function Tre(e,t){return V(),le("svg",_re,t[0]||(t[0]=[ue("path",{d:"M20 18v-4h-3v1h-2v-1H9v1H7v-1H4v4h16M6.33 8l-1.74 4H7v-1h2v1h6v-1h2v1h2.41l-1.74-4H6.33M9 5v1h6V5H9m12.84 7.61c.1.22.16.48.16.8V18c0 .53-.21 1-.6 1.41c-.4.4-.85.59-1.4.59H4c-.55 0-1-.19-1.4-.59C2.21 19 2 18.53 2 18v-4.59c0-.32.06-.58.16-.8L4.5 7.22C4.84 6.41 5.45 6 6.33 6H7V5c0-.55.18-1 .57-1.41C7.96 3.2 8.44 3 9 3h6c.56 0 1.04.2 1.43.59c.39.41.57.86.57 1.41v1h.67c.88 0 1.49.41 1.83 1.22l2.34 5.39z",fill:"currentColor"},null,-1)]))}const kre=pa(Cre,[["render",Tre]]),Ere={},$re={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"20",fill:"currentColor"};function Ire(e,t){return V(),le("svg",$re,t[0]||(t[0]=[ue("path",{d:"M11.447 8.894a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm0 1.789a1 1 0 1 0 .894-1.789l-.894 1.789zM7.447 7.106a1 1 0 1 0-.894 1.789l.894-1.789zM10 9a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0H8zm9.447-5.606a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm2 .789a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zM18 5a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0h-2zm-5.447-4.606a1 1 0 1 0 .894-1.789l-.894 1.789zM9 1l.447-.894a1 1 0 0 0-.894 0L9 1zm-2.447.106a1 1 0 1 0 .894 1.789l-.894-1.789zm-6 3a1 1 0 1 0 .894 1.789L.553 4.106zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zm-2-.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 2.789a1 1 0 1 0 .894-1.789l-.894 1.789zM2 5a1 1 0 1 0-2 0h2zM0 7.5a1 1 0 1 0 2 0H0zm8.553 12.394a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 1a1 1 0 1 0 .894 1.789l-.894-1.789zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zM8 19a1 1 0 1 0 2 0H8zm2-2.5a1 1 0 1 0-2 0h2zm-7.447.394a1 1 0 1 0 .894-1.789l-.894 1.789zM1 15H0a1 1 0 0 0 .553.894L1 15zm1-2.5a1 1 0 1 0-2 0h2zm12.553 2.606a1 1 0 1 0 .894 1.789l-.894-1.789zM17 15l.447.894A1 1 0 0 0 18 15h-1zm1-2.5a1 1 0 1 0-2 0h2zm-7.447-5.394l-2 1 .894 1.789 2-1-.894-1.789zm-1.106 1l-2-1-.894 1.789 2 1 .894-1.789zM8 9v2.5h2V9H8zm8.553-4.894l-2 1 .894 1.789 2-1-.894-1.789zm.894 0l-2-1-.894 1.789 2 1 .894-1.789zM16 5v2.5h2V5h-2zm-4.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zm-2.894-1l-2 1 .894 1.789 2-1L8.553.106zM1.447 5.894l2-1-.894-1.789-2 1 .894 1.789zm-.894 0l2 1 .894-1.789-2-1-.894 1.789zM0 5v2.5h2V5H0zm9.447 13.106l-2-1-.894 1.789 2 1 .894-1.789zm0 1.789l2-1-.894-1.789-2 1 .894 1.789zM10 19v-2.5H8V19h2zm-6.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zM2 15v-2.5H0V15h2zm13.447 1.894l2-1-.894-1.789-2 1 .894 1.789zM18 15v-2.5h-2V15h2z"},null,-1)]))}const Are=pa(Ere,[["render",Ire]]),Lre={},Ore={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"};function Mre(e,t){return V(),le("svg",Ore,t[0]||(t[0]=[ue("path",{d:"M15 4a1 1 0 1 0 0 2V4zm0 11v-1a1 1 0 0 0-1 1h1zm0 4l-.707.707A1 1 0 0 0 16 19h-1zm-4-4l.707-.707A1 1 0 0 0 11 14v1zm-4.707-1.293a1 1 0 0 0-1.414 1.414l1.414-1.414zm-.707.707l-.707-.707.707.707zM9 11v-1a1 1 0 0 0-.707.293L9 11zm-4 0h1a1 1 0 0 0-1-1v1zm0 4H4a1 1 0 0 0 1.707.707L5 15zm10-9h2V4h-2v2zm2 0a1 1 0 0 1 1 1h2a3 3 0 0 0-3-3v2zm1 1v6h2V7h-2zm0 6a1 1 0 0 1-1 1v2a3 3 0 0 0 3-3h-2zm-1 1h-2v2h2v-2zm-3 1v4h2v-4h-2zm1.707 3.293l-4-4-1.414 1.414 4 4 1.414-1.414zM11 14H7v2h4v-2zm-4 0c-.276 0-.525-.111-.707-.293l-1.414 1.414C5.42 15.663 6.172 16 7 16v-2zm-.707 1.121l3.414-3.414-1.414-1.414-3.414 3.414 1.414 1.414zM9 12h4v-2H9v2zm4 0a3 3 0 0 0 3-3h-2a1 1 0 0 1-1 1v2zm3-3V3h-2v6h2zm0-6a3 3 0 0 0-3-3v2a1 1 0 0 1 1 1h2zm-3-3H3v2h10V0zM3 0a3 3 0 0 0-3 3h2a1 1 0 0 1 1-1V0zM0 3v6h2V3H0zm0 6a3 3 0 0 0 3 3v-2a1 1 0 0 1-1-1H0zm3 3h2v-2H3v2zm1-1v4h2v-4H4zm1.707 4.707l.586-.586-1.414-1.414-.586.586 1.414 1.414z"},null,-1)]))}const Rre=pa(Lre,[["render",Mre]]),Dre={},Nre={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"};function Pre(e,t){return V(),le("svg",Nre,t[0]||(t[0]=[ue("path",{d:"M10 3.22l-.61-.6a5.5 5.5 0 0 0-7.666.105 5.5 5.5 0 0 0-.114 7.665L10 18.78l8.39-8.4a5.5 5.5 0 0 0-.114-7.665 5.5 5.5 0 0 0-7.666-.105l-.61.61z"},null,-1)]))}const Fre=pa(Dre,[["render",Pre]]),Vre={__name:"TheWelcome",setup(e){const t=()=>fetch("/__open-in-editor?file=README.md");return(n,r)=>(V(),le(Ct,null,[pe(pu,null,{icon:Se(()=>[pe(Sre)]),heading:Se(()=>r[0]||(r[0]=[At("Documentation")])),default:Se(()=>[r[1]||(r[1]=At(" Vue’s ")),r[2]||(r[2]=ue("a",{href:"https://vuejs.org/",target:"_blank",rel:"noopener"},"official documentation",-1)),r[3]||(r[3]=At(" provides you with all information you need to get started. "))]),_:1}),pe(pu,null,{icon:Se(()=>[pe(kre)]),heading:Se(()=>r[4]||(r[4]=[At("Tooling")])),default:Se(()=>[r[6]||(r[6]=At(" This project is served and bundled with ")),r[7]||(r[7]=ue("a",{href:"https://vite.dev/guide/features.html",target:"_blank",rel:"noopener"},"Vite",-1)),r[8]||(r[8]=At(". The recommended IDE setup is ")),r[9]||(r[9]=ue("a",{href:"https://code.visualstudio.com/",target:"_blank",rel:"noopener"},"VSCode",-1)),r[10]||(r[10]=At(" + ")),r[11]||(r[11]=ue("a",{href:"https://github.com/johnsoncodehk/volar",target:"_blank",rel:"noopener"},"Volar",-1)),r[12]||(r[12]=At(". If you need to test your components and web pages, check out ")),r[13]||(r[13]=ue("a",{href:"https://vitest.dev/",target:"_blank",rel:"noopener"},"Vite",-1)),r[14]||(r[14]=At(" and ")),r[15]||(r[15]=ue("a",{href:"https://www.cypress.io/",target:"_blank",rel:"noopener"},"Cypress",-1)),r[16]||(r[16]=At(" / ")),r[17]||(r[17]=ue("a",{href:"https://playwright.dev/",target:"_blank",rel:"noopener"},"Playwright",-1)),r[18]||(r[18]=At(". ")),r[19]||(r[19]=ue("br",null,null,-1)),r[20]||(r[20]=At(" More instructions are available in ")),ue("a",{href:"javascript:void(0)",onClick:t},r[5]||(r[5]=[ue("code",null,"README.md",-1)])),r[21]||(r[21]=At(". "))]),_:1}),pe(pu,null,{icon:Se(()=>[pe(Are)]),heading:Se(()=>r[22]||(r[22]=[At("Ecosystem")])),default:Se(()=>[r[23]||(r[23]=At(" Get official tools and libraries for your project: ")),r[24]||(r[24]=ue("a",{href:"https://pinia.vuejs.org/",target:"_blank",rel:"noopener"},"Pinia",-1)),r[25]||(r[25]=At(", ")),r[26]||(r[26]=ue("a",{href:"https://router.vuejs.org/",target:"_blank",rel:"noopener"},"Vue Router",-1)),r[27]||(r[27]=At(", ")),r[28]||(r[28]=ue("a",{href:"https://test-utils.vuejs.org/",target:"_blank",rel:"noopener"},"Vue Test Utils",-1)),r[29]||(r[29]=At(", and ")),r[30]||(r[30]=ue("a",{href:"https://github.com/vuejs/devtools",target:"_blank",rel:"noopener"},"Vue Dev Tools",-1)),r[31]||(r[31]=At(". If you need more resources, we suggest paying ")),r[32]||(r[32]=ue("a",{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"},"Awesome Vue",-1)),r[33]||(r[33]=At(" a visit. "))]),_:1}),pe(pu,null,{icon:Se(()=>[pe(Rre)]),heading:Se(()=>r[34]||(r[34]=[At("Community")])),default:Se(()=>[r[35]||(r[35]=At(" Got stuck? Ask your question on ")),r[36]||(r[36]=ue("a",{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"},"Vue Land",-1)),r[37]||(r[37]=At(" (our official Discord server), or ")),r[38]||(r[38]=ue("a",{href:"https://stackoverflow.com/questions/tagged/vue.js",target:"_blank",rel:"noopener"},"StackOverflow",-1)),r[39]||(r[39]=At(". You should also follow the official ")),r[40]||(r[40]=ue("a",{href:"https://bsky.app/profile/vuejs.org",target:"_blank",rel:"noopener"},"@vuejs.org",-1)),r[41]||(r[41]=At(" Bluesky account or the ")),r[42]||(r[42]=ue("a",{href:"https://x.com/vuejs",target:"_blank",rel:"noopener"},"@vuejs",-1)),r[43]||(r[43]=At(" X account for latest news in the Vue world. "))]),_:1}),pe(pu,null,{icon:Se(()=>[pe(Fre)]),heading:Se(()=>r[44]||(r[44]=[At("Support Vue")])),default:Se(()=>[r[45]||(r[45]=At(" As an independent project, Vue relies on community backing for its sustainability. You can help us by ")),r[46]||(r[46]=ue("a",{href:"https://vuejs.org/sponsor/",target:"_blank",rel:"noopener"},"becoming a sponsor",-1)),r[47]||(r[47]=At(". "))]),_:1})],64))}},zre={__name:"HomeView",setup(e){return(t,n)=>(V(),le("main",null,[pe(Vre)]))}},Bre=hre({history:Kne(),routes:[{path:"/",name:"home",component:zre},{path:"/about",name:"about",component:()=>cne(()=>import("./AboutView-DKTOVc4S.js"),__vite__mapDeps([0,1]))}]}),Th=i2(one);Th.use(iO());Th.use(Gte);Th.use(Bre);Th.mount("#app");export{pa as _,ue as a,le as c,V as o};
